<script>
var xhr = new XMLHttpRequest();
xhr.onreadystatechange = function () {
    if(xhr.readyState === 4) {
	var shifts = JSON.parse(xhr.responseText);
	var statusHTML = '<ul>';
	for (var i=0; i<shifts.length; i += 1) {
	    if (shifts[i].vols_needed > 0) {
		statusHTML += '<li class="open">';
	    } else {
		statusHTML += '<li class="closed">';
	    }
	    statusHTML += shifts[i].title;
	    statusHTML += '</li>';
	}
	statusHTML += '</ul>';
	document.getElementById('shifts').innerHTML = statusHTML;
    }
};
xhr.open('GET', '<%= @shifts.to_json %>');
xhr.send();

</script>



<div class="container" style="margin-top:16em;">
  <h1>TEST</h1>
  <%= @shifts.to_json %>
  <div id="shifts">
  </div>
</div>

