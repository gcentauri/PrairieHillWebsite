!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function i(e){var t=!!e&&"length"in e&&e.length,i=ft.type(e);return"function"===i||ft.isWindow(e)?!1:"array"===i||0===t||"number"==typeof t&&t>0&&t-1 in e}function n(e,t,i){if(ft.isFunction(t))return ft.grep(e,function(e,n){return!!t.call(e,n,e)!==i});if(t.nodeType)return ft.grep(e,function(e){return e===t!==i});if("string"==typeof t){if(_t.test(t))return ft.filter(t,e,i);t=ft.filter(t,e)}return ft.grep(e,function(e){return ft.inArray(e,t)>-1!==i})}function r(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function s(e){var t={};return ft.each(e.match(Mt)||[],function(e,i){t[i]=!0}),t}function o(){nt.addEventListener?(nt.removeEventListener("DOMContentLoaded",a),e.removeEventListener("load",a)):(nt.detachEvent("onreadystatechange",a),e.detachEvent("onload",a))}function a(){(nt.addEventListener||"load"===e.event.type||"complete"===nt.readyState)&&(o(),ft.ready())}function l(e,t,i){if(void 0===i&&1===e.nodeType){var n="data-"+t.replace(Rt,"-$1").toLowerCase();if(i=e.getAttribute(n),"string"==typeof i){try{i="true"===i?!0:"false"===i?!1:"null"===i?null:+i+""===i?+i:$t.test(i)?ft.parseJSON(i):i}catch(r){}ft.data(e,t,i)}else i=void 0}return i}function c(e){var t;for(t in e)if(("data"!==t||!ft.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function u(e,t,i,n){if(Ot(e)){var r,s,o=ft.expando,a=e.nodeType,l=a?ft.cache:e,c=a?e[o]:e[o]&&o;if(c&&l[c]&&(n||l[c].data)||void 0!==i||"string"!=typeof t)return c||(c=a?e[o]=it.pop()||ft.guid++:o),l[c]||(l[c]=a?{}:{toJSON:ft.noop}),("object"==typeof t||"function"==typeof t)&&(n?l[c]=ft.extend(l[c],t):l[c].data=ft.extend(l[c].data,t)),s=l[c],n||(s.data||(s.data={}),s=s.data),void 0!==i&&(s[ft.camelCase(t)]=i),"string"==typeof t?(r=s[t],null==r&&(r=s[ft.camelCase(t)])):r=s,r}}function d(e,t,i){if(Ot(e)){var n,r,s=e.nodeType,o=s?ft.cache:e,a=s?e[ft.expando]:ft.expando;if(o[a]){if(t&&(n=i?o[a]:o[a].data)){ft.isArray(t)?t=t.concat(ft.map(t,ft.camelCase)):t in n?t=[t]:(t=ft.camelCase(t),t=t in n?[t]:t.split(" ")),r=t.length;for(;r--;)delete n[t[r]];if(i?!c(n):!ft.isEmptyObject(n))return}(i||(delete o[a].data,c(o[a])))&&(s?ft.cleanData([e],!0):dt.deleteExpando||o!=o.window?delete o[a]:o[a]=void 0)}}}function h(e,t,i,n){var r,s=1,o=20,a=n?function(){return n.cur()}:function(){return ft.css(e,t,"")},l=a(),c=i&&i[3]||(ft.cssNumber[t]?"":"px"),u=(ft.cssNumber[t]||"px"!==c&&+l)&&Pt.exec(ft.css(e,t));if(u&&u[3]!==c){c=c||u[3],i=i||[],u=+l||1;do s=s||".5",u/=s,ft.style(e,t,u+c);while(s!==(s=a()/l)&&1!==s&&--o)}return i&&(u=+u||+l||0,r=i[1]?u+(i[1]+1)*i[2]:+i[2],n&&(n.unit=c,n.start=u,n.end=r)),r}function f(e){var t=Ut.split("|"),i=e.createDocumentFragment();if(i.createElement)for(;t.length;)i.createElement(t.pop());return i}function p(e,t){var i,n,r=0,s="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(t||"*"):void 0;if(!s)for(s=[],i=e.childNodes||e;null!=(n=i[r]);r++)!t||ft.nodeName(n,t)?s.push(n):ft.merge(s,p(n,t));return void 0===t||t&&ft.nodeName(e,t)?ft.merge([e],s):s}function g(e,t){for(var i,n=0;null!=(i=e[n]);n++)ft._data(i,"globalEval",!t||ft._data(t[n],"globalEval"))}function m(e){Ft.test(e.type)&&(e.defaultChecked=e.checked)}function v(e,t,i,n,r){for(var s,o,a,l,c,u,d,h=e.length,v=f(t),y=[],b=0;h>b;b++)if(o=e[b],o||0===o)if("object"===ft.type(o))ft.merge(y,o.nodeType?[o]:o);else if(Yt.test(o)){for(l=l||v.appendChild(t.createElement("div")),c=(jt.exec(o)||["",""])[1].toLowerCase(),d=qt[c]||qt._default,l.innerHTML=d[1]+ft.htmlPrefilter(o)+d[2],s=d[0];s--;)l=l.lastChild;if(!dt.leadingWhitespace&&Bt.test(o)&&y.push(t.createTextNode(Bt.exec(o)[0])),!dt.tbody)for(o="table"!==c||Vt.test(o)?"<table>"!==d[1]||Vt.test(o)?0:l:l.firstChild,s=o&&o.childNodes.length;s--;)ft.nodeName(u=o.childNodes[s],"tbody")&&!u.childNodes.length&&o.removeChild(u);for(ft.merge(y,l.childNodes),l.textContent="";l.firstChild;)l.removeChild(l.firstChild);l=v.lastChild}else y.push(t.createTextNode(o));for(l&&v.removeChild(l),dt.appendChecked||ft.grep(p(y,"input"),m),b=0;o=y[b++];)if(n&&ft.inArray(o,n)>-1)r&&r.push(o);else if(a=ft.contains(o.ownerDocument,o),l=p(v.appendChild(o),"script"),a&&g(l),i)for(s=0;o=l[s++];)Wt.test(o.type||"")&&i.push(o);return l=null,v}function y(){return!0}function b(){return!1}function w(){try{return nt.activeElement}catch(e){}}function x(e,t,i,n,r,s){var o,a;if("object"==typeof t){"string"!=typeof i&&(n=n||i,i=void 0);for(a in t)x(e,a,i,n,t[a],s);return e}if(null==n&&null==r?(r=i,n=i=void 0):null==r&&("string"==typeof i?(r=n,n=void 0):(r=n,n=i,i=void 0)),r===!1)r=b;else if(!r)return e;return 1===s&&(o=r,r=function(e){return ft().off(e),o.apply(this,arguments)},r.guid=o.guid||(o.guid=ft.guid++)),e.each(function(){ft.event.add(this,t,r,n,i)})}function k(e,t){return ft.nodeName(e,"table")&&ft.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function _(e){return e.type=(null!==ft.find.attr(e,"type"))+"/"+e.type,e}function C(e){var t=ri.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function T(e,t){if(1===t.nodeType&&ft.hasData(e)){var i,n,r,s=ft._data(e),o=ft._data(t,s),a=s.events;if(a){delete o.handle,o.events={};for(i in a)for(n=0,r=a[i].length;r>n;n++)ft.event.add(t,i,a[i][n])}o.data&&(o.data=ft.extend({},o.data))}}function S(e,t){var i,n,r;if(1===t.nodeType){if(i=t.nodeName.toLowerCase(),!dt.noCloneEvent&&t[ft.expando]){r=ft._data(t);for(n in r.events)ft.removeEvent(t,n,r.handle);t.removeAttribute(ft.expando)}"script"===i&&t.text!==e.text?(_(t).text=e.text,C(t)):"object"===i?(t.parentNode&&(t.outerHTML=e.outerHTML),dt.html5Clone&&e.innerHTML&&!ft.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===i&&Ft.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===i?t.defaultSelected=t.selected=e.defaultSelected:("input"===i||"textarea"===i)&&(t.defaultValue=e.defaultValue)}}function D(e,t,i,n){t=st.apply([],t);var r,s,o,a,l,c,u=0,d=e.length,h=d-1,f=t[0],g=ft.isFunction(f);if(g||d>1&&"string"==typeof f&&!dt.checkClone&&ni.test(f))return e.each(function(r){var s=e.eq(r);g&&(t[0]=f.call(this,r,s.html())),D(s,t,i,n)});if(d&&(c=v(t,e[0].ownerDocument,!1,e,n),r=c.firstChild,1===c.childNodes.length&&(c=r),r||n)){for(a=ft.map(p(c,"script"),_),o=a.length;d>u;u++)s=c,u!==h&&(s=ft.clone(s,!0,!0),o&&ft.merge(a,p(s,"script"))),i.call(e[u],s,u);if(o)for(l=a[a.length-1].ownerDocument,ft.map(a,C),u=0;o>u;u++)s=a[u],Wt.test(s.type||"")&&!ft._data(s,"globalEval")&&ft.contains(l,s)&&(s.src?ft._evalUrl&&ft._evalUrl(s.src):ft.globalEval((s.text||s.textContent||s.innerHTML||"").replace(si,"")));c=r=null}return e}function E(e,t,i){for(var n,r=t?ft.filter(t,e):e,s=0;null!=(n=r[s]);s++)i||1!==n.nodeType||ft.cleanData(p(n)),n.parentNode&&(i&&ft.contains(n.ownerDocument,n)&&g(p(n,"script")),n.parentNode.removeChild(n));return e}function M(e,t){var i=ft(t.createElement(e)).appendTo(t.body),n=ft.css(i[0],"display");return i.detach(),n}function A(e){var t=nt,i=ci[e];return i||(i=M(e,t),"none"!==i&&i||(li=(li||ft("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=(li[0].contentWindow||li[0].contentDocument).document,t.write(),t.close(),i=M(e,t),li.detach()),ci[e]=i),i}function I(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function O(e){if(e in Ci)return e;for(var t=e.charAt(0).toUpperCase()+e.slice(1),i=_i.length;i--;)if(e=_i[i]+t,e in Ci)return e}function $(e,t){for(var i,n,r,s=[],o=0,a=e.length;a>o;o++)n=e[o],n.style&&(s[o]=ft._data(n,"olddisplay"),i=n.style.display,t?(s[o]||"none"!==i||(n.style.display=""),""===n.style.display&&Nt(n)&&(s[o]=ft._data(n,"olddisplay",A(n.nodeName)))):(r=Nt(n),(i&&"none"!==i||!r)&&ft._data(n,"olddisplay",r?i:ft.css(n,"display"))));for(o=0;a>o;o++)n=e[o],n.style&&(t&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=t?s[o]||"":"none"));return e}function R(e,t,i){var n=wi.exec(t);return n?Math.max(0,n[1]-(i||0))+(n[2]||"px"):t}function H(e,t,i,n,r){for(var s=i===(n?"border":"content")?4:"width"===t?1:0,o=0;4>s;s+=2)"margin"===i&&(o+=ft.css(e,i+zt[s],!0,r)),n?("content"===i&&(o-=ft.css(e,"padding"+zt[s],!0,r)),"margin"!==i&&(o-=ft.css(e,"border"+zt[s]+"Width",!0,r))):(o+=ft.css(e,"padding"+zt[s],!0,r),"padding"!==i&&(o+=ft.css(e,"border"+zt[s]+"Width",!0,r)));return o}function P(t,i,n){var r=!0,s="width"===i?t.offsetWidth:t.offsetHeight,o=pi(t),a=dt.boxSizing&&"border-box"===ft.css(t,"boxSizing",!1,o);if(nt.msFullscreenElement&&e.top!==e&&t.getClientRects().length&&(s=Math.round(100*t.getBoundingClientRect()[i])),0>=s||null==s){if(s=gi(t,i,o),(0>s||null==s)&&(s=t.style[i]),di.test(s))return s;r=a&&(dt.boxSizingReliable()||s===t.style[i]),s=parseFloat(s)||0}return s+H(t,i,n||(a?"border":"content"),r,o)+"px"}function z(e,t,i,n,r){return new z.prototype.init(e,t,i,n,r)}function N(){return e.setTimeout(function(){Ti=void 0}),Ti=ft.now()}function L(e,t){var i,n={height:e},r=0;for(t=t?1:0;4>r;r+=2-t)i=zt[r],n["margin"+i]=n["padding"+i]=e;return t&&(n.opacity=n.width=e),n}function F(e,t,i){for(var n,r=(B.tweeners[t]||[]).concat(B.tweeners["*"]),s=0,o=r.length;o>s;s++)if(n=r[s].call(i,t,e))return n}function j(e,t,i){var n,r,s,o,a,l,c,u,d=this,h={},f=e.style,p=e.nodeType&&Nt(e),g=ft._data(e,"fxshow");i.queue||(a=ft._queueHooks(e,"fx"),null==a.unqueued&&(a.unqueued=0,l=a.empty.fire,a.empty.fire=function(){a.unqueued||l()}),a.unqueued++,d.always(function(){d.always(function(){a.unqueued--,ft.queue(e,"fx").length||a.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(i.overflow=[f.overflow,f.overflowX,f.overflowY],c=ft.css(e,"display"),u="none"===c?ft._data(e,"olddisplay")||A(e.nodeName):c,"inline"===u&&"none"===ft.css(e,"float")&&(dt.inlineBlockNeedsLayout&&"inline"!==A(e.nodeName)?f.zoom=1:f.display="inline-block")),i.overflow&&(f.overflow="hidden",dt.shrinkWrapBlocks()||d.always(function(){f.overflow=i.overflow[0],f.overflowX=i.overflow[1],f.overflowY=i.overflow[2]}));for(n in t)if(r=t[n],Di.exec(r)){if(delete t[n],s=s||"toggle"===r,r===(p?"hide":"show")){if("show"!==r||!g||void 0===g[n])continue;p=!0}h[n]=g&&g[n]||ft.style(e,n)}else c=void 0;if(ft.isEmptyObject(h))"inline"===("none"===c?A(e.nodeName):c)&&(f.display=c);else{g?"hidden"in g&&(p=g.hidden):g=ft._data(e,"fxshow",{}),s&&(g.hidden=!p),p?ft(e).show():d.done(function(){ft(e).hide()}),d.done(function(){var t;ft._removeData(e,"fxshow");for(t in h)ft.style(e,t,h[t])});for(n in h)o=F(p?g[n]:0,n,d),n in g||(g[n]=o.start,p&&(o.end=o.start,o.start="width"===n||"height"===n?1:0))}}function W(e,t){var i,n,r,s,o;for(i in e)if(n=ft.camelCase(i),r=t[n],s=e[i],ft.isArray(s)&&(r=s[1],s=e[i]=s[0]),i!==n&&(e[n]=s,delete e[i]),o=ft.cssHooks[n],o&&"expand"in o){s=o.expand(s),delete e[n];for(i in s)i in e||(e[i]=s[i],t[i]=r)}else t[n]=r}function B(e,t,i){var n,r,s=0,o=B.prefilters.length,a=ft.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var t=Ti||N(),i=Math.max(0,c.startTime+c.duration-t),n=i/c.duration||0,s=1-n,o=0,l=c.tweens.length;l>o;o++)c.tweens[o].run(s);return a.notifyWith(e,[c,s,i]),1>s&&l?i:(a.resolveWith(e,[c]),!1)},c=a.promise({elem:e,props:ft.extend({},t),opts:ft.extend(!0,{specialEasing:{},easing:ft.easing._default},i),originalProperties:t,originalOptions:i,startTime:Ti||N(),duration:i.duration,tweens:[],createTween:function(t,i){var n=ft.Tween(e,c.opts,t,i,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(n),n},stop:function(t){var i=0,n=t?c.tweens.length:0;if(r)return this;for(r=!0;n>i;i++)c.tweens[i].run(1);return t?(a.notifyWith(e,[c,1,0]),a.resolveWith(e,[c,t])):a.rejectWith(e,[c,t]),this}}),u=c.props;for(W(u,c.opts.specialEasing);o>s;s++)if(n=B.prefilters[s].call(c,e,u,c.opts))return ft.isFunction(n.stop)&&(ft._queueHooks(c.elem,c.opts.queue).stop=ft.proxy(n.stop,n)),n;return ft.map(u,F,c),ft.isFunction(c.opts.start)&&c.opts.start.call(e,c),ft.fx.timer(ft.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function U(e){return ft.attr(e,"class")||""}function q(e){return function(t,i){"string"!=typeof t&&(i=t,t="*");var n,r=0,s=t.toLowerCase().match(Mt)||[];if(ft.isFunction(i))for(;n=s[r++];)"+"===n.charAt(0)?(n=n.slice(1)||"*",(e[n]=e[n]||[]).unshift(i)):(e[n]=e[n]||[]).push(i)}}function Y(e,t,i,n){function r(a){var l;return s[a]=!0,ft.each(e[a]||[],function(e,a){var c=a(t,i,n);return"string"!=typeof c||o||s[c]?o?!(l=c):void 0:(t.dataTypes.unshift(c),r(c),!1)}),l}var s={},o=e===Qi;return r(t.dataTypes[0])||!s["*"]&&r("*")}function V(e,t){var i,n,r=ft.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((r[n]?e:i||(i={}))[n]=t[n]);return i&&ft.extend(!0,e,i),e}function G(e,t,i){for(var n,r,s,o,a=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(o in a)if(a[o]&&a[o].test(r)){l.unshift(o);break}if(l[0]in i)s=l[0];else{for(o in i){if(!l[0]||e.converters[o+" "+l[0]]){s=o;break}n||(n=o)}s=s||n}return s?(s!==l[0]&&l.unshift(s),i[s]):void 0}function K(e,t,i,n){var r,s,o,a,l,c={},u=e.dataTypes.slice();if(u[1])for(o in e.converters)c[o.toLowerCase()]=e.converters[o];for(s=u.shift();s;)if(e.responseFields[s]&&(i[e.responseFields[s]]=t),!l&&n&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=s,s=u.shift())if("*"===s)s=l;else if("*"!==l&&l!==s){if(o=c[l+" "+s]||c["* "+s],!o)for(r in c)if(a=r.split(" "),a[1]===s&&(o=c[l+" "+a[0]]||c["* "+a[0]])){o===!0?o=c[r]:c[r]!==!0&&(s=a[0],u.unshift(a[1]));break}if(o!==!0)if(o&&e["throws"])t=o(t);else try{t=o(t)}catch(d){return{state:"parsererror",error:o?d:"No conversion from "+l+" to "+s}}}return{state:"success",data:t}}function X(e){return e.style&&e.style.display||ft.css(e,"display")}function Q(e){for(;e&&1===e.nodeType;){if("none"===X(e)||"hidden"===e.type)return!0;e=e.parentNode}return!1}function Z(e,t,i,n){var r;if(ft.isArray(t))ft.each(t,function(t,r){i||nn.test(e)?n(e,r):Z(e+"["+("object"==typeof r&&null!=r?t:"")+"]",r,i,n)});else if(i||"object"!==ft.type(t))n(e,t);else for(r in t)Z(e+"["+r+"]",t[r],i,n)}function J(){try{return new e.XMLHttpRequest}catch(t){}}function et(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function tt(e){return ft.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}var it=[],nt=e.document,rt=it.slice,st=it.concat,ot=it.push,at=it.indexOf,lt={},ct=lt.toString,ut=lt.hasOwnProperty,dt={},ht="1.12.1",ft=function(e,t){return new ft.fn.init(e,t)},pt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,gt=/^-ms-/,mt=/-([\da-z])/gi,vt=function(e,t){return t.toUpperCase()};ft.fn=ft.prototype={jquery:ht,constructor:ft,selector:"",length:0,toArray:function(){return rt.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:rt.call(this)},pushStack:function(e){var t=ft.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e){return ft.each(this,e)},map:function(e){return this.pushStack(ft.map(this,function(t,i){return e.call(t,i,t)}))},slice:function(){return this.pushStack(rt.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,i=+e+(0>e?t:0);return this.pushStack(i>=0&&t>i?[this[i]]:[])},end:function(){return this.prevObject||this.constructor()},push:ot,sort:it.sort,splice:it.splice},ft.extend=ft.fn.extend=function(){var e,t,i,n,r,s,o=arguments[0]||{},a=1,l=arguments.length,c=!1;for("boolean"==typeof o&&(c=o,o=arguments[a]||{},a++),"object"==typeof o||ft.isFunction(o)||(o={}),a===l&&(o=this,a--);l>a;a++)if(null!=(r=arguments[a]))for(n in r)e=o[n],i=r[n],o!==i&&(c&&i&&(ft.isPlainObject(i)||(t=ft.isArray(i)))?(t?(t=!1,s=e&&ft.isArray(e)?e:[]):s=e&&ft.isPlainObject(e)?e:{},o[n]=ft.extend(c,s,i)):void 0!==i&&(o[n]=i));return o},ft.extend({expando:"jQuery"+(ht+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===ft.type(e)},isArray:Array.isArray||function(e){return"array"===ft.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){var t=e&&e.toString();return!ft.isArray(e)&&t-parseFloat(t)+1>=0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},isPlainObject:function(e){var t;if(!e||"object"!==ft.type(e)||e.nodeType||ft.isWindow(e))return!1;try{if(e.constructor&&!ut.call(e,"constructor")&&!ut.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(i){return!1}if(!dt.ownFirst)for(t in e)return ut.call(e,t);for(t in e);return void 0===t||ut.call(e,t)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?lt[ct.call(e)]||"object":typeof e},globalEval:function(t){t&&ft.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(gt,"ms-").replace(mt,vt)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t){var n,r=0;if(i(e))for(n=e.length;n>r&&t.call(e[r],r,e[r])!==!1;r++);else for(r in e)if(t.call(e[r],r,e[r])===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(pt,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(i(Object(e))?ft.merge(n,"string"==typeof e?[e]:e):ot.call(n,e)),n},inArray:function(e,t,i){var n;if(t){if(at)return at.call(t,e,i);for(n=t.length,i=i?0>i?Math.max(0,n+i):i:0;n>i;i++)if(i in t&&t[i]===e)return i}return-1},merge:function(e,t){for(var i=+t.length,n=0,r=e.length;i>n;)e[r++]=t[n++];if(i!==i)for(;void 0!==t[n];)e[r++]=t[n++];return e.length=r,e},grep:function(e,t,i){for(var n,r=[],s=0,o=e.length,a=!i;o>s;s++)n=!t(e[s],s),n!==a&&r.push(e[s]);return r},map:function(e,t,n){var r,s,o=0,a=[];if(i(e))for(r=e.length;r>o;o++)s=t(e[o],o,n),null!=s&&a.push(s);else for(o in e)s=t(e[o],o,n),null!=s&&a.push(s);return st.apply([],a)},guid:1,proxy:function(e,t){var i,n,r;return"string"==typeof t&&(r=e[t],t=e,e=r),ft.isFunction(e)?(i=rt.call(arguments,2),n=function(){return e.apply(t||this,i.concat(rt.call(arguments)))},n.guid=e.guid=e.guid||ft.guid++,n):void 0},now:function(){return+new Date},support:dt}),"function"==typeof Symbol&&(ft.fn[Symbol.iterator]=it[Symbol.iterator]),ft.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){lt["[object "+t+"]"]=t.toLowerCase()});var yt=function(e){function t(e,t,i,n){var r,s,o,a,l,c,d,f,p=t&&t.ownerDocument,g=t?t.nodeType:9;if(i=i||[],"string"!=typeof e||!e||1!==g&&9!==g&&11!==g)return i;if(!n&&((t?t.ownerDocument||t:F)!==O&&I(t),t=t||O,R)){if(11!==g&&(c=vt.exec(e)))if(r=c[1]){if(9===g){if(!(o=t.getElementById(r)))return i;if(o.id===r)return i.push(o),i}else if(p&&(o=p.getElementById(r))&&N(t,o)&&o.id===r)return i.push(o),i}else{if(c[2])return Z.apply(i,t.getElementsByTagName(e)),i;if((r=c[3])&&x.getElementsByClassName&&t.getElementsByClassName)return Z.apply(i,t.getElementsByClassName(r)),i}if(!(!x.qsa||q[e+" "]||H&&H.test(e))){if(1!==g)p=t,f=e;else if("object"!==t.nodeName.toLowerCase()){for((a=t.getAttribute("id"))?a=a.replace(bt,"\\$&"):t.setAttribute("id",a=L),d=T(e),s=d.length,l=ht.test(a)?"#"+a:"[id='"+a+"']";s--;)d[s]=l+" "+h(d[s]);f=d.join(","),p=yt.test(e)&&u(t.parentNode)||t}if(f)try{return Z.apply(i,p.querySelectorAll(f)),i}catch(m){}finally{a===L&&t.removeAttribute("id")}}}return D(e.replace(at,"$1"),t,i,n)}function i(){function e(i,n){return t.push(i+" ")>k.cacheLength&&delete e[t.shift()],e[i+" "]=n}var t=[];return e}function n(e){return e[L]=!0,e}function r(e){var t=O.createElement("div");try{return!!e(t)}catch(i){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function s(e,t){for(var i=e.split("|"),n=i.length;n--;)k.attrHandle[i[n]]=t}function o(e,t){var i=t&&e,n=i&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||V)-(~e.sourceIndex||V);if(n)return n;if(i)for(;i=i.nextSibling;)if(i===t)return-1;return e?1:-1}function a(e){return function(t){var i=t.nodeName.toLowerCase();return"input"===i&&t.type===e}}function l(e){return function(t){var i=t.nodeName.toLowerCase();return("input"===i||"button"===i)&&t.type===e}}function c(e){return n(function(t){return t=+t,n(function(i,n){for(var r,s=e([],i.length,t),o=s.length;o--;)i[r=s[o]]&&(i[r]=!(n[r]=i[r]))})})}function u(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function d(){}function h(e){for(var t=0,i=e.length,n="";i>t;t++)n+=e[t].value;return n}function f(e,t,i){var n=t.dir,r=i&&"parentNode"===n,s=W++;return t.first?function(t,i,s){for(;t=t[n];)if(1===t.nodeType||r)return e(t,i,s)}:function(t,i,o){var a,l,c,u=[j,s];if(o){for(;t=t[n];)if((1===t.nodeType||r)&&e(t,i,o))return!0}else for(;t=t[n];)if(1===t.nodeType||r){if(c=t[L]||(t[L]={}),l=c[t.uniqueID]||(c[t.uniqueID]={}),(a=l[n])&&a[0]===j&&a[1]===s)return u[2]=a[2];if(l[n]=u,u[2]=e(t,i,o))return!0}}}function p(e){return e.length>1?function(t,i,n){for(var r=e.length;r--;)if(!e[r](t,i,n))return!1;return!0}:e[0]}function g(e,i,n){for(var r=0,s=i.length;s>r;r++)t(e,i[r],n);return n}function m(e,t,i,n,r){for(var s,o=[],a=0,l=e.length,c=null!=t;l>a;a++)(s=e[a])&&(!i||i(s,n,r))&&(o.push(s),c&&t.push(a));return o}function v(e,t,i,r,s,o){return r&&!r[L]&&(r=v(r)),s&&!s[L]&&(s=v(s,o)),n(function(n,o,a,l){var c,u,d,h=[],f=[],p=o.length,v=n||g(t||"*",a.nodeType?[a]:a,[]),y=!e||!n&&t?v:m(v,h,e,a,l),b=i?s||(n?e:p||r)?[]:o:y;if(i&&i(y,b,a,l),r)for(c=m(b,f),r(c,[],a,l),u=c.length;u--;)(d=c[u])&&(b[f[u]]=!(y[f[u]]=d));if(n){if(s||e){if(s){for(c=[],u=b.length;u--;)(d=b[u])&&c.push(y[u]=d);s(null,b=[],c,l)}for(u=b.length;u--;)(d=b[u])&&(c=s?et(n,d):h[u])>-1&&(n[c]=!(o[c]=d))}}else b=m(b===o?b.splice(p,b.length):b),s?s(null,o,b,l):Z.apply(o,b)})}function y(e){for(var t,i,n,r=e.length,s=k.relative[e[0].type],o=s||k.relative[" "],a=s?1:0,l=f(function(e){return e===t},o,!0),c=f(function(e){return et(t,e)>-1},o,!0),u=[function(e,i,n){var r=!s&&(n||i!==E)||((t=i).nodeType?l(e,i,n):c(e,i,n));return t=null,r}];r>a;a++)if(i=k.relative[e[a].type])u=[f(p(u),i)];else{if(i=k.filter[e[a].type].apply(null,e[a].matches),i[L]){for(n=++a;r>n&&!k.relative[e[n].type];n++);return v(a>1&&p(u),a>1&&h(e.slice(0,a-1).concat({value:" "===e[a-2].type?"*":""})).replace(at,"$1"),i,n>a&&y(e.slice(a,n)),r>n&&y(e=e.slice(n)),r>n&&h(e))}u.push(i)}return p(u)}function b(e,i){var r=i.length>0,s=e.length>0,o=function(n,o,a,l,c){var u,d,h,f=0,p="0",g=n&&[],v=[],y=E,b=n||s&&k.find.TAG("*",c),w=j+=null==y?1:Math.random()||.1,x=b.length;for(c&&(E=o===O||o||c);p!==x&&null!=(u=b[p]);p++){if(s&&u){for(d=0,o||u.ownerDocument===O||(I(u),a=!R);h=e[d++];)if(h(u,o||O,a)){l.push(u);break}c&&(j=w)}r&&((u=!h&&u)&&f--,n&&g.push(u))}if(f+=p,r&&p!==f){for(d=0;h=i[d++];)h(g,v,o,a);if(n){if(f>0)for(;p--;)g[p]||v[p]||(v[p]=X.call(l));v=m(v)}Z.apply(l,v),c&&!n&&v.length>0&&f+i.length>1&&t.uniqueSort(l)}return c&&(j=w,E=y),g};return r?n(o):o}var w,x,k,_,C,T,S,D,E,M,A,I,O,$,R,H,P,z,N,L="sizzle"+1*new Date,F=e.document,j=0,W=0,B=i(),U=i(),q=i(),Y=function(e,t){return e===t&&(A=!0),0},V=1<<31,G={}.hasOwnProperty,K=[],X=K.pop,Q=K.push,Z=K.push,J=K.slice,et=function(e,t){for(var i=0,n=e.length;n>i;i++)if(e[i]===t)return i;return-1},tt="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",it="[\\x20\\t\\r\\n\\f]",nt="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",rt="\\["+it+"*("+nt+")(?:"+it+"*([*^$|!~]?=)"+it+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+nt+"))|)"+it+"*\\]",st=":("+nt+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+rt+")*)|.*)\\)|)",ot=new RegExp(it+"+","g"),at=new RegExp("^"+it+"+|((?:^|[^\\\\])(?:\\\\.)*)"+it+"+$","g"),lt=new RegExp("^"+it+"*,"+it+"*"),ct=new RegExp("^"+it+"*([>+~]|"+it+")"+it+"*"),ut=new RegExp("="+it+"*([^\\]'\"]*?)"+it+"*\\]","g"),dt=new RegExp(st),ht=new RegExp("^"+nt+"$"),ft={ID:new RegExp("^#("+nt+")"),CLASS:new RegExp("^\\.("+nt+")"),TAG:new RegExp("^("+nt+"|[*])"),ATTR:new RegExp("^"+rt),PSEUDO:new RegExp("^"+st),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+it+"*(even|odd|(([+-]|)(\\d*)n|)"+it+"*(?:([+-]|)"+it+"*(\\d+)|))"+it+"*\\)|)","i"),bool:new RegExp("^(?:"+tt+")$","i"),needsContext:new RegExp("^"+it+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+it+"*((?:-\\d)?\\d*)"+it+"*\\)|)(?=[^-]|$)","i")},pt=/^(?:input|select|textarea|button)$/i,gt=/^h\d$/i,mt=/^[^{]+\{\s*\[native \w/,vt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,yt=/[+~]/,bt=/'|\\/g,wt=new RegExp("\\\\([\\da-f]{1,6}"+it+"?|("+it+")|.)","ig"),xt=function(e,t,i){var n="0x"+t-65536;return n!==n||i?t:0>n?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)},kt=function(){I()};try{Z.apply(K=J.call(F.childNodes),F.childNodes),K[F.childNodes.length].nodeType}catch(_t){Z={apply:K.length?function(e,t){Q.apply(e,J.call(t))}:function(e,t){for(var i=e.length,n=0;e[i++]=t[n++];);e.length=i-1}}}x=t.support={},C=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},I=t.setDocument=function(e){var t,i,n=e?e.ownerDocument||e:F;return n!==O&&9===n.nodeType&&n.documentElement?(O=n,$=O.documentElement,R=!C(O),(i=O.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",kt,!1):i.attachEvent&&i.attachEvent("onunload",kt)),x.attributes=r(function(e){return e.className="i",!e.getAttribute("className")}),x.getElementsByTagName=r(function(e){return e.appendChild(O.createComment("")),!e.getElementsByTagName("*").length}),x.getElementsByClassName=mt.test(O.getElementsByClassName),x.getById=r(function(e){return $.appendChild(e).id=L,!O.getElementsByName||!O.getElementsByName(L).length}),x.getById?(k.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&R){var i=t.getElementById(e);return i?[i]:[]}},k.filter.ID=function(e){var t=e.replace(wt,xt);return function(e){return e.getAttribute("id")===t}}):(delete k.find.ID,k.filter.ID=function(e){var t=e.replace(wt,xt);return function(e){var i="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return i&&i.value===t}}),k.find.TAG=x.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):x.qsa?t.querySelectorAll(e):void 0}:function(e,t){var i,n=[],r=0,s=t.getElementsByTagName(e);if("*"===e){for(;i=s[r++];)1===i.nodeType&&n.push(i);return n}return s},k.find.CLASS=x.getElementsByClassName&&function(e,t){return"undefined"!=typeof t.getElementsByClassName&&R?t.getElementsByClassName(e):void 0},P=[],H=[],(x.qsa=mt.test(O.querySelectorAll))&&(r(function(e){$.appendChild(e).innerHTML="<a id='"+L+"'></a><select id='"+L+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&H.push("[*^$]="+it+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||H.push("\\["+it+"*(?:value|"+tt+")"),e.querySelectorAll("[id~="+L+"-]").length||H.push("~="),e.querySelectorAll(":checked").length||H.push(":checked"),e.querySelectorAll("a#"+L+"+*").length||H.push(".#.+[+~]")}),r(function(e){var t=O.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&H.push("name"+it+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||H.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),H.push(",.*:")})),(x.matchesSelector=mt.test(z=$.matches||$.webkitMatchesSelector||$.mozMatchesSelector||$.oMatchesSelector||$.msMatchesSelector))&&r(function(e){x.disconnectedMatch=z.call(e,"div"),z.call(e,"[s!='']:x"),P.push("!=",st)}),H=H.length&&new RegExp(H.join("|")),P=P.length&&new RegExp(P.join("|")),t=mt.test($.compareDocumentPosition),N=t||mt.test($.contains)?function(e,t){var i=9===e.nodeType?e.documentElement:e,n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},Y=t?function(e,t){if(e===t)return A=!0,0;var i=!e.compareDocumentPosition-!t.compareDocumentPosition;return i?i:(i=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&i||!x.sortDetached&&t.compareDocumentPosition(e)===i?e===O||e.ownerDocument===F&&N(F,e)?-1:t===O||t.ownerDocument===F&&N(F,t)?1:M?et(M,e)-et(M,t):0:4&i?-1:1)}:function(e,t){if(e===t)return A=!0,0;var i,n=0,r=e.parentNode,s=t.parentNode,a=[e],l=[t];if(!r||!s)return e===O?-1:t===O?1:r?-1:s?1:M?et(M,e)-et(M,t):0;if(r===s)return o(e,t);for(i=e;i=i.parentNode;)a.unshift(i);for(i=t;i=i.parentNode;)l.unshift(i);for(;a[n]===l[n];)n++;return n?o(a[n],l[n]):a[n]===F?-1:l[n]===F?1:0},O):O},t.matches=function(e,i){return t(e,null,null,i)},t.matchesSelector=function(e,i){if((e.ownerDocument||e)!==O&&I(e),i=i.replace(ut,"='$1']"),!(!x.matchesSelector||!R||q[i+" "]||P&&P.test(i)||H&&H.test(i)))try{var n=z.call(e,i);if(n||x.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(r){}return t(i,O,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==O&&I(e),N(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==O&&I(e);var i=k.attrHandle[t.toLowerCase()],n=i&&G.call(k.attrHandle,t.toLowerCase())?i(e,t,!R):void 0;return void 0!==n?n:x.attributes||!R?e.getAttribute(t):(n=e.getAttributeNode(t))&&n.specified?n.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,i=[],n=0,r=0;if(A=!x.detectDuplicates,M=!x.sortStable&&e.slice(0),e.sort(Y),A){for(;t=e[r++];)t===e[r]&&(n=i.push(r));for(;n--;)e.splice(i[n],1)}return M=null,e},_=t.getText=function(e){var t,i="",n=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)i+=_(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[n++];)i+=_(t);return i},k=t.selectors={cacheLength:50,createPseudo:n,match:ft,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(wt,xt),e[3]=(e[3]||e[4]||e[5]||"").replace(wt,xt),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,i=!e[6]&&e[2];return ft.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":i&&dt.test(i)&&(t=T(i,!0))&&(t=i.indexOf(")",i.length-t)-i.length)&&(e[0]=e[0].slice(0,t),e[2]=i.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(wt,xt).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=B[e+" "];return t||(t=new RegExp("(^|"+it+")"+e+"("+it+"|$)"))&&B(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,i,n){return function(r){var s=t.attr(r,e);return null==s?"!="===i:i?(s+="","="===i?s===n:"!="===i?s!==n:"^="===i?n&&0===s.indexOf(n):"*="===i?n&&s.indexOf(n)>-1:"$="===i?n&&s.slice(-n.length)===n:"~="===i?(" "+s.replace(ot," ")+" ").indexOf(n)>-1:"|="===i?s===n||s.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(e,t,i,n,r){var s="nth"!==e.slice(0,3),o="last"!==e.slice(-4),a="of-type"===t;return 1===n&&0===r?function(e){return!!e.parentNode}:function(t,i,l){var c,u,d,h,f,p,g=s!==o?"nextSibling":"previousSibling",m=t.parentNode,v=a&&t.nodeName.toLowerCase(),y=!l&&!a,b=!1;if(m){if(s){for(;g;){for(h=t;h=h[g];)if(a?h.nodeName.toLowerCase()===v:1===h.nodeType)return!1;p=g="only"===e&&!p&&"nextSibling"}return!0}if(p=[o?m.firstChild:m.lastChild],o&&y){for(h=m,d=h[L]||(h[L]={}),u=d[h.uniqueID]||(d[h.uniqueID]={}),c=u[e]||[],f=c[0]===j&&c[1],b=f&&c[2],h=f&&m.childNodes[f];h=++f&&h&&h[g]||(b=f=0)||p.pop();)if(1===h.nodeType&&++b&&h===t){u[e]=[j,f,b];break}}else if(y&&(h=t,d=h[L]||(h[L]={}),u=d[h.uniqueID]||(d[h.uniqueID]={}),c=u[e]||[],f=c[0]===j&&c[1],b=f),b===!1)for(;(h=++f&&h&&h[g]||(b=f=0)||p.pop())&&((a?h.nodeName.toLowerCase()!==v:1!==h.nodeType)||!++b||(y&&(d=h[L]||(h[L]={}),u=d[h.uniqueID]||(d[h.uniqueID]={}),u[e]=[j,b]),h!==t)););return b-=r,b===n||b%n===0&&b/n>=0}}},PSEUDO:function(e,i){var r,s=k.pseudos[e]||k.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return s[L]?s(i):s.length>1?(r=[e,e,"",i],k.setFilters.hasOwnProperty(e.toLowerCase())?n(function(e,t){for(var n,r=s(e,i),o=r.length;o--;)n=et(e,r[o]),e[n]=!(t[n]=r[o])
}):function(e){return s(e,0,r)}):s}},pseudos:{not:n(function(e){var t=[],i=[],r=S(e.replace(at,"$1"));return r[L]?n(function(e,t,i,n){for(var s,o=r(e,null,n,[]),a=e.length;a--;)(s=o[a])&&(e[a]=!(t[a]=s))}):function(e,n,s){return t[0]=e,r(t,null,s,i),t[0]=null,!i.pop()}}),has:n(function(e){return function(i){return t(e,i).length>0}}),contains:n(function(e){return e=e.replace(wt,xt),function(t){return(t.textContent||t.innerText||_(t)).indexOf(e)>-1}}),lang:n(function(e){return ht.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(wt,xt).toLowerCase(),function(t){var i;do if(i=R?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return i=i.toLowerCase(),i===e||0===i.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var i=e.location&&e.location.hash;return i&&i.slice(1)===t.id},root:function(e){return e===$},focus:function(e){return e===O.activeElement&&(!O.hasFocus||O.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!k.pseudos.empty(e)},header:function(e){return gt.test(e.nodeName)},input:function(e){return pt.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:c(function(){return[0]}),last:c(function(e,t){return[t-1]}),eq:c(function(e,t,i){return[0>i?i+t:i]}),even:c(function(e,t){for(var i=0;t>i;i+=2)e.push(i);return e}),odd:c(function(e,t){for(var i=1;t>i;i+=2)e.push(i);return e}),lt:c(function(e,t,i){for(var n=0>i?i+t:i;--n>=0;)e.push(n);return e}),gt:c(function(e,t,i){for(var n=0>i?i+t:i;++n<t;)e.push(n);return e})}},k.pseudos.nth=k.pseudos.eq;for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})k.pseudos[w]=a(w);for(w in{submit:!0,reset:!0})k.pseudos[w]=l(w);return d.prototype=k.filters=k.pseudos,k.setFilters=new d,T=t.tokenize=function(e,i){var n,r,s,o,a,l,c,u=U[e+" "];if(u)return i?0:u.slice(0);for(a=e,l=[],c=k.preFilter;a;){(!n||(r=lt.exec(a)))&&(r&&(a=a.slice(r[0].length)||a),l.push(s=[])),n=!1,(r=ct.exec(a))&&(n=r.shift(),s.push({value:n,type:r[0].replace(at," ")}),a=a.slice(n.length));for(o in k.filter)!(r=ft[o].exec(a))||c[o]&&!(r=c[o](r))||(n=r.shift(),s.push({value:n,type:o,matches:r}),a=a.slice(n.length));if(!n)break}return i?a.length:a?t.error(e):U(e,l).slice(0)},S=t.compile=function(e,t){var i,n=[],r=[],s=q[e+" "];if(!s){for(t||(t=T(e)),i=t.length;i--;)s=y(t[i]),s[L]?n.push(s):r.push(s);s=q(e,b(r,n)),s.selector=e}return s},D=t.select=function(e,t,i,n){var r,s,o,a,l,c="function"==typeof e&&e,d=!n&&T(e=c.selector||e);if(i=i||[],1===d.length){if(s=d[0]=d[0].slice(0),s.length>2&&"ID"===(o=s[0]).type&&x.getById&&9===t.nodeType&&R&&k.relative[s[1].type]){if(t=(k.find.ID(o.matches[0].replace(wt,xt),t)||[])[0],!t)return i;c&&(t=t.parentNode),e=e.slice(s.shift().value.length)}for(r=ft.needsContext.test(e)?0:s.length;r--&&(o=s[r],!k.relative[a=o.type]);)if((l=k.find[a])&&(n=l(o.matches[0].replace(wt,xt),yt.test(s[0].type)&&u(t.parentNode)||t))){if(s.splice(r,1),e=n.length&&h(s),!e)return Z.apply(i,n),i;break}}return(c||S(e,d))(n,t,!R,i,!t||yt.test(e)&&u(t.parentNode)||t),i},x.sortStable=L.split("").sort(Y).join("")===L,x.detectDuplicates=!!A,I(),x.sortDetached=r(function(e){return 1&e.compareDocumentPosition(O.createElement("div"))}),r(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||s("type|href|height|width",function(e,t,i){return i?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),x.attributes&&r(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||s("value",function(e,t,i){return i||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),r(function(e){return null==e.getAttribute("disabled")})||s(tt,function(e,t,i){var n;return i?void 0:e[t]===!0?t.toLowerCase():(n=e.getAttributeNode(t))&&n.specified?n.value:null}),t}(e);ft.find=yt,ft.expr=yt.selectors,ft.expr[":"]=ft.expr.pseudos,ft.uniqueSort=ft.unique=yt.uniqueSort,ft.text=yt.getText,ft.isXMLDoc=yt.isXML,ft.contains=yt.contains;var bt=function(e,t,i){for(var n=[],r=void 0!==i;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(r&&ft(e).is(i))break;n.push(e)}return n},wt=function(e,t){for(var i=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&i.push(e);return i},xt=ft.expr.match.needsContext,kt=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,_t=/^.[^:#\[\.,]*$/;ft.filter=function(e,t,i){var n=t[0];return i&&(e=":not("+e+")"),1===t.length&&1===n.nodeType?ft.find.matchesSelector(n,e)?[n]:[]:ft.find.matches(e,ft.grep(t,function(e){return 1===e.nodeType}))},ft.fn.extend({find:function(e){var t,i=[],n=this,r=n.length;if("string"!=typeof e)return this.pushStack(ft(e).filter(function(){for(t=0;r>t;t++)if(ft.contains(n[t],this))return!0}));for(t=0;r>t;t++)ft.find(e,n[t],i);return i=this.pushStack(r>1?ft.unique(i):i),i.selector=this.selector?this.selector+" "+e:e,i},filter:function(e){return this.pushStack(n(this,e||[],!1))},not:function(e){return this.pushStack(n(this,e||[],!0))},is:function(e){return!!n(this,"string"==typeof e&&xt.test(e)?ft(e):e||[],!1).length}});var Ct,Tt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,St=ft.fn.init=function(e,t,i){var n,r;if(!e)return this;if(i=i||Ct,"string"==typeof e){if(n="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:Tt.exec(e),!n||!n[1]&&t)return!t||t.jquery?(t||i).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof ft?t[0]:t,ft.merge(this,ft.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:nt,!0)),kt.test(n[1])&&ft.isPlainObject(t))for(n in t)ft.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}if(r=nt.getElementById(n[2]),r&&r.parentNode){if(r.id!==n[2])return Ct.find(e);this.length=1,this[0]=r}return this.context=nt,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):ft.isFunction(e)?"undefined"!=typeof i.ready?i.ready(e):e(ft):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),ft.makeArray(e,this))};St.prototype=ft.fn,Ct=ft(nt);var Dt=/^(?:parents|prev(?:Until|All))/,Et={children:!0,contents:!0,next:!0,prev:!0};ft.fn.extend({has:function(e){var t,i=ft(e,this),n=i.length;return this.filter(function(){for(t=0;n>t;t++)if(ft.contains(this,i[t]))return!0})},closest:function(e,t){for(var i,n=0,r=this.length,s=[],o=xt.test(e)||"string"!=typeof e?ft(e,t||this.context):0;r>n;n++)for(i=this[n];i&&i!==t;i=i.parentNode)if(i.nodeType<11&&(o?o.index(i)>-1:1===i.nodeType&&ft.find.matchesSelector(i,e))){s.push(i);break}return this.pushStack(s.length>1?ft.uniqueSort(s):s)},index:function(e){return e?"string"==typeof e?ft.inArray(this[0],ft(e)):ft.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(ft.uniqueSort(ft.merge(this.get(),ft(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),ft.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return bt(e,"parentNode")},parentsUntil:function(e,t,i){return bt(e,"parentNode",i)},next:function(e){return r(e,"nextSibling")},prev:function(e){return r(e,"previousSibling")},nextAll:function(e){return bt(e,"nextSibling")},prevAll:function(e){return bt(e,"previousSibling")},nextUntil:function(e,t,i){return bt(e,"nextSibling",i)},prevUntil:function(e,t,i){return bt(e,"previousSibling",i)},siblings:function(e){return wt((e.parentNode||{}).firstChild,e)},children:function(e){return wt(e.firstChild)},contents:function(e){return ft.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:ft.merge([],e.childNodes)}},function(e,t){ft.fn[e]=function(i,n){var r=ft.map(this,t,i);return"Until"!==e.slice(-5)&&(n=i),n&&"string"==typeof n&&(r=ft.filter(n,r)),this.length>1&&(Et[e]||(r=ft.uniqueSort(r)),Dt.test(e)&&(r=r.reverse())),this.pushStack(r)}});var Mt=/\S+/g;ft.Callbacks=function(e){e="string"==typeof e?s(e):ft.extend({},e);var t,i,n,r,o=[],a=[],l=-1,c=function(){for(r=e.once,n=t=!0;a.length;l=-1)for(i=a.shift();++l<o.length;)o[l].apply(i[0],i[1])===!1&&e.stopOnFalse&&(l=o.length,i=!1);e.memory||(i=!1),t=!1,r&&(o=i?[]:"")},u={add:function(){return o&&(i&&!t&&(l=o.length-1,a.push(i)),function n(t){ft.each(t,function(t,i){ft.isFunction(i)?e.unique&&u.has(i)||o.push(i):i&&i.length&&"string"!==ft.type(i)&&n(i)})}(arguments),i&&!t&&c()),this},remove:function(){return ft.each(arguments,function(e,t){for(var i;(i=ft.inArray(t,o,i))>-1;)o.splice(i,1),l>=i&&l--}),this},has:function(e){return e?ft.inArray(e,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return r=a=[],o=i="",this},disabled:function(){return!o},lock:function(){return r=!0,i||u.disable(),this},locked:function(){return!!r},fireWith:function(e,i){return r||(i=i||[],i=[e,i.slice?i.slice():i],a.push(i),t||c()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!n}};return u},ft.extend({Deferred:function(e){var t=[["resolve","done",ft.Callbacks("once memory"),"resolved"],["reject","fail",ft.Callbacks("once memory"),"rejected"],["notify","progress",ft.Callbacks("memory")]],i="pending",n={state:function(){return i},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var e=arguments;return ft.Deferred(function(i){ft.each(t,function(t,s){var o=ft.isFunction(e[t])&&e[t];r[s[1]](function(){var e=o&&o.apply(this,arguments);e&&ft.isFunction(e.promise)?e.promise().progress(i.notify).done(i.resolve).fail(i.reject):i[s[0]+"With"](this===n?i.promise():this,o?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?ft.extend(e,n):n}},r={};return n.pipe=n.then,ft.each(t,function(e,s){var o=s[2],a=s[3];n[s[1]]=o.add,a&&o.add(function(){i=a},t[1^e][2].disable,t[2][2].lock),r[s[0]]=function(){return r[s[0]+"With"](this===r?n:this,arguments),this},r[s[0]+"With"]=o.fireWith}),n.promise(r),e&&e.call(r,r),r},when:function(e){var t,i,n,r=0,s=rt.call(arguments),o=s.length,a=1!==o||e&&ft.isFunction(e.promise)?o:0,l=1===a?e:ft.Deferred(),c=function(e,i,n){return function(r){i[e]=this,n[e]=arguments.length>1?rt.call(arguments):r,n===t?l.notifyWith(i,n):--a||l.resolveWith(i,n)}};if(o>1)for(t=new Array(o),i=new Array(o),n=new Array(o);o>r;r++)s[r]&&ft.isFunction(s[r].promise)?s[r].promise().progress(c(r,i,t)).done(c(r,n,s)).fail(l.reject):--a;return a||l.resolveWith(n,s),l.promise()}});var At;ft.fn.ready=function(e){return ft.ready.promise().done(e),this},ft.extend({isReady:!1,readyWait:1,holdReady:function(e){e?ft.readyWait++:ft.ready(!0)},ready:function(e){(e===!0?--ft.readyWait:ft.isReady)||(ft.isReady=!0,e!==!0&&--ft.readyWait>0||(At.resolveWith(nt,[ft]),ft.fn.triggerHandler&&(ft(nt).triggerHandler("ready"),ft(nt).off("ready"))))}}),ft.ready.promise=function(t){if(!At)if(At=ft.Deferred(),"complete"===nt.readyState||"loading"!==nt.readyState&&!nt.documentElement.doScroll)e.setTimeout(ft.ready);else if(nt.addEventListener)nt.addEventListener("DOMContentLoaded",a),e.addEventListener("load",a);else{nt.attachEvent("onreadystatechange",a),e.attachEvent("onload",a);var i=!1;try{i=null==e.frameElement&&nt.documentElement}catch(n){}i&&i.doScroll&&!function r(){if(!ft.isReady){try{i.doScroll("left")}catch(t){return e.setTimeout(r,50)}o(),ft.ready()}}()}return At.promise(t)},ft.ready.promise();var It;for(It in ft(dt))break;dt.ownFirst="0"===It,dt.inlineBlockNeedsLayout=!1,ft(function(){var e,t,i,n;i=nt.getElementsByTagName("body")[0],i&&i.style&&(t=nt.createElement("div"),n=nt.createElement("div"),n.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",i.appendChild(n).appendChild(t),"undefined"!=typeof t.style.zoom&&(t.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",dt.inlineBlockNeedsLayout=e=3===t.offsetWidth,e&&(i.style.zoom=1)),i.removeChild(n))}),function(){var e=nt.createElement("div");dt.deleteExpando=!0;try{delete e.test}catch(t){dt.deleteExpando=!1}e=null}();var Ot=function(e){var t=ft.noData[(e.nodeName+" ").toLowerCase()],i=+e.nodeType||1;return 1!==i&&9!==i?!1:!t||t!==!0&&e.getAttribute("classid")===t},$t=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Rt=/([A-Z])/g;ft.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return e=e.nodeType?ft.cache[e[ft.expando]]:e[ft.expando],!!e&&!c(e)},data:function(e,t,i){return u(e,t,i)},removeData:function(e,t){return d(e,t)},_data:function(e,t,i){return u(e,t,i,!0)},_removeData:function(e,t){return d(e,t,!0)}}),ft.fn.extend({data:function(e,t){var i,n,r,s=this[0],o=s&&s.attributes;if(void 0===e){if(this.length&&(r=ft.data(s),1===s.nodeType&&!ft._data(s,"parsedAttrs"))){for(i=o.length;i--;)o[i]&&(n=o[i].name,0===n.indexOf("data-")&&(n=ft.camelCase(n.slice(5)),l(s,n,r[n])));ft._data(s,"parsedAttrs",!0)}return r}return"object"==typeof e?this.each(function(){ft.data(this,e)}):arguments.length>1?this.each(function(){ft.data(this,e,t)}):s?l(s,e,ft.data(s,e)):void 0},removeData:function(e){return this.each(function(){ft.removeData(this,e)})}}),ft.extend({queue:function(e,t,i){var n;return e?(t=(t||"fx")+"queue",n=ft._data(e,t),i&&(!n||ft.isArray(i)?n=ft._data(e,t,ft.makeArray(i)):n.push(i)),n||[]):void 0},dequeue:function(e,t){t=t||"fx";var i=ft.queue(e,t),n=i.length,r=i.shift(),s=ft._queueHooks(e,t),o=function(){ft.dequeue(e,t)};"inprogress"===r&&(r=i.shift(),n--),r&&("fx"===t&&i.unshift("inprogress"),delete s.stop,r.call(e,o,s)),!n&&s&&s.empty.fire()},_queueHooks:function(e,t){var i=t+"queueHooks";return ft._data(e,i)||ft._data(e,i,{empty:ft.Callbacks("once memory").add(function(){ft._removeData(e,t+"queue"),ft._removeData(e,i)})})}}),ft.fn.extend({queue:function(e,t){var i=2;return"string"!=typeof e&&(t=e,e="fx",i--),arguments.length<i?ft.queue(this[0],e):void 0===t?this:this.each(function(){var i=ft.queue(this,e,t);ft._queueHooks(this,e),"fx"===e&&"inprogress"!==i[0]&&ft.dequeue(this,e)})},dequeue:function(e){return this.each(function(){ft.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var i,n=1,r=ft.Deferred(),s=this,o=this.length,a=function(){--n||r.resolveWith(s,[s])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";o--;)i=ft._data(s[o],e+"queueHooks"),i&&i.empty&&(n++,i.empty.add(a));return a(),r.promise(t)}}),function(){var e;dt.shrinkWrapBlocks=function(){if(null!=e)return e;e=!1;var t,i,n;return i=nt.getElementsByTagName("body")[0],i&&i.style?(t=nt.createElement("div"),n=nt.createElement("div"),n.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",i.appendChild(n).appendChild(t),"undefined"!=typeof t.style.zoom&&(t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",t.appendChild(nt.createElement("div")).style.width="5px",e=3!==t.offsetWidth),i.removeChild(n),e):void 0}}();var Ht=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Pt=new RegExp("^(?:([+-])=|)("+Ht+")([a-z%]*)$","i"),zt=["Top","Right","Bottom","Left"],Nt=function(e,t){return e=t||e,"none"===ft.css(e,"display")||!ft.contains(e.ownerDocument,e)},Lt=function(e,t,i,n,r,s,o){var a=0,l=e.length,c=null==i;if("object"===ft.type(i)){r=!0;for(a in i)Lt(e,t,a,i[a],!0,s,o)}else if(void 0!==n&&(r=!0,ft.isFunction(n)||(o=!0),c&&(o?(t.call(e,n),t=null):(c=t,t=function(e,t,i){return c.call(ft(e),i)})),t))for(;l>a;a++)t(e[a],i,o?n:n.call(e[a],a,t(e[a],i)));return r?e:c?t.call(e):l?t(e[0],i):s},Ft=/^(?:checkbox|radio)$/i,jt=/<([\w:-]+)/,Wt=/^$|\/(?:java|ecma)script/i,Bt=/^\s+/,Ut="abbr|article|aside|audio|bdi|canvas|data|datalist|details|dialog|figcaption|figure|footer|header|hgroup|main|mark|meter|nav|output|picture|progress|section|summary|template|time|video";!function(){var e=nt.createElement("div"),t=nt.createDocumentFragment(),i=nt.createElement("input");e.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",dt.leadingWhitespace=3===e.firstChild.nodeType,dt.tbody=!e.getElementsByTagName("tbody").length,dt.htmlSerialize=!!e.getElementsByTagName("link").length,dt.html5Clone="<:nav></:nav>"!==nt.createElement("nav").cloneNode(!0).outerHTML,i.type="checkbox",i.checked=!0,t.appendChild(i),dt.appendChecked=i.checked,e.innerHTML="<textarea>x</textarea>",dt.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue,t.appendChild(e),i=nt.createElement("input"),i.setAttribute("type","radio"),i.setAttribute("checked","checked"),i.setAttribute("name","t"),e.appendChild(i),dt.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,dt.noCloneEvent=!!e.addEventListener,e[ft.expando]=1,dt.attributes=!e.getAttribute(ft.expando)}();var qt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:dt.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]};qt.optgroup=qt.option,qt.tbody=qt.tfoot=qt.colgroup=qt.caption=qt.thead,qt.th=qt.td;var Yt=/<|&#?\w+;/,Vt=/<tbody/i;!function(){var t,i,n=nt.createElement("div");for(t in{submit:!0,change:!0,focusin:!0})i="on"+t,(dt[t]=i in e)||(n.setAttribute(i,"t"),dt[t]=n.attributes[i].expando===!1);n=null}();var Gt=/^(?:input|select|textarea)$/i,Kt=/^key/,Xt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Qt=/^(?:focusinfocus|focusoutblur)$/,Zt=/^([^.]*)(?:\.(.+)|)/;ft.event={global:{},add:function(e,t,i,n,r){var s,o,a,l,c,u,d,h,f,p,g,m=ft._data(e);if(m){for(i.handler&&(l=i,i=l.handler,r=l.selector),i.guid||(i.guid=ft.guid++),(o=m.events)||(o=m.events={}),(u=m.handle)||(u=m.handle=function(e){return"undefined"==typeof ft||e&&ft.event.triggered===e.type?void 0:ft.event.dispatch.apply(u.elem,arguments)},u.elem=e),t=(t||"").match(Mt)||[""],a=t.length;a--;)s=Zt.exec(t[a])||[],f=g=s[1],p=(s[2]||"").split(".").sort(),f&&(c=ft.event.special[f]||{},f=(r?c.delegateType:c.bindType)||f,c=ft.event.special[f]||{},d=ft.extend({type:f,origType:g,data:n,handler:i,guid:i.guid,selector:r,needsContext:r&&ft.expr.match.needsContext.test(r),namespace:p.join(".")},l),(h=o[f])||(h=o[f]=[],h.delegateCount=0,c.setup&&c.setup.call(e,n,p,u)!==!1||(e.addEventListener?e.addEventListener(f,u,!1):e.attachEvent&&e.attachEvent("on"+f,u))),c.add&&(c.add.call(e,d),d.handler.guid||(d.handler.guid=i.guid)),r?h.splice(h.delegateCount++,0,d):h.push(d),ft.event.global[f]=!0);e=null}},remove:function(e,t,i,n,r){var s,o,a,l,c,u,d,h,f,p,g,m=ft.hasData(e)&&ft._data(e);if(m&&(u=m.events)){for(t=(t||"").match(Mt)||[""],c=t.length;c--;)if(a=Zt.exec(t[c])||[],f=g=a[1],p=(a[2]||"").split(".").sort(),f){for(d=ft.event.special[f]||{},f=(n?d.delegateType:d.bindType)||f,h=u[f]||[],a=a[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=s=h.length;s--;)o=h[s],!r&&g!==o.origType||i&&i.guid!==o.guid||a&&!a.test(o.namespace)||n&&n!==o.selector&&("**"!==n||!o.selector)||(h.splice(s,1),o.selector&&h.delegateCount--,d.remove&&d.remove.call(e,o));l&&!h.length&&(d.teardown&&d.teardown.call(e,p,m.handle)!==!1||ft.removeEvent(e,f,m.handle),delete u[f])}else for(f in u)ft.event.remove(e,f+t[c],i,n,!0);ft.isEmptyObject(u)&&(delete m.handle,ft._removeData(e,"events"))}},trigger:function(t,i,n,r){var s,o,a,l,c,u,d,h=[n||nt],f=ut.call(t,"type")?t.type:t,p=ut.call(t,"namespace")?t.namespace.split("."):[];if(a=u=n=n||nt,3!==n.nodeType&&8!==n.nodeType&&!Qt.test(f+ft.event.triggered)&&(f.indexOf(".")>-1&&(p=f.split("."),f=p.shift(),p.sort()),o=f.indexOf(":")<0&&"on"+f,t=t[ft.expando]?t:new ft.Event(f,"object"==typeof t&&t),t.isTrigger=r?2:3,t.namespace=p.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=n),i=null==i?[t]:ft.makeArray(i,[t]),c=ft.event.special[f]||{},r||!c.trigger||c.trigger.apply(n,i)!==!1)){if(!r&&!c.noBubble&&!ft.isWindow(n)){for(l=c.delegateType||f,Qt.test(l+f)||(a=a.parentNode);a;a=a.parentNode)h.push(a),u=a;u===(n.ownerDocument||nt)&&h.push(u.defaultView||u.parentWindow||e)}for(d=0;(a=h[d++])&&!t.isPropagationStopped();)t.type=d>1?l:c.bindType||f,s=(ft._data(a,"events")||{})[t.type]&&ft._data(a,"handle"),s&&s.apply(a,i),s=o&&a[o],s&&s.apply&&Ot(a)&&(t.result=s.apply(a,i),t.result===!1&&t.preventDefault());if(t.type=f,!r&&!t.isDefaultPrevented()&&(!c._default||c._default.apply(h.pop(),i)===!1)&&Ot(n)&&o&&n[f]&&!ft.isWindow(n)){u=n[o],u&&(n[o]=null),ft.event.triggered=f;try{n[f]()}catch(g){}ft.event.triggered=void 0,u&&(n[o]=u)}return t.result}},dispatch:function(e){e=ft.event.fix(e);var t,i,n,r,s,o=[],a=rt.call(arguments),l=(ft._data(this,"events")||{})[e.type]||[],c=ft.event.special[e.type]||{};if(a[0]=e,e.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,e)!==!1){for(o=ft.event.handlers.call(this,e,l),t=0;(r=o[t++])&&!e.isPropagationStopped();)for(e.currentTarget=r.elem,i=0;(s=r.handlers[i++])&&!e.isImmediatePropagationStopped();)(!e.rnamespace||e.rnamespace.test(s.namespace))&&(e.handleObj=s,e.data=s.data,n=((ft.event.special[s.origType]||{}).handle||s.handler).apply(r.elem,a),void 0!==n&&(e.result=n)===!1&&(e.preventDefault(),e.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,t){var i,n,r,s,o=[],a=t.delegateCount,l=e.target;if(a&&l.nodeType&&("click"!==e.type||isNaN(e.button)||e.button<1))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(l.disabled!==!0||"click"!==e.type)){for(n=[],i=0;a>i;i++)s=t[i],r=s.selector+" ",void 0===n[r]&&(n[r]=s.needsContext?ft(r,this).index(l)>-1:ft.find(r,this,null,[l]).length),n[r]&&n.push(s);n.length&&o.push({elem:l,handlers:n})}return a<t.length&&o.push({elem:this,handlers:t.slice(a)}),o},fix:function(e){if(e[ft.expando])return e;var t,i,n,r=e.type,s=e,o=this.fixHooks[r];for(o||(this.fixHooks[r]=o=Xt.test(r)?this.mouseHooks:Kt.test(r)?this.keyHooks:{}),n=o.props?this.props.concat(o.props):this.props,e=new ft.Event(s),t=n.length;t--;)i=n[t],e[i]=s[i];return e.target||(e.target=s.srcElement||nt),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,o.filter?o.filter(e,s):e},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var i,n,r,s=t.button,o=t.fromElement;return null==e.pageX&&null!=t.clientX&&(n=e.target.ownerDocument||nt,r=n.documentElement,i=n.body,e.pageX=t.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0),e.pageY=t.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)),!e.relatedTarget&&o&&(e.relatedTarget=o===e.target?t.toElement:o),e.which||void 0===s||(e.which=1&s?1:2&s?3:4&s?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==w()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===w()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return ft.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(e){return ft.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,i){var n=ft.extend(new ft.Event,i,{type:e,isSimulated:!0});ft.event.trigger(n,null,t),n.isDefaultPrevented()&&i.preventDefault()}},ft.removeEvent=nt.removeEventListener?function(e,t,i){e.removeEventListener&&e.removeEventListener(t,i)}:function(e,t,i){var n="on"+t;e.detachEvent&&("undefined"==typeof e[n]&&(e[n]=null),e.detachEvent(n,i))},ft.Event=function(e,t){return this instanceof ft.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?y:b):this.type=e,t&&ft.extend(this,t),this.timeStamp=e&&e.timeStamp||ft.now(),void(this[ft.expando]=!0)):new ft.Event(e,t)},ft.Event.prototype={constructor:ft.Event,isDefaultPrevented:b,isPropagationStopped:b,isImmediatePropagationStopped:b,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=y,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=y,e&&!this.isSimulated&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=y,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},ft.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){ft.event.special[e]={delegateType:t,bindType:t,handle:function(e){var i,n=this,r=e.relatedTarget,s=e.handleObj;return(!r||r!==n&&!ft.contains(n,r))&&(e.type=s.origType,i=s.handler.apply(this,arguments),e.type=t),i}}}),dt.submit||(ft.event.special.submit={setup:function(){return ft.nodeName(this,"form")?!1:void ft.event.add(this,"click._submit keypress._submit",function(e){var t=e.target,i=ft.nodeName(t,"input")||ft.nodeName(t,"button")?ft.prop(t,"form"):void 0;i&&!ft._data(i,"submit")&&(ft.event.add(i,"submit._submit",function(e){e._submitBubble=!0}),ft._data(i,"submit",!0))})},postDispatch:function(e){e._submitBubble&&(delete e._submitBubble,this.parentNode&&!e.isTrigger&&ft.event.simulate("submit",this.parentNode,e))},teardown:function(){return ft.nodeName(this,"form")?!1:void ft.event.remove(this,"._submit")}}),dt.change||(ft.event.special.change={setup:function(){return Gt.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(ft.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._justChanged=!0)}),ft.event.add(this,"click._change",function(e){this._justChanged&&!e.isTrigger&&(this._justChanged=!1),ft.event.simulate("change",this,e)})),!1):void ft.event.add(this,"beforeactivate._change",function(e){var t=e.target;Gt.test(t.nodeName)&&!ft._data(t,"change")&&(ft.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||ft.event.simulate("change",this.parentNode,e)}),ft._data(t,"change",!0))})},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return ft.event.remove(this,"._change"),!Gt.test(this.nodeName)}}),dt.focusin||ft.each({focus:"focusin",blur:"focusout"},function(e,t){var i=function(e){ft.event.simulate(t,e.target,ft.event.fix(e))};ft.event.special[t]={setup:function(){var n=this.ownerDocument||this,r=ft._data(n,t);r||n.addEventListener(e,i,!0),ft._data(n,t,(r||0)+1)},teardown:function(){var n=this.ownerDocument||this,r=ft._data(n,t)-1;r?ft._data(n,t,r):(n.removeEventListener(e,i,!0),ft._removeData(n,t))}}}),ft.fn.extend({on:function(e,t,i,n){return x(this,e,t,i,n)},one:function(e,t,i,n){return x(this,e,t,i,n,1)},off:function(e,t,i){var n,r;if(e&&e.preventDefault&&e.handleObj)return n=e.handleObj,ft(e.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof e){for(r in e)this.off(r,t,e[r]);return this}return(t===!1||"function"==typeof t)&&(i=t,t=void 0),i===!1&&(i=b),this.each(function(){ft.event.remove(this,e,i,t)})},trigger:function(e,t){return this.each(function(){ft.event.trigger(e,t,this)})},triggerHandler:function(e,t){var i=this[0];return i?ft.event.trigger(e,t,i,!0):void 0}});var Jt=/ jQuery\d+="(?:null|\d+)"/g,ei=new RegExp("<(?:"+Ut+")[\\s/>]","i"),ti=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,ii=/<script|<style|<link/i,ni=/checked\s*(?:[^=]|=\s*.checked.)/i,ri=/^true\/(.*)/,si=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,oi=f(nt),ai=oi.appendChild(nt.createElement("div"));ft.extend({htmlPrefilter:function(e){return e.replace(ti,"<$1></$2>")},clone:function(e,t,i){var n,r,s,o,a,l=ft.contains(e.ownerDocument,e);if(dt.html5Clone||ft.isXMLDoc(e)||!ei.test("<"+e.nodeName+">")?s=e.cloneNode(!0):(ai.innerHTML=e.outerHTML,ai.removeChild(s=ai.firstChild)),!(dt.noCloneEvent&&dt.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||ft.isXMLDoc(e)))for(n=p(s),a=p(e),o=0;null!=(r=a[o]);++o)n[o]&&S(r,n[o]);if(t)if(i)for(a=a||p(e),n=n||p(s),o=0;null!=(r=a[o]);o++)T(r,n[o]);else T(e,s);return n=p(s,"script"),n.length>0&&g(n,!l&&p(e,"script")),n=a=r=null,s},cleanData:function(e,t){for(var i,n,r,s,o=0,a=ft.expando,l=ft.cache,c=dt.attributes,u=ft.event.special;null!=(i=e[o]);o++)if((t||Ot(i))&&(r=i[a],s=r&&l[r])){if(s.events)for(n in s.events)u[n]?ft.event.remove(i,n):ft.removeEvent(i,n,s.handle);l[r]&&(delete l[r],c||"undefined"==typeof i.removeAttribute?i[a]=void 0:i.removeAttribute(a),it.push(r))}}}),ft.fn.extend({domManip:D,detach:function(e){return E(this,e,!0)},remove:function(e){return E(this,e)},text:function(e){return Lt(this,function(e){return void 0===e?ft.text(this):this.empty().append((this[0]&&this[0].ownerDocument||nt).createTextNode(e))},null,e,arguments.length)},append:function(){return D(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=k(this,e);t.appendChild(e)}})},prepend:function(){return D(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=k(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return D(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return D(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&ft.cleanData(p(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&ft.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return ft.clone(this,e,t)})},html:function(e){return Lt(this,function(e){var t=this[0]||{},i=0,n=this.length;if(void 0===e)return 1===t.nodeType?t.innerHTML.replace(Jt,""):void 0;if(!("string"!=typeof e||ii.test(e)||!dt.htmlSerialize&&ei.test(e)||!dt.leadingWhitespace&&Bt.test(e)||qt[(jt.exec(e)||["",""])[1].toLowerCase()])){e=ft.htmlPrefilter(e);try{for(;n>i;i++)t=this[i]||{},1===t.nodeType&&(ft.cleanData(p(t,!1)),t.innerHTML=e);t=0}catch(r){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return D(this,arguments,function(t){var i=this.parentNode;ft.inArray(this,e)<0&&(ft.cleanData(p(this)),i&&i.replaceChild(t,this))},e)}}),ft.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){ft.fn[e]=function(e){for(var i,n=0,r=[],s=ft(e),o=s.length-1;o>=n;n++)i=n===o?this:this.clone(!0),ft(s[n])[t](i),ot.apply(r,i.get());return this.pushStack(r)}});var li,ci={HTML:"block",BODY:"block"},ui=/^margin/,di=new RegExp("^("+Ht+")(?!px)[a-z%]+$","i"),hi=function(e,t,i,n){var r,s,o={};for(s in t)o[s]=e.style[s],e.style[s]=t[s];r=i.apply(e,n||[]);for(s in t)e.style[s]=o[s];return r},fi=nt.documentElement;!function(){function t(){var t,u,d=nt.documentElement;d.appendChild(l),c.style.cssText="-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",i=r=a=!1,n=o=!0,e.getComputedStyle&&(u=e.getComputedStyle(c),i="1%"!==(u||{}).top,a="2px"===(u||{}).marginLeft,r="4px"===(u||{width:"4px"}).width,c.style.marginRight="50%",n="4px"===(u||{marginRight:"4px"}).marginRight,t=c.appendChild(nt.createElement("div")),t.style.cssText=c.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",t.style.marginRight=t.style.width="0",c.style.width="1px",o=!parseFloat((e.getComputedStyle(t)||{}).marginRight),c.removeChild(t)),c.style.display="none",s=0===c.getClientRects().length,s&&(c.style.display="",c.innerHTML="<table><tr><td></td><td>t</td></tr></table>",t=c.getElementsByTagName("td"),t[0].style.cssText="margin:0;border:0;padding:0;display:none",s=0===t[0].offsetHeight,s&&(t[0].style.display="",t[1].style.display="none",s=0===t[0].offsetHeight)),d.removeChild(l)
}var i,n,r,s,o,a,l=nt.createElement("div"),c=nt.createElement("div");c.style&&(c.style.cssText="float:left;opacity:.5",dt.opacity="0.5"===c.style.opacity,dt.cssFloat=!!c.style.cssFloat,c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",dt.clearCloneStyle="content-box"===c.style.backgroundClip,l=nt.createElement("div"),l.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",c.innerHTML="",l.appendChild(c),dt.boxSizing=""===c.style.boxSizing||""===c.style.MozBoxSizing||""===c.style.WebkitBoxSizing,ft.extend(dt,{reliableHiddenOffsets:function(){return null==i&&t(),s},boxSizingReliable:function(){return null==i&&t(),r},pixelMarginRight:function(){return null==i&&t(),n},pixelPosition:function(){return null==i&&t(),i},reliableMarginRight:function(){return null==i&&t(),o},reliableMarginLeft:function(){return null==i&&t(),a}}))}();var pi,gi,mi=/^(top|right|bottom|left)$/;e.getComputedStyle?(pi=function(t){var i=t.ownerDocument.defaultView;return i&&i.opener||(i=e),i.getComputedStyle(t)},gi=function(e,t,i){var n,r,s,o,a=e.style;return i=i||pi(e),o=i?i.getPropertyValue(t)||i[t]:void 0,""!==o&&void 0!==o||ft.contains(e.ownerDocument,e)||(o=ft.style(e,t)),i&&!dt.pixelMarginRight()&&di.test(o)&&ui.test(t)&&(n=a.width,r=a.minWidth,s=a.maxWidth,a.minWidth=a.maxWidth=a.width=o,o=i.width,a.width=n,a.minWidth=r,a.maxWidth=s),void 0===o?o:o+""}):fi.currentStyle&&(pi=function(e){return e.currentStyle},gi=function(e,t,i){var n,r,s,o,a=e.style;return i=i||pi(e),o=i?i[t]:void 0,null==o&&a&&a[t]&&(o=a[t]),di.test(o)&&!mi.test(t)&&(n=a.left,r=e.runtimeStyle,s=r&&r.left,s&&(r.left=e.currentStyle.left),a.left="fontSize"===t?"1em":o,o=a.pixelLeft+"px",a.left=n,s&&(r.left=s)),void 0===o?o:o+""||"auto"});var vi=/alpha\([^)]*\)/i,yi=/opacity\s*=\s*([^)]*)/i,bi=/^(none|table(?!-c[ea]).+)/,wi=new RegExp("^("+Ht+")(.*)$","i"),xi={position:"absolute",visibility:"hidden",display:"block"},ki={letterSpacing:"0",fontWeight:"400"},_i=["Webkit","O","Moz","ms"],Ci=nt.createElement("div").style;ft.extend({cssHooks:{opacity:{get:function(e,t){if(t){var i=gi(e,"opacity");return""===i?"1":i}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":dt.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,i,n){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,s,o,a=ft.camelCase(t),l=e.style;if(t=ft.cssProps[a]||(ft.cssProps[a]=O(a)||a),o=ft.cssHooks[t]||ft.cssHooks[a],void 0===i)return o&&"get"in o&&void 0!==(r=o.get(e,!1,n))?r:l[t];if(s=typeof i,"string"===s&&(r=Pt.exec(i))&&r[1]&&(i=h(e,t,r),s="number"),null!=i&&i===i&&("number"===s&&(i+=r&&r[3]||(ft.cssNumber[a]?"":"px")),dt.clearCloneStyle||""!==i||0!==t.indexOf("background")||(l[t]="inherit"),!(o&&"set"in o&&void 0===(i=o.set(e,i,n)))))try{l[t]=i}catch(c){}}},css:function(e,t,i,n){var r,s,o,a=ft.camelCase(t);return t=ft.cssProps[a]||(ft.cssProps[a]=O(a)||a),o=ft.cssHooks[t]||ft.cssHooks[a],o&&"get"in o&&(s=o.get(e,!0,i)),void 0===s&&(s=gi(e,t,n)),"normal"===s&&t in ki&&(s=ki[t]),""===i||i?(r=parseFloat(s),i===!0||isFinite(r)?r||0:s):s}}),ft.each(["height","width"],function(e,t){ft.cssHooks[t]={get:function(e,i,n){return i?bi.test(ft.css(e,"display"))&&0===e.offsetWidth?hi(e,xi,function(){return P(e,t,n)}):P(e,t,n):void 0},set:function(e,i,n){var r=n&&pi(e);return R(e,i,n?H(e,t,n,dt.boxSizing&&"border-box"===ft.css(e,"boxSizing",!1,r),r):0)}}}),dt.opacity||(ft.cssHooks.opacity={get:function(e,t){return yi.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var i=e.style,n=e.currentStyle,r=ft.isNumeric(t)?"alpha(opacity="+100*t+")":"",s=n&&n.filter||i.filter||"";i.zoom=1,(t>=1||""===t)&&""===ft.trim(s.replace(vi,""))&&i.removeAttribute&&(i.removeAttribute("filter"),""===t||n&&!n.filter)||(i.filter=vi.test(s)?s.replace(vi,r):s+" "+r)}}),ft.cssHooks.marginRight=I(dt.reliableMarginRight,function(e,t){return t?hi(e,{display:"inline-block"},gi,[e,"marginRight"]):void 0}),ft.cssHooks.marginLeft=I(dt.reliableMarginLeft,function(e,t){return t?(parseFloat(gi(e,"marginLeft"))||(ft.contains(e.ownerDocument,e)?e.getBoundingClientRect().left-hi(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}):0))+"px":void 0}),ft.each({margin:"",padding:"",border:"Width"},function(e,t){ft.cssHooks[e+t]={expand:function(i){for(var n=0,r={},s="string"==typeof i?i.split(" "):[i];4>n;n++)r[e+zt[n]+t]=s[n]||s[n-2]||s[0];return r}},ui.test(e)||(ft.cssHooks[e+t].set=R)}),ft.fn.extend({css:function(e,t){return Lt(this,function(e,t,i){var n,r,s={},o=0;if(ft.isArray(t)){for(n=pi(e),r=t.length;r>o;o++)s[t[o]]=ft.css(e,t[o],!1,n);return s}return void 0!==i?ft.style(e,t,i):ft.css(e,t)},e,t,arguments.length>1)},show:function(){return $(this,!0)},hide:function(){return $(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Nt(this)?ft(this).show():ft(this).hide()})}}),ft.Tween=z,z.prototype={constructor:z,init:function(e,t,i,n,r,s){this.elem=e,this.prop=i,this.easing=r||ft.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=n,this.unit=s||(ft.cssNumber[i]?"":"px")},cur:function(){var e=z.propHooks[this.prop];return e&&e.get?e.get(this):z.propHooks._default.get(this)},run:function(e){var t,i=z.propHooks[this.prop];return this.pos=t=this.options.duration?ft.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):z.propHooks._default.set(this),this}},z.prototype.init.prototype=z.prototype,z.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=ft.css(e.elem,e.prop,""),t&&"auto"!==t?t:0)},set:function(e){ft.fx.step[e.prop]?ft.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[ft.cssProps[e.prop]]&&!ft.cssHooks[e.prop]?e.elem[e.prop]=e.now:ft.style(e.elem,e.prop,e.now+e.unit)}}},z.propHooks.scrollTop=z.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},ft.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},ft.fx=z.prototype.init,ft.fx.step={};var Ti,Si,Di=/^(?:toggle|show|hide)$/,Ei=/queueHooks$/;ft.Animation=ft.extend(B,{tweeners:{"*":[function(e,t){var i=this.createTween(e,t);return h(i.elem,e,Pt.exec(t),i),i}]},tweener:function(e,t){ft.isFunction(e)?(t=e,e=["*"]):e=e.match(Mt);for(var i,n=0,r=e.length;r>n;n++)i=e[n],B.tweeners[i]=B.tweeners[i]||[],B.tweeners[i].unshift(t)},prefilters:[j],prefilter:function(e,t){t?B.prefilters.unshift(e):B.prefilters.push(e)}}),ft.speed=function(e,t,i){var n=e&&"object"==typeof e?ft.extend({},e):{complete:i||!i&&t||ft.isFunction(e)&&e,duration:e,easing:i&&t||t&&!ft.isFunction(t)&&t};return n.duration=ft.fx.off?0:"number"==typeof n.duration?n.duration:n.duration in ft.fx.speeds?ft.fx.speeds[n.duration]:ft.fx.speeds._default,(null==n.queue||n.queue===!0)&&(n.queue="fx"),n.old=n.complete,n.complete=function(){ft.isFunction(n.old)&&n.old.call(this),n.queue&&ft.dequeue(this,n.queue)},n},ft.fn.extend({fadeTo:function(e,t,i,n){return this.filter(Nt).css("opacity",0).show().end().animate({opacity:t},e,i,n)},animate:function(e,t,i,n){var r=ft.isEmptyObject(e),s=ft.speed(t,i,n),o=function(){var t=B(this,ft.extend({},e),s);(r||ft._data(this,"finish"))&&t.stop(!0)};return o.finish=o,r||s.queue===!1?this.each(o):this.queue(s.queue,o)},stop:function(e,t,i){var n=function(e){var t=e.stop;delete e.stop,t(i)};return"string"!=typeof e&&(i=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,r=null!=e&&e+"queueHooks",s=ft.timers,o=ft._data(this);if(r)o[r]&&o[r].stop&&n(o[r]);else for(r in o)o[r]&&o[r].stop&&Ei.test(r)&&n(o[r]);for(r=s.length;r--;)s[r].elem!==this||null!=e&&s[r].queue!==e||(s[r].anim.stop(i),t=!1,s.splice(r,1));(t||!i)&&ft.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,i=ft._data(this),n=i[e+"queue"],r=i[e+"queueHooks"],s=ft.timers,o=n?n.length:0;for(i.finish=!0,ft.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=s.length;t--;)s[t].elem===this&&s[t].queue===e&&(s[t].anim.stop(!0),s.splice(t,1));for(t=0;o>t;t++)n[t]&&n[t].finish&&n[t].finish.call(this);delete i.finish})}}),ft.each(["toggle","show","hide"],function(e,t){var i=ft.fn[t];ft.fn[t]=function(e,n,r){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(L(t,!0),e,n,r)}}),ft.each({slideDown:L("show"),slideUp:L("hide"),slideToggle:L("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){ft.fn[e]=function(e,i,n){return this.animate(t,e,i,n)}}),ft.timers=[],ft.fx.tick=function(){var e,t=ft.timers,i=0;for(Ti=ft.now();i<t.length;i++)e=t[i],e()||t[i]!==e||t.splice(i--,1);t.length||ft.fx.stop(),Ti=void 0},ft.fx.timer=function(e){ft.timers.push(e),e()?ft.fx.start():ft.timers.pop()},ft.fx.interval=13,ft.fx.start=function(){Si||(Si=e.setInterval(ft.fx.tick,ft.fx.interval))},ft.fx.stop=function(){e.clearInterval(Si),Si=null},ft.fx.speeds={slow:600,fast:200,_default:400},ft.fn.delay=function(t,i){return t=ft.fx?ft.fx.speeds[t]||t:t,i=i||"fx",this.queue(i,function(i,n){var r=e.setTimeout(i,t);n.stop=function(){e.clearTimeout(r)}})},function(){var e,t=nt.createElement("input"),i=nt.createElement("div"),n=nt.createElement("select"),r=n.appendChild(nt.createElement("option"));i=nt.createElement("div"),i.setAttribute("className","t"),i.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",e=i.getElementsByTagName("a")[0],t.setAttribute("type","checkbox"),i.appendChild(t),e=i.getElementsByTagName("a")[0],e.style.cssText="top:1px",dt.getSetAttribute="t"!==i.className,dt.style=/top/.test(e.getAttribute("style")),dt.hrefNormalized="/a"===e.getAttribute("href"),dt.checkOn=!!t.value,dt.optSelected=r.selected,dt.enctype=!!nt.createElement("form").enctype,n.disabled=!0,dt.optDisabled=!r.disabled,t=nt.createElement("input"),t.setAttribute("value",""),dt.input=""===t.getAttribute("value"),t.value="t",t.setAttribute("type","radio"),dt.radioValue="t"===t.value}();var Mi=/\r/g;ft.fn.extend({val:function(e){var t,i,n,r=this[0];{if(arguments.length)return n=ft.isFunction(e),this.each(function(i){var r;1===this.nodeType&&(r=n?e.call(this,i,ft(this).val()):e,null==r?r="":"number"==typeof r?r+="":ft.isArray(r)&&(r=ft.map(r,function(e){return null==e?"":e+""})),t=ft.valHooks[this.type]||ft.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,r,"value")||(this.value=r))});if(r)return t=ft.valHooks[r.type]||ft.valHooks[r.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(i=t.get(r,"value"))?i:(i=r.value,"string"==typeof i?i.replace(Mi,""):null==i?"":i)}}}),ft.extend({valHooks:{option:{get:function(e){var t=ft.find.attr(e,"value");return null!=t?t:ft.trim(ft.text(e))}},select:{get:function(e){for(var t,i,n=e.options,r=e.selectedIndex,s="select-one"===e.type||0>r,o=s?null:[],a=s?r+1:n.length,l=0>r?a:s?r:0;a>l;l++)if(i=n[l],!(!i.selected&&l!==r||(dt.optDisabled?i.disabled:null!==i.getAttribute("disabled"))||i.parentNode.disabled&&ft.nodeName(i.parentNode,"optgroup"))){if(t=ft(i).val(),s)return t;o.push(t)}return o},set:function(e,t){for(var i,n,r=e.options,s=ft.makeArray(t),o=r.length;o--;)if(n=r[o],ft.inArray(ft.valHooks.option.get(n),s)>=0)try{n.selected=i=!0}catch(a){n.scrollHeight}else n.selected=!1;return i||(e.selectedIndex=-1),r}}}}),ft.each(["radio","checkbox"],function(){ft.valHooks[this]={set:function(e,t){return ft.isArray(t)?e.checked=ft.inArray(ft(e).val(),t)>-1:void 0}},dt.checkOn||(ft.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var Ai,Ii,Oi=ft.expr.attrHandle,$i=/^(?:checked|selected)$/i,Ri=dt.getSetAttribute,Hi=dt.input;ft.fn.extend({attr:function(e,t){return Lt(this,ft.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){ft.removeAttr(this,e)})}}),ft.extend({attr:function(e,t,i){var n,r,s=e.nodeType;if(3!==s&&8!==s&&2!==s)return"undefined"==typeof e.getAttribute?ft.prop(e,t,i):(1===s&&ft.isXMLDoc(e)||(t=t.toLowerCase(),r=ft.attrHooks[t]||(ft.expr.match.bool.test(t)?Ii:Ai)),void 0!==i?null===i?void ft.removeAttr(e,t):r&&"set"in r&&void 0!==(n=r.set(e,i,t))?n:(e.setAttribute(t,i+""),i):r&&"get"in r&&null!==(n=r.get(e,t))?n:(n=ft.find.attr(e,t),null==n?void 0:n))},attrHooks:{type:{set:function(e,t){if(!dt.radioValue&&"radio"===t&&ft.nodeName(e,"input")){var i=e.value;return e.setAttribute("type",t),i&&(e.value=i),t}}}},removeAttr:function(e,t){var i,n,r=0,s=t&&t.match(Mt);if(s&&1===e.nodeType)for(;i=s[r++];)n=ft.propFix[i]||i,ft.expr.match.bool.test(i)?Hi&&Ri||!$i.test(i)?e[n]=!1:e[ft.camelCase("default-"+i)]=e[n]=!1:ft.attr(e,i,""),e.removeAttribute(Ri?i:n)}}),Ii={set:function(e,t,i){return t===!1?ft.removeAttr(e,i):Hi&&Ri||!$i.test(i)?e.setAttribute(!Ri&&ft.propFix[i]||i,i):e[ft.camelCase("default-"+i)]=e[i]=!0,i}},ft.each(ft.expr.match.bool.source.match(/\w+/g),function(e,t){var i=Oi[t]||ft.find.attr;Oi[t]=Hi&&Ri||!$i.test(t)?function(e,t,n){var r,s;return n||(s=Oi[t],Oi[t]=r,r=null!=i(e,t,n)?t.toLowerCase():null,Oi[t]=s),r}:function(e,t,i){return i?void 0:e[ft.camelCase("default-"+t)]?t.toLowerCase():null}}),Hi&&Ri||(ft.attrHooks.value={set:function(e,t,i){return ft.nodeName(e,"input")?void(e.defaultValue=t):Ai&&Ai.set(e,t,i)}}),Ri||(Ai={set:function(e,t,i){var n=e.getAttributeNode(i);return n||e.setAttributeNode(n=e.ownerDocument.createAttribute(i)),n.value=t+="","value"===i||t===e.getAttribute(i)?t:void 0}},Oi.id=Oi.name=Oi.coords=function(e,t,i){var n;return i?void 0:(n=e.getAttributeNode(t))&&""!==n.value?n.value:null},ft.valHooks.button={get:function(e,t){var i=e.getAttributeNode(t);return i&&i.specified?i.value:void 0},set:Ai.set},ft.attrHooks.contenteditable={set:function(e,t,i){Ai.set(e,""===t?!1:t,i)}},ft.each(["width","height"],function(e,t){ft.attrHooks[t]={set:function(e,i){return""===i?(e.setAttribute(t,"auto"),i):void 0}}})),dt.style||(ft.attrHooks.style={get:function(e){return e.style.cssText||void 0},set:function(e,t){return e.style.cssText=t+""}});var Pi=/^(?:input|select|textarea|button|object)$/i,zi=/^(?:a|area)$/i;ft.fn.extend({prop:function(e,t){return Lt(this,ft.prop,e,t,arguments.length>1)},removeProp:function(e){return e=ft.propFix[e]||e,this.each(function(){try{this[e]=void 0,delete this[e]}catch(t){}})}}),ft.extend({prop:function(e,t,i){var n,r,s=e.nodeType;if(3!==s&&8!==s&&2!==s)return 1===s&&ft.isXMLDoc(e)||(t=ft.propFix[t]||t,r=ft.propHooks[t]),void 0!==i?r&&"set"in r&&void 0!==(n=r.set(e,i,t))?n:e[t]=i:r&&"get"in r&&null!==(n=r.get(e,t))?n:e[t]},propHooks:{tabIndex:{get:function(e){var t=ft.find.attr(e,"tabindex");return t?parseInt(t,10):Pi.test(e.nodeName)||zi.test(e.nodeName)&&e.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),dt.hrefNormalized||ft.each(["href","src"],function(e,t){ft.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),dt.optSelected||(ft.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}),ft.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ft.propFix[this.toLowerCase()]=this}),dt.enctype||(ft.propFix.enctype="encoding");var Ni=/[\t\r\n\f]/g;ft.fn.extend({addClass:function(e){var t,i,n,r,s,o,a,l=0;if(ft.isFunction(e))return this.each(function(t){ft(this).addClass(e.call(this,t,U(this)))});if("string"==typeof e&&e)for(t=e.match(Mt)||[];i=this[l++];)if(r=U(i),n=1===i.nodeType&&(" "+r+" ").replace(Ni," ")){for(o=0;s=t[o++];)n.indexOf(" "+s+" ")<0&&(n+=s+" ");a=ft.trim(n),r!==a&&ft.attr(i,"class",a)}return this},removeClass:function(e){var t,i,n,r,s,o,a,l=0;if(ft.isFunction(e))return this.each(function(t){ft(this).removeClass(e.call(this,t,U(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(Mt)||[];i=this[l++];)if(r=U(i),n=1===i.nodeType&&(" "+r+" ").replace(Ni," ")){for(o=0;s=t[o++];)for(;n.indexOf(" "+s+" ")>-1;)n=n.replace(" "+s+" "," ");a=ft.trim(n),r!==a&&ft.attr(i,"class",a)}return this},toggleClass:function(e,t){var i=typeof e;return"boolean"==typeof t&&"string"===i?t?this.addClass(e):this.removeClass(e):this.each(ft.isFunction(e)?function(i){ft(this).toggleClass(e.call(this,i,U(this),t),t)}:function(){var t,n,r,s;if("string"===i)for(n=0,r=ft(this),s=e.match(Mt)||[];t=s[n++];)r.hasClass(t)?r.removeClass(t):r.addClass(t);else(void 0===e||"boolean"===i)&&(t=U(this),t&&ft._data(this,"__className__",t),ft.attr(this,"class",t||e===!1?"":ft._data(this,"__className__")||""))})},hasClass:function(e){var t,i,n=0;for(t=" "+e+" ";i=this[n++];)if(1===i.nodeType&&(" "+U(i)+" ").replace(Ni," ").indexOf(t)>-1)return!0;return!1}}),ft.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){ft.fn[t]=function(e,i){return arguments.length>0?this.on(t,null,e,i):this.trigger(t)}}),ft.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}});var Li=e.location,Fi=ft.now(),ji=/\?/,Wi=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;ft.parseJSON=function(t){if(e.JSON&&e.JSON.parse)return e.JSON.parse(t+"");var i,n=null,r=ft.trim(t+"");return r&&!ft.trim(r.replace(Wi,function(e,t,r,s){return i&&t&&(n=0),0===n?e:(i=r||t,n+=!s-!r,"")}))?Function("return "+r)():ft.error("Invalid JSON: "+t)},ft.parseXML=function(t){var i,n;if(!t||"string"!=typeof t)return null;try{e.DOMParser?(n=new e.DOMParser,i=n.parseFromString(t,"text/xml")):(i=new e.ActiveXObject("Microsoft.XMLDOM"),i.async="false",i.loadXML(t))}catch(r){i=void 0}return i&&i.documentElement&&!i.getElementsByTagName("parsererror").length||ft.error("Invalid XML: "+t),i};var Bi=/#.*$/,Ui=/([?&])_=[^&]*/,qi=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Yi=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Vi=/^(?:GET|HEAD)$/,Gi=/^\/\//,Ki=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Xi={},Qi={},Zi="*/".concat("*"),Ji=Li.href,en=Ki.exec(Ji.toLowerCase())||[];ft.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ji,type:"GET",isLocal:Yi.test(en[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Zi,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":ft.parseJSON,"text xml":ft.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?V(V(e,ft.ajaxSettings),t):V(ft.ajaxSettings,e)},ajaxPrefilter:q(Xi),ajaxTransport:q(Qi),ajax:function(t,i){function n(t,i,n,r){var s,d,y,b,x,_=i;2!==w&&(w=2,l&&e.clearTimeout(l),u=void 0,a=r||"",k.readyState=t>0?4:0,s=t>=200&&300>t||304===t,n&&(b=G(h,k,n)),b=K(h,b,k,s),s?(h.ifModified&&(x=k.getResponseHeader("Last-Modified"),x&&(ft.lastModified[o]=x),x=k.getResponseHeader("etag"),x&&(ft.etag[o]=x)),204===t||"HEAD"===h.type?_="nocontent":304===t?_="notmodified":(_=b.state,d=b.data,y=b.error,s=!y)):(y=_,(t||!_)&&(_="error",0>t&&(t=0))),k.status=t,k.statusText=(i||_)+"",s?g.resolveWith(f,[d,_,k]):g.rejectWith(f,[k,_,y]),k.statusCode(v),v=void 0,c&&p.trigger(s?"ajaxSuccess":"ajaxError",[k,h,s?d:y]),m.fireWith(f,[k,_]),c&&(p.trigger("ajaxComplete",[k,h]),--ft.active||ft.event.trigger("ajaxStop")))}"object"==typeof t&&(i=t,t=void 0),i=i||{};var r,s,o,a,l,c,u,d,h=ft.ajaxSetup({},i),f=h.context||h,p=h.context&&(f.nodeType||f.jquery)?ft(f):ft.event,g=ft.Deferred(),m=ft.Callbacks("once memory"),v=h.statusCode||{},y={},b={},w=0,x="canceled",k={readyState:0,getResponseHeader:function(e){var t;if(2===w){if(!d)for(d={};t=qi.exec(a);)d[t[1].toLowerCase()]=t[2];t=d[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===w?a:null},setRequestHeader:function(e,t){var i=e.toLowerCase();return w||(e=b[i]=b[i]||e,y[e]=t),this},overrideMimeType:function(e){return w||(h.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>w)for(t in e)v[t]=[v[t],e[t]];else k.always(e[k.status]);return this},abort:function(e){var t=e||x;return u&&u.abort(t),n(0,t),this}};if(g.promise(k).complete=m.add,k.success=k.done,k.error=k.fail,h.url=((t||h.url||Ji)+"").replace(Bi,"").replace(Gi,en[1]+"//"),h.type=i.method||i.type||h.method||h.type,h.dataTypes=ft.trim(h.dataType||"*").toLowerCase().match(Mt)||[""],null==h.crossDomain&&(r=Ki.exec(h.url.toLowerCase()),h.crossDomain=!(!r||r[1]===en[1]&&r[2]===en[2]&&(r[3]||("http:"===r[1]?"80":"443"))===(en[3]||("http:"===en[1]?"80":"443")))),h.data&&h.processData&&"string"!=typeof h.data&&(h.data=ft.param(h.data,h.traditional)),Y(Xi,h,i,k),2===w)return k;c=ft.event&&h.global,c&&0===ft.active++&&ft.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!Vi.test(h.type),o=h.url,h.hasContent||(h.data&&(o=h.url+=(ji.test(o)?"&":"?")+h.data,delete h.data),h.cache===!1&&(h.url=Ui.test(o)?o.replace(Ui,"$1_="+Fi++):o+(ji.test(o)?"&":"?")+"_="+Fi++)),h.ifModified&&(ft.lastModified[o]&&k.setRequestHeader("If-Modified-Since",ft.lastModified[o]),ft.etag[o]&&k.setRequestHeader("If-None-Match",ft.etag[o])),(h.data&&h.hasContent&&h.contentType!==!1||i.contentType)&&k.setRequestHeader("Content-Type",h.contentType),k.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+Zi+"; q=0.01":""):h.accepts["*"]);for(s in h.headers)k.setRequestHeader(s,h.headers[s]);if(h.beforeSend&&(h.beforeSend.call(f,k,h)===!1||2===w))return k.abort();x="abort";for(s in{success:1,error:1,complete:1})k[s](h[s]);if(u=Y(Qi,h,i,k)){if(k.readyState=1,c&&p.trigger("ajaxSend",[k,h]),2===w)return k;h.async&&h.timeout>0&&(l=e.setTimeout(function(){k.abort("timeout")},h.timeout));try{w=1,u.send(y,n)}catch(_){if(!(2>w))throw _;n(-1,_)}}else n(-1,"No Transport");return k},getJSON:function(e,t,i){return ft.get(e,t,i,"json")},getScript:function(e,t){return ft.get(e,void 0,t,"script")}}),ft.each(["get","post"],function(e,t){ft[t]=function(e,i,n,r){return ft.isFunction(i)&&(r=r||n,n=i,i=void 0),ft.ajax(ft.extend({url:e,type:t,dataType:r,data:i,success:n},ft.isPlainObject(e)&&e))}}),ft._evalUrl=function(e){return ft.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,"throws":!0})},ft.fn.extend({wrapAll:function(e){if(ft.isFunction(e))return this.each(function(t){ft(this).wrapAll(e.call(this,t))});if(this[0]){var t=ft(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return this.each(ft.isFunction(e)?function(t){ft(this).wrapInner(e.call(this,t))}:function(){var t=ft(this),i=t.contents();i.length?i.wrapAll(e):t.append(e)})},wrap:function(e){var t=ft.isFunction(e);return this.each(function(i){ft(this).wrapAll(t?e.call(this,i):e)})},unwrap:function(){return this.parent().each(function(){ft.nodeName(this,"body")||ft(this).replaceWith(this.childNodes)}).end()}}),ft.expr.filters.hidden=function(e){return dt.reliableHiddenOffsets()?e.offsetWidth<=0&&e.offsetHeight<=0&&!e.getClientRects().length:Q(e)},ft.expr.filters.visible=function(e){return!ft.expr.filters.hidden(e)};var tn=/%20/g,nn=/\[\]$/,rn=/\r?\n/g,sn=/^(?:submit|button|image|reset|file)$/i,on=/^(?:input|select|textarea|keygen)/i;ft.param=function(e,t){var i,n=[],r=function(e,t){t=ft.isFunction(t)?t():null==t?"":t,n[n.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=ft.ajaxSettings&&ft.ajaxSettings.traditional),ft.isArray(e)||e.jquery&&!ft.isPlainObject(e))ft.each(e,function(){r(this.name,this.value)});else for(i in e)Z(i,e[i],t,r);return n.join("&").replace(tn,"+")},ft.fn.extend({serialize:function(){return ft.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=ft.prop(this,"elements");return e?ft.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!ft(this).is(":disabled")&&on.test(this.nodeName)&&!sn.test(e)&&(this.checked||!Ft.test(e))}).map(function(e,t){var i=ft(this).val();return null==i?null:ft.isArray(i)?ft.map(i,function(e){return{name:t.name,value:e.replace(rn,"\r\n")}}):{name:t.name,value:i.replace(rn,"\r\n")}}).get()}}),ft.ajaxSettings.xhr=void 0!==e.ActiveXObject?function(){return this.isLocal?et():nt.documentMode>8?J():/^(get|post|head|put|delete|options)$/i.test(this.type)&&J()||et()}:J;var an=0,ln={},cn=ft.ajaxSettings.xhr();e.attachEvent&&e.attachEvent("onunload",function(){for(var e in ln)ln[e](void 0,!0)}),dt.cors=!!cn&&"withCredentials"in cn,cn=dt.ajax=!!cn,cn&&ft.ajaxTransport(function(t){if(!t.crossDomain||dt.cors){var i;return{send:function(n,r){var s,o=t.xhr(),a=++an;if(o.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(s in t.xhrFields)o[s]=t.xhrFields[s];t.mimeType&&o.overrideMimeType&&o.overrideMimeType(t.mimeType),t.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(s in n)void 0!==n[s]&&o.setRequestHeader(s,n[s]+"");o.send(t.hasContent&&t.data||null),i=function(e,n){var s,l,c;if(i&&(n||4===o.readyState))if(delete ln[a],i=void 0,o.onreadystatechange=ft.noop,n)4!==o.readyState&&o.abort();else{c={},s=o.status,"string"==typeof o.responseText&&(c.text=o.responseText);try{l=o.statusText}catch(u){l=""}s||!t.isLocal||t.crossDomain?1223===s&&(s=204):s=c.text?200:404}c&&r(s,l,c,o.getAllResponseHeaders())},t.async?4===o.readyState?e.setTimeout(i):o.onreadystatechange=ln[a]=i:i()},abort:function(){i&&i(void 0,!0)}}}}),ft.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),ft.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return ft.globalEval(e),e}}}),ft.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),ft.ajaxTransport("script",function(e){if(e.crossDomain){var t,i=nt.head||ft("head")[0]||nt.documentElement;return{send:function(n,r){t=nt.createElement("script"),t.async=!0,e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,i){(i||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,t.parentNode&&t.parentNode.removeChild(t),t=null,i||r(200,"success"))},i.insertBefore(t,i.firstChild)},abort:function(){t&&t.onload(void 0,!0)}}}});var un=[],dn=/(=)\?(?=&|$)|\?\?/;ft.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=un.pop()||ft.expando+"_"+Fi++;return this[e]=!0,e}}),ft.ajaxPrefilter("json jsonp",function(t,i,n){var r,s,o,a=t.jsonp!==!1&&(dn.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&dn.test(t.data)&&"data");return a||"jsonp"===t.dataTypes[0]?(r=t.jsonpCallback=ft.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(dn,"$1"+r):t.jsonp!==!1&&(t.url+=(ji.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return o||ft.error(r+" was not called"),o[0]},t.dataTypes[0]="json",s=e[r],e[r]=function(){o=arguments},n.always(function(){void 0===s?ft(e).removeProp(r):e[r]=s,t[r]&&(t.jsonpCallback=i.jsonpCallback,un.push(r)),o&&ft.isFunction(s)&&s(o[0]),o=s=void 0}),"script"):void 0}),dt.createHTMLDocument=function(){if(!nt.implementation.createHTMLDocument)return!1;var e=nt.implementation.createHTMLDocument("");return e.body.innerHTML="<form></form><form></form>",2===e.body.childNodes.length}(),ft.parseHTML=function(e,t,i){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(i=t,t=!1),t=t||(dt.createHTMLDocument?nt.implementation.createHTMLDocument(""):nt);var n=kt.exec(e),r=!i&&[];return n?[t.createElement(n[1])]:(n=v([e],t,r),r&&r.length&&ft(r).remove(),ft.merge([],n.childNodes))};var hn=ft.fn.load;ft.fn.load=function(e,t,i){if("string"!=typeof e&&hn)return hn.apply(this,arguments);var n,r,s,o=this,a=e.indexOf(" ");return a>-1&&(n=ft.trim(e.slice(a,e.length)),e=e.slice(0,a)),ft.isFunction(t)?(i=t,t=void 0):t&&"object"==typeof t&&(r="POST"),o.length>0&&ft.ajax({url:e,type:r||"GET",dataType:"html",data:t}).done(function(e){s=arguments,o.html(n?ft("<div>").append(ft.parseHTML(e)).find(n):e)}).always(i&&function(e,t){o.each(function(){i.apply(o,s||[e.responseText,t,e])})}),this},ft.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){ft.fn[t]=function(e){return this.on(t,e)}}),ft.expr.filters.animated=function(e){return ft.grep(ft.timers,function(t){return e===t.elem}).length},ft.offset={setOffset:function(e,t,i){var n,r,s,o,a,l,c,u=ft.css(e,"position"),d=ft(e),h={};"static"===u&&(e.style.position="relative"),a=d.offset(),s=ft.css(e,"top"),l=ft.css(e,"left"),c=("absolute"===u||"fixed"===u)&&ft.inArray("auto",[s,l])>-1,c?(n=d.position(),o=n.top,r=n.left):(o=parseFloat(s)||0,r=parseFloat(l)||0),ft.isFunction(t)&&(t=t.call(e,i,ft.extend({},a))),null!=t.top&&(h.top=t.top-a.top+o),null!=t.left&&(h.left=t.left-a.left+r),"using"in t?t.using.call(e,h):d.css(h)}},ft.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){ft.offset.setOffset(this,e,t)});var t,i,n={top:0,left:0},r=this[0],s=r&&r.ownerDocument;if(s)return t=s.documentElement,ft.contains(t,r)?("undefined"!=typeof r.getBoundingClientRect&&(n=r.getBoundingClientRect()),i=tt(s),{top:n.top+(i.pageYOffset||t.scrollTop)-(t.clientTop||0),left:n.left+(i.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}):n},position:function(){if(this[0]){var e,t,i={top:0,left:0},n=this[0];return"fixed"===ft.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),ft.nodeName(e[0],"html")||(i=e.offset()),i.top+=ft.css(e[0],"borderTopWidth",!0),i.left+=ft.css(e[0],"borderLeftWidth",!0)),{top:t.top-i.top-ft.css(n,"marginTop",!0),left:t.left-i.left-ft.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&!ft.nodeName(e,"html")&&"static"===ft.css(e,"position");)e=e.offsetParent;return e||fi})}}),ft.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var i=/Y/.test(t);ft.fn[e]=function(n){return Lt(this,function(e,n,r){var s=tt(e);return void 0===r?s?t in s?s[t]:s.document.documentElement[n]:e[n]:void(s?s.scrollTo(i?ft(s).scrollLeft():r,i?r:ft(s).scrollTop()):e[n]=r)},e,n,arguments.length,null)}}),ft.each(["top","left"],function(e,t){ft.cssHooks[t]=I(dt.pixelPosition,function(e,i){return i?(i=gi(e,t),di.test(i)?ft(e).position()[t]+"px":i):void 0})}),ft.each({Height:"height",Width:"width"},function(e,t){ft.each({padding:"inner"+e,content:t,"":"outer"+e},function(i,n){ft.fn[n]=function(n,r){var s=arguments.length&&(i||"boolean"!=typeof n),o=i||(n===!0||r===!0?"margin":"border");return Lt(this,function(t,i,n){var r;return ft.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(r=t.documentElement,Math.max(t.body["scroll"+e],r["scroll"+e],t.body["offset"+e],r["offset"+e],r["client"+e])):void 0===n?ft.css(t,i,o):ft.style(t,i,n,o)},t,s?n:void 0,s,null)}})}),ft.fn.extend({bind:function(e,t,i){return this.on(e,null,t,i)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,i,n){return this.on(t,e,i,n)},undelegate:function(e,t,i){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",i)}}),ft.fn.size=function(){return this.length},ft.fn.andSelf=ft.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return ft});var fn=e.jQuery,pn=e.$;return ft.noConflict=function(t){return e.$===ft&&(e.$=pn),t&&e.jQuery===ft&&(e.jQuery=fn),ft},t||(e.jQuery=e.$=ft),ft}),function(e,t){"use strict";e.rails!==t&&e.error("jquery-ujs has already been loaded!");var i,n=e(document);e.rails=i={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote]:not([disabled]), a[data-disable-with], a[data-disable]",buttonClickSelector:"button[data-remote]:not([form]):not(form button), button[data-confirm]:not([form]):not(form button)",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type]), input[type=submit][form], input[type=image][form], button[type=submit][form], button[form]:not([type])",disableSelector:"input[data-disable-with]:enabled, button[data-disable-with]:enabled, textarea[data-disable-with]:enabled, input[data-disable]:enabled, button[data-disable]:enabled, textarea[data-disable]:enabled",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled, input[data-disable]:disabled, button[data-disable]:disabled, textarea[data-disable]:disabled",requiredInputSelector:"input[name][required]:not([disabled]), textarea[name][required]:not([disabled])",fileInputSelector:"input[type=file]:not([disabled])",linkDisableSelector:"a[data-disable-with], a[data-disable]",buttonDisableSelector:"button[data-remote][data-disable-with], button[data-remote][data-disable]",csrfToken:function(){return e("meta[name=csrf-token]").attr("content")
},csrfParam:function(){return e("meta[name=csrf-param]").attr("content")},CSRFProtection:function(e){var t=i.csrfToken();t&&e.setRequestHeader("X-CSRF-Token",t)},refreshCSRFTokens:function(){e('form input[name="'+i.csrfParam()+'"]').val(i.csrfToken())},fire:function(t,i,n){var r=e.Event(i);return t.trigger(r,n),r.result!==!1},confirm:function(e){return confirm(e)},ajax:function(t){return e.ajax(t)},href:function(e){return e[0].href},isRemote:function(e){return e.data("remote")!==t&&e.data("remote")!==!1},handleRemote:function(n){var r,s,o,a,l,c;if(i.fire(n,"ajax:before")){if(a=n.data("with-credentials")||null,l=n.data("type")||e.ajaxSettings&&e.ajaxSettings.dataType,n.is("form")){r=n.data("ujs:submit-button-formmethod")||n.attr("method"),s=n.data("ujs:submit-button-formaction")||n.attr("action"),o=e(n[0]).serializeArray();var u=n.data("ujs:submit-button");u&&(o.push(u),n.data("ujs:submit-button",null)),n.data("ujs:submit-button-formmethod",null),n.data("ujs:submit-button-formaction",null)}else n.is(i.inputChangeSelector)?(r=n.data("method"),s=n.data("url"),o=n.serialize(),n.data("params")&&(o=o+"&"+n.data("params"))):n.is(i.buttonClickSelector)?(r=n.data("method")||"get",s=n.data("url"),o=n.serialize(),n.data("params")&&(o=o+"&"+n.data("params"))):(r=n.data("method"),s=i.href(n),o=n.data("params")||null);return c={type:r||"GET",data:o,dataType:l,beforeSend:function(e,r){return r.dataType===t&&e.setRequestHeader("accept","*/*;q=0.5, "+r.accepts.script),i.fire(n,"ajax:beforeSend",[e,r])?void n.trigger("ajax:send",e):!1},success:function(e,t,i){n.trigger("ajax:success",[e,t,i])},complete:function(e,t){n.trigger("ajax:complete",[e,t])},error:function(e,t,i){n.trigger("ajax:error",[e,t,i])},crossDomain:i.isCrossDomain(s)},a&&(c.xhrFields={withCredentials:a}),s&&(c.url=s),i.ajax(c)}return!1},isCrossDomain:function(e){var t=document.createElement("a");t.href=location.href;var i=document.createElement("a");try{return i.href=e,i.href=i.href,!((!i.protocol||":"===i.protocol)&&!i.host||t.protocol+"//"+t.host==i.protocol+"//"+i.host)}catch(n){return!0}},handleMethod:function(n){var r=i.href(n),s=n.data("method"),o=n.attr("target"),a=i.csrfToken(),l=i.csrfParam(),c=e('<form method="post" action="'+r+'"></form>'),u='<input name="_method" value="'+s+'" type="hidden" />';l===t||a===t||i.isCrossDomain(r)||(u+='<input name="'+l+'" value="'+a+'" type="hidden" />'),o&&c.attr("target",o),c.hide().append(u).appendTo("body"),c.submit()},formElements:function(t,i){return t.is("form")?e(t[0].elements).filter(i):t.find(i)},disableFormElements:function(t){i.formElements(t,i.disableSelector).each(function(){i.disableFormElement(e(this))})},disableFormElement:function(e){var i,n;i=e.is("button")?"html":"val",n=e.data("disable-with"),n!==t&&(e.data("ujs:enable-with",e[i]()),e[i](n)),e.prop("disabled",!0),e.data("ujs:disabled",!0)},enableFormElements:function(t){i.formElements(t,i.enableSelector).each(function(){i.enableFormElement(e(this))})},enableFormElement:function(e){var i=e.is("button")?"html":"val";e.data("ujs:enable-with")!==t&&(e[i](e.data("ujs:enable-with")),e.removeData("ujs:enable-with")),e.prop("disabled",!1),e.removeData("ujs:disabled")},allowAction:function(e){var t,n=e.data("confirm"),r=!1;if(!n)return!0;if(i.fire(e,"confirm")){try{r=i.confirm(n)}catch(s){(console.error||console.log).call(console,s.stack||s)}t=i.fire(e,"confirm:complete",[r])}return r&&t},blankInputs:function(t,i,n){var r,s,o,a,l=e(),c=i||"input,textarea",u=t.find(c),d={};return u.each(function(){r=e(this),r.is("input[type=radio]")?(a=r.attr("name"),d[a]||(0===t.find('input[type=radio]:checked[name="'+a+'"]').length&&(o=t.find('input[type=radio][name="'+a+'"]'),l=l.add(o)),d[a]=a)):(s=r.is("input[type=checkbox],input[type=radio]")?r.is(":checked"):!!r.val(),s===n&&(l=l.add(r)))}),l.length?l:!1},nonBlankInputs:function(e,t){return i.blankInputs(e,t,!0)},stopEverything:function(t){return e(t.target).trigger("ujs:everythingStopped"),t.stopImmediatePropagation(),!1},disableElement:function(e){var n=e.data("disable-with");n!==t&&(e.data("ujs:enable-with",e.html()),e.html(n)),e.bind("click.railsDisable",function(e){return i.stopEverything(e)}),e.data("ujs:disabled",!0)},enableElement:function(e){e.data("ujs:enable-with")!==t&&(e.html(e.data("ujs:enable-with")),e.removeData("ujs:enable-with")),e.unbind("click.railsDisable"),e.removeData("ujs:disabled")}},i.fire(n,"rails:attachBindings")&&(e.ajaxPrefilter(function(e,t,n){e.crossDomain||i.CSRFProtection(n)}),e(window).on("pageshow.rails",function(){e(e.rails.enableSelector).each(function(){var t=e(this);t.data("ujs:disabled")&&e.rails.enableFormElement(t)}),e(e.rails.linkDisableSelector).each(function(){var t=e(this);t.data("ujs:disabled")&&e.rails.enableElement(t)})}),n.delegate(i.linkDisableSelector,"ajax:complete",function(){i.enableElement(e(this))}),n.delegate(i.buttonDisableSelector,"ajax:complete",function(){i.enableFormElement(e(this))}),n.delegate(i.linkClickSelector,"click.rails",function(t){var n=e(this),r=n.data("method"),s=n.data("params"),o=t.metaKey||t.ctrlKey;if(!i.allowAction(n))return i.stopEverything(t);if(!o&&n.is(i.linkDisableSelector)&&i.disableElement(n),i.isRemote(n)){if(o&&(!r||"GET"===r)&&!s)return!0;var a=i.handleRemote(n);return a===!1?i.enableElement(n):a.fail(function(){i.enableElement(n)}),!1}return r?(i.handleMethod(n),!1):void 0}),n.delegate(i.buttonClickSelector,"click.rails",function(t){var n=e(this);if(!i.allowAction(n)||!i.isRemote(n))return i.stopEverything(t);n.is(i.buttonDisableSelector)&&i.disableFormElement(n);var r=i.handleRemote(n);return r===!1?i.enableFormElement(n):r.fail(function(){i.enableFormElement(n)}),!1}),n.delegate(i.inputChangeSelector,"change.rails",function(t){var n=e(this);return i.allowAction(n)&&i.isRemote(n)?(i.handleRemote(n),!1):i.stopEverything(t)}),n.delegate(i.formSubmitSelector,"submit.rails",function(n){var r,s,o=e(this),a=i.isRemote(o);if(!i.allowAction(o))return i.stopEverything(n);if(o.attr("novalidate")===t)if(o.data("ujs:formnovalidate-button")===t){if(r=i.blankInputs(o,i.requiredInputSelector,!1),r&&i.fire(o,"ajax:aborted:required",[r]))return i.stopEverything(n)}else o.data("ujs:formnovalidate-button",t);if(a){if(s=i.nonBlankInputs(o,i.fileInputSelector)){setTimeout(function(){i.disableFormElements(o)},13);var l=i.fire(o,"ajax:aborted:file",[s]);return l||setTimeout(function(){i.enableFormElements(o)},13),l}return i.handleRemote(o),!1}setTimeout(function(){i.disableFormElements(o)},13)}),n.delegate(i.formInputClickSelector,"click.rails",function(t){var n=e(this);if(!i.allowAction(n))return i.stopEverything(t);var r=n.attr("name"),s=r?{name:r,value:n.val()}:null,o=n.closest("form");0===o.length&&(o=e("#"+n.attr("form"))),o.data("ujs:submit-button",s),o.data("ujs:formnovalidate-button",n.attr("formnovalidate")),o.data("ujs:submit-button-formaction",n.attr("formaction")),o.data("ujs:submit-button-formmethod",n.attr("formmethod"))}),n.delegate(i.formSubmitSelector,"ajax:send.rails",function(t){this===t.target&&i.disableFormElements(e(this))}),n.delegate(i.formSubmitSelector,"ajax:complete.rails",function(t){this===t.target&&i.enableFormElements(e(this))}),e(function(){i.refreshCSRFTokens()}))}(jQuery),!function(e){"use strict";function t(e){if(void 0===Function.prototype.name){var t=/function\s([^(]{1,})\(/,i=t.exec(e.toString());return i&&i.length>1?i[1].trim():""}return void 0===e.prototype?e.constructor.name:e.prototype.constructor.name}function i(e){return/true/.test(e)?!0:/false/.test(e)?!1:isNaN(1*e)?e:parseFloat(e)}function n(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}var r="6.1.2",s={version:r,_plugins:{},_uuids:[],rtl:function(){return"rtl"===e("html").attr("dir")},plugin:function(e,i){var r=i||t(e),s=n(r);this._plugins[s]=this[r]=e},registerPlugin:function(e,i){var r=i?n(i):t(e.constructor).toLowerCase();e.uuid=this.GetYoDigits(6,r),e.$element.attr("data-"+r)||e.$element.attr("data-"+r,e.uuid),e.$element.data("zfPlugin")||e.$element.data("zfPlugin",e),e.$element.trigger("init.zf."+r),this._uuids.push(e.uuid)},unregisterPlugin:function(e){var i=n(t(e.$element.data("zfPlugin").constructor));this._uuids.splice(this._uuids.indexOf(e.uuid),1),e.$element.removeAttr("data-"+i).removeData("zfPlugin").trigger("destroyed.zf."+i);for(var r in e)e[r]=null},reInit:function(t){var i=t instanceof e;try{if(i)t.each(function(){e(this).data("zfPlugin")._init()});else{var n=typeof t,r=this,s={object:function(t){t.forEach(function(t){e("[data-"+t+"]").foundation("_init")})},string:function(){e("[data-"+t+"]").foundation("_init")},undefined:function(){this.object(Object.keys(r._plugins))}};s[n](t)}}catch(o){console.error(o)}finally{return t}},GetYoDigits:function(e,t){return e=e||6,Math.round(Math.pow(36,e+1)-Math.random()*Math.pow(36,e)).toString(36).slice(1)+(t?"-"+t:"")},reflow:function(t,n){"undefined"==typeof n?n=Object.keys(this._plugins):"string"==typeof n&&(n=[n]);var r=this;e.each(n,function(n,s){var o=r._plugins[s],a=e(t).find("[data-"+s+"]").addBack("[data-"+s+"]");a.each(function(){var t=e(this),n={};if(t.data("zfPlugin"))return void console.warn("Tried to initialize "+s+" on an element that already has a Foundation plugin.");if(t.attr("data-options")){t.attr("data-options").split(";").forEach(function(e){var t=e.split(":").map(function(e){return e.trim()});t[0]&&(n[t[0]]=i(t[1]))})}try{t.data("zfPlugin",new o(e(this),n))}catch(r){console.error(r)}finally{return}})})},getFnName:t,transitionend:function(e){var t,i={transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend"},n=document.createElement("div");for(var r in i)"undefined"!=typeof n.style[r]&&(t=i[r]);return t?t:(t=setTimeout(function(){e.triggerHandler("transitionend",[e])},1),"transitionend")}};s.util={throttle:function(e,t){var i=null;return function(){var n=this,r=arguments;null===i&&(i=setTimeout(function(){e.apply(n,r),i=null},t))}}};var o=function(i){var n=typeof i,r=e("meta.foundation-mq"),o=e(".no-js");if(r.length||e('<meta class="foundation-mq">').appendTo(document.head),o.length&&o.removeClass("no-js"),"undefined"===n)s.MediaQuery._init(),s.reflow(this);else{if("string"!==n)throw new TypeError("We're sorry, '"+n+"' is not a valid parameter. You must use a string representing the method you wish to invoke.");var a=Array.prototype.slice.call(arguments,1),l=this.data("zfPlugin");if(void 0===l||void 0===l[i])throw new ReferenceError("We're sorry, '"+i+"' is not an available method for "+(l?t(l):"this element")+".");1===this.length?l[i].apply(l,a):this.each(function(t,n){l[i].apply(e(n).data("zfPlugin"),a)})}return this};window.Foundation=s,e.fn.foundation=o,function(){Date.now&&window.Date.now||(window.Date.now=Date.now=function(){return(new Date).getTime()});for(var e=["webkit","moz"],t=0;t<e.length&&!window.requestAnimationFrame;++t){var i=e[t];window.requestAnimationFrame=window[i+"RequestAnimationFrame"],window.cancelAnimationFrame=window[i+"CancelAnimationFrame"]||window[i+"CancelRequestAnimationFrame"]}if(/iP(ad|hone|od).*OS 6/.test(window.navigator.userAgent)||!window.requestAnimationFrame||!window.cancelAnimationFrame){var n=0;window.requestAnimationFrame=function(e){var t=Date.now(),i=Math.max(n+16,t);return setTimeout(function(){e(n=i)},i-t)},window.cancelAnimationFrame=clearTimeout}window.performance&&window.performance.now||(window.performance={start:Date.now(),now:function(){return Date.now()-this.start}})}(),Function.prototype.bind||(Function.prototype.bind=function(e){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var t=Array.prototype.slice.call(arguments,1),i=this,n=function(){},r=function(){return i.apply(this instanceof n?this:e,t.concat(Array.prototype.slice.call(arguments)))};return this.prototype&&(n.prototype=this.prototype),r.prototype=new n,r})}(jQuery),!function(e,t){"use strict";function i(n,r){this.$element=n,this.options=t.extend({},i.defaults,this.$element.data(),r),this._init(),e.registerPlugin(this,"Abide")}i.defaults={validateOn:"fieldChange",labelErrorClass:"is-invalid-label",inputErrorClass:"is-invalid-input",formErrorSelector:".form-error",formErrorClass:"is-visible",liveValidate:!1,patterns:{alpha:/^[a-zA-Z]+$/,alpha_numeric:/^[a-zA-Z0-9]+$/,integer:/^[-+]?\d+$/,number:/^[-+]?\d*(?:[\.\,]\d+)?$/,card:/^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|6(?:011|5[0-9][0-9])[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\d{3})\d{11})$/,cvv:/^([0-9]){3,4}$/,email:/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+$/,url:/^(https?|ftp|file|ssh):\/\/(((([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/,domain:/^([a-zA-Z0-9]([a-zA-Z0-9\-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,8}$/,datetime:/^([0-2][0-9]{3})\-([0-1][0-9])\-([0-3][0-9])T([0-5][0-9])\:([0-5][0-9])\:([0-5][0-9])(Z|([\-\+]([0-1][0-9])\:00))$/,date:/(?:19|20)[0-9]{2}-(?:(?:0[1-9]|1[0-2])-(?:0[1-9]|1[0-9]|2[0-9])|(?:(?!02)(?:0[1-9]|1[0-2])-(?:30))|(?:(?:0[13578]|1[02])-31))$/,time:/^(0[0-9]|1[0-9]|2[0-3])(:[0-5][0-9]){2}$/,dateISO:/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}$/,month_day_year:/^(0[1-9]|1[012])[- \/.](0[1-9]|[12][0-9]|3[01])[- \/.]\d{4}$/,day_month_year:/^(0[1-9]|[12][0-9]|3[01])[- \/.](0[1-9]|1[012])[- \/.]\d{4}$/,color:/^#?([a-fA-F0-9]{6}|[a-fA-F0-9]{3})$/},validators:{equalTo:function(e){return t("#"+e.attr("data-equalto")).val()===e.val()}}},i.prototype._init=function(){this.$inputs=this.$element.find("input, textarea, select").not("[data-abide-ignore]"),this._events()},i.prototype._events=function(){var e=this;this.$element.off(".abide").on("reset.zf.abide",function(){e.resetForm()}).on("submit.zf.abide",function(){return e.validateForm()}),"fieldChange"===this.options.validateOn&&this.$inputs.off("change.zf.abide").on("change.zf.abide",function(){e.validateInput(t(this))}),this.options.liveValidate&&this.$inputs.off("input.zf.abide").on("input.zf.abide",function(){e.validateInput(t(this))})},i.prototype._reflow=function(){this._init()},i.prototype.requiredCheck=function(e){if(!e.attr("required"))return!0;var t=!0;switch(e[0].type){case"checkbox":case"radio":t=e[0].checked;break;case"select":case"select-one":case"select-multiple":var i=e.find("option:selected");i.length&&i.val()||(t=!1);break;default:e.val()&&e.val().length||(t=!1)}return t},i.prototype.findFormError=function(e){var t=e.siblings(this.options.formErrorSelector);return t.length||(t=e.parent().find(this.options.formErrorSelector)),t},i.prototype.findLabel=function(e){var t=this.$element.find('label[for="'+e[0].id+'"]');return t.length?t:e.closest("label")},i.prototype.addErrorClasses=function(e){var t=this.findLabel(e),i=this.findFormError(e);t.length&&t.addClass(this.options.labelErrorClass),i.length&&i.addClass(this.options.formErrorClass),e.addClass(this.options.inputErrorClass).attr("data-invalid","")},i.prototype.removeErrorClasses=function(e){var t=this.findLabel(e),i=this.findFormError(e);t.length&&t.removeClass(this.options.labelErrorClass),i.length&&i.removeClass(this.options.formErrorClass),e.removeClass(this.options.inputErrorClass).removeAttr("data-invalid")},i.prototype.validateInput=function(e){var t=this.requiredCheck(e),i=!1,n=!0,r=e.attr("data-validator"),s=!0;switch(e[0].type){case"radio":i=this.validateRadio(e.attr("name"));break;case"checkbox":i=t;break;case"select":case"select-one":case"select-multiple":i=t;break;default:i=this.validateText(e)}r&&(n=this.matchValidation(e,r,e.attr("required"))),e.attr("data-equalto")&&(s=this.options.validators.equalTo(e));var o=-1===[t,i,n,s].indexOf(!1),a=(o?"valid":"invalid")+".zf.abide";return this[o?"removeErrorClasses":"addErrorClasses"](e),e.trigger(a,[e]),o},i.prototype.validateForm=function(){var e=[],i=this;this.$inputs.each(function(){e.push(i.validateInput(t(this)))});var n=-1===e.indexOf(!1);return this.$element.find("[data-abide-error]").css("display",n?"none":"block"),this.$element.trigger((n?"formvalid":"forminvalid")+".zf.abide",[this.$element]),n},i.prototype.validateText=function(e,t){t=t||e.attr("pattern")||e.attr("type");var i=e.val();return i.length?this.options.patterns.hasOwnProperty(t)?this.options.patterns[t].test(i):t&&t!==e.attr("type")?new RegExp(t).test(i):!0:!0},i.prototype.validateRadio=function(e){var i=this.$element.find(':radio[name="'+e+'"]'),n=[],r=this;return i.each(function(){var e=t(this),i=r.requiredCheck(e);n.push(i),i&&r.removeErrorClasses(e)}),-1===n.indexOf(!1)},i.prototype.matchValidation=function(e,t,i){var n=this;i=i?!0:!1;var r=t.split(" ").map(function(t){return n.options.validators[t](e,i,e.parent())});return-1===r.indexOf(!1)},i.prototype.resetForm=function(){var e=this.$element,i=this.options;t("."+i.labelErrorClass,e).not("small").removeClass(i.labelErrorClass),t("."+i.inputErrorClass,e).not("small").removeClass(i.inputErrorClass),t(i.formErrorSelector+"."+i.formErrorClass).removeClass(i.formErrorClass),e.find("[data-abide-error]").css("display","none"),t(":input",e).not(":button, :submit, :reset, :hidden, [data-abide-ignore]").val("").removeAttr("data-invalid"),e.trigger("formreset.zf.abide",[e])},i.prototype.destroy=function(){var i=this;this.$element.off(".abide").find("[data-abide-error]").css("display","none"),this.$inputs.off(".abide").each(function(){i.removeErrorClasses(t(this))}),e.unregisterPlugin(this)},e.plugin(i,"Abide"),"undefined"!=typeof module&&"undefined"!=typeof module.exports&&(module.exports=i),"function"==typeof define&&define(["foundation"],function(){return i})}(Foundation,jQuery),!function(e,t){"use strict";function i(n,r){this.$element=n,this.options=e.extend({},i.defaults,this.$element.data(),r),this._init(),t.registerPlugin(this,"Accordion"),t.Keyboard.register("Accordion",{ENTER:"toggle",SPACE:"toggle",ARROW_DOWN:"next",ARROW_UP:"previous"})}i.defaults={slideSpeed:250,multiExpand:!1,allowAllClosed:!1},i.prototype._init=function(){this.$element.attr("role","tablist"),this.$tabs=this.$element.children("li"),0===this.$tabs.length&&(this.$tabs=this.$element.children("[data-accordion-item]")),this.$tabs.each(function(i,n){var r=e(n),s=r.find("[data-tab-content]"),o=s[0].id||t.GetYoDigits(6,"accordion"),a=n.id||o+"-label";r.find("a:first").attr({"aria-controls":o,role:"tab",id:a,"aria-expanded":!1,"aria-selected":!1}),s.attr({role:"tabpanel","aria-labelledby":a,"aria-hidden":!0,id:o})});var i=this.$element.find(".is-active").children("[data-tab-content]");i.length&&this.down(i,!0),this._events()},i.prototype._events=function(){var i=this;this.$tabs.each(function(){var n=e(this),r=n.children("[data-tab-content]");r.length&&n.children("a").off("click.zf.accordion keydown.zf.accordion").on("click.zf.accordion",function(e){e.preventDefault(),n.hasClass("is-active")?(i.options.allowAllClosed||n.siblings().hasClass("is-active"))&&i.up(r):i.down(r)}).on("keydown.zf.accordion",function(e){t.Keyboard.handleKey(e,"Accordion",{toggle:function(){i.toggle(r)},next:function(){n.next().find("a").focus().trigger("click.zf.accordion")},previous:function(){n.prev().find("a").focus().trigger("click.zf.accordion")},handled:function(){e.preventDefault(),e.stopPropagation()}})})})},i.prototype.toggle=function(e){if(e.parent().hasClass("is-active")){if(!this.options.allowAllClosed&&!e.parent().siblings().hasClass("is-active"))return;this.up(e)}else this.down(e)},i.prototype.down=function(t,i){var n=this;if(!this.options.multiExpand&&!i){var r=this.$element.find(".is-active").children("[data-tab-content]");r.length&&this.up(r)}t.attr("aria-hidden",!1).parent("[data-tab-content]").addBack().parent().addClass("is-active"),t.slideDown(n.options.slideSpeed,function(){n.$element.trigger("down.zf.accordion",[t])}),e("#"+t.attr("aria-labelledby")).attr({"aria-expanded":!0,"aria-selected":!0})},i.prototype.up=function(t){var i=t.parent().siblings(),n=this,r=this.options.multiExpand?i.hasClass("is-active"):t.parent().hasClass("is-active");(this.options.allowAllClosed||r)&&(t.slideUp(n.options.slideSpeed,function(){n.$element.trigger("up.zf.accordion",[t])}),t.attr("aria-hidden",!0).parent().removeClass("is-active"),e("#"+t.attr("aria-labelledby")).attr({"aria-expanded":!1,"aria-selected":!1}))},i.prototype.destroy=function(){this.$element.find("[data-tab-content]").slideUp(0).css("display",""),this.$element.find("a").off(".zf.accordion"),t.unregisterPlugin(this)},t.plugin(i,"Accordion")}(jQuery,window.Foundation),!function(e){"use strict";function t(i,n){this.$element=i,this.options=e.extend({},t.defaults,this.$element.data(),n),Foundation.Nest.Feather(this.$element,"accordion"),this._init(),Foundation.registerPlugin(this,"AccordionMenu"),Foundation.Keyboard.register("AccordionMenu",{ENTER:"toggle",SPACE:"toggle",ARROW_RIGHT:"open",ARROW_UP:"up",ARROW_DOWN:"down",ARROW_LEFT:"close",ESCAPE:"closeAll",TAB:"down",SHIFT_TAB:"up"})}t.defaults={slideSpeed:250,multiOpen:!0},t.prototype._init=function(){this.$element.find("[data-submenu]").not(".is-active").slideUp(0),this.$element.attr({role:"tablist","aria-multiselectable":this.options.multiOpen}),this.$menuLinks=this.$element.find(".is-accordion-submenu-parent"),this.$menuLinks.each(function(){var t=this.id||Foundation.GetYoDigits(6,"acc-menu-link"),i=e(this),n=i.children("[data-submenu]"),r=n[0].id||Foundation.GetYoDigits(6,"acc-menu"),s=n.hasClass("is-active");i.attr({"aria-controls":r,"aria-expanded":s,role:"tab",id:t}),n.attr({"aria-labelledby":t,"aria-hidden":!s,role:"tabpanel",id:r})});var t=this.$element.find(".is-active");if(t.length){var i=this;t.each(function(){i.down(e(this))})}this._events()},t.prototype._events=function(){var t=this;this.$element.find("li").each(function(){var i=e(this).children("[data-submenu]");i.length&&e(this).children("a").off("click.zf.accordionMenu").on("click.zf.accordionMenu",function(e){e.preventDefault(),t.toggle(i)})}).on("keydown.zf.accordionmenu",function(i){var n,r,s=e(this),o=s.parent("ul").children("li"),a=s.children("[data-submenu]");o.each(function(t){return e(this).is(s)?(n=o.eq(Math.max(0,t-1)),r=o.eq(Math.min(t+1,o.length-1)),e(this).children("[data-submenu]:visible").length&&(r=s.find("li:first-child")),e(this).is(":first-child")?n=s.parents("li").first():n.children("[data-submenu]:visible").length&&(n=n.find("li:last-child")),void(e(this).is(":last-child")&&(r=s.parents("li").first().next("li")))):void 0}),Foundation.Keyboard.handleKey(i,"AccordionMenu",{open:function(){a.is(":hidden")&&(t.down(a),a.find("li").first().focus())},close:function(){a.length&&!a.is(":hidden")?t.up(a):s.parent("[data-submenu]").length&&(t.up(s.parent("[data-submenu]")),s.parents("li").first().focus())},up:function(){n.focus()},down:function(){r.focus()},toggle:function(){s.children("[data-submenu]").length&&t.toggle(s.children("[data-submenu]"))},closeAll:function(){t.hideAll()},handled:function(){i.preventDefault(),i.stopImmediatePropagation()}})})},t.prototype.hideAll=function(){this.$element.find("[data-submenu]").slideUp(this.options.slideSpeed)},t.prototype.toggle=function(e){e.is(":animated")||(e.is(":hidden")?this.down(e):this.up(e))},t.prototype.down=function(e){var t=this;this.options.multiOpen||this.up(this.$element.find(".is-active").not(e.parentsUntil(this.$element).add(e))),e.addClass("is-active").attr({"aria-hidden":!1}).parent(".is-accordion-submenu-parent").attr({"aria-expanded":!0}),Foundation.Move(this.options.slideSpeed,e,function(){e.slideDown(t.options.slideSpeed,function(){t.$element.trigger("down.zf.accordionMenu",[e])})})},t.prototype.up=function(e){var t=this;Foundation.Move(this.options.slideSpeed,e,function(){e.slideUp(t.options.slideSpeed,function(){t.$element.trigger("up.zf.accordionMenu",[e])})});var i=e.find("[data-submenu]").slideUp(0).addBack().attr("aria-hidden",!0);i.parent(".is-accordion-submenu-parent").attr("aria-expanded",!1)},t.prototype.destroy=function(){this.$element.find("[data-submenu]").slideDown(0).css("display",""),this.$element.find("a").off("click.zf.accordionMenu"),Foundation.Nest.Burn(this.$element,"accordion"),Foundation.unregisterPlugin(this)},Foundation.plugin(t,"AccordionMenu")}(jQuery,window.Foundation),!function(e,t){"use strict";function i(n,r){this.$element=n,this.options=e.extend({},i.defaults,this.$element.data(),r),t.Nest.Feather(this.$element,"drilldown"),this._init(),t.registerPlugin(this,"Drilldown"),t.Keyboard.register("Drilldown",{ENTER:"open",SPACE:"open",ARROW_RIGHT:"next",ARROW_UP:"up",ARROW_DOWN:"down",ARROW_LEFT:"previous",ESCAPE:"close",TAB:"down",SHIFT_TAB:"up"})}i.defaults={backButton:'<li class="js-drilldown-back"><a>Back</a></li>',wrapper:"<div></div>",closeOnClick:!1},i.prototype._init=function(){this.$submenuAnchors=this.$element.find("li.is-drilldown-submenu-parent"),this.$submenus=this.$submenuAnchors.children("[data-submenu]"),this.$menuItems=this.$element.find("li").not(".js-drilldown-back").attr("role","menuitem"),this._prepareMenu(),this._keyboardEvents()},i.prototype._prepareMenu=function(){var t=this;this.$submenuAnchors.each(function(){var i=e(this),n=i.find("a:first");n.data("savedHref",n.attr("href")).removeAttr("href"),i.children("[data-submenu]").attr({"aria-hidden":!0,tabindex:0,role:"menu"}),t._events(i)}),this.$submenus.each(function(){var i=e(this),n=i.find(".js-drilldown-back");n.length||i.prepend(t.options.backButton),t._back(i)}),this.$element.parent().hasClass("is-drilldown")||(this.$wrapper=e(this.options.wrapper).addClass("is-drilldown").css(this._getMaxDims()),this.$element.wrap(this.$wrapper))},i.prototype._events=function(t){var i=this;t.off("click.zf.drilldown").on("click.zf.drilldown",function(n){if(e(n.target).parentsUntil("ul","li").hasClass("is-drilldown-submenu-parent")&&(n.stopImmediatePropagation(),n.preventDefault()),i._show(t),i.options.closeOnClick){var r=e("body").not(i.$wrapper);r.off(".zf.drilldown").on("click.zf.drilldown",function(e){e.preventDefault(),i._hideAll(),r.off(".zf.drilldown")})}})},i.prototype._keyboardEvents=function(){var i=this;this.$menuItems.add(this.$element.find(".js-drilldown-back")).on("keydown.zf.drilldown",function(n){var r,s,o=e(this),a=o.parent("ul").children("li");a.each(function(t){return e(this).is(o)?(r=a.eq(Math.max(0,t-1)),void(s=a.eq(Math.min(t+1,a.length-1)))):void 0}),t.Keyboard.handleKey(n,"Drilldown",{next:function(){o.is(i.$submenuAnchors)&&(i._show(o),o.on(t.transitionend(o),function(){o.find("ul li").filter(i.$menuItems).first().focus()}))},previous:function(){i._hide(o.parent("ul")),o.parent("ul").on(t.transitionend(o),function(){setTimeout(function(){o.parent("ul").parent("li").focus()},1)})},up:function(){r.focus()},down:function(){s.focus()},close:function(){i._back()},open:function(){o.is(i.$menuItems)?o.is(i.$submenuAnchors)&&(i._show(o),setTimeout(function(){o.find("ul li").filter(i.$menuItems).first().focus()},1)):(i._hide(o.parent("ul")),setTimeout(function(){o.parent("ul").parent("li").focus()},1))},handled:function(){n.preventDefault(),n.stopImmediatePropagation()}})})},i.prototype._hideAll=function(){var e=this.$element.find(".is-drilldown-submenu.is-active").addClass("is-closing");e.one(t.transitionend(e),function(){e.removeClass("is-active is-closing")}),this.$element.trigger("closed.zf.drilldown")},i.prototype._back=function(e){var t=this;e.off("click.zf.drilldown"),e.children(".js-drilldown-back").on("click.zf.drilldown",function(i){i.stopImmediatePropagation(),t._hide(e)})},i.prototype._menuLinkEvents=function(){var e=this;this.$menuItems.not(".is-drilldown-submenu-parent").off("click.zf.drilldown").on("click.zf.drilldown",function(){setTimeout(function(){e._hideAll()},0)})},i.prototype._show=function(e){e.children("[data-submenu]").addClass("is-active"),this.$element.trigger("open.zf.drilldown",[e])},i.prototype._hide=function(e){e.addClass("is-closing").one(t.transitionend(e),function(){e.removeClass("is-active is-closing")}),e.trigger("hide.zf.drilldown",[e])},i.prototype._getMaxDims=function(){var t=0,i={};return this.$submenus.add(this.$element).each(function(){var i=e(this).children("li").length;t=i>t?i:t}),i.height=t*this.$menuItems[0].getBoundingClientRect().height+"px",i.width=this.$element[0].getBoundingClientRect().width+"px",i},i.prototype.destroy=function(){this._hideAll(),t.Nest.Burn(this.$element,"drilldown"),this.$element.unwrap().find(".js-drilldown-back").remove().end().find(".is-active, .is-closing, .is-drilldown-submenu").removeClass("is-active is-closing is-drilldown-submenu").end().find("[data-submenu]").removeAttr("aria-hidden tabindex role").off(".zf.drilldown").end().off("zf.drilldown"),this.$element.find("a").each(function(){var t=e(this);t.data("savedHref")&&t.attr("href",t.data("savedHref")).removeData("savedHref")}),t.unregisterPlugin(this)},t.plugin(i,"Drilldown")}(jQuery,window.Foundation),!function(e,t){"use strict";function i(n,r){this.$element=n,this.options=e.extend({},i.defaults,this.$element.data(),r),this._init(),t.registerPlugin(this,"Dropdown"),t.Keyboard.register("Dropdown",{ENTER:"open",SPACE:"open",ESCAPE:"close",TAB:"tab_forward",SHIFT_TAB:"tab_backward"})}i.defaults={hoverDelay:250,hover:!1,hoverPane:!1,vOffset:1,hOffset:1,positionClass:"",trapFocus:!1,autoFocus:!1,closeOnClick:!1},i.prototype._init=function(){var i=this.$element.attr("id");this.$anchor=e('[data-toggle="'+i+'"]')||e('[data-open="'+i+'"]'),this.$anchor.attr({"aria-controls":i,"data-is-focus":!1,"data-yeti-box":i,"aria-haspopup":!0,"aria-expanded":!1}),this.options.positionClass=this.getPositionClass(),this.counter=4,this.usedPositions=[],this.$element.attr({"aria-hidden":"true","data-yeti-box":i,"data-resize":i,"aria-labelledby":this.$anchor[0].id||t.GetYoDigits(6,"dd-anchor")}),this._events()},i.prototype.getPositionClass=function(){var e=this.$element[0].className.match(/\b(top|left|right)\b/g);return e=e?e[0]:""},i.prototype._reposition=function(e){this.usedPositions.push(e?e:"bottom"),!e&&this.usedPositions.indexOf("top")<0?this.$element.addClass("top"):"top"===e&&this.usedPositions.indexOf("bottom")<0?this.$element.removeClass(e):"left"===e&&this.usedPositions.indexOf("right")<0?this.$element.removeClass(e).addClass("right"):"right"===e&&this.usedPositions.indexOf("left")<0?this.$element.removeClass(e).addClass("left"):!e&&this.usedPositions.indexOf("top")>-1&&this.usedPositions.indexOf("left")<0?this.$element.addClass("left"):"top"===e&&this.usedPositions.indexOf("bottom")>-1&&this.usedPositions.indexOf("left")<0?this.$element.removeClass(e).addClass("left"):this.$element.removeClass("left"===e&&this.usedPositions.indexOf("right")>-1&&this.usedPositions.indexOf("bottom")<0?e:"right"===e&&this.usedPositions.indexOf("left")>-1&&this.usedPositions.indexOf("bottom")<0?e:e),this.classChanged=!0,this.counter--},i.prototype._setPosition=function(){if("false"===this.$anchor.attr("aria-expanded"))return!1;{var e=this.getPositionClass(),i=t.Box.GetDimensions(this.$element),n=(t.Box.GetDimensions(this.$anchor),"left"===e?"left":"right"===e?"left":"top"),r="top"===n?"height":"width";"height"===r?this.options.vOffset:this.options.hOffset}if(i.width>=i.windowDims.width||!this.counter&&!t.Box.ImNotTouchingYou(this.$element))return this.$element.offset(t.Box.GetOffsets(this.$element,this.$anchor,"center bottom",this.options.vOffset,this.options.hOffset,!0)).css({width:i.windowDims.width-2*this.options.hOffset,height:"auto"}),this.classChanged=!0,!1;for(this.$element.offset(t.Box.GetOffsets(this.$element,this.$anchor,e,this.options.vOffset,this.options.hOffset));!t.Box.ImNotTouchingYou(this.$element)&&this.counter;)this._reposition(e),this._setPosition()},i.prototype._events=function(){var i=this;this.$element.on({"open.zf.trigger":this.open.bind(this),"close.zf.trigger":this.close.bind(this),"toggle.zf.trigger":this.toggle.bind(this),"resizeme.zf.trigger":this._setPosition.bind(this)}),this.options.hover&&(this.$anchor.off("mouseenter.zf.dropdown mouseleave.zf.dropdown").on("mouseenter.zf.dropdown",function(){clearTimeout(i.timeout),i.timeout=setTimeout(function(){i.open(),i.$anchor.data("hover",!0)
},i.options.hoverDelay)}).on("mouseleave.zf.dropdown",function(){clearTimeout(i.timeout),i.timeout=setTimeout(function(){i.close(),i.$anchor.data("hover",!1)},i.options.hoverDelay)}),this.options.hoverPane&&this.$element.off("mouseenter.zf.dropdown mouseleave.zf.dropdown").on("mouseenter.zf.dropdown",function(){clearTimeout(i.timeout)}).on("mouseleave.zf.dropdown",function(){clearTimeout(i.timeout),i.timeout=setTimeout(function(){i.close(),i.$anchor.data("hover",!1)},i.options.hoverDelay)})),this.$anchor.add(this.$element).on("keydown.zf.dropdown",function(n){var r=e(this),s=t.Keyboard.findFocusable(i.$element);t.Keyboard.handleKey(n,"Dropdown",{tab_forward:function(){i.$element.find(":focus").is(s.eq(-1))&&(i.options.trapFocus?(s.eq(0).focus(),n.preventDefault()):i.close())},tab_backward:function(){(i.$element.find(":focus").is(s.eq(0))||i.$element.is(":focus"))&&(i.options.trapFocus?(s.eq(-1).focus(),n.preventDefault()):i.close())},open:function(){r.is(i.$anchor)&&(i.open(),i.$element.attr("tabindex",-1).focus(),n.preventDefault())},close:function(){i.close(),i.$anchor.focus()}})})},i.prototype._addBodyHandler=function(){var t=e(document.body).not(this.$element),i=this;t.off("click.zf.dropdown").on("click.zf.dropdown",function(e){i.$anchor.is(e.target)||i.$anchor.find(e.target).length||i.$element.find(e.target).length||(i.close(),t.off("click.zf.dropdown"))})},i.prototype.open=function(){if(this.$element.trigger("closeme.zf.dropdown",this.$element.attr("id")),this.$anchor.addClass("hover").attr({"aria-expanded":!0}),this._setPosition(),this.$element.addClass("is-open").attr({"aria-hidden":!1}),this.options.autoFocus){var e=t.Keyboard.findFocusable(this.$element);e.length&&e.eq(0).focus()}this.options.closeOnClick&&this._addBodyHandler(),this.$element.trigger("show.zf.dropdown",[this.$element])},i.prototype.close=function(){if(!this.$element.hasClass("is-open"))return!1;if(this.$element.removeClass("is-open").attr({"aria-hidden":!0}),this.$anchor.removeClass("hover").attr("aria-expanded",!1),this.classChanged){var e=this.getPositionClass();e&&this.$element.removeClass(e),this.$element.addClass(this.options.positionClass).css({height:"",width:""}),this.classChanged=!1,this.counter=4,this.usedPositions.length=0}this.$element.trigger("hide.zf.dropdown",[this.$element])},i.prototype.toggle=function(){if(this.$element.hasClass("is-open")){if(this.$anchor.data("hover"))return;this.close()}else this.open()},i.prototype.destroy=function(){this.$element.off(".zf.trigger").hide(),this.$anchor.off(".zf.dropdown"),t.unregisterPlugin(this)},t.plugin(i,"Dropdown")}(jQuery,window.Foundation),!function(e,t){"use strict";function i(n,r){this.$element=n,this.options=e.extend({},i.defaults,this.$element.data(),r),t.Nest.Feather(this.$element,"dropdown"),this._init(),t.registerPlugin(this,"DropdownMenu"),t.Keyboard.register("DropdownMenu",{ENTER:"open",SPACE:"open",ARROW_RIGHT:"next",ARROW_UP:"up",ARROW_DOWN:"down",ARROW_LEFT:"previous",ESCAPE:"close"})}i.defaults={disableHover:!1,autoclose:!0,hoverDelay:50,clickOpen:!1,closingTime:500,alignment:"left",closeOnClick:!0,verticalClass:"vertical",rightClass:"align-right",forceFollow:!0},i.prototype._init=function(){var e=this.$element.find("li.is-dropdown-submenu-parent");this.$element.children(".is-dropdown-submenu-parent").children(".is-dropdown-submenu").addClass("first-sub"),this.$menuItems=this.$element.find('[role="menuitem"]'),this.$tabs=this.$element.children('[role="menuitem"]'),this.isVert=this.$element.hasClass(this.options.verticalClass),this.$tabs.find("ul.is-dropdown-submenu").addClass(this.options.verticalClass),this.$element.hasClass(this.options.rightClass)||"right"===this.options.alignment||t.rtl()?(this.options.alignment="right",e.addClass("is-left-arrow opens-left")):e.addClass("is-right-arrow opens-right"),this.isVert||this.$tabs.filter(".is-dropdown-submenu-parent").removeClass("is-right-arrow is-left-arrow opens-right opens-left").addClass("is-down-arrow"),this.changed=!1,this._events()},i.prototype._events=function(){var i=this,n="ontouchstart"in window||"undefined"!=typeof window.ontouchstart,r="is-dropdown-submenu-parent";(this.options.clickOpen||n)&&this.$menuItems.on("click.zf.dropdownmenu touchstart.zf.dropdownmenu",function(t){{var s=e(t.target).parentsUntil("ul","."+r),o=s.hasClass(r),a="true"===s.attr("data-is-click");s.children(".is-dropdown-submenu")}if(o)if(a){if(!i.options.closeOnClick||!i.options.clickOpen&&!n||i.options.forceFollow&&n)return;t.stopImmediatePropagation(),t.preventDefault(),i._hide(s)}else t.preventDefault(),t.stopImmediatePropagation(),i._show(s.children(".is-dropdown-submenu")),s.add(s.parentsUntil(i.$element,"."+r)).attr("data-is-click",!0)}),this.options.disableHover||this.$menuItems.on("mouseenter.zf.dropdownmenu",function(t){t.stopImmediatePropagation();var n=e(this),s=n.hasClass(r);s&&(clearTimeout(i.delay),i.delay=setTimeout(function(){i._show(n.children(".is-dropdown-submenu"))},i.options.hoverDelay))}).on("mouseleave.zf.dropdownmenu",function(){var t=e(this),n=t.hasClass(r);if(n&&i.options.autoclose){if("true"===t.attr("data-is-click")&&i.options.clickOpen)return!1;clearTimeout(i.delay),i.delay=setTimeout(function(){i._hide(t)},i.options.closingTime)}}),this.$menuItems.on("keydown.zf.dropdownmenu",function(n){var r,s,o=e(n.target).parentsUntil("ul",'[role="menuitem"]'),a=i.$tabs.index(o)>-1,l=a?i.$tabs:o.siblings("li").add(o);l.each(function(t){return e(this).is(o)?(r=l.eq(t-1),void(s=l.eq(t+1))):void 0});var c=function(){o.is(":last-child")||s.children("a:first").focus()},u=function(){r.children("a:first").focus()},d=function(){var e=o.children("ul.is-dropdown-submenu");e.length&&(i._show(e),o.find("li > a:first").focus())},h=function(){var e=o.parent("ul").parent("li");e.children("a:first").focus(),i._hide(e)},f={open:d,close:function(){i._hide(i.$element),i.$menuItems.find("a:first").focus()},handled:function(){n.preventDefault(),n.stopImmediatePropagation()}};a?i.vertical?"left"===i.options.alignment?e.extend(f,{down:c,up:u,next:d,previous:h}):e.extend(f,{down:c,up:u,next:h,previous:d}):e.extend(f,{next:c,previous:u,down:d,up:h}):"left"===i.options.alignment?e.extend(f,{next:d,previous:h,down:c,up:u}):e.extend(f,{next:h,previous:d,down:c,up:u}),t.Keyboard.handleKey(n,"DropdownMenu",f)})},i.prototype._addBodyHandler=function(){var t=e(document.body),i=this;t.off("mouseup.zf.dropdownmenu touchend.zf.dropdownmenu").on("mouseup.zf.dropdownmenu touchend.zf.dropdownmenu",function(e){var n=i.$element.find(e.target);n.length||(i._hide(),t.off("mouseup.zf.dropdownmenu touchend.zf.dropdownmenu"))})},i.prototype._show=function(i){var n=this.$tabs.index(this.$tabs.filter(function(t,n){return e(n).find(i).length>0})),r=i.parent("li.is-dropdown-submenu-parent").siblings("li.is-dropdown-submenu-parent");this._hide(r,n),i.css("visibility","hidden").addClass("js-dropdown-active").attr({"aria-hidden":!1}).parent("li.is-dropdown-submenu-parent").addClass("is-active").attr({"aria-expanded":!0});var s=t.Box.ImNotTouchingYou(i,null,!0);if(!s){var o="left"===this.options.alignment?"-right":"-left",a=i.parent(".is-dropdown-submenu-parent");a.removeClass("opens"+o).addClass("opens-"+this.options.alignment),s=t.Box.ImNotTouchingYou(i,null,!0),s||a.removeClass("opens-"+this.options.alignment).addClass("opens-inner"),this.changed=!0}i.css("visibility",""),this.options.closeOnClick&&this._addBodyHandler(),this.$element.trigger("show.zf.dropdownmenu",[i])},i.prototype._hide=function(e,t){var i;i=e&&e.length?e:void 0!==t?this.$tabs.not(function(e){return e===t}):this.$element;var n=i.hasClass("is-active")||i.find(".is-active").length>0;if(n){if(i.find("li.is-active").add(i).attr({"aria-expanded":!1,"data-is-click":!1}).removeClass("is-active"),i.find("ul.js-dropdown-active").attr({"aria-hidden":!0}).removeClass("js-dropdown-active"),this.changed||i.find("opens-inner").length){var r="left"===this.options.alignment?"right":"left";i.find("li.is-dropdown-submenu-parent").add(i).removeClass("opens-inner opens-"+this.options.alignment).addClass("opens-"+r),this.changed=!1}this.$element.trigger("hide.zf.dropdownmenu",[i])}},i.prototype.destroy=function(){this.$menuItems.off(".zf.dropdownmenu").removeAttr("data-is-click").removeClass("is-right-arrow is-left-arrow is-down-arrow opens-right opens-left opens-inner"),e(document.body).off(".zf.dropdownmenu"),t.Nest.Burn(this.$element,"dropdown"),t.unregisterPlugin(this)},t.plugin(i,"DropdownMenu")}(jQuery,window.Foundation),!function(e,t){"use strict";function i(n,r){this.$element=n,this.options=t.extend({},i.defaults,this.$element.data(),r),this._init(),e.registerPlugin(this,"Equalizer")}i.defaults={equalizeOnStack:!0,equalizeByRow:!1,equalizeOn:""},i.prototype._init=function(){var i=this.$element.attr("data-equalizer")||"",n=this.$element.find('[data-equalizer-watch="'+i+'"]');this.$watched=n.length?n:this.$element.find("[data-equalizer-watch]"),this.$element.attr("data-resize",i||e.GetYoDigits(6,"eq")),this.hasNested=this.$element.find("[data-equalizer]").length>0,this.isNested=this.$element.parentsUntil(document.body,"[data-equalizer]").length>0,this.isOn=!1;var r,s=this.$element.find("img");this.options.equalizeOn?(r=this._checkMQ(),t(window).on("changed.zf.mediaquery",this._checkMQ.bind(this))):this._events(),(void 0!==r&&r===!1||void 0===r)&&(s.length?e.onImagesLoaded(s,this._reflow.bind(this)):this._reflow())},i.prototype._pauseEvents=function(){this.isOn=!1,this.$element.off(".zf.equalizer resizeme.zf.trigger")},i.prototype._events=function(){var e=this;this._pauseEvents(),this.hasNested?this.$element.on("postequalized.zf.equalizer",function(t){t.target!==e.$element[0]&&e._reflow()}):this.$element.on("resizeme.zf.trigger",this._reflow.bind(this)),this.isOn=!0},i.prototype._checkMQ=function(){var t=!e.MediaQuery.atLeast(this.options.equalizeOn);return t?this.isOn&&(this._pauseEvents(),this.$watched.css("height","auto")):this.isOn||this._events(),t},i.prototype._killswitch=function(){},i.prototype._reflow=function(){return!this.options.equalizeOnStack&&this._isStacked()?(this.$watched.css("height","auto"),!1):void(this.options.equalizeByRow?this.getHeightsByRow(this.applyHeightByRow.bind(this)):this.getHeights(this.applyHeight.bind(this)))},i.prototype._isStacked=function(){return this.$watched[0].offsetTop!==this.$watched[1].offsetTop},i.prototype.getHeights=function(e){for(var t=[],i=0,n=this.$watched.length;n>i;i++)this.$watched[i].style.height="auto",t.push(this.$watched[i].offsetHeight);e(t)},i.prototype.getHeightsByRow=function(e){var i=this.$watched.first().offset().top,n=[],r=0;n[r]=[];for(var s=0,o=this.$watched.length;o>s;s++){this.$watched[s].style.height="auto";var a=t(this.$watched[s]).offset().top;a!=i&&(r++,n[r]=[],i=a),n[r].push([this.$watched[s],this.$watched[s].offsetHeight])}for(var l=0,c=n.length;c>l;l++){var u=t(n[l]).map(function(){return this[1]}).get(),d=Math.max.apply(null,u);n[l].push(d)}e(n)},i.prototype.applyHeight=function(e){var t=Math.max.apply(null,e);this.$element.trigger("preequalized.zf.equalizer"),this.$watched.css("height",t),this.$element.trigger("postequalized.zf.equalizer")},i.prototype.applyHeightByRow=function(e){this.$element.trigger("preequalized.zf.equalizer");for(var i=0,n=e.length;n>i;i++){var r=e[i].length,s=e[i][r-1];if(2>=r)t(e[i][0][0]).css({height:"auto"});else{this.$element.trigger("preequalizedrow.zf.equalizer");for(var o=0,a=r-1;a>o;o++)t(e[i][o][0]).css({height:s});this.$element.trigger("postequalizedrow.zf.equalizer")}}this.$element.trigger("postequalized.zf.equalizer")},i.prototype.destroy=function(){this._pauseEvents(),this.$watched.css("height","auto"),e.unregisterPlugin(this)},e.plugin(i,"Equalizer"),"undefined"!=typeof module&&"undefined"!=typeof module.exports&&(module.exports=i),"function"==typeof define&&define(["foundation"],function(){return i})}(Foundation,jQuery),!function(e,t){"use strict";function i(n,r){this.$element=n,this.options=t.extend({},i.defaults,r),this.rules=[],this.currentPath="",this._init(),this._events(),e.registerPlugin(this,"Interchange")}i.defaults={rules:null},i.SPECIAL_QUERIES={landscape:"screen and (orientation: landscape)",portrait:"screen and (orientation: portrait)",retina:"only screen and (-webkit-min-device-pixel-ratio: 2), only screen and (min--moz-device-pixel-ratio: 2), only screen and (-o-min-device-pixel-ratio: 2/1), only screen and (min-device-pixel-ratio: 2), only screen and (min-resolution: 192dpi), only screen and (min-resolution: 2dppx)"},i.prototype._init=function(){this._addBreakpoints(),this._generateRules(),this._reflow()},i.prototype._events=function(){t(window).on("resize.zf.interchange",e.util.throttle(this._reflow.bind(this),50))},i.prototype._reflow=function(){var e;for(var t in this.rules){var i=this.rules[t];window.matchMedia(i.query).matches&&(e=i)}e&&this.replace(e.path)},i.prototype._addBreakpoints=function(){for(var t in e.MediaQuery.queries){var n=e.MediaQuery.queries[t];i.SPECIAL_QUERIES[n.name]=n.value}},i.prototype._generateRules=function(){var e,t=[];e=this.options.rules?this.options.rules:this.$element.data("interchange").match(/\[.*?\]/g);for(var n in e){var r=e[n].slice(1,-1).split(", "),s=r.slice(0,-1).join(""),o=r[r.length-1];i.SPECIAL_QUERIES[o]&&(o=i.SPECIAL_QUERIES[o]),t.push({path:s,query:o})}this.rules=t},i.prototype.replace=function(e){if(this.currentPath!==e){var i=this,n="replaced.zf.interchange";"IMG"===this.$element[0].nodeName?this.$element.attr("src",e).load(function(){i.currentPath=e}).trigger(n):e.match(/\.(gif|jpg|jpeg|tiff|png)([?#].*)?/i)?this.$element.css({"background-image":"url("+e+")"}).trigger(n):t.get(e,function(r){i.$element.html(r).trigger(n),t(r).foundation(),i.currentPath=e})}},i.prototype.destroy=function(){},e.plugin(i,"Interchange"),"undefined"!=typeof module&&"undefined"!=typeof module.exports&&(module.exports=i),"function"==typeof define&&define(["foundation"],function(){return i})}(Foundation,jQuery),!function(e,t){"use strict";function i(n,r){this.$element=n,this.options=t.extend({},i.defaults,this.$element.data(),r),this._init(),e.registerPlugin(this,"Magellan")}i.defaults={animationDuration:500,animationEasing:"linear",threshold:50,activeClass:"active",deepLinking:!1,barOffset:0},i.prototype._init=function(){var i=this.$element[0].id||e.GetYoDigits(6,"magellan");this.$targets=t("[data-magellan-target]"),this.$links=this.$element.find("a"),this.$element.attr({"data-resize":i,"data-scroll":i,id:i}),this.$active=t(),this.scrollPos=parseInt(window.pageYOffset,10),this._events()},i.prototype.calcPoints=function(){var e=this,i=document.body,n=document.documentElement;this.points=[],this.winHeight=Math.round(Math.max(window.innerHeight,n.clientHeight)),this.docHeight=Math.round(Math.max(i.scrollHeight,i.offsetHeight,n.clientHeight,n.scrollHeight,n.offsetHeight)),this.$targets.each(function(){var i=t(this),n=Math.round(i.offset().top-e.options.threshold);i.targetPoint=n,e.points.push(n)})},i.prototype._events=function(){{var e=this;t("html, body"),{duration:e.options.animationDuration,easing:e.options.animationEasing}}t(window).one("load",function(){e.options.deepLinking&&location.hash&&e.scrollToLoc(location.hash),e.calcPoints(),e._updateActive()}),this.$element.on({"resizeme.zf.trigger":this.reflow.bind(this),"scrollme.zf.trigger":this._updateActive.bind(this)}).on("click.zf.magellan",'a[href^="#"]',function(t){t.preventDefault();var i=this.getAttribute("href");e.scrollToLoc(i)})},i.prototype.scrollToLoc=function(e){var i=t(e).offset().top-this.options.threshold/2-this.options.barOffset;t(document.body).stop(!0).animate({scrollTop:i},{duration:this.options.animationDuration,easiing:this.options.animationEasing})},i.prototype.reflow=function(){this.calcPoints(),this._updateActive()},i.prototype._updateActive=function(){var e,t=parseInt(window.pageYOffset,10);if(t+this.winHeight===this.docHeight)e=this.points.length-1;else if(t<this.points[0])e=0;else{var i=this.scrollPos<t,n=this,r=this.points.filter(function(e){return i?t>=e:e-n.options.threshold<=t});e=r.length?r.length-1:0}if(this.$active.removeClass(this.options.activeClass),this.$active=this.$links.eq(e).addClass(this.options.activeClass),this.options.deepLinking){var s=this.$active[0].getAttribute("href");window.history.pushState?window.history.pushState(null,null,s):window.location.hash=s}this.scrollPos=t,this.$element.trigger("update.zf.magellan",[this.$active])},i.prototype.destroy=function(){if(this.$element.off(".zf.trigger .zf.magellan").find("."+this.options.activeClass).removeClass(this.options.activeClass),this.options.deepLinking){var t=this.$active[0].getAttribute("href");window.location.hash.replace(t,"")}e.unregisterPlugin(this)},e.plugin(i,"Magellan"),"undefined"!=typeof module&&"undefined"!=typeof module.exports&&(module.exports=i),"function"==typeof define&&define(["foundation"],function(){return i})}(Foundation,jQuery),!function(e,t){"use strict";function i(n,r){this.$element=n,this.options=e.extend({},i.defaults,this.$element.data(),r),this.$lastTrigger=e(),this._init(),this._events(),t.registerPlugin(this,"OffCanvas")}i.defaults={closeOnClick:!0,transitionTime:0,position:"left",forceTop:!0,isRevealed:!1,revealOn:null,autoFocus:!0,revealClass:"reveal-for-",trapFocus:!1},i.prototype._init=function(){var t=this.$element.attr("id");if(this.$element.attr("aria-hidden","true"),e(document).find('[data-open="'+t+'"], [data-close="'+t+'"], [data-toggle="'+t+'"]').attr("aria-expanded","false").attr("aria-controls",t),this.options.closeOnClick)if(e(".js-off-canvas-exit").length)this.$exiter=e(".js-off-canvas-exit");else{var i=document.createElement("div");i.setAttribute("class","js-off-canvas-exit"),e("[data-off-canvas-content]").append(i),this.$exiter=e(i)}this.options.isRevealed=this.options.isRevealed||new RegExp(this.options.revealClass,"g").test(this.$element[0].className),this.options.isRevealed&&(this.options.revealOn=this.options.revealOn||this.$element[0].className.match(/(reveal-for-medium|reveal-for-large)/g)[0].split("-")[2],this._setMQChecker()),this.options.transitionTime||(this.options.transitionTime=1e3*parseFloat(window.getComputedStyle(e("[data-off-canvas-wrapper]")[0]).transitionDuration))},i.prototype._events=function(){this.$element.off(".zf.trigger .zf.offcanvas").on({"open.zf.trigger":this.open.bind(this),"close.zf.trigger":this.close.bind(this),"toggle.zf.trigger":this.toggle.bind(this),"keydown.zf.offcanvas":this._handleKeyboard.bind(this)}),this.options.closeOnClick&&this.$exiter.length&&this.$exiter.on({"click.zf.offcanvas":this.close.bind(this)})},i.prototype._setMQChecker=function(){var i=this;e(window).on("changed.zf.mediaquery",function(){i.reveal(t.MediaQuery.atLeast(i.options.revealOn)?!0:!1)}).one("load.zf.offcanvas",function(){t.MediaQuery.atLeast(i.options.revealOn)&&i.reveal(!0)})},i.prototype.reveal=function(e){var t=this.$element.find("[data-close]");e?(this.close(),this.isRevealed=!0,this.$element.off("open.zf.trigger toggle.zf.trigger"),t.length&&t.hide()):(this.isRevealed=!1,this.$element.on({"open.zf.trigger":this.open.bind(this),"toggle.zf.trigger":this.toggle.bind(this)}),t.length&&t.show())},i.prototype.open=function(i,n){if(!this.$element.hasClass("is-open")&&!this.isRevealed){{var r=this;e(document.body)}e("body").scrollTop(0),t.Move(this.options.transitionTime,this.$element,function(){e("[data-off-canvas-wrapper]").addClass("is-off-canvas-open is-open-"+r.options.position),r.$element.addClass("is-open")}),this.$element.attr("aria-hidden","false").trigger("opened.zf.offcanvas"),this.options.closeOnClick&&this.$exiter.addClass("is-visible"),n&&(this.$lastTrigger=n.attr("aria-expanded","true")),this.options.autoFocus&&this.$element.one("finished.zf.animate",function(){r.$element.find("a, button").eq(0).focus()}),this.options.trapFocus&&(e("[data-off-canvas-content]").attr("tabindex","-1"),this._trapFocus())}},i.prototype._trapFocus=function(){var e=t.Keyboard.findFocusable(this.$element),i=e.eq(0),n=e.eq(-1);e.off(".zf.offcanvas").on("keydown.zf.offcanvas",function(e){(9===e.which||9===e.keycode)&&(e.target!==n[0]||e.shiftKey||(e.preventDefault(),i.focus()),e.target===i[0]&&e.shiftKey&&(e.preventDefault(),n.focus()))})},i.prototype.close=function(){if(this.$element.hasClass("is-open")&&!this.isRevealed){var t=this;e("[data-off-canvas-wrapper]").removeClass("is-off-canvas-open is-open-"+t.options.position),t.$element.removeClass("is-open"),this.$element.attr("aria-hidden","true").trigger("closed.zf.offcanvas"),this.options.closeOnClick&&this.$exiter.removeClass("is-visible"),this.$lastTrigger.attr("aria-expanded","false"),this.options.trapFocus&&e("[data-off-canvas-content]").removeAttr("tabindex")}},i.prototype.toggle=function(e,t){this.$element.hasClass("is-open")?this.close(e,t):this.open(e,t)},i.prototype._handleKeyboard=function(e){27===e.which&&(e.stopPropagation(),e.preventDefault(),this.close(),this.$lastTrigger.focus())},i.prototype.destroy=function(){this.close(),this.$element.off(".zf.trigger .zf.offcanvas"),this.$exiter.off(".zf.offcanvas"),t.unregisterPlugin(this)},t.plugin(i,"OffCanvas")}(jQuery,Foundation),!function(e,t){"use strict";function i(n,r){this.$element=n,this.options=e.extend({},i.defaults,this.$element.data(),r),this._init(),t.registerPlugin(this,"Orbit"),t.Keyboard.register("Orbit",{ltr:{ARROW_RIGHT:"next",ARROW_LEFT:"previous"},rtl:{ARROW_LEFT:"next",ARROW_RIGHT:"previous"}})}i.defaults={bullets:!0,navButtons:!0,animInFromRight:"slide-in-right",animOutToRight:"slide-out-right",animInFromLeft:"slide-in-left",animOutToLeft:"slide-out-left",autoPlay:!0,timerDelay:5e3,infiniteWrap:!0,swipe:!0,pauseOnHover:!0,accessible:!0,containerClass:"orbit-container",slideClass:"orbit-slide",boxOfBullets:"orbit-bullets",nextClass:"orbit-next",prevClass:"orbit-previous",useMUI:!0},i.prototype._init=function(){this.$wrapper=this.$element.find("."+this.options.containerClass),this.$slides=this.$element.find("."+this.options.slideClass);var e=this.$element.find("img"),i=this.$slides.filter(".is-active");i.length||this.$slides.eq(0).addClass("is-active"),this.options.useMUI||this.$slides.addClass("no-motionui"),e.length?t.onImagesLoaded(e,this._prepareForOrbit.bind(this)):this._prepareForOrbit(),this.options.bullets&&this._loadBullets(),this._events(),this.options.autoPlay&&this.$slides.length>1&&this.geoSync(),this.options.accessible&&this.$wrapper.attr("tabindex",0)},i.prototype._loadBullets=function(){this.$bullets=this.$element.find("."+this.options.boxOfBullets).find("button")},i.prototype.geoSync=function(){var e=this;this.timer=new t.Timer(this.$element,{duration:this.options.timerDelay,infinite:!1},function(){e.changeSlide(!0)}),this.timer.start()},i.prototype._prepareForOrbit=function(){var e=this;this._setWrapperHeight(function(t){e._setSlideHeight(t)})},i.prototype._setWrapperHeight=function(t){var i,n=0,r=0;this.$slides.each(function(){i=this.getBoundingClientRect().height,e(this).attr("data-slide",r),r&&e(this).css({position:"relative",display:"none"}),n=i>n?i:n,r++}),r===this.$slides.length&&(this.$wrapper.css({height:n}),t(n))},i.prototype._setSlideHeight=function(t){this.$slides.each(function(){e(this).css("max-height",t)})},i.prototype._events=function(){var i=this;if(this.$slides.length>1){if(this.options.swipe&&this.$slides.off("swipeleft.zf.orbit swiperight.zf.orbit").on("swipeleft.zf.orbit",function(e){e.preventDefault(),i.changeSlide(!0)}).on("swiperight.zf.orbit",function(e){e.preventDefault(),i.changeSlide(!1)}),this.options.autoPlay&&(this.$slides.on("click.zf.orbit",function(){i.$element.data("clickedOn",i.$element.data("clickedOn")?!1:!0),i.timer[i.$element.data("clickedOn")?"pause":"start"]()}),this.options.pauseOnHover&&this.$element.on("mouseenter.zf.orbit",function(){i.timer.pause()}).on("mouseleave.zf.orbit",function(){i.$element.data("clickedOn")||i.timer.start()})),this.options.navButtons){var n=this.$element.find("."+this.options.nextClass+", ."+this.options.prevClass);n.attr("tabindex",0).on("click.zf.orbit touchend.zf.orbit",function(){i.changeSlide(e(this).hasClass(i.options.nextClass))})}this.options.bullets&&this.$bullets.on("click.zf.orbit touchend.zf.orbit",function(){if(/is-active/g.test(this.className))return!1;var t=e(this).data("slide"),n=t>i.$slides.filter(".is-active").data("slide"),r=i.$slides.eq(t);i.changeSlide(n,r,t)}),this.$wrapper.add(this.$bullets).on("keydown.zf.orbit",function(n){t.Keyboard.handleKey(n,"Orbit",{next:function(){i.changeSlide(!0)},previous:function(){i.changeSlide(!1)},handled:function(){e(n.target).is(i.$bullets)&&i.$bullets.filter(".is-active").focus()}})})}},i.prototype.changeSlide=function(e,i,n){var r=this.$slides.filter(".is-active").eq(0);if(/mui/g.test(r[0].className))return!1;var s,o=this.$slides.first(),a=this.$slides.last(),l=e?"Right":"Left",c=e?"Left":"Right",u=this;s=i?i:e?this.options.infiniteWrap?r.next("."+this.options.slideClass).length?r.next("."+this.options.slideClass):o:r.next("."+this.options.slideClass):this.options.infiniteWrap?r.prev("."+this.options.slideClass).length?r.prev("."+this.options.slideClass):a:r.prev("."+this.options.slideClass),s.length&&(this.options.bullets&&(n=n||this.$slides.index(s),this._updateBullets(n)),this.options.useMUI?(t.Motion.animateIn(s.addClass("is-active").css({position:"absolute",top:0}),this.options["animInFrom"+l],function(){s.css({position:"relative",display:"block"}).attr("aria-live","polite")}),t.Motion.animateOut(r.removeClass("is-active"),this.options["animOutTo"+c],function(){r.removeAttr("aria-live"),u.options.autoPlay&&!u.timer.isPaused&&u.timer.restart()})):(r.removeClass("is-active is-in").removeAttr("aria-live").hide(),s.addClass("is-active is-in").attr("aria-live","polite").show(),this.options.autoPlay&&!this.timer.isPaused&&this.timer.restart()),this.$element.trigger("slidechange.zf.orbit",[s]))},i.prototype._updateBullets=function(e){{var t=this.$element.find("."+this.options.boxOfBullets).find(".is-active").removeClass("is-active").blur(),i=t.find("span:last").detach();this.$bullets.eq(e).addClass("is-active").append(i)}},i.prototype.destroy=function(){this.$element.off(".zf.orbit").find("*").off(".zf.orbit").end().hide(),t.unregisterPlugin(this)},t.plugin(i,"Orbit")}(jQuery,window.Foundation),!function(e,t){"use strict";function i(i){this.$element=t(i),this.rules=this.$element.data("responsive-menu"),this.currentMq=null,this.currentPlugin=null,this._init(),this._events(),e.registerPlugin(this,"ResponsiveMenu")}var n={dropdown:{cssClass:"dropdown",plugin:e._plugins["dropdown-menu"]||null},drilldown:{cssClass:"drilldown",plugin:e._plugins.drilldown||null},accordion:{cssClass:"accordion-menu",plugin:e._plugins["accordion-menu"]||null}};i.defaults={},i.prototype._init=function(){for(var e={},i=this.rules.split(" "),r=0;r<i.length;r++){var s=i[r].split("-"),o=s.length>1?s[0]:"small",a=s.length>1?s[1]:s[0];null!==n[a]&&(e[o]=n[a])}this.rules=e,t.isEmptyObject(e)||this._checkMediaQueries()},i.prototype._events=function(){var e=this;t(window).on("changed.zf.mediaquery",function(){e._checkMediaQueries()})},i.prototype._checkMediaQueries=function(){var i,r=this;t.each(this.rules,function(t){e.MediaQuery.atLeast(t)&&(i=t)}),i&&(this.currentPlugin instanceof this.rules[i].plugin||(t.each(n,function(e,t){r.$element.removeClass(t.cssClass)}),this.$element.addClass(this.rules[i].cssClass),this.currentPlugin&&this.currentPlugin.destroy(),this.currentPlugin=new this.rules[i].plugin(this.$element,{})))},i.prototype.destroy=function(){this.currentPlugin.destroy(),t(window).off(".zf.ResponsiveMenu"),e.unregisterPlugin(this)},e.plugin(i,"ResponsiveMenu")}(Foundation,jQuery),!function(e,t){"use strict";function i(n,r){this.$element=e(n),this.options=e.extend({},i.defaults,this.$element.data(),r),this._init(),this._events(),t.registerPlugin(this,"ResponsiveToggle")}i.defaults={hideFor:"medium"},i.prototype._init=function(){var t=this.$element.data("responsive-toggle");t||console.error("Your tab bar needs an ID of a Menu as the value of data-tab-bar."),this.$targetMenu=e("#"+t),this.$toggler=this.$element.find("[data-toggle]"),this._update()},i.prototype._events=function(){e(window).on("changed.zf.mediaquery",this._update.bind(this)),this.$toggler.on("click.zf.responsiveToggle",this.toggleMenu.bind(this))},i.prototype._update=function(){t.MediaQuery.atLeast(this.options.hideFor)?(this.$element.hide(),this.$targetMenu.show()):(this.$element.show(),this.$targetMenu.hide())},i.prototype.toggleMenu=function(){t.MediaQuery.atLeast(this.options.hideFor)||(this.$targetMenu.toggle(0),this.$element.trigger("toggled.zf.responsiveToggle"))},i.prototype.destroy=function(){},t.plugin(i,"ResponsiveToggle")}(jQuery,Foundation),!function(e,t){"use strict";function i(n,r){this.$element=n,this.options=t.extend({},i.defaults,this.$element.data(),r),this._init(),e.registerPlugin(this,"Reveal"),e.Keyboard.register("Reveal",{ENTER:"open",SPACE:"open",ESCAPE:"close",TAB:"tab_forward",SHIFT_TAB:"tab_backward"})}i.defaults={animationIn:"",animationOut:"",showDelay:0,hideDelay:0,closeOnClick:!0,closeOnEsc:!0,multipleOpened:!1,vOffset:100,hOffset:0,fullScreen:!1,btmOffsetPct:10,overlay:!0,resetOnClose:!1,deepLink:!1},i.prototype._init=function(){if(this.id=this.$element.attr("id"),this.isActive=!1,this.$anchor=t(t('[data-open="'+this.id+'"]').length?'[data-open="'+this.id+'"]':'[data-toggle="'+this.id+'"]'),this.$anchor.length){var i=this.$anchor[0].id||e.GetYoDigits(6,"reveal");this.$anchor.attr({"aria-controls":this.id,id:i,"aria-haspopup":!0,tabindex:0}),this.$element.attr({"aria-labelledby":i})}(this.options.fullScreen||this.$element.hasClass("full"))&&(this.options.fullScreen=!0,this.options.overlay=!1),this.options.overlay&&!this.$overlay&&(this.$overlay=this._makeOverlay(this.id)),this.$element.attr({role:"dialog","aria-hidden":!0,"data-yeti-box":this.id,"data-resize":this.id}),this._events(),this.options.deepLink&&window.location.hash==="#"+this.id&&t(window).one("load.zf.reveal",this.open.bind(this))},i.prototype._makeOverlay=function(e){var i=t("<div></div>").addClass("reveal-overlay").attr({tabindex:-1,"aria-hidden":!0}).appendTo("body");return this.options.closeOnClick&&i.attr({"data-close":e}),i},i.prototype._events=function(){var e=this;this.$element.on({"open.zf.trigger":this.open.bind(this),"close.zf.trigger":this.close.bind(this),"toggle.zf.trigger":this.toggle.bind(this),"resizeme.zf.trigger":function(){e.$element.is(":visible")&&e._setPosition(function(){})}}),this.$anchor.length&&this.$anchor.on("keydown.zf.reveal",function(t){(13===t.which||32===t.which)&&(t.stopPropagation(),t.preventDefault(),e.open())}),this.options.closeOnClick&&this.options.overlay&&this.$overlay.off(".zf.reveal").on("click.zf.reveal",this.close.bind(this)),this.options.deepLink&&t(window).on("popstate.zf.reveal:"+this.id,this._handleState.bind(this))},i.prototype._handleState=function(){window.location.hash!=="#"+this.id||this.isActive?this.close():this.open()},i.prototype._setPosition=function(t){var i=e.Box.GetDimensions(this.$element),n=this.options.fullScreen?"reveal full":i.height>=.5*i.windowDims.height?"reveal":"center";"reveal full"===n?this.$element.offset(e.Box.GetOffsets(this.$element,null,n,this.options.vOffset)).css({height:i.windowDims.height,width:i.windowDims.width}):e.MediaQuery.atLeast("medium")&&e.Box.ImNotTouchingYou(this.$element,null,!0,!1)?this.$element.css({"max-height":i.windowDims.height-this.options.vOffset*(this.options.btmOffsetPct/100+1),width:""}).offset(e.Box.GetOffsets(this.$element,null,n,this.options.vOffset)):(this.$element.css({width:i.windowDims.width-2*this.options.hOffset}).offset(e.Box.GetOffsets(this.$element,null,"center",this.options.vOffset,this.options.hOffset)),this.changedSize=!0),t()},i.prototype.open=function(){if(this.options.deepLink){var i="#"+this.id;window.history.pushState?window.history.pushState(null,null,i):window.location.hash=i}var n=this;this.isActive=!0,this.$element.css({visibility:"hidden"}).show().scrollTop(0),this._setPosition(function(){n.$element.hide().css({visibility:""}),n.options.multipleOpened||n.$element.trigger("closeme.zf.reveal",n.id),n.options.animationIn?n.options.overlay?e.Motion.animateIn(n.$overlay,"fade-in",function(){e.Motion.animateIn(n.$element,n.options.animationIn,function(){n.focusableElements=e.Keyboard.findFocusable(n.$element)})}):e.Motion.animateIn(n.$element,n.options.animationIn,function(){n.focusableElements=e.Keyboard.findFocusable(n.$element)}):n.options.overlay?n.$overlay.show(0,function(){n.$element.show(n.options.showDelay,function(){})}):n.$element.show(n.options.showDelay,function(){})}),this.$element.attr({"aria-hidden":!1}).attr("tabindex",-1).focus().trigger("open.zf.reveal"),t("body").addClass("is-reveal-open").attr({"aria-hidden":this.options.overlay||this.options.fullScreen?!0:!1}),setTimeout(function(){n._extraHandlers()
},0)},i.prototype._extraHandlers=function(){var i=this;this.focusableElements=e.Keyboard.findFocusable(this.$element),this.options.overlay||!this.options.closeOnClick||this.options.fullScreen||t("body").on("click.zf.reveal",function(e){e.target===i.$element[0]||t.contains(i.$element[0],e.target)||i.close()}),this.options.closeOnEsc&&t(window).on("keydown.zf.reveal",function(t){e.Keyboard.handleKey(t,"Reveal",{close:function(){i.options.closeOnEsc&&(i.close(),i.$anchor.focus())}}),0===i.focusableElements.length&&t.preventDefault()}),this.$element.on("keydown.zf.reveal",function(n){var r=t(this);e.Keyboard.handleKey(n,"Reveal",{tab_forward:function(){i.$element.find(":focus").is(i.focusableElements.eq(-1))&&(i.focusableElements.eq(0).focus(),n.preventDefault())},tab_backward:function(){(i.$element.find(":focus").is(i.focusableElements.eq(0))||i.$element.is(":focus"))&&(i.focusableElements.eq(-1).focus(),n.preventDefault())},open:function(){i.$element.find(":focus").is(i.$element.find("[data-close]"))?setTimeout(function(){i.$anchor.focus()},1):r.is(i.focusableElements)&&i.open()},close:function(){i.options.closeOnEsc&&(i.close(),i.$anchor.focus())}})})},i.prototype.close=function(){function i(){n.changedSize&&n.$element.css({height:"",width:""}),t("body").removeClass("is-reveal-open").attr({"aria-hidden":!1,tabindex:""}),n.$element.attr({"aria-hidden":!0}).trigger("closed.zf.reveal")}if(!this.isActive||!this.$element.is(":visible"))return!1;var n=this;this.options.animationOut?e.Motion.animateOut(this.$element,this.options.animationOut,function(){n.options.overlay?e.Motion.animateOut(n.$overlay,"fade-out",i):i()}):this.$element.hide(n.options.hideDelay,function(){n.options.overlay?n.$overlay.hide(0,i):i()}),this.options.closeOnEsc&&t(window).off("keydown.zf.reveal"),!this.options.overlay&&this.options.closeOnClick&&t("body").off("click.zf.reveal"),this.$element.off("keydown.zf.reveal"),this.options.resetOnClose&&this.$element.html(this.$element.html()),this.isActive=!1,n.options.deepLink&&(window.history.replaceState?window.history.replaceState("",document.title,window.location.pathname):window.location.hash="")},i.prototype.toggle=function(){this.isActive?this.close():this.open()},i.prototype.destroy=function(){this.options.overlay&&this.$overlay.hide().off().remove(),this.$element.hide().off(),this.$anchor.off(".zf"),t(window).off(".zf.reveal:"+this.id),e.unregisterPlugin(this)},e.plugin(i,"Reveal"),"undefined"!=typeof module&&"undefined"!=typeof module.exports&&(module.exports=i),"function"==typeof define&&define(["foundation"],function(){return i})}(Foundation,jQuery),!function(e,t){"use strict";function i(n,r){this.$element=n,this.options=e.extend({},i.defaults,this.$element.data(),r),this._init(),t.registerPlugin(this,"Slider"),t.Keyboard.register("Slider",{ltr:{ARROW_RIGHT:"increase",ARROW_UP:"increase",ARROW_DOWN:"decrease",ARROW_LEFT:"decrease",SHIFT_ARROW_RIGHT:"increase_fast",SHIFT_ARROW_UP:"increase_fast",SHIFT_ARROW_DOWN:"decrease_fast",SHIFT_ARROW_LEFT:"decrease_fast"},rtl:{ARROW_LEFT:"increase",ARROW_RIGHT:"decrease",SHIFT_ARROW_LEFT:"increase_fast",SHIFT_ARROW_RIGHT:"decrease_fast"}})}function n(e,t){return e/t}function r(e,t,i,n){return Math.abs(e.position()[t]+e[n]()/2-i)}i.defaults={start:0,end:100,step:1,initialStart:0,initialEnd:100,binding:!1,clickSelect:!0,vertical:!1,draggable:!0,disabled:!1,doubleSided:!1,decimal:2,moveTime:200,disabledClass:"disabled",invertVertical:!1},i.prototype._init=function(){this.inputs=this.$element.find("input"),this.handles=this.$element.find("[data-slider-handle]"),this.$handle=this.handles.eq(0),this.$input=this.inputs.length?this.inputs.eq(0):e("#"+this.$handle.attr("aria-controls")),this.$fill=this.$element.find("[data-slider-fill]").css(this.options.vertical?"height":"width",0);var t=!1,i=this;(this.options.disabled||this.$element.hasClass(this.options.disabledClass))&&(this.options.disabled=!0,this.$element.addClass(this.options.disabledClass)),this.inputs.length||(this.inputs=e().add(this.$input),this.options.binding=!0),this._setInitAttr(0),this._events(this.$handle),this.handles[1]&&(this.options.doubleSided=!0,this.$handle2=this.handles.eq(1),this.$input2=this.inputs.length>1?this.inputs.eq(1):e("#"+this.$handle2.attr("aria-controls")),this.inputs[1]||(this.inputs=this.inputs.add(this.$input2)),t=!0,this._setHandlePos(this.$handle,this.options.initialStart,!0,function(){i._setHandlePos(i.$handle2,i.options.initialEnd,!0)}),this._setInitAttr(1),this._events(this.$handle2)),t||this._setHandlePos(this.$handle,this.options.initialStart,!0)},i.prototype._setHandlePos=function(e,i,r,s){i=parseFloat(i),i<this.options.start?i=this.options.start:i>this.options.end&&(i=this.options.end);var o=this.options.doubleSided;if(o)if(0===this.handles.index(e)){var a=parseFloat(this.$handle2.attr("aria-valuenow"));i=i>=a?a-this.options.step:i}else{var l=parseFloat(this.$handle.attr("aria-valuenow"));i=l>=i?l+this.options.step:i}this.options.vertical&&!r&&(i=this.options.end-i);var c=this,u=this.options.vertical,d=u?"height":"width",h=u?"top":"left",f=e[0].getBoundingClientRect()[d],p=this.$element[0].getBoundingClientRect()[d],g=n(i,this.options.end).toFixed(2),m=(p-f)*g,v=(100*n(m,p)).toFixed(this.options.decimal),i=parseFloat(i.toFixed(this.options.decimal)),y={};if(this._setValues(e,i),o){var b,w=0===this.handles.index(e),x=~~(100*n(f,p));if(w)y[h]=v+"%",b=parseFloat(this.$handle2[0].style[h])-v+x,s&&"function"==typeof s&&s();else{var k=parseFloat(this.$handle[0].style[h]);b=v-(isNaN(k)?this.options.initialStart:k)+x}y["min-"+d]=b+"%"}this.$element.one("finished.zf.animate",function(){c.$element.trigger("moved.zf.slider",[e])});var _=this.$element.data("dragging")?1e3/60:this.options.moveTime;t.Move(_,e,function(){e.css(h,v+"%"),c.options.doubleSided?c.$fill.css(y):c.$fill.css(d,100*g+"%")})},i.prototype._setInitAttr=function(e){var i=this.inputs.eq(e).attr("id")||t.GetYoDigits(6,"slider");this.inputs.eq(e).attr({id:i,max:this.options.end,min:this.options.start}),this.handles.eq(e).attr({role:"slider","aria-controls":i,"aria-valuemax":this.options.end,"aria-valuemin":this.options.start,"aria-valuenow":0===e?this.options.initialStart:this.options.initialEnd,"aria-orientation":this.options.vertical?"vertical":"horizontal",tabindex:0})},i.prototype._setValues=function(e,t){var i=this.options.doubleSided?this.handles.index(e):0;this.inputs.eq(i).val(t),e.attr("aria-valuenow",t)},i.prototype._handleEvent=function(e,i,s){var o,a;if(s)o=s,a=!0;else{e.preventDefault();var l=this.options.vertical,c=l?"height":"width",u=l?"top":"left",d=l?e.pageY:e.pageX,h=this.$handle[0].getBoundingClientRect()[c]/2,f=this.$element[0].getBoundingClientRect()[c],p=this.$element.offset()[u]-d,g=p>0?-h:-f>p-h?f:Math.abs(p),m=n(g,f);if(o=(this.options.end-this.options.start)*m,t.rtl()&&!this.options.vertical&&(o=this.options.end-o),a=!1,!i){var v=r(this.$handle,u,g,c),y=r(this.$handle2,u,g,c);i=y>=v?this.$handle:this.$handle2}}this._setHandlePos(i,o,a)},i.prototype._events=function(i){if(this.options.disabled)return!1;var n,r=this;if(this.inputs.off("change.zf.slider").on("change.zf.slider",function(t){var i=r.inputs.index(e(this));r._handleEvent(t,r.handles.eq(i),e(this).val())}),this.options.clickSelect&&this.$element.off("click.zf.slider").on("click.zf.slider",function(e){return r.$element.data("dragging")?!1:void(r.options.doubleSided?r._handleEvent(e):r._handleEvent(e,r.$handle))}),this.options.draggable){this.handles.addTouch();var s=e("body");i.off("mousedown.zf.slider").on("mousedown.zf.slider",function(t){i.addClass("is-dragging"),r.$fill.addClass("is-dragging"),r.$element.data("dragging",!0),n=e(t.currentTarget),s.on("mousemove.zf.slider",function(e){e.preventDefault(),r._handleEvent(e,n)}).on("mouseup.zf.slider",function(e){r._handleEvent(e,n),i.removeClass("is-dragging"),r.$fill.removeClass("is-dragging"),r.$element.data("dragging",!1),s.off("mousemove.zf.slider mouseup.zf.slider")})})}i.off("keydown.zf.slider").on("keydown.zf.slider",function(i){var n,s=e(this),o=r.options.doubleSided?r.handles.index(s):0,a=parseFloat(r.inputs.eq(o).val());t.Keyboard.handleKey(i,"Slider",{decrease:function(){n=a-r.options.step},increase:function(){n=a+r.options.step},decrease_fast:function(){n=a-10*r.options.step},increase_fast:function(){n=a+10*r.options.step},handled:function(){i.preventDefault(),r._setHandlePos(s,n,!0)}})})},i.prototype.destroy=function(){this.handles.off(".zf.slider"),this.inputs.off(".zf.slider"),this.$element.off(".zf.slider"),t.unregisterPlugin(this)},t.plugin(i,"Slider")}(jQuery,window.Foundation),!function(e,t){"use strict";function i(n,r){this.$element=n,this.options=e.extend({},i.defaults,this.$element.data(),r),this._init(),t.registerPlugin(this,"Sticky")}function n(e){return parseInt(window.getComputedStyle(document.body,null).fontSize,10)*e}i.defaults={container:"<div data-sticky-container></div>",stickTo:"top",anchor:"",topAnchor:"",btmAnchor:"",marginTop:1,marginBottom:1,stickyOn:"medium",stickyClass:"sticky",containerClass:"sticky-container",checkEvery:-1},i.prototype._init=function(){var i=this.$element.parent("[data-sticky-container]"),n=this.$element[0].id||t.GetYoDigits(6,"sticky"),r=this;i.length||(this.wasWrapped=!0),this.$container=i.length?i:e(this.options.container).wrapInner(this.$element),this.$container.addClass(this.options.containerClass),this.$element.addClass(this.options.stickyClass).attr({"data-resize":n}),this.scrollCount=this.options.checkEvery,this.isStuck=!1,""!==this.options.anchor?this.$anchor=e("#"+this.options.anchor):this._parsePoints(),this._setSizes(function(){r._calc(!1)}),this._events(n.split("-").reverse().join("-"))},i.prototype._parsePoints=function(){var t=this.options.topAnchor,i=this.options.btmAnchor,n=[t,i],r={};if(t&&i)for(var s=0,o=n.length;o>s&&n[s];s++){var a;if("number"==typeof n[s])a=n[s];else{var l=n[s].split(":"),c=e("#"+l[0]);a=c.offset().top,l[1]&&"bottom"===l[1].toLowerCase()&&(a+=c[0].getBoundingClientRect().height)}r[s]=a}else r={0:1,1:document.documentElement.scrollHeight};this.points=r},i.prototype._events=function(t){var i=this,n=this.scrollListener="scroll.zf."+t;this.isOn||(this.canStick&&(this.isOn=!0,e(window).off(n).on(n,function(){0===i.scrollCount?(i.scrollCount=i.options.checkEvery,i._setSizes(function(){i._calc(!1,window.pageYOffset)})):(i.scrollCount--,i._calc(!1,window.pageYOffset))})),this.$element.off("resizeme.zf.trigger").on("resizeme.zf.trigger",function(){i._setSizes(function(){i._calc(!1),i.canStick?i.isOn||i._events(t):i.isOn&&i._pauseListeners(n)})}))},i.prototype._pauseListeners=function(t){this.isOn=!1,e(window).off(t),this.$element.trigger("pause.zf.sticky")},i.prototype._calc=function(e,t){return e&&this._setSizes(),this.canStick?(t||(t=window.pageYOffset),void(t>=this.topPoint?t<=this.bottomPoint?this.isStuck||this._setSticky():this.isStuck&&this._removeSticky(!1):this.isStuck&&this._removeSticky(!0))):(this.isStuck&&this._removeSticky(!0),!1)},i.prototype._setSticky=function(){var e=this.options.stickTo,t="top"===e?"marginTop":"marginBottom",i="top"===e?"bottom":"top",n={};n[t]=this.options[t]+"em",n[e]=0,n[i]="auto",n.left=this.$container.offset().left+parseInt(window.getComputedStyle(this.$container[0])["padding-left"],10),this.isStuck=!0,this.$element.removeClass("is-anchored is-at-"+i).addClass("is-stuck is-at-"+e).css(n).trigger("sticky.zf.stuckto:"+e)},i.prototype._removeSticky=function(e){var t=this.options.stickTo,i="top"===t,n={},r=(this.points?this.points[1]-this.points[0]:this.anchorHeight)-this.elemHeight,s=i?"marginTop":"marginBottom",o=i?"bottom":"top",a=e?"top":"bottom";n[s]=0,e&&!i||i&&!e?(n[t]=r,n[o]=0):(n[t]=0,n[o]=r),n.left="",this.isStuck=!1,this.$element.removeClass("is-stuck is-at-"+t).addClass("is-anchored is-at-"+a).css(n).trigger("sticky.zf.unstuckfrom:"+a)},i.prototype._setSizes=function(e){this.canStick=t.MediaQuery.atLeast(this.options.stickyOn),this.canStick||e();var i=this.$container[0].getBoundingClientRect().width,n=window.getComputedStyle(this.$container[0]),r=parseInt(n["padding-right"],10);this.$anchor&&this.$anchor.length?this.anchorHeight=this.$anchor[0].getBoundingClientRect().height:this._parsePoints(),this.$element.css({"max-width":i-r+"px"});var s=this.$element[0].getBoundingClientRect().height||this.containerHeight;this.containerHeight=s,this.$container.css({height:s}),this.elemHeight=s,this.isStuck&&this.$element.css({left:this.$container.offset().left+parseInt(n["padding-left"],10)}),this._setBreakPoints(s,function(){e&&e()})},i.prototype._setBreakPoints=function(e,t){if(!this.canStick){if(!t)return!1;t()}var i=n(this.options.marginTop),r=n(this.options.marginBottom),s=this.points?this.points[0]:this.$anchor.offset().top,o=this.points?this.points[1]:s+this.anchorHeight,a=window.innerHeight;"top"===this.options.stickTo?(s-=i,o-=e+i):"bottom"===this.options.stickTo&&(s-=a-(e+r),o-=a-r),this.topPoint=s,this.bottomPoint=o,t&&t()},i.prototype.destroy=function(){this._removeSticky(!0),this.$element.removeClass(this.options.stickyClass+" is-anchored is-at-top").css({height:"",top:"",bottom:"","max-width":""}).off("resizeme.zf.trigger"),this.$anchor.off("change.zf.sticky"),e(window).off(this.scrollListener),this.wasWrapped?this.$element.unwrap():this.$container.removeClass(this.options.containerClass).css({height:""}),t.unregisterPlugin(this)},t.plugin(i,"Sticky")}(jQuery,window.Foundation),!function(e,t){"use strict";function i(n,r){this.$element=n,this.options=e.extend({},i.defaults,this.$element.data(),r),this._init(),t.registerPlugin(this,"Tabs"),t.Keyboard.register("Tabs",{ENTER:"open",SPACE:"open",ARROW_RIGHT:"next",ARROW_UP:"previous",ARROW_DOWN:"next",ARROW_LEFT:"previous"})}i.defaults={autoFocus:!1,wrapOnKeys:!0,matchHeight:!1,linkClass:"tabs-title",panelClass:"tabs-panel"},i.prototype._init=function(){var i=this;if(this.$tabTitles=this.$element.find("."+this.options.linkClass),this.$tabContent=e('[data-tabs-content="'+this.$element[0].id+'"]'),this.$tabTitles.each(function(){var t=e(this),n=t.find("a"),r=t.hasClass("is-active"),s=n[0].hash.slice(1),o=n[0].id?n[0].id:s+"-label",a=e("#"+s);t.attr({role:"presentation"}),n.attr({role:"tab","aria-controls":s,"aria-selected":r,id:o}),a.attr({role:"tabpanel","aria-hidden":!r,"aria-labelledby":o}),r&&i.options.autoFocus&&n.focus()}),this.options.matchHeight){var n=this.$tabContent.find("img");n.length?t.onImagesLoaded(n,this._setHeight.bind(this)):this._setHeight()}this._events()},i.prototype._events=function(){this._addKeyHandler(),this._addClickHandler(),this.options.matchHeight&&e(window).on("changed.zf.mediaquery",this._setHeight.bind(this))},i.prototype._addClickHandler=function(){var t=this;this.$element.off("click.zf.tabs").on("click.zf.tabs","."+this.options.linkClass,function(i){i.preventDefault(),i.stopPropagation(),e(this).hasClass("is-active")||t._handleTabChange(e(this))})},i.prototype._addKeyHandler=function(){{var i=this;i.$element.find("li:first-of-type"),i.$element.find("li:last-of-type")}this.$tabTitles.off("keydown.zf.tabs").on("keydown.zf.tabs",function(n){if(9!==n.which){n.stopPropagation(),n.preventDefault();var r,s,o=e(this),a=o.parent("ul").children("li");a.each(function(t){return e(this).is(o)?void(i.options.wrapOnKeys?(r=0===t?a.last():a.eq(t-1),s=t===a.length-1?a.first():a.eq(t+1)):(r=a.eq(Math.max(0,t-1)),s=a.eq(Math.min(t+1,a.length-1)))):void 0}),t.Keyboard.handleKey(n,"Tabs",{open:function(){o.find('[role="tab"]').focus(),i._handleTabChange(o)},previous:function(){r.find('[role="tab"]').focus(),i._handleTabChange(r)},next:function(){s.find('[role="tab"]').focus(),i._handleTabChange(s)}})}})},i.prototype._handleTabChange=function(t){var i=t.find('[role="tab"]'),n=i[0].hash,r=e(n),s=this.$element.find("."+this.options.linkClass+".is-active").removeClass("is-active").find('[role="tab"]').attr({"aria-selected":"false"}).attr("aria-controls");e("#"+s).removeClass("is-active").attr({"aria-hidden":"true"}),t.addClass("is-active"),i.attr({"aria-selected":"true"}),r.addClass("is-active").attr({"aria-hidden":"false"}),this.$element.trigger("change.zf.tabs",[t])},i.prototype.selectTab=function(e){var t;t="object"==typeof e?e[0].id:e,t.indexOf("#")<0&&(t="#"+t);var i=this.$tabTitles.find('[href="'+t+'"]').parent("."+this.options.linkClass);this._handleTabChange(i)},i.prototype._setHeight=function(){var t=0;this.$tabContent.find("."+this.options.panelClass).css("height","").each(function(){var i=e(this),n=i.hasClass("is-active");n||i.css({visibility:"hidden",display:"block"});var r=this.getBoundingClientRect().height;n||i.css({visibility:"",display:""}),t=r>t?r:t}).css("height",t+"px")},i.prototype.destroy=function(){this.$element.find("."+this.options.linkClass).off(".zf.tabs").hide().end().find("."+this.options.panelClass).hide(),this.options.matchHeight&&e(window).off("changed.zf.mediaquery"),t.unregisterPlugin(this)},t.plugin(i,"Tabs")}(jQuery,window.Foundation),!function(e,t){"use strict";function i(n,r){this.$element=n,this.options=t.extend({},i.defaults,n.data(),r),this.className="",this._init(),this._events(),e.registerPlugin(this,"Toggler")}i.defaults={animate:!1},i.prototype._init=function(){var e;this.options.animate?(e=this.options.animate.split(" "),this.animationIn=e[0],this.animationOut=e[1]||null):(e=this.$element.data("toggler"),this.className="."===e[0]?e.slice(1):e);var i=this.$element[0].id;t('[data-open="'+i+'"], [data-close="'+i+'"], [data-toggle="'+i+'"]').attr("aria-controls",i),this.$element.attr("aria-expanded",this.$element.is(":hidden")?!1:!0)},i.prototype._events=function(){this.$element.off("toggle.zf.trigger").on("toggle.zf.trigger",this.toggle.bind(this))},i.prototype.toggle=function(){this[this.options.animate?"_toggleAnimate":"_toggleClass"]()},i.prototype._toggleClass=function(){this.$element.toggleClass(this.className);var e=this.$element.hasClass(this.className);this.$element.trigger(e?"on.zf.toggler":"off.zf.toggler"),this._updateARIA(e)},i.prototype._toggleAnimate=function(){var t=this;this.$element.is(":hidden")?e.Motion.animateIn(this.$element,this.animationIn,function(){this.trigger("on.zf.toggler"),t._updateARIA(!0)}):e.Motion.animateOut(this.$element,this.animationOut,function(){this.trigger("off.zf.toggler"),t._updateARIA(!1)})},i.prototype._updateARIA=function(e){this.$element.attr("aria-expanded",e?!0:!1)},i.prototype.destroy=function(){this.$element.off(".zf.toggler"),e.unregisterPlugin(this)},e.plugin(i,"Toggler"),"undefined"!=typeof module&&"undefined"!=typeof module.exports&&(module.exports=i),"function"==typeof define&&define(["foundation"],function(){return i})}(Foundation,jQuery),!function(e,t,i){"use strict";function n(t,r){this.$element=t,this.options=e.extend({},n.defaults,this.$element.data(),r),this.isActive=!1,this.isClick=!1,this._init(),i.registerPlugin(this,"Tooltip")}n.defaults={disableForTouch:!1,hoverDelay:200,fadeInDuration:150,fadeOutDuration:150,disableHover:!1,templateClasses:"",tooltipClass:"tooltip",triggerClass:"has-tip",showOn:"small",template:"",tipText:"",touchCloseText:"Tap to close.",clickOpen:!0,positionClass:"",vOffset:10,hOffset:12},n.prototype._init=function(){var n=this.$element.attr("aria-describedby")||i.GetYoDigits(6,"tooltip");this.options.positionClass=this._getPositionClass(this.$element),this.options.tipText=this.options.tipText||this.$element.attr("title"),this.template=this.options.template?e(this.options.template):this._buildTemplate(n),this.template.appendTo(t.body).text(this.options.tipText).hide(),this.$element.attr({title:"","aria-describedby":n,"data-yeti-box":n,"data-toggle":n,"data-resize":n}).addClass(this.triggerClass),this.usedPositions=[],this.counter=4,this.classChanged=!1,this._events()},n.prototype._getPositionClass=function(e){if(!e)return"";var t=e[0].className.match(/\b(top|left|right)\b/g);return t=t?t[0]:""},n.prototype._buildTemplate=function(t){var i=(this.options.tooltipClass+" "+this.options.positionClass+" "+this.options.templateClasses).trim(),n=e("<div></div>").addClass(i).attr({role:"tooltip","aria-hidden":!0,"data-is-active":!1,"data-is-focus":!1,id:t});return n},n.prototype._reposition=function(e){this.usedPositions.push(e?e:"bottom"),!e&&this.usedPositions.indexOf("top")<0?this.template.addClass("top"):"top"===e&&this.usedPositions.indexOf("bottom")<0?this.template.removeClass(e):"left"===e&&this.usedPositions.indexOf("right")<0?this.template.removeClass(e).addClass("right"):"right"===e&&this.usedPositions.indexOf("left")<0?this.template.removeClass(e).addClass("left"):!e&&this.usedPositions.indexOf("top")>-1&&this.usedPositions.indexOf("left")<0?this.template.addClass("left"):"top"===e&&this.usedPositions.indexOf("bottom")>-1&&this.usedPositions.indexOf("left")<0?this.template.removeClass(e).addClass("left"):this.template.removeClass("left"===e&&this.usedPositions.indexOf("right")>-1&&this.usedPositions.indexOf("bottom")<0?e:"right"===e&&this.usedPositions.indexOf("left")>-1&&this.usedPositions.indexOf("bottom")<0?e:e),this.classChanged=!0,this.counter--},n.prototype._setPosition=function(){{var e=this._getPositionClass(this.template),t=i.Box.GetDimensions(this.template),n=i.Box.GetDimensions(this.$element),r="left"===e?"left":"right"===e?"left":"top",s="top"===r?"height":"width";"height"===s?this.options.vOffset:this.options.hOffset}if(t.width>=t.windowDims.width||!this.counter&&!i.Box.ImNotTouchingYou(this.template))return this.template.offset(i.Box.GetOffsets(this.template,this.$element,"center bottom",this.options.vOffset,this.options.hOffset,!0)).css({width:n.windowDims.width-2*this.options.hOffset,height:"auto"}),!1;for(this.template.offset(i.Box.GetOffsets(this.template,this.$element,"center "+(e||"bottom"),this.options.vOffset,this.options.hOffset));!i.Box.ImNotTouchingYou(this.template)&&this.counter;)this._reposition(e),this._setPosition()},n.prototype.show=function(){if("all"!==this.options.showOn&&!i.MediaQuery.atLeast(this.options.showOn))return!1;var e=this;this.template.css("visibility","hidden").show(),this._setPosition(),this.$element.trigger("closeme.zf.tooltip",this.template.attr("id")),this.template.attr({"data-is-active":!0,"aria-hidden":!1}),e.isActive=!0,this.template.stop().hide().css("visibility","").fadeIn(this.options.fadeInDuration,function(){}),this.$element.trigger("show.zf.tooltip")},n.prototype.hide=function(){var e=this;this.template.stop().attr({"aria-hidden":!0,"data-is-active":!1}).fadeOut(this.options.fadeOutDuration,function(){e.isActive=!1,e.isClick=!1,e.classChanged&&(e.template.removeClass(e._getPositionClass(e.template)).addClass(e.options.positionClass),e.usedPositions=[],e.counter=4,e.classChanged=!1)}),this.$element.trigger("hide.zf.tooltip")},n.prototype._events=function(){var e=this,t=(this.template,!1);this.options.disableHover||this.$element.on("mouseenter.zf.tooltip",function(){e.isActive||(e.timeout=setTimeout(function(){e.show()},e.options.hoverDelay))}).on("mouseleave.zf.tooltip",function(){clearTimeout(e.timeout),(!t||!e.isClick&&e.options.clickOpen)&&e.hide()}),this.options.clickOpen&&this.$element.on("mousedown.zf.tooltip",function(t){t.stopImmediatePropagation(),e.isClick?e.hide():(e.isClick=!0,!e.options.disableHover&&e.$element.attr("tabindex")||e.isActive||e.show())}),this.options.disableForTouch||this.$element.on("tap.zf.tooltip touchend.zf.tooltip",function(){e.isActive?e.hide():e.show()}),this.$element.on({"close.zf.trigger":this.hide.bind(this)}),this.$element.on("focus.zf.tooltip",function(){return t=!0,e.isClick?!1:void e.show()}).on("focusout.zf.tooltip",function(){t=!1,e.isClick=!1,e.hide()}).on("resizeme.zf.trigger",function(){e.isActive&&e._setPosition()})},n.prototype.toggle=function(){this.isActive?this.hide():this.show()},n.prototype.destroy=function(){this.$element.attr("title",this.template.text()).off(".zf.trigger .zf.tootip").removeAttr("aria-describedby").removeAttr("data-yeti-box").removeAttr("data-toggle").removeAttr("data-resize"),this.template.remove(),i.unregisterPlugin(this)},i.plugin(n,"Tooltip")}(jQuery,window.document,window.Foundation),!function(e,t){var i=function(e,t,i,r){var s,o,a,l,c=n(e);if(t){var u=n(t);o=c.offset.top+c.height<=u.height+u.offset.top,s=c.offset.top>=u.offset.top,a=c.offset.left>=u.offset.left,l=c.offset.left+c.width<=u.width}else o=c.offset.top+c.height<=c.windowDims.height+c.windowDims.offset.top,s=c.offset.top>=c.windowDims.offset.top,a=c.offset.left>=c.windowDims.offset.left,l=c.offset.left+c.width<=c.windowDims.width;var d=[o,s,a,l];return i?a===l==!0:r?s===o==!0:-1===d.indexOf(!1)},n=function(e){if(e=e.length?e[0]:e,e===t||e===document)throw new Error("I'm sorry, Dave. I'm afraid I can't do that.");var i=e.getBoundingClientRect(),n=e.parentNode.getBoundingClientRect(),r=document.body.getBoundingClientRect(),s=t.pageYOffset,o=t.pageXOffset;return{width:i.width,height:i.height,offset:{top:i.top+s,left:i.left+o},parentDims:{width:n.width,height:n.height,offset:{top:n.top+s,left:n.left+o}},windowDims:{width:r.width,height:r.height,offset:{top:s,left:o}}}},r=function(e,t,i,r,s,o){var a=n(e),l=t?n(t):null;switch(i){case"top":return{left:l.offset.left,top:l.offset.top-(a.height+r)};case"left":return{left:l.offset.left-(a.width+s),top:l.offset.top};case"right":return{left:l.offset.left+l.width+s,top:l.offset.top};case"center top":return{left:l.offset.left+l.width/2-a.width/2,top:l.offset.top-(a.height+r)};case"center bottom":return{left:o?s:l.offset.left+l.width/2-a.width/2,top:l.offset.top+l.height+r};case"center left":return{left:l.offset.left-(a.width+s),top:l.offset.top+l.height/2-a.height/2};case"center right":return{left:l.offset.left+l.width+s+1,top:l.offset.top+l.height/2-a.height/2};case"center":return{left:a.windowDims.offset.left+a.windowDims.width/2-a.width/2,top:a.windowDims.offset.top+a.windowDims.height/2-a.height/2};case"reveal":return{left:(a.windowDims.width-a.width)/2,top:a.windowDims.offset.top+r};case"reveal full":return{left:a.windowDims.offset.left,top:a.windowDims.offset.top};default:return{left:l.offset.left,top:l.offset.top+l.height+r}}};e.Box={ImNotTouchingYou:i,GetDimensions:n,GetOffsets:r}}(window.Foundation,window),!function(e,t){"use strict";t.Keyboard={};var i={9:"TAB",13:"ENTER",27:"ESCAPE",32:"SPACE",37:"ARROW_LEFT",38:"ARROW_UP",39:"ARROW_RIGHT",40:"ARROW_DOWN"},n=function(e){var t={};for(var i in e)t[e[i]]=e[i];return t}(i);t.Keyboard.keys=n;var r=function(e){var t=i[e.which||e.keyCode]||String.fromCharCode(e.which).toUpperCase();return e.shiftKey&&(t="SHIFT_"+t),e.ctrlKey&&(t="CTRL_"+t),e.altKey&&(t="ALT_"+t),t};t.Keyboard.parseKey=r;var s={},o=function(i,n,o){var a,l,c,u=s[n],d=r(i);return u?(a="undefined"==typeof u.ltr?u:t.rtl()?e.extend({},u.ltr,u.rtl):e.extend({},u.rtl,u.ltr),l=a[d],c=o[l],void(c&&"function"==typeof c?(c.apply(),(o.handled||"function"==typeof o.handled)&&o.handled.apply()):(o.unhandled||"function"==typeof o.unhandled)&&o.unhandled.apply())):console.warn("Component not defined!")};t.Keyboard.handleKey=o;var a=function(t){return t.find("a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]").filter(function(){return!e(this).is(":visible")||e(this).attr("tabindex")<0?!1:!0})};t.Keyboard.findFocusable=a;var l=function(e,t){s[e]=t};t.Keyboard.register=l}(jQuery,window.Foundation),!function(e,t){function i(e){var t={};return"string"!=typeof e?t:(e=e.trim().slice(1,-1))?t=e.split("&").reduce(function(e,t){var i=t.replace(/\+/g," ").split("="),n=i[0],r=i[1];return n=decodeURIComponent(n),r=void 0===r?null:decodeURIComponent(r),e.hasOwnProperty(n)?Array.isArray(e[n])?e[n].push(r):e[n]=[e[n],r]:e[n]=r,e},{}):t}var n={queries:[],current:"",atLeast:function(e){var t=this.get(e);return t?window.matchMedia(t).matches:!1},get:function(e){for(var t in this.queries){var i=this.queries[t];if(e===i.name)return i.value}return null},_init:function(){var t,n=this,r=e(".foundation-mq").css("font-family");t=i(r);for(var s in t)n.queries.push({name:s,value:"only screen and (min-width: "+t[s]+")"});this.current=this._getCurrentSize(),this._watcher()},_getCurrentSize:function(){var e;for(var t in this.queries){var i=this.queries[t];window.matchMedia(i.value).matches&&(e=i)}return"object"==typeof e?e.name:e},_watcher:function(){var t=this;e(window).on("resize.zf.mediaquery",function(){var i=t._getCurrentSize();i!==t.current&&(e(window).trigger("changed.zf.mediaquery",[i,t.current]),t.current=i)})}};t.MediaQuery=n,window.matchMedia||(window.matchMedia=function(){"use strict";var e=window.styleMedia||window.media;if(!e){var t=document.createElement("style"),i=document.getElementsByTagName("script")[0],n=null;t.type="text/css",t.id="matchmediajs-test",i.parentNode.insertBefore(t,i),n="getComputedStyle"in window&&window.getComputedStyle(t,null)||t.currentStyle,e={matchMedium:function(e){var i="@media "+e+"{ #matchmediajs-test { width: 1px; } }";return t.styleSheet?t.styleSheet.cssText=i:t.textContent=i,"1px"===n.width}}}return function(t){return{matches:e.matchMedium(t||"all"),media:t||"all"}}}())}(jQuery,Foundation),!function(e,t){function i(i,s,o,a){function l(){i||s.hide(),c(),a&&a.apply(s)}function c(){s[0].style.transitionDuration=0,s.removeClass(u+" "+d+" "+o)}if(s=e(s).eq(0),s.length){var u=i?n[0]:n[1],d=i?r[0]:r[1];c(),s.addClass(o).css("transition","none"),requestAnimationFrame(function(){s.addClass(u),i&&s.show()}),requestAnimationFrame(function(){s[0].offsetWidth,s.css("transition",""),s.addClass(d)}),s.one(t.transitionend(s),l)}}var n=["mui-enter","mui-leave"],r=["mui-enter-active","mui-leave-active"],s={animateIn:function(e,t,n){i(!0,e,t,n)},animateOut:function(e,t,n){i(!1,e,t,n)}},o=function(e,t,i){function n(a){o||(o=window.performance.now()),s=a-o,i.apply(t),e>s?r=window.requestAnimationFrame(n,t):(window.cancelAnimationFrame(r),t.trigger("finished.zf.animate",[t]).triggerHandler("finished.zf.animate",[t]))}var r,s,o=null;r=window.requestAnimationFrame(n)};t.Move=o,t.Motion=s}(jQuery,Foundation),!function(e,t){"use strict";t.Nest={Feather:function(t,i){t.attr("role","menubar"),i=i||"zf";var n=t.find("li").attr({role:"menuitem"}),r="is-"+i+"-submenu",s=r+"-item",o="is-"+i+"-submenu-parent";t.find("a:first").attr("tabindex",0),n.each(function(){var t=e(this),i=t.children("ul");i.length&&(t.addClass(o).attr({"aria-haspopup":!0,"aria-expanded":!1,"aria-label":t.children("a:first").text()}),i.addClass("submenu "+r).attr({"data-submenu":"","aria-hidden":!0,role:"menu"})),t.parent("[data-submenu]").length&&t.addClass("is-submenu-item "+s)})},Burn:function(e,t){var i=(e.find("li").removeAttr("tabindex"),"is-"+t+"-submenu"),n=i+"-item",r="is-"+t+"-submenu-parent";e.find("*").removeClass(i+" "+n+" "+r+" is-submenu-item submenu is-active").removeAttr("data-submenu").css("display","")}}}(jQuery,window.Foundation),!function(e,t){"use strict";var i=function(e,t,i){var n,r,s=this,o=t.duration,a=Object.keys(e.data())[0]||"timer",l=-1;this.isPaused=!1,this.restart=function(){l=-1,clearTimeout(r),this.start()},this.start=function(){this.isPaused=!1,clearTimeout(r),l=0>=l?o:l,e.data("paused",!1),n=Date.now(),r=setTimeout(function(){t.infinite&&s.restart(),i()},l),e.trigger("timerstart.zf."+a)},this.pause=function(){this.isPaused=!0,clearTimeout(r),e.data("paused",!0);var t=Date.now();l-=t-n,e.trigger("timerpaused.zf."+a)}},n=function(t,i){var n=t.length;0===n&&i();var r=function(){n--,0===n&&i()};t.each(function(){this.complete?r():"undefined"!=typeof this.naturalWidth&&this.naturalWidth>0?r():e(this).one("load",function(){r()})})};t.Timer=i,t.onImagesLoaded=n}(jQuery,window.Foundation),function(e){function t(){this.removeEventListener("touchmove",i),this.removeEventListener("touchend",t),c=!1}function i(i){if(e.spotSwipe.preventDefault&&i.preventDefault(),c){var n,r=i.touches[0].pageX,o=(i.touches[0].pageY,s-r);l=(new Date).getTime()-a,Math.abs(o)>=e.spotSwipe.moveThreshold&&l<=e.spotSwipe.timeThreshold&&(n=o>0?"left":"right"),n&&(i.preventDefault(),t.call(this),e(this).trigger("swipe",n).trigger("swipe"+n))}}function n(e){1==e.touches.length&&(s=e.touches[0].pageX,o=e.touches[0].pageY,c=!0,a=(new Date).getTime(),this.addEventListener("touchmove",i,!1),this.addEventListener("touchend",t,!1))}function r(){this.addEventListener&&this.addEventListener("touchstart",n,!1)}e.spotSwipe={version:"1.0.0",enabled:"ontouchstart"in document.documentElement,preventDefault:!1,moveThreshold:75,timeThreshold:200};var s,o,a,l,c=!1;e.event.special.swipe={setup:r},e.each(["left","up","down","right"],function(){e.event.special["swipe"+this]={setup:function(){e(this).on("swipe",e.noop)}}})}(jQuery),!function(e){e.fn.addTouch=function(){this.each(function(i,n){e(n).bind("touchstart touchmove touchend touchcancel",function(){t(event)})});var t=function(e){var t,i=e.changedTouches,n=i[0],r={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup"},s=r[e.type];
"MouseEvent"in window&&"function"==typeof window.MouseEvent?t=window.MouseEvent(s,{bubbles:!0,cancelable:!0,screenX:n.screenX,screenY:n.screenY,clientX:n.clientX,clientY:n.clientY}):(t=document.createEvent("MouseEvent"),t.initMouseEvent(s,!0,!0,window,1,n.screenX,n.screenY,n.clientX,n.clientY,!1,!1,!1,!1,0,null)),n.target.dispatchEvent(t)}}}(jQuery),!function(e,t){"use strict";t(document).on("click.zf.trigger","[data-open]",function(){var e=t(this).data("open");t("#"+e).triggerHandler("open.zf.trigger",[t(this)])}),t(document).on("click.zf.trigger","[data-close]",function(){var e=t(this).data("close");e?t("#"+e).triggerHandler("close.zf.trigger",[t(this)]):t(this).trigger("close.zf.trigger")}),t(document).on("click.zf.trigger","[data-toggle]",function(){var e=t(this).data("toggle");t("#"+e).triggerHandler("toggle.zf.trigger",[t(this)])}),t(document).on("close.zf.trigger","[data-closable]",function(i){i.stopPropagation();var n=t(this).data("closable");""!==n?e.Motion.animateOut(t(this),n,function(){t(this).trigger("closed.zf")}):t(this).fadeOut().trigger("closed.zf")});var i=function(){for(var e=["WebKit","Moz","O","Ms",""],t=0;t<e.length;t++)if(e[t]+"MutationObserver"in window)return window[e[t]+"MutationObserver"];return!1}(),n=function(){a(),s(),o(),r()};t(window).load(function(){n()});var r=function(e){var i=t("[data-yeti-box]"),n=["dropdown","tooltip","reveal"];if(e&&("string"==typeof e?n.push(e):"object"==typeof e&&"string"==typeof e[0]?n.concat(e):console.error("Plugin names must be strings")),i.length){var r=n.map(function(e){return"closeme.zf."+e}).join(" ");t(window).off(r).on(r,function(e,i){var n=e.namespace.split(".")[0],r=t("[data-"+n+"]").not('[data-yeti-box="'+i+'"]');r.each(function(){var e=t(this);e.triggerHandler("close.zf.trigger",[e])})})}},s=function(e){var n,r=t("[data-resize]");r.length&&t(window).off("resize.zf.trigger").on("resize.zf.trigger",function(){n&&clearTimeout(n),n=setTimeout(function(){i||r.each(function(){t(this).triggerHandler("resizeme.zf.trigger")}),r.attr("data-events","resize")},e||10)})},o=function(e){var n,r=t("[data-scroll]");r.length&&t(window).off("scroll.zf.trigger").on("scroll.zf.trigger",function(){n&&clearTimeout(n),n=setTimeout(function(){i||r.each(function(){t(this).triggerHandler("scrollme.zf.trigger")}),r.attr("data-events","scroll")},e||10)})},a=function(){if(!i)return!1;var e=document.querySelectorAll("[data-resize], [data-scroll], [data-mutate]"),n=function(e){var i=t(e[0].target);switch(i.attr("data-events")){case"resize":i.triggerHandler("resizeme.zf.trigger",[i]);break;case"scroll":i.triggerHandler("scrollme.zf.trigger",[i,window.pageYOffset]);break;default:return!1}};if(e.length)for(var r=0;r<=e.length-1;r++){var s=new i(n);s.observe(e[r],{attributes:!0,childList:!1,characterData:!1,subtree:!1,attributeFilter:["data-events"]})}};e.IHearYou=n}(window.Foundation,window.jQuery),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){function t(t,n){var r,s,o,a=t.nodeName.toLowerCase();return"area"===a?(r=t.parentNode,s=r.name,t.href&&s&&"map"===r.nodeName.toLowerCase()?(o=e("img[usemap='#"+s+"']")[0],!!o&&i(o)):!1):(/^(input|select|textarea|button|object)$/.test(a)?!t.disabled:"a"===a?t.href||n:n)&&i(t)}function i(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return"hidden"===e.css(this,"visibility")}).length}e.ui=e.ui||{},e.extend(e.ui,{version:"1.11.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({scrollParent:function(t){var i=this.css("position"),n="absolute"===i,r=t?/(auto|scroll|hidden)/:/(auto|scroll)/,s=this.parents().filter(function(){var t=e(this);return n&&"static"===t.css("position")?!1:r.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==i&&s.length?s:e(this[0].ownerDocument||document)},uniqueId:function(){var e=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++e)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(i){return!!e.data(i,t)}}):function(t,i,n){return!!e.data(t,n[3])},focusable:function(i){return t(i,!isNaN(e.attr(i,"tabindex")))},tabbable:function(i){var n=e.attr(i,"tabindex"),r=isNaN(n);return(r||n>=0)&&t(i,!r)}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(t,i){function n(t,i,n,s){return e.each(r,function(){i-=parseFloat(e.css(t,"padding"+this))||0,n&&(i-=parseFloat(e.css(t,"border"+this+"Width"))||0),s&&(i-=parseFloat(e.css(t,"margin"+this))||0)}),i}var r="Width"===i?["Left","Right"]:["Top","Bottom"],s=i.toLowerCase(),o={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+i]=function(t){return void 0===t?o["inner"+i].call(this):this.each(function(){e(this).css(s,n(this,t)+"px")})},e.fn["outer"+i]=function(t,r){return"number"!=typeof t?o["outer"+i].call(this,t):this.each(function(){e(this).css(s,n(this,t,!0,r)+"px")})}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(i){return arguments.length?t.call(this,e.camelCase(i)):t.call(this)}}(e.fn.removeData)),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),e.fn.extend({focus:function(t){return function(i,n){return"number"==typeof i?this.each(function(){var t=this;setTimeout(function(){e(t).focus(),n&&n.call(t)},i)}):t.apply(this,arguments)}}(e.fn.focus),disableSelection:function(){var e="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(e+".ui-disableSelection",function(e){e.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(t){if(void 0!==t)return this.css("zIndex",t);if(this.length)for(var i,n,r=e(this[0]);r.length&&r[0]!==document;){if(i=r.css("position"),("absolute"===i||"relative"===i||"fixed"===i)&&(n=parseInt(r.css("zIndex"),10),!isNaN(n)&&0!==n))return n;r=r.parent()}return 0}}),e.ui.plugin={add:function(t,i,n){var r,s=e.ui[t].prototype;for(r in n)s.plugins[r]=s.plugins[r]||[],s.plugins[r].push([i,n[r]])},call:function(e,t,i,n){var r,s=e.plugins[t];if(s&&(n||e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType))for(r=0;r<s.length;r++)e.options[s[r][0]]&&s[r][1].apply(e.element,i)}}}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){var t=0,i=Array.prototype.slice;return e.cleanData=function(t){return function(i){var n,r,s;for(s=0;null!=(r=i[s]);s++)try{n=e._data(r,"events"),n&&n.remove&&e(r).triggerHandler("remove")}catch(o){}t(i)}}(e.cleanData),e.widget=function(t,i,n){var r,s,o,a,l={},c=t.split(".")[0];return t=t.split(".")[1],r=c+"-"+t,n||(n=i,i=e.Widget),e.expr[":"][r.toLowerCase()]=function(t){return!!e.data(t,r)},e[c]=e[c]||{},s=e[c][t],o=e[c][t]=function(e,t){return this._createWidget?void(arguments.length&&this._createWidget(e,t)):new o(e,t)},e.extend(o,s,{version:n.version,_proto:e.extend({},n),_childConstructors:[]}),a=new i,a.options=e.widget.extend({},a.options),e.each(n,function(t,n){return e.isFunction(n)?void(l[t]=function(){var e=function(){return i.prototype[t].apply(this,arguments)},r=function(e){return i.prototype[t].apply(this,e)};return function(){var t,i=this._super,s=this._superApply;return this._super=e,this._superApply=r,t=n.apply(this,arguments),this._super=i,this._superApply=s,t}}()):void(l[t]=n)}),o.prototype=e.widget.extend(a,{widgetEventPrefix:s?a.widgetEventPrefix||t:t},l,{constructor:o,namespace:c,widgetName:t,widgetFullName:r}),s?(e.each(s._childConstructors,function(t,i){var n=i.prototype;e.widget(n.namespace+"."+n.widgetName,o,i._proto)}),delete s._childConstructors):i._childConstructors.push(o),e.widget.bridge(t,o),o},e.widget.extend=function(t){for(var n,r,s=i.call(arguments,1),o=0,a=s.length;a>o;o++)for(n in s[o])r=s[o][n],s[o].hasOwnProperty(n)&&void 0!==r&&(t[n]=e.isPlainObject(r)?e.isPlainObject(t[n])?e.widget.extend({},t[n],r):e.widget.extend({},r):r);return t},e.widget.bridge=function(t,n){var r=n.prototype.widgetFullName||t;e.fn[t]=function(s){var o="string"==typeof s,a=i.call(arguments,1),l=this;return o?this.each(function(){var i,n=e.data(this,r);return"instance"===s?(l=n,!1):n?e.isFunction(n[s])&&"_"!==s.charAt(0)?(i=n[s].apply(n,a),i!==n&&void 0!==i?(l=i&&i.jquery?l.pushStack(i.get()):i,!1):void 0):e.error("no such method '"+s+"' for "+t+" widget instance"):e.error("cannot call methods on "+t+" prior to initialization; attempted to call method '"+s+"'")}):(a.length&&(s=e.widget.extend.apply(null,[s].concat(a))),this.each(function(){var t=e.data(this,r);t?(t.option(s||{}),t._init&&t._init()):e.data(this,r,new n(s,this))})),l}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(i,n){n=e(n||this.defaultElement||this)[0],this.element=e(n),this.uuid=t++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=e(),this.hoverable=e(),this.focusable=e(),n!==this&&(e.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===n&&this.destroy()}}),this.document=e(n.style?n.ownerDocument:n.document||n),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this.options=e.widget.extend({},this.options,this._getCreateOptions(),i),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(t,i){var n,r,s,o=t;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof t)if(o={},n=t.split("."),t=n.shift(),n.length){for(r=o[t]=e.widget.extend({},this.options[t]),s=0;s<n.length-1;s++)r[n[s]]=r[n[s]]||{},r=r[n[s]];if(t=n.pop(),1===arguments.length)return void 0===r[t]?null:r[t];r[t]=i}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];o[t]=i}return this._setOptions(o),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!t),t&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(t,i,n){var r,s=this;"boolean"!=typeof t&&(n=i,i=t,t=!1),n?(i=r=e(i),this.bindings=this.bindings.add(i)):(n=i,i=this.element,r=this.widget()),e.each(n,function(n,o){function a(){return t||s.options.disabled!==!0&&!e(this).hasClass("ui-state-disabled")?("string"==typeof o?s[o]:o).apply(s,arguments):void 0}"string"!=typeof o&&(a.guid=o.guid=o.guid||a.guid||e.guid++);var l=n.match(/^([\w:-]*)\s*(.*)$/),c=l[1]+s.eventNamespace,u=l[2];u?r.delegate(u,c,a):i.bind(c,a)})},_off:function(t,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(i).undelegate(i),this.bindings=e(this.bindings.not(t).get()),this.focusable=e(this.focusable.not(t).get()),this.hoverable=e(this.hoverable.not(t).get())},_delay:function(e,t){function i(){return("string"==typeof e?n[e]:e).apply(n,arguments)}var n=this;return setTimeout(i,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,i,n){var r,s,o=this.options[t];if(n=n||{},i=e.Event(i),i.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i.target=this.element[0],s=i.originalEvent)for(r in s)r in i||(i[r]=s[r]);return this.element.trigger(i,n),!(e.isFunction(o)&&o.apply(this.element[0],[i].concat(n))===!1||i.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,i){e.Widget.prototype["_"+t]=function(n,r,s){"string"==typeof r&&(r={effect:r});var o,a=r?r===!0||"number"==typeof r?i:r.effect||i:t;r=r||{},"number"==typeof r&&(r={duration:r}),o=!e.isEmptyObject(r),r.complete=s,r.delay&&n.delay(r.delay),o&&e.effects&&e.effects.effect[a]?n[t](r):a!==t&&n[a]?n[a](r.duration,r.easing,s):n.queue(function(i){e(this)[t](),s&&s.call(n[0]),i()})}}),e.widget}),function(e){"function"==typeof define&&define.amd?define(["jquery","./core","./widget"],e):e(jQuery)}(function(e){return e.widget("ui.accordion",{version:"1.11.4",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var t=this.options;this.prevShow=this.prevHide=e(),this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist"),t.collapsible||t.active!==!1&&null!=t.active||(t.active=0),this._processPanels(),t.active<0&&(t.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():e()}},_createIcons:function(){var t=this.options.icons;t&&(e("<span>").addClass("ui-accordion-header-icon ui-icon "+t.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(t.header).addClass(t.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var e;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").removeUniqueId(),this._destroyIcons(),e=this.headers.next().removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").css("display","").removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeUniqueId(),"content"!==this.options.heightStyle&&e.css("height","")},_setOption:function(e,t){return"active"===e?void this._activate(t):("event"===e&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(t)),this._super(e,t),"collapsible"!==e||t||this.options.active!==!1||this._activate(0),"icons"===e&&(this._destroyIcons(),t&&this._createIcons()),void("disabled"===e&&(this.element.toggleClass("ui-state-disabled",!!t).attr("aria-disabled",t),this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!t))))},_keydown:function(t){if(!t.altKey&&!t.ctrlKey){var i=e.ui.keyCode,n=this.headers.length,r=this.headers.index(t.target),s=!1;switch(t.keyCode){case i.RIGHT:case i.DOWN:s=this.headers[(r+1)%n];break;case i.LEFT:case i.UP:s=this.headers[(r-1+n)%n];break;case i.SPACE:case i.ENTER:this._eventHandler(t);break;case i.HOME:s=this.headers[0];break;case i.END:s=this.headers[n-1]}s&&(e(t.target).attr("tabIndex",-1),e(s).attr("tabIndex",0),s.focus(),t.preventDefault())}},_panelKeyDown:function(t){t.keyCode===e.ui.keyCode.UP&&t.ctrlKey&&e(t.currentTarget).prev().focus()},refresh:function(){var t=this.options;this._processPanels(),t.active===!1&&t.collapsible===!0||!this.headers.length?(t.active=!1,this.active=e()):t.active===!1?this._activate(0):this.active.length&&!e.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(t.active=!1,this.active=e()):this._activate(Math.max(0,t.active-1)):t.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){var e=this.headers,t=this.panels;this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-state-default ui-corner-all"),this.panels=this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide(),t&&(this._off(e.not(this.headers)),this._off(t.not(this.panels)))},_refresh:function(){var t,i=this.options,n=i.heightStyle,r=this.element.parent();this.active=this._findActive(i.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all"),this.active.next().addClass("ui-accordion-content-active").show(),this.headers.attr("role","tab").each(function(){var t=e(this),i=t.uniqueId().attr("id"),n=t.next(),r=n.uniqueId().attr("id");t.attr("aria-controls",r),n.attr("aria-labelledby",i)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(i.event),"fill"===n?(t=r.height(),this.element.siblings(":visible").each(function(){var i=e(this),n=i.css("position");"absolute"!==n&&"fixed"!==n&&(t-=i.outerHeight(!0))}),this.headers.each(function(){t-=e(this).outerHeight(!0)}),this.headers.next().each(function(){e(this).height(Math.max(0,t-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")):"auto"===n&&(t=0,this.headers.next().each(function(){t=Math.max(t,e(this).css("height","").height())}).height(t))},_activate:function(t){var i=this._findActive(t)[0];i!==this.active[0]&&(i=i||this.active[0],this._eventHandler({target:i,currentTarget:i,preventDefault:e.noop}))},_findActive:function(t){return"number"==typeof t?this.headers.eq(t):e()},_setupEvents:function(t){var i={keydown:"_keydown"};t&&e.each(t.split(" "),function(e,t){i[t]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,i),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(t){var i=this.options,n=this.active,r=e(t.currentTarget),s=r[0]===n[0],o=s&&i.collapsible,a=o?e():r.next(),l=n.next(),c={oldHeader:n,oldPanel:l,newHeader:o?e():r,newPanel:a};t.preventDefault(),s&&!i.collapsible||this._trigger("beforeActivate",t,c)===!1||(i.active=o?!1:this.headers.index(r),this.active=s?e():r,this._toggle(c),n.removeClass("ui-accordion-header-active ui-state-active"),i.icons&&n.children(".ui-accordion-header-icon").removeClass(i.icons.activeHeader).addClass(i.icons.header),s||(r.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),i.icons&&r.children(".ui-accordion-header-icon").removeClass(i.icons.header).addClass(i.icons.activeHeader),r.next().addClass("ui-accordion-content-active")))},_toggle:function(t){var i=t.newPanel,n=this.prevShow.length?this.prevShow:t.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=i,this.prevHide=n,this.options.animate?this._animate(i,n,t):(n.hide(),i.show(),this._toggleComplete(t)),n.attr({"aria-hidden":"true"}),n.prev().attr({"aria-selected":"false","aria-expanded":"false"}),i.length&&n.length?n.prev().attr({tabIndex:-1,"aria-expanded":"false"}):i.length&&this.headers.filter(function(){return 0===parseInt(e(this).attr("tabIndex"),10)}).attr("tabIndex",-1),i.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(e,t,i){var n,r,s,o=this,a=0,l=e.css("box-sizing"),c=e.length&&(!t.length||e.index()<t.index()),u=this.options.animate||{},d=c&&u.down||u,h=function(){o._toggleComplete(i)};return"number"==typeof d&&(s=d),"string"==typeof d&&(r=d),r=r||d.easing||u.easing,s=s||d.duration||u.duration,t.length?e.length?(n=e.show().outerHeight(),t.animate(this.hideProps,{duration:s,easing:r,step:function(e,t){t.now=Math.round(e)}}),void e.hide().animate(this.showProps,{duration:s,easing:r,complete:h,step:function(e,i){i.now=Math.round(e),"height"!==i.prop?"content-box"===l&&(a+=i.now):"content"!==o.options.heightStyle&&(i.now=Math.round(n-t.outerHeight()-a),a=0)}})):t.animate(this.hideProps,s,r,h):e.animate(this.showProps,s,r,h)},_toggleComplete:function(e){var t=e.oldPanel;t.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),t.length&&(t.parent()[0].className=t.parent()[0].className),this._trigger("activate",null,e)}})}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){return function(){function t(e,t,i){return[parseFloat(e[0])*(f.test(e[0])?t/100:1),parseFloat(e[1])*(f.test(e[1])?i/100:1)]}function i(t,i){return parseInt(e.css(t,i),10)||0}function n(t){var i=t[0];return 9===i.nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:e.isWindow(i)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}e.ui=e.ui||{};var r,s,o=Math.max,a=Math.abs,l=Math.round,c=/left|center|right/,u=/top|center|bottom/,d=/[\+\-]\d+(\.[\d]+)?%?/,h=/^\w+/,f=/%$/,p=e.fn.position;e.position={scrollbarWidth:function(){if(void 0!==r)return r;var t,i,n=e("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),s=n.children()[0];return e("body").append(n),t=s.offsetWidth,n.css("overflow","scroll"),i=s.offsetWidth,t===i&&(i=n[0].clientWidth),n.remove(),r=t-i},getScrollInfo:function(t){var i=t.isWindow||t.isDocument?"":t.element.css("overflow-x"),n=t.isWindow||t.isDocument?"":t.element.css("overflow-y"),r="scroll"===i||"auto"===i&&t.width<t.element[0].scrollWidth,s="scroll"===n||"auto"===n&&t.height<t.element[0].scrollHeight;return{width:s?e.position.scrollbarWidth():0,height:r?e.position.scrollbarWidth():0}},getWithinInfo:function(t){var i=e(t||window),n=e.isWindow(i[0]),r=!!i[0]&&9===i[0].nodeType;return{element:i,isWindow:n,isDocument:r,offset:i.offset()||{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:n||r?i.width():i.outerWidth(),height:n||r?i.height():i.outerHeight()}}},e.fn.position=function(r){if(!r||!r.of)return p.apply(this,arguments);r=e.extend({},r);var f,g,m,v,y,b,w=e(r.of),x=e.position.getWithinInfo(r.within),k=e.position.getScrollInfo(x),_=(r.collision||"flip").split(" "),C={};return b=n(w),w[0].preventDefault&&(r.at="left top"),g=b.width,m=b.height,v=b.offset,y=e.extend({},v),e.each(["my","at"],function(){var e,t,i=(r[this]||"").split(" ");1===i.length&&(i=c.test(i[0])?i.concat(["center"]):u.test(i[0])?["center"].concat(i):["center","center"]),i[0]=c.test(i[0])?i[0]:"center",i[1]=u.test(i[1])?i[1]:"center",e=d.exec(i[0]),t=d.exec(i[1]),C[this]=[e?e[0]:0,t?t[0]:0],r[this]=[h.exec(i[0])[0],h.exec(i[1])[0]]}),1===_.length&&(_[1]=_[0]),"right"===r.at[0]?y.left+=g:"center"===r.at[0]&&(y.left+=g/2),"bottom"===r.at[1]?y.top+=m:"center"===r.at[1]&&(y.top+=m/2),f=t(C.at,g,m),y.left+=f[0],y.top+=f[1],this.each(function(){var n,c,u=e(this),d=u.outerWidth(),h=u.outerHeight(),p=i(this,"marginLeft"),b=i(this,"marginTop"),T=d+p+i(this,"marginRight")+k.width,S=h+b+i(this,"marginBottom")+k.height,D=e.extend({},y),E=t(C.my,u.outerWidth(),u.outerHeight());"right"===r.my[0]?D.left-=d:"center"===r.my[0]&&(D.left-=d/2),"bottom"===r.my[1]?D.top-=h:"center"===r.my[1]&&(D.top-=h/2),D.left+=E[0],D.top+=E[1],s||(D.left=l(D.left),D.top=l(D.top)),n={marginLeft:p,marginTop:b},e.each(["left","top"],function(t,i){e.ui.position[_[t]]&&e.ui.position[_[t]][i](D,{targetWidth:g,targetHeight:m,elemWidth:d,elemHeight:h,collisionPosition:n,collisionWidth:T,collisionHeight:S,offset:[f[0]+E[0],f[1]+E[1]],my:r.my,at:r.at,within:x,elem:u})}),r.using&&(c=function(e){var t=v.left-D.left,i=t+g-d,n=v.top-D.top,s=n+m-h,l={target:{element:w,left:v.left,top:v.top,width:g,height:m},element:{element:u,left:D.left,top:D.top,width:d,height:h},horizontal:0>i?"left":t>0?"right":"center",vertical:0>s?"top":n>0?"bottom":"middle"};d>g&&a(t+i)<g&&(l.horizontal="center"),h>m&&a(n+s)<m&&(l.vertical="middle"),l.important=o(a(t),a(i))>o(a(n),a(s))?"horizontal":"vertical",r.using.call(this,e,l)}),u.offset(e.extend(D,{using:c}))})},e.ui.position={fit:{left:function(e,t){var i,n=t.within,r=n.isWindow?n.scrollLeft:n.offset.left,s=n.width,a=e.left-t.collisionPosition.marginLeft,l=r-a,c=a+t.collisionWidth-s-r;t.collisionWidth>s?l>0&&0>=c?(i=e.left+l+t.collisionWidth-s-r,e.left+=l-i):e.left=c>0&&0>=l?r:l>c?r+s-t.collisionWidth:r:l>0?e.left+=l:c>0?e.left-=c:e.left=o(e.left-a,e.left)},top:function(e,t){var i,n=t.within,r=n.isWindow?n.scrollTop:n.offset.top,s=t.within.height,a=e.top-t.collisionPosition.marginTop,l=r-a,c=a+t.collisionHeight-s-r;t.collisionHeight>s?l>0&&0>=c?(i=e.top+l+t.collisionHeight-s-r,e.top+=l-i):e.top=c>0&&0>=l?r:l>c?r+s-t.collisionHeight:r:l>0?e.top+=l:c>0?e.top-=c:e.top=o(e.top-a,e.top)}},flip:{left:function(e,t){var i,n,r=t.within,s=r.offset.left+r.scrollLeft,o=r.width,l=r.isWindow?r.scrollLeft:r.offset.left,c=e.left-t.collisionPosition.marginLeft,u=c-l,d=c+t.collisionWidth-o-l,h="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,f="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,p=-2*t.offset[0];0>u?(i=e.left+h+f+p+t.collisionWidth-o-s,(0>i||i<a(u))&&(e.left+=h+f+p)):d>0&&(n=e.left-t.collisionPosition.marginLeft+h+f+p-l,(n>0||a(n)<d)&&(e.left+=h+f+p))},top:function(e,t){var i,n,r=t.within,s=r.offset.top+r.scrollTop,o=r.height,l=r.isWindow?r.scrollTop:r.offset.top,c=e.top-t.collisionPosition.marginTop,u=c-l,d=c+t.collisionHeight-o-l,h="top"===t.my[1],f=h?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,p="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,g=-2*t.offset[1];0>u?(n=e.top+f+p+g+t.collisionHeight-o-s,(0>n||n<a(u))&&(e.top+=f+p+g)):d>0&&(i=e.top-t.collisionPosition.marginTop+f+p+g-l,(i>0||a(i)<d)&&(e.top+=f+p+g))}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments),e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments),e.ui.position.fit.top.apply(this,arguments)}}},function(){var t,i,n,r,o,a=document.getElementsByTagName("body")[0],l=document.createElement("div");t=document.createElement(a?"div":"body"),n={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},a&&e.extend(n,{position:"absolute",left:"-1000px",top:"-1000px"});for(o in n)t.style[o]=n[o];t.appendChild(l),i=a||document.documentElement,i.insertBefore(t,i.firstChild),l.style.cssText="position: absolute; left: 10.7432222px;",r=e(l).offset().left,s=r>10&&11>r,t.innerHTML="",i.removeChild(t)}()}(),e.ui.position}),function(e){"function"==typeof define&&define.amd?define(["jquery","./core","./widget","./position"],e):e(jQuery)}(function(e){return e.widget("ui.menu",{version:"1.11.4",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},items:"> *",menus:"ul",position:{my:"left-1 top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item":function(e){e.preventDefault()},"click .ui-menu-item":function(t){var i=e(t.target);!this.mouseHandled&&i.not(".ui-state-disabled").length&&(this.select(t),t.isPropagationStopped()||(this.mouseHandled=!0),i.has(".ui-menu").length?this.expand(t):!this.element.is(":focus")&&e(this.document[0].activeElement).closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(t){if(!this.previousFilter){var i=e(t.currentTarget);i.siblings(".ui-state-active").removeClass("ui-state-active"),this.focus(t,i)}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(e,t){var i=this.active||this.element.find(this.options.items).eq(0);t||this.focus(e,i)},blur:function(t){this._delay(function(){e.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(t)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(e){this._closeOnDocumentClick(e)&&this.collapseAll(e),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-menu-icons ui-front").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").removeUniqueId().removeClass("ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var t=e(this);t.data("ui-menu-submenu-carat")&&t.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(t){var i,n,r,s,o=!0;switch(t.keyCode){case e.ui.keyCode.PAGE_UP:this.previousPage(t);break;case e.ui.keyCode.PAGE_DOWN:this.nextPage(t);break;case e.ui.keyCode.HOME:this._move("first","first",t);break;case e.ui.keyCode.END:this._move("last","last",t);break;case e.ui.keyCode.UP:this.previous(t);break;case e.ui.keyCode.DOWN:this.next(t);break;case e.ui.keyCode.LEFT:this.collapse(t);break;case e.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(t);break;case e.ui.keyCode.ENTER:case e.ui.keyCode.SPACE:this._activate(t);break;case e.ui.keyCode.ESCAPE:this.collapse(t);break;default:o=!1,n=this.previousFilter||"",r=String.fromCharCode(t.keyCode),s=!1,clearTimeout(this.filterTimer),r===n?s=!0:r=n+r,i=this._filterMenuItems(r),i=s&&-1!==i.index(this.active.next())?this.active.nextAll(".ui-menu-item"):i,i.length||(r=String.fromCharCode(t.keyCode),i=this._filterMenuItems(r)),i.length?(this.focus(t,i),this.previousFilter=r,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}o&&t.preventDefault()},_activate:function(e){this.active.is(".ui-state-disabled")||(this.active.is("[aria-haspopup='true']")?this.expand(e):this.select(e))},refresh:function(){var t,i,n=this,r=this.options.icons.submenu,s=this.element.find(this.options.menus);this.element.toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length),s.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-front").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var t=e(this),i=t.parent(),n=e("<span>").addClass("ui-menu-icon ui-icon "+r).data("ui-menu-submenu-carat",!0);i.attr("aria-haspopup","true").prepend(n),t.attr("aria-labelledby",i.attr("id"))}),t=s.add(this.element),i=t.find(this.options.items),i.not(".ui-menu-item").each(function(){var t=e(this);n._isDivider(t)&&t.addClass("ui-widget-content ui-menu-divider")}),i.not(".ui-menu-item, .ui-menu-divider").addClass("ui-menu-item").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),i.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!e.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]
},_setOption:function(e,t){"icons"===e&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(t.submenu),"disabled"===e&&this.element.toggleClass("ui-state-disabled",!!t).attr("aria-disabled",t),this._super(e,t)},focus:function(e,t){var i,n;this.blur(e,e&&"focus"===e.type),this._scrollIntoView(t),this.active=t.first(),n=this.active.addClass("ui-state-focus").removeClass("ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",n.attr("id")),this.active.parent().closest(".ui-menu-item").addClass("ui-state-active"),e&&"keydown"===e.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),i=t.children(".ui-menu"),i.length&&e&&/^mouse/.test(e.type)&&this._startOpening(i),this.activeMenu=t.parent(),this._trigger("focus",e,{item:t})},_scrollIntoView:function(t){var i,n,r,s,o,a;this._hasScroll()&&(i=parseFloat(e.css(this.activeMenu[0],"borderTopWidth"))||0,n=parseFloat(e.css(this.activeMenu[0],"paddingTop"))||0,r=t.offset().top-this.activeMenu.offset().top-i-n,s=this.activeMenu.scrollTop(),o=this.activeMenu.height(),a=t.outerHeight(),0>r?this.activeMenu.scrollTop(s+r):r+a>o&&this.activeMenu.scrollTop(s+r-o+a))},blur:function(e,t){t||clearTimeout(this.timer),this.active&&(this.active.removeClass("ui-state-focus"),this.active=null,this._trigger("blur",e,{item:this.active}))},_startOpening:function(e){clearTimeout(this.timer),"true"===e.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(e)},this.delay))},_open:function(t){var i=e.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden","true"),t.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(i)},collapseAll:function(t,i){clearTimeout(this.timer),this.timer=this._delay(function(){var n=i?this.element:e(t&&t.target).closest(this.element.find(".ui-menu"));n.length||(n=this.element),this._close(n),this.blur(t),this.activeMenu=n},this.delay)},_close:function(e){e||(e=this.active?this.active.parent():this.element),e.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find(".ui-state-active").not(".ui-state-focus").removeClass("ui-state-active")},_closeOnDocumentClick:function(t){return!e(t.target).closest(".ui-menu").length},_isDivider:function(e){return!/[^\-\u2014\u2013\s]/.test(e.text())},collapse:function(e){var t=this.active&&this.active.parent().closest(".ui-menu-item",this.element);t&&t.length&&(this._close(),this.focus(e,t))},expand:function(e){var t=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();t&&t.length&&(this._open(t.parent()),this._delay(function(){this.focus(e,t)}))},next:function(e){this._move("next","first",e)},previous:function(e){this._move("prev","last",e)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(e,t,i){var n;this.active&&(n="first"===e||"last"===e?this.active["first"===e?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[e+"All"](".ui-menu-item").eq(0)),n&&n.length&&this.active||(n=this.activeMenu.find(this.options.items)[t]()),this.focus(i,n)},nextPage:function(t){var i,n,r;return this.active?void(this.isLastItem()||(this._hasScroll()?(n=this.active.offset().top,r=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return i=e(this),i.offset().top-n-r<0}),this.focus(t,i)):this.focus(t,this.activeMenu.find(this.options.items)[this.active?"last":"first"]()))):void this.next(t)},previousPage:function(t){var i,n,r;return this.active?void(this.isFirstItem()||(this._hasScroll()?(n=this.active.offset().top,r=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return i=e(this),i.offset().top-n+r>0}),this.focus(t,i)):this.focus(t,this.activeMenu.find(this.options.items).first()))):void this.next(t)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(t){this.active=this.active||e(t.target).closest(".ui-menu-item");var i={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(t,!0),this._trigger("select",t,i)},_filterMenuItems:function(t){var i=t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),n=new RegExp("^"+i,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return n.test(e.trim(e(this).text()))})}})}),function(e){"function"==typeof define&&define.amd?define(["jquery","./core","./widget","./position","./menu"],e):e(jQuery)}(function(e){return e.widget("ui.autocomplete",{version:"1.11.4",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var t,i,n,r=this.element[0].nodeName.toLowerCase(),s="textarea"===r,o="input"===r;this.isMultiLine=s?!0:o?!1:this.element.prop("isContentEditable"),this.valueMethod=this.element[s||o?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(r){if(this.element.prop("readOnly"))return t=!0,n=!0,void(i=!0);t=!1,n=!1,i=!1;var s=e.ui.keyCode;switch(r.keyCode){case s.PAGE_UP:t=!0,this._move("previousPage",r);break;case s.PAGE_DOWN:t=!0,this._move("nextPage",r);break;case s.UP:t=!0,this._keyEvent("previous",r);break;case s.DOWN:t=!0,this._keyEvent("next",r);break;case s.ENTER:this.menu.active&&(t=!0,r.preventDefault(),this.menu.select(r));break;case s.TAB:this.menu.active&&this.menu.select(r);break;case s.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(r),r.preventDefault());break;default:i=!0,this._searchTimeout(r)}},keypress:function(n){if(t)return t=!1,void((!this.isMultiLine||this.menu.element.is(":visible"))&&n.preventDefault());if(!i){var r=e.ui.keyCode;switch(n.keyCode){case r.PAGE_UP:this._move("previousPage",n);break;case r.PAGE_DOWN:this._move("nextPage",n);break;case r.UP:this._keyEvent("previous",n);break;case r.DOWN:this._keyEvent("next",n)}}},input:function(e){return n?(n=!1,void e.preventDefault()):void this._searchTimeout(e)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(e){return this.cancelBlur?void delete this.cancelBlur:(clearTimeout(this.searching),this.close(e),void this._change(e))}}),this._initSource(),this.menu=e("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._on(this.menu.element,{mousedown:function(t){t.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var i=this.menu.element[0];e(t.target).closest(".ui-menu-item").length||this._delay(function(){var t=this;this.document.one("mousedown",function(n){n.target===t.element[0]||n.target===i||e.contains(i,n.target)||t.close()})})},menufocus:function(t,i){var n,r;return this.isNewMenu&&(this.isNewMenu=!1,t.originalEvent&&/^mouse/.test(t.originalEvent.type))?(this.menu.blur(),void this.document.one("mousemove",function(){e(t.target).trigger(t.originalEvent)})):(r=i.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",t,{item:r})&&t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(r.value),n=i.item.attr("aria-label")||r.value,void(n&&e.trim(n).length&&(this.liveRegion.children().hide(),e("<div>").text(n).appendTo(this.liveRegion))))},menuselect:function(e,t){var i=t.item.data("ui-autocomplete-item"),n=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=n,this._delay(function(){this.previous=n,this.selectedItem=i})),!1!==this._trigger("select",e,{item:i})&&this._value(i.value),this.term=this._value(),this.close(e),this.selectedItem=i}}),this.liveRegion=e("<span>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(e,t){this._super(e,t),"source"===e&&this._initSource(),"appendTo"===e&&this.menu.element.appendTo(this._appendTo()),"disabled"===e&&t&&this.xhr&&this.xhr.abort()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?e(t):this.document.find(t).eq(0)),t&&t[0]||(t=this.element.closest(".ui-front")),t.length||(t=this.document[0].body),t},_initSource:function(){var t,i,n=this;e.isArray(this.options.source)?(t=this.options.source,this.source=function(i,n){n(e.ui.autocomplete.filter(t,i.term))}):"string"==typeof this.options.source?(i=this.options.source,this.source=function(t,r){n.xhr&&n.xhr.abort(),n.xhr=e.ajax({url:i,data:t,dataType:"json",success:function(e){r(e)},error:function(){r([])}})}):this.source=this.options.source},_searchTimeout:function(e){clearTimeout(this.searching),this.searching=this._delay(function(){var t=this.term===this._value(),i=this.menu.element.is(":visible"),n=e.altKey||e.ctrlKey||e.metaKey||e.shiftKey;(!t||t&&!i&&!n)&&(this.selectedItem=null,this.search(null,e))},this.options.delay)},search:function(e,t){return e=null!=e?e:this._value(),this.term=this._value(),e.length<this.options.minLength?this.close(t):this._trigger("search",t)!==!1?this._search(e):void 0},_search:function(e){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:e},this._response())},_response:function(){var t=++this.requestIndex;return e.proxy(function(e){t===this.requestIndex&&this.__response(e),this.pending--,this.pending||this.element.removeClass("ui-autocomplete-loading")},this)},__response:function(e){e&&(e=this._normalize(e)),this._trigger("response",null,{content:e}),!this.options.disabled&&e&&e.length&&!this.cancelSearch?(this._suggest(e),this._trigger("open")):this._close()},close:function(e){this.cancelSearch=!0,this._close(e)},_close:function(e){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",e))},_change:function(e){this.previous!==this._value()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:e.map(t,function(t){return"string"==typeof t?{label:t,value:t}:e.extend({},t,{label:t.label||t.value,value:t.value||t.label})})},_suggest:function(t){var i=this.menu.element.empty();this._renderMenu(i,t),this.isNewMenu=!0,this.menu.refresh(),i.show(),this._resizeMenu(),i.position(e.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(t,i){var n=this;e.each(i,function(e,i){n._renderItemData(t,i)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-autocomplete-item",t)},_renderItem:function(t,i){return e("<li>").text(i.label).appendTo(t)},_move:function(e,t){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[e](t):void this.search(null,t)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,t){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(e,t),t.preventDefault())}}),e.extend(e.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(t,i){var n=new RegExp(e.ui.autocomplete.escapeRegex(i),"i");return e.grep(t,function(e){return n.test(e.label||e.value||e)})}}),e.widget("ui.autocomplete",e.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(e){return e+(e>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(t){var i;this._superApply(arguments),this.options.disabled||this.cancelSearch||(i=t&&t.length?this.options.messages.results(t.length):this.options.messages.noResults,this.liveRegion.children().hide(),e("<div>").text(i).appendTo(this.liveRegion))}}),e.ui.autocomplete}),function(e){"function"==typeof define&&define.amd?define(["jquery","./core","./widget"],e):e(jQuery)}(function(e){var t,i="ui-button ui-widget ui-state-default ui-corner-all",n="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",r=function(){var t=e(this);setTimeout(function(){t.find(":ui-button").button("refresh")},1)},s=function(t){var i=t.name,n=t.form,r=e([]);return i&&(i=i.replace(/'/g,"\\'"),r=n?e(n).find("[name='"+i+"'][type=radio]"):e("[name='"+i+"'][type=radio]",t.ownerDocument).filter(function(){return!this.form})),r};return e.widget("ui.button",{version:"1.11.4",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,r),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var n=this,o=this.options,a="checkbox"===this.type||"radio"===this.type,l=a?"":"ui-state-active";null===o.label&&(o.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(i).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){o.disabled||this===t&&e(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){o.disabled||e(this).removeClass(l)}).bind("click"+this.eventNamespace,function(e){o.disabled&&(e.preventDefault(),e.stopImmediatePropagation())}),this._on({focus:function(){this.buttonElement.addClass("ui-state-focus")},blur:function(){this.buttonElement.removeClass("ui-state-focus")}}),a&&this.element.bind("change"+this.eventNamespace,function(){n.refresh()}),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){return o.disabled?!1:void 0}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(o.disabled)return!1;e(this).addClass("ui-state-active"),n.buttonElement.attr("aria-pressed","true");var t=n.element[0];s(t).not(t).map(function(){return e(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){return o.disabled?!1:(e(this).addClass("ui-state-active"),t=this,void n.document.one("mouseup",function(){t=null}))}).bind("mouseup"+this.eventNamespace,function(){return o.disabled?!1:void e(this).removeClass("ui-state-active")}).bind("keydown"+this.eventNamespace,function(t){return o.disabled?!1:void((t.keyCode===e.ui.keyCode.SPACE||t.keyCode===e.ui.keyCode.ENTER)&&e(this).addClass("ui-state-active"))}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){e(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(t){t.keyCode===e.ui.keyCode.SPACE&&e(this).click()})),this._setOption("disabled",o.disabled),this._resetButton()},_determineButtonType:function(){var e,t,i;this.type=this.element.is("[type=checkbox]")?"checkbox":this.element.is("[type=radio]")?"radio":this.element.is("input")?"input":"button","checkbox"===this.type||"radio"===this.type?(e=this.element.parents().last(),t="label[for='"+this.element.attr("id")+"']",this.buttonElement=e.find(t),this.buttonElement.length||(e=e.length?e.siblings():this.element.siblings(),this.buttonElement=e.filter(t),this.buttonElement.length||(this.buttonElement=e.find(t))),this.element.addClass("ui-helper-hidden-accessible"),i=this.element.is(":checked"),i&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",i)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(i+" ui-state-active "+n).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(e,t){return this._super(e,t),"disabled"===e?(this.widget().toggleClass("ui-state-disabled",!!t),this.element.prop("disabled",!!t),void(t&&this.buttonElement.removeClass("checkbox"===this.type||"radio"===this.type?"ui-state-focus":"ui-state-focus ui-state-active"))):void this._resetButton()},refresh:function(){var t=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOption("disabled",t),"radio"===this.type?s(this.element[0]).each(function(){e(this).is(":checked")?e(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):e(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type)return void(this.options.label&&this.element.val(this.options.label));var t=this.buttonElement.removeClass(n),i=e("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(t.empty()).text(),r=this.options.icons,s=r.primary&&r.secondary,o=[];r.primary||r.secondary?(this.options.text&&o.push("ui-button-text-icon"+(s?"s":r.primary?"-primary":"-secondary")),r.primary&&t.prepend("<span class='ui-button-icon-primary ui-icon "+r.primary+"'></span>"),r.secondary&&t.append("<span class='ui-button-icon-secondary ui-icon "+r.secondary+"'></span>"),this.options.text||(o.push(s?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||t.attr("title",e.trim(i)))):o.push("ui-button-text-only"),t.addClass(o.join(" "))}}),e.widget("ui.buttonset",{version:"1.11.4",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(e,t){"disabled"===e&&this.buttons.button("option",e,t),this._super(e,t)},refresh:function(){var t="rtl"===this.element.css("direction"),i=this.element.find(this.options.items),n=i.filter(":ui-button");i.not(":ui-button").button(),n.button("refresh"),this.buttons=i.map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(t?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(t?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}}),e.ui.button}),function(e){"function"==typeof define&&define.amd?define(["jquery","./core"],e):e(jQuery)}(function(e){function t(e){for(var t,i;e.length&&e[0]!==document;){if(t=e.css("position"),("absolute"===t||"relative"===t||"fixed"===t)&&(i=parseInt(e.css("zIndex"),10),!isNaN(i)&&0!==i))return i;e=e.parent()}return 0}function i(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},e.extend(this._defaults,this.regional[""]),this.regional.en=e.extend(!0,{},this.regional[""]),this.regional["en-US"]=e.extend(!0,{},this.regional.en),this.dpDiv=n(e("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function n(t){var i="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return t.delegate(i,"mouseout",function(){e(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).removeClass("ui-datepicker-next-hover")}).delegate(i,"mouseover",r)}function r(){e.datepicker._isDisabledDatepicker(o.inline?o.dpDiv.parent()[0]:o.input[0])||(e(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),e(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).addClass("ui-datepicker-next-hover"))}function s(t,i){e.extend(t,i);for(var n in i)null==i[n]&&(t[n]=i[n]);return t}e.extend(e.ui,{datepicker:{version:"1.11.4"}});var o;return e.extend(i.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){return s(this._defaults,e||{}),this},_attachDatepicker:function(t,i){var n,r,s;n=t.nodeName.toLowerCase(),r="div"===n||"span"===n,t.id||(this.uuid+=1,t.id="dp"+this.uuid),s=this._newInst(e(t),r),s.settings=e.extend({},i||{}),"input"===n?this._connectDatepicker(t,s):r&&this._inlineDatepicker(t,s)},_newInst:function(t,i){var r=t[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:r,input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:i,dpDiv:i?n(e("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(t,i){var n=e(t);i.append=e([]),i.trigger=e([]),n.hasClass(this.markerClassName)||(this._attachments(n,i),n.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(i),e.data(t,"datepicker",i),i.settings.disabled&&this._disableDatepicker(t))},_attachments:function(t,i){var n,r,s,o=this._get(i,"appendText"),a=this._get(i,"isRTL");i.append&&i.append.remove(),o&&(i.append=e("<span class='"+this._appendClass+"'>"+o+"</span>"),t[a?"before":"after"](i.append)),t.unbind("focus",this._showDatepicker),i.trigger&&i.trigger.remove(),n=this._get(i,"showOn"),("focus"===n||"both"===n)&&t.focus(this._showDatepicker),("button"===n||"both"===n)&&(r=this._get(i,"buttonText"),s=this._get(i,"buttonImage"),i.trigger=e(this._get(i,"buttonImageOnly")?e("<img/>").addClass(this._triggerClass).attr({src:s,alt:r,title:r}):e("<button type='button'></button>").addClass(this._triggerClass).html(s?e("<img/>").attr({src:s,alt:r,title:r}):r)),t[a?"before":"after"](i.trigger),i.trigger.click(function(){return e.datepicker._datepickerShowing&&e.datepicker._lastInput===t[0]?e.datepicker._hideDatepicker():e.datepicker._datepickerShowing&&e.datepicker._lastInput!==t[0]?(e.datepicker._hideDatepicker(),e.datepicker._showDatepicker(t[0])):e.datepicker._showDatepicker(t[0]),!1}))},_autoSize:function(e){if(this._get(e,"autoSize")&&!e.inline){var t,i,n,r,s=new Date(2009,11,20),o=this._get(e,"dateFormat");o.match(/[DM]/)&&(t=function(e){for(i=0,n=0,r=0;r<e.length;r++)e[r].length>i&&(i=e[r].length,n=r);return n},s.setMonth(t(this._get(e,o.match(/MM/)?"monthNames":"monthNamesShort"))),s.setDate(t(this._get(e,o.match(/DD/)?"dayNames":"dayNamesShort"))+20-s.getDay())),e.input.attr("size",this._formatDate(e,s).length)}},_inlineDatepicker:function(t,i){var n=e(t);n.hasClass(this.markerClassName)||(n.addClass(this.markerClassName).append(i.dpDiv),e.data(t,"datepicker",i),this._setDate(i,this._getDefaultDate(i),!0),this._updateDatepicker(i),this._updateAlternate(i),i.settings.disabled&&this._disableDatepicker(t),i.dpDiv.css("display","block"))},_dialogDatepicker:function(t,i,n,r,o){var a,l,c,u,d,h=this._dialogInst;return h||(this.uuid+=1,a="dp"+this.uuid,this._dialogInput=e("<input type='text' id='"+a+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),e("body").append(this._dialogInput),h=this._dialogInst=this._newInst(this._dialogInput,!1),h.settings={},e.data(this._dialogInput[0],"datepicker",h)),s(h.settings,r||{}),i=i&&i.constructor===Date?this._formatDate(h,i):i,this._dialogInput.val(i),this._pos=o?o.length?o:[o.pageX,o.pageY]:null,this._pos||(l=document.documentElement.clientWidth,c=document.documentElement.clientHeight,u=document.documentElement.scrollLeft||document.body.scrollLeft,d=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[l/2-100+u,c/2-150+d]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),h.settings.onSelect=n,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),e.blockUI&&e.blockUI(this.dpDiv),e.data(this._dialogInput[0],"datepicker",h),this},_destroyDatepicker:function(t){var i,n=e(t),r=e.data(t,"datepicker");n.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),e.removeData(t,"datepicker"),"input"===i?(r.append.remove(),r.trigger.remove(),n.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"===i||"span"===i)&&n.removeClass(this.markerClassName).empty(),o===r&&(o=null))},_enableDatepicker:function(t){var i,n,r=e(t),s=e.data(t,"datepicker");r.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),"input"===i?(t.disabled=!1,s.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===i||"span"===i)&&(n=r.children("."+this._inlineClass),n.children().removeClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}))},_disableDatepicker:function(t){var i,n,r=e(t),s=e.data(t,"datepicker");r.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),"input"===i?(t.disabled=!0,s.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===i||"span"===i)&&(n=r.children("."+this._inlineClass),n.children().addClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}),this._disabledInputs[this._disabledInputs.length]=t)},_isDisabledDatepicker:function(e){if(!e)return!1;for(var t=0;t<this._disabledInputs.length;t++)if(this._disabledInputs[t]===e)return!0;return!1},_getInst:function(t){try{return e.data(t,"datepicker")}catch(i){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(t,i,n){var r,o,a,l,c=this._getInst(t);return 2===arguments.length&&"string"==typeof i?"defaults"===i?e.extend({},e.datepicker._defaults):c?"all"===i?e.extend({},c.settings):this._get(c,i):null:(r=i||{},"string"==typeof i&&(r={},r[i]=n),void(c&&(this._curInst===c&&this._hideDatepicker(),o=this._getDateDatepicker(t,!0),a=this._getMinMaxDate(c,"min"),l=this._getMinMaxDate(c,"max"),s(c.settings,r),null!==a&&void 0!==r.dateFormat&&void 0===r.minDate&&(c.settings.minDate=this._formatDate(c,a)),null!==l&&void 0!==r.dateFormat&&void 0===r.maxDate&&(c.settings.maxDate=this._formatDate(c,l)),"disabled"in r&&(r.disabled?this._disableDatepicker(t):this._enableDatepicker(t)),this._attachments(e(t),c),this._autoSize(c),this._setDate(c,o),this._updateAlternate(c),this._updateDatepicker(c))))},_changeDatepicker:function(e,t,i){this._optionDatepicker(e,t,i)},_refreshDatepicker:function(e){var t=this._getInst(e);t&&this._updateDatepicker(t)},_setDateDatepicker:function(e,t){var i=this._getInst(e);i&&(this._setDate(i,t),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(e,t){var i=this._getInst(e);return i&&!i.inline&&this._setDateFromField(i,t),i?this._getDate(i):null},_doKeyDown:function(t){var i,n,r,s=e.datepicker._getInst(t.target),o=!0,a=s.dpDiv.is(".ui-datepicker-rtl");if(s._keyEvent=!0,e.datepicker._datepickerShowing)switch(t.keyCode){case 9:e.datepicker._hideDatepicker(),o=!1;break;case 13:return r=e("td."+e.datepicker._dayOverClass+":not(."+e.datepicker._currentClass+")",s.dpDiv),r[0]&&e.datepicker._selectDay(t.target,s.selectedMonth,s.selectedYear,r[0]),i=e.datepicker._get(s,"onSelect"),i?(n=e.datepicker._formatDate(s),i.apply(s.input?s.input[0]:null,[n,s])):e.datepicker._hideDatepicker(),!1;case 27:e.datepicker._hideDatepicker();break;case 33:e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(s,"stepBigMonths"):-e.datepicker._get(s,"stepMonths"),"M");break;case 34:e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(s,"stepBigMonths"):+e.datepicker._get(s,"stepMonths"),"M");break;case 35:(t.ctrlKey||t.metaKey)&&e.datepicker._clearDate(t.target),o=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&e.datepicker._gotoToday(t.target),o=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,a?1:-1,"D"),o=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(s,"stepBigMonths"):-e.datepicker._get(s,"stepMonths"),"M");break;case 38:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,-7,"D"),o=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,a?-1:1,"D"),o=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(s,"stepBigMonths"):+e.datepicker._get(s,"stepMonths"),"M");break;case 40:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,7,"D"),o=t.ctrlKey||t.metaKey;break;default:o=!1}else 36===t.keyCode&&t.ctrlKey?e.datepicker._showDatepicker(this):o=!1;o&&(t.preventDefault(),t.stopPropagation())},_doKeyPress:function(t){var i,n,r=e.datepicker._getInst(t.target);return e.datepicker._get(r,"constrainInput")?(i=e.datepicker._possibleChars(e.datepicker._get(r,"dateFormat")),n=String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),t.ctrlKey||t.metaKey||" ">n||!i||i.indexOf(n)>-1):void 0},_doKeyUp:function(t){var i,n=e.datepicker._getInst(t.target);if(n.input.val()!==n.lastVal)try{i=e.datepicker.parseDate(e.datepicker._get(n,"dateFormat"),n.input?n.input.val():null,e.datepicker._getFormatConfig(n)),i&&(e.datepicker._setDateFromField(n),e.datepicker._updateAlternate(n),e.datepicker._updateDatepicker(n))}catch(r){}return!0},_showDatepicker:function(i){if(i=i.target||i,"input"!==i.nodeName.toLowerCase()&&(i=e("input",i.parentNode)[0]),!e.datepicker._isDisabledDatepicker(i)&&e.datepicker._lastInput!==i){var n,r,o,a,l,c,u;n=e.datepicker._getInst(i),e.datepicker._curInst&&e.datepicker._curInst!==n&&(e.datepicker._curInst.dpDiv.stop(!0,!0),n&&e.datepicker._datepickerShowing&&e.datepicker._hideDatepicker(e.datepicker._curInst.input[0])),r=e.datepicker._get(n,"beforeShow"),o=r?r.apply(i,[i,n]):{},o!==!1&&(s(n.settings,o),n.lastVal=null,e.datepicker._lastInput=i,e.datepicker._setDateFromField(n),e.datepicker._inDialog&&(i.value=""),e.datepicker._pos||(e.datepicker._pos=e.datepicker._findPos(i),e.datepicker._pos[1]+=i.offsetHeight),a=!1,e(i).parents().each(function(){return a|="fixed"===e(this).css("position"),!a
}),l={left:e.datepicker._pos[0],top:e.datepicker._pos[1]},e.datepicker._pos=null,n.dpDiv.empty(),n.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),e.datepicker._updateDatepicker(n),l=e.datepicker._checkOffset(n,l,a),n.dpDiv.css({position:e.datepicker._inDialog&&e.blockUI?"static":a?"fixed":"absolute",display:"none",left:l.left+"px",top:l.top+"px"}),n.inline||(c=e.datepicker._get(n,"showAnim"),u=e.datepicker._get(n,"duration"),n.dpDiv.css("z-index",t(e(i))+1),e.datepicker._datepickerShowing=!0,e.effects&&e.effects.effect[c]?n.dpDiv.show(c,e.datepicker._get(n,"showOptions"),u):n.dpDiv[c||"show"](c?u:null),e.datepicker._shouldFocusInput(n)&&n.input.focus(),e.datepicker._curInst=n))}},_updateDatepicker:function(t){this.maxRows=4,o=t,t.dpDiv.empty().append(this._generateHTML(t)),this._attachHandlers(t);var i,n=this._getNumberOfMonths(t),s=n[1],a=17,l=t.dpDiv.find("."+this._dayOverClass+" a");l.length>0&&r.apply(l.get(0)),t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),s>1&&t.dpDiv.addClass("ui-datepicker-multi-"+s).css("width",a*s+"em"),t.dpDiv[(1!==n[0]||1!==n[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),t.dpDiv[(this._get(t,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),t===e.datepicker._curInst&&e.datepicker._datepickerShowing&&e.datepicker._shouldFocusInput(t)&&t.input.focus(),t.yearshtml&&(i=t.yearshtml,setTimeout(function(){i===t.yearshtml&&t.yearshtml&&t.dpDiv.find("select.ui-datepicker-year:first").replaceWith(t.yearshtml),i=t.yearshtml=null},0))},_shouldFocusInput:function(e){return e.input&&e.input.is(":visible")&&!e.input.is(":disabled")&&!e.input.is(":focus")},_checkOffset:function(t,i,n){var r=t.dpDiv.outerWidth(),s=t.dpDiv.outerHeight(),o=t.input?t.input.outerWidth():0,a=t.input?t.input.outerHeight():0,l=document.documentElement.clientWidth+(n?0:e(document).scrollLeft()),c=document.documentElement.clientHeight+(n?0:e(document).scrollTop());return i.left-=this._get(t,"isRTL")?r-o:0,i.left-=n&&i.left===t.input.offset().left?e(document).scrollLeft():0,i.top-=n&&i.top===t.input.offset().top+a?e(document).scrollTop():0,i.left-=Math.min(i.left,i.left+r>l&&l>r?Math.abs(i.left+r-l):0),i.top-=Math.min(i.top,i.top+s>c&&c>s?Math.abs(s+a):0),i},_findPos:function(t){for(var i,n=this._getInst(t),r=this._get(n,"isRTL");t&&("hidden"===t.type||1!==t.nodeType||e.expr.filters.hidden(t));)t=t[r?"previousSibling":"nextSibling"];return i=e(t).offset(),[i.left,i.top]},_hideDatepicker:function(t){var i,n,r,s,o=this._curInst;!o||t&&o!==e.data(t,"datepicker")||this._datepickerShowing&&(i=this._get(o,"showAnim"),n=this._get(o,"duration"),r=function(){e.datepicker._tidyDialog(o)},e.effects&&(e.effects.effect[i]||e.effects[i])?o.dpDiv.hide(i,e.datepicker._get(o,"showOptions"),n,r):o.dpDiv["slideDown"===i?"slideUp":"fadeIn"===i?"fadeOut":"hide"](i?n:null,r),i||r(),this._datepickerShowing=!1,s=this._get(o,"onClose"),s&&s.apply(o.input?o.input[0]:null,[o.input?o.input.val():"",o]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),e.blockUI&&(e.unblockUI(),e("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(t){if(e.datepicker._curInst){var i=e(t.target),n=e.datepicker._getInst(i[0]);(i[0].id!==e.datepicker._mainDivId&&0===i.parents("#"+e.datepicker._mainDivId).length&&!i.hasClass(e.datepicker.markerClassName)&&!i.closest("."+e.datepicker._triggerClass).length&&e.datepicker._datepickerShowing&&(!e.datepicker._inDialog||!e.blockUI)||i.hasClass(e.datepicker.markerClassName)&&e.datepicker._curInst!==n)&&e.datepicker._hideDatepicker()}},_adjustDate:function(t,i,n){var r=e(t),s=this._getInst(r[0]);this._isDisabledDatepicker(r[0])||(this._adjustInstDate(s,i+("M"===n?this._get(s,"showCurrentAtPos"):0),n),this._updateDatepicker(s))},_gotoToday:function(t){var i,n=e(t),r=this._getInst(n[0]);this._get(r,"gotoCurrent")&&r.currentDay?(r.selectedDay=r.currentDay,r.drawMonth=r.selectedMonth=r.currentMonth,r.drawYear=r.selectedYear=r.currentYear):(i=new Date,r.selectedDay=i.getDate(),r.drawMonth=r.selectedMonth=i.getMonth(),r.drawYear=r.selectedYear=i.getFullYear()),this._notifyChange(r),this._adjustDate(n)},_selectMonthYear:function(t,i,n){var r=e(t),s=this._getInst(r[0]);s["selected"+("M"===n?"Month":"Year")]=s["draw"+("M"===n?"Month":"Year")]=parseInt(i.options[i.selectedIndex].value,10),this._notifyChange(s),this._adjustDate(r)},_selectDay:function(t,i,n,r){var s,o=e(t);e(r).hasClass(this._unselectableClass)||this._isDisabledDatepicker(o[0])||(s=this._getInst(o[0]),s.selectedDay=s.currentDay=e("a",r).html(),s.selectedMonth=s.currentMonth=i,s.selectedYear=s.currentYear=n,this._selectDate(t,this._formatDate(s,s.currentDay,s.currentMonth,s.currentYear)))},_clearDate:function(t){var i=e(t);this._selectDate(i,"")},_selectDate:function(t,i){var n,r=e(t),s=this._getInst(r[0]);i=null!=i?i:this._formatDate(s),s.input&&s.input.val(i),this._updateAlternate(s),n=this._get(s,"onSelect"),n?n.apply(s.input?s.input[0]:null,[i,s]):s.input&&s.input.trigger("change"),s.inline?this._updateDatepicker(s):(this._hideDatepicker(),this._lastInput=s.input[0],"object"!=typeof s.input[0]&&s.input.focus(),this._lastInput=null)},_updateAlternate:function(t){var i,n,r,s=this._get(t,"altField");s&&(i=this._get(t,"altFormat")||this._get(t,"dateFormat"),n=this._getDate(t),r=this.formatDate(i,n,this._getFormatConfig(t)),e(s).each(function(){e(this).val(r)}))},noWeekends:function(e){var t=e.getDay();return[t>0&&6>t,""]},iso8601Week:function(e){var t,i=new Date(e.getTime());return i.setDate(i.getDate()+4-(i.getDay()||7)),t=i.getTime(),i.setMonth(0),i.setDate(1),Math.floor(Math.round((t-i)/864e5)/7)+1},parseDate:function(t,i,n){if(null==t||null==i)throw"Invalid arguments";if(i="object"==typeof i?i.toString():i+"",""===i)return null;var r,s,o,a,l=0,c=(n?n.shortYearCutoff:null)||this._defaults.shortYearCutoff,u="string"!=typeof c?c:(new Date).getFullYear()%100+parseInt(c,10),d=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,h=(n?n.dayNames:null)||this._defaults.dayNames,f=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,p=(n?n.monthNames:null)||this._defaults.monthNames,g=-1,m=-1,v=-1,y=-1,b=!1,w=function(e){var i=r+1<t.length&&t.charAt(r+1)===e;return i&&r++,i},x=function(e){var t=w(e),n="@"===e?14:"!"===e?20:"y"===e&&t?4:"o"===e?3:2,r="y"===e?n:1,s=new RegExp("^\\d{"+r+","+n+"}"),o=i.substring(l).match(s);if(!o)throw"Missing number at position "+l;return l+=o[0].length,parseInt(o[0],10)},k=function(t,n,r){var s=-1,o=e.map(w(t)?r:n,function(e,t){return[[t,e]]}).sort(function(e,t){return-(e[1].length-t[1].length)});if(e.each(o,function(e,t){var n=t[1];return i.substr(l,n.length).toLowerCase()===n.toLowerCase()?(s=t[0],l+=n.length,!1):void 0}),-1!==s)return s+1;throw"Unknown name at position "+l},_=function(){if(i.charAt(l)!==t.charAt(r))throw"Unexpected literal at position "+l;l++};for(r=0;r<t.length;r++)if(b)"'"!==t.charAt(r)||w("'")?_():b=!1;else switch(t.charAt(r)){case"d":v=x("d");break;case"D":k("D",d,h);break;case"o":y=x("o");break;case"m":m=x("m");break;case"M":m=k("M",f,p);break;case"y":g=x("y");break;case"@":a=new Date(x("@")),g=a.getFullYear(),m=a.getMonth()+1,v=a.getDate();break;case"!":a=new Date((x("!")-this._ticksTo1970)/1e4),g=a.getFullYear(),m=a.getMonth()+1,v=a.getDate();break;case"'":w("'")?_():b=!0;break;default:_()}if(l<i.length&&(o=i.substr(l),!/^\s+/.test(o)))throw"Extra/unparsed characters found in date: "+o;if(-1===g?g=(new Date).getFullYear():100>g&&(g+=(new Date).getFullYear()-(new Date).getFullYear()%100+(u>=g?0:-100)),y>-1)for(m=1,v=y;;){if(s=this._getDaysInMonth(g,m-1),s>=v)break;m++,v-=s}if(a=this._daylightSavingAdjust(new Date(g,m-1,v)),a.getFullYear()!==g||a.getMonth()+1!==m||a.getDate()!==v)throw"Invalid date";return a},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(e,t,i){if(!t)return"";var n,r=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,s=(i?i.dayNames:null)||this._defaults.dayNames,o=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,a=(i?i.monthNames:null)||this._defaults.monthNames,l=function(t){var i=n+1<e.length&&e.charAt(n+1)===t;return i&&n++,i},c=function(e,t,i){var n=""+t;if(l(e))for(;n.length<i;)n="0"+n;return n},u=function(e,t,i,n){return l(e)?n[t]:i[t]},d="",h=!1;if(t)for(n=0;n<e.length;n++)if(h)"'"!==e.charAt(n)||l("'")?d+=e.charAt(n):h=!1;else switch(e.charAt(n)){case"d":d+=c("d",t.getDate(),2);break;case"D":d+=u("D",t.getDay(),r,s);break;case"o":d+=c("o",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case"m":d+=c("m",t.getMonth()+1,2);break;case"M":d+=u("M",t.getMonth(),o,a);break;case"y":d+=l("y")?t.getFullYear():(t.getYear()%100<10?"0":"")+t.getYear()%100;break;case"@":d+=t.getTime();break;case"!":d+=1e4*t.getTime()+this._ticksTo1970;break;case"'":l("'")?d+="'":h=!0;break;default:d+=e.charAt(n)}return d},_possibleChars:function(e){var t,i="",n=!1,r=function(i){var n=t+1<e.length&&e.charAt(t+1)===i;return n&&t++,n};for(t=0;t<e.length;t++)if(n)"'"!==e.charAt(t)||r("'")?i+=e.charAt(t):n=!1;else switch(e.charAt(t)){case"d":case"m":case"y":case"@":i+="0123456789";break;case"D":case"M":return null;case"'":r("'")?i+="'":n=!0;break;default:i+=e.charAt(t)}return i},_get:function(e,t){return void 0!==e.settings[t]?e.settings[t]:this._defaults[t]},_setDateFromField:function(e,t){if(e.input.val()!==e.lastVal){var i=this._get(e,"dateFormat"),n=e.lastVal=e.input?e.input.val():null,r=this._getDefaultDate(e),s=r,o=this._getFormatConfig(e);try{s=this.parseDate(i,n,o)||r}catch(a){n=t?"":n}e.selectedDay=s.getDate(),e.drawMonth=e.selectedMonth=s.getMonth(),e.drawYear=e.selectedYear=s.getFullYear(),e.currentDay=n?s.getDate():0,e.currentMonth=n?s.getMonth():0,e.currentYear=n?s.getFullYear():0,this._adjustInstDate(e)}},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function(t,i,n){var r=function(e){var t=new Date;return t.setDate(t.getDate()+e),t},s=function(i){try{return e.datepicker.parseDate(e.datepicker._get(t,"dateFormat"),i,e.datepicker._getFormatConfig(t))}catch(n){}for(var r=(i.toLowerCase().match(/^c/)?e.datepicker._getDate(t):null)||new Date,s=r.getFullYear(),o=r.getMonth(),a=r.getDate(),l=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,c=l.exec(i);c;){switch(c[2]||"d"){case"d":case"D":a+=parseInt(c[1],10);break;case"w":case"W":a+=7*parseInt(c[1],10);break;case"m":case"M":o+=parseInt(c[1],10),a=Math.min(a,e.datepicker._getDaysInMonth(s,o));break;case"y":case"Y":s+=parseInt(c[1],10),a=Math.min(a,e.datepicker._getDaysInMonth(s,o))}c=l.exec(i)}return new Date(s,o,a)},o=null==i||""===i?n:"string"==typeof i?s(i):"number"==typeof i?isNaN(i)?n:r(i):new Date(i.getTime());return o=o&&"Invalid Date"===o.toString()?n:o,o&&(o.setHours(0),o.setMinutes(0),o.setSeconds(0),o.setMilliseconds(0)),this._daylightSavingAdjust(o)},_daylightSavingAdjust:function(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null},_setDate:function(e,t,i){var n=!t,r=e.selectedMonth,s=e.selectedYear,o=this._restrictMinMax(e,this._determineDate(e,t,new Date));e.selectedDay=e.currentDay=o.getDate(),e.drawMonth=e.selectedMonth=e.currentMonth=o.getMonth(),e.drawYear=e.selectedYear=e.currentYear=o.getFullYear(),r===e.selectedMonth&&s===e.selectedYear||i||this._notifyChange(e),this._adjustInstDate(e),e.input&&e.input.val(n?"":this._formatDate(e))},_getDate:function(e){var t=!e.currentYear||e.input&&""===e.input.val()?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return t},_attachHandlers:function(t){var i=this._get(t,"stepMonths"),n="#"+t.id.replace(/\\\\/g,"\\");t.dpDiv.find("[data-handler]").map(function(){var t={prev:function(){e.datepicker._adjustDate(n,-i,"M")},next:function(){e.datepicker._adjustDate(n,+i,"M")},hide:function(){e.datepicker._hideDatepicker()},today:function(){e.datepicker._gotoToday(n)},selectDay:function(){return e.datepicker._selectDay(n,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return e.datepicker._selectMonthYear(n,this,"M"),!1},selectYear:function(){return e.datepicker._selectMonthYear(n,this,"Y"),!1}};e(this).bind(this.getAttribute("data-event"),t[this.getAttribute("data-handler")])})},_generateHTML:function(e){var t,i,n,r,s,o,a,l,c,u,d,h,f,p,g,m,v,y,b,w,x,k,_,C,T,S,D,E,M,A,I,O,$,R,H,P,z,N,L,F=new Date,j=this._daylightSavingAdjust(new Date(F.getFullYear(),F.getMonth(),F.getDate())),W=this._get(e,"isRTL"),B=this._get(e,"showButtonPanel"),U=this._get(e,"hideIfNoPrevNext"),q=this._get(e,"navigationAsDateFormat"),Y=this._getNumberOfMonths(e),V=this._get(e,"showCurrentAtPos"),G=this._get(e,"stepMonths"),K=1!==Y[0]||1!==Y[1],X=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),Q=this._getMinMaxDate(e,"min"),Z=this._getMinMaxDate(e,"max"),J=e.drawMonth-V,et=e.drawYear;if(0>J&&(J+=12,et--),Z)for(t=this._daylightSavingAdjust(new Date(Z.getFullYear(),Z.getMonth()-Y[0]*Y[1]+1,Z.getDate())),t=Q&&Q>t?Q:t;this._daylightSavingAdjust(new Date(et,J,1))>t;)J--,0>J&&(J=11,et--);for(e.drawMonth=J,e.drawYear=et,i=this._get(e,"prevText"),i=q?this.formatDate(i,this._daylightSavingAdjust(new Date(et,J-G,1)),this._getFormatConfig(e)):i,n=this._canAdjustMonth(e,-1,et,J)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(W?"e":"w")+"'>"+i+"</span></a>":U?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(W?"e":"w")+"'>"+i+"</span></a>",r=this._get(e,"nextText"),r=q?this.formatDate(r,this._daylightSavingAdjust(new Date(et,J+G,1)),this._getFormatConfig(e)):r,s=this._canAdjustMonth(e,1,et,J)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+r+"'><span class='ui-icon ui-icon-circle-triangle-"+(W?"w":"e")+"'>"+r+"</span></a>":U?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+r+"'><span class='ui-icon ui-icon-circle-triangle-"+(W?"w":"e")+"'>"+r+"</span></a>",o=this._get(e,"currentText"),a=this._get(e,"gotoCurrent")&&e.currentDay?X:j,o=q?this.formatDate(o,a,this._getFormatConfig(e)):o,l=e.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(e,"closeText")+"</button>",c=B?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(W?l:"")+(this._isInRange(e,a)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+o+"</button>":"")+(W?"":l)+"</div>":"",u=parseInt(this._get(e,"firstDay"),10),u=isNaN(u)?0:u,d=this._get(e,"showWeek"),h=this._get(e,"dayNames"),f=this._get(e,"dayNamesMin"),p=this._get(e,"monthNames"),g=this._get(e,"monthNamesShort"),m=this._get(e,"beforeShowDay"),v=this._get(e,"showOtherMonths"),y=this._get(e,"selectOtherMonths"),b=this._getDefaultDate(e),w="",k=0;k<Y[0];k++){for(_="",this.maxRows=4,C=0;C<Y[1];C++){if(T=this._daylightSavingAdjust(new Date(et,J,e.selectedDay)),S=" ui-corner-all",D="",K){if(D+="<div class='ui-datepicker-group",Y[1]>1)switch(C){case 0:D+=" ui-datepicker-group-first",S=" ui-corner-"+(W?"right":"left");break;case Y[1]-1:D+=" ui-datepicker-group-last",S=" ui-corner-"+(W?"left":"right");break;default:D+=" ui-datepicker-group-middle",S=""}D+="'>"}for(D+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+S+"'>"+(/all|left/.test(S)&&0===k?W?s:n:"")+(/all|right/.test(S)&&0===k?W?n:s:"")+this._generateMonthYearHeader(e,J,et,Q,Z,k>0||C>0,p,g)+"</div><table class='ui-datepicker-calendar'><thead><tr>",E=d?"<th class='ui-datepicker-week-col'>"+this._get(e,"weekHeader")+"</th>":"",x=0;7>x;x++)M=(x+u)%7,E+="<th scope='col'"+((x+u+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+h[M]+"'>"+f[M]+"</span></th>";for(D+=E+"</tr></thead><tbody>",A=this._getDaysInMonth(et,J),et===e.selectedYear&&J===e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,A)),I=(this._getFirstDayOfMonth(et,J)-u+7)%7,O=Math.ceil((I+A)/7),$=K&&this.maxRows>O?this.maxRows:O,this.maxRows=$,R=this._daylightSavingAdjust(new Date(et,J,1-I)),H=0;$>H;H++){for(D+="<tr>",P=d?"<td class='ui-datepicker-week-col'>"+this._get(e,"calculateWeek")(R)+"</td>":"",x=0;7>x;x++)z=m?m.apply(e.input?e.input[0]:null,[R]):[!0,""],N=R.getMonth()!==J,L=N&&!y||!z[0]||Q&&Q>R||Z&&R>Z,P+="<td class='"+((x+u+6)%7>=5?" ui-datepicker-week-end":"")+(N?" ui-datepicker-other-month":"")+(R.getTime()===T.getTime()&&J===e.selectedMonth&&e._keyEvent||b.getTime()===R.getTime()&&b.getTime()===T.getTime()?" "+this._dayOverClass:"")+(L?" "+this._unselectableClass+" ui-state-disabled":"")+(N&&!v?"":" "+z[1]+(R.getTime()===X.getTime()?" "+this._currentClass:"")+(R.getTime()===j.getTime()?" ui-datepicker-today":""))+"'"+(N&&!v||!z[2]?"":" title='"+z[2].replace(/'/g,"&#39;")+"'")+(L?"":" data-handler='selectDay' data-event='click' data-month='"+R.getMonth()+"' data-year='"+R.getFullYear()+"'")+">"+(N&&!v?"&#xa0;":L?"<span class='ui-state-default'>"+R.getDate()+"</span>":"<a class='ui-state-default"+(R.getTime()===j.getTime()?" ui-state-highlight":"")+(R.getTime()===X.getTime()?" ui-state-active":"")+(N?" ui-priority-secondary":"")+"' href='#'>"+R.getDate()+"</a>")+"</td>",R.setDate(R.getDate()+1),R=this._daylightSavingAdjust(R);D+=P+"</tr>"}J++,J>11&&(J=0,et++),D+="</tbody></table>"+(K?"</div>"+(Y[0]>0&&C===Y[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),_+=D}w+=_}return w+=c,e._keyEvent=!1,w},_generateMonthYearHeader:function(e,t,i,n,r,s,o,a){var l,c,u,d,h,f,p,g,m=this._get(e,"changeMonth"),v=this._get(e,"changeYear"),y=this._get(e,"showMonthAfterYear"),b="<div class='ui-datepicker-title'>",w="";if(s||!m)w+="<span class='ui-datepicker-month'>"+o[t]+"</span>";else{for(l=n&&n.getFullYear()===i,c=r&&r.getFullYear()===i,w+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",u=0;12>u;u++)(!l||u>=n.getMonth())&&(!c||u<=r.getMonth())&&(w+="<option value='"+u+"'"+(u===t?" selected='selected'":"")+">"+a[u]+"</option>");w+="</select>"}if(y||(b+=w+(!s&&m&&v?"":"&#xa0;")),!e.yearshtml)if(e.yearshtml="",s||!v)b+="<span class='ui-datepicker-year'>"+i+"</span>";else{for(d=this._get(e,"yearRange").split(":"),h=(new Date).getFullYear(),f=function(e){var t=e.match(/c[+\-].*/)?i+parseInt(e.substring(1),10):e.match(/[+\-].*/)?h+parseInt(e,10):parseInt(e,10);return isNaN(t)?h:t},p=f(d[0]),g=Math.max(p,f(d[1]||"")),p=n?Math.max(p,n.getFullYear()):p,g=r?Math.min(g,r.getFullYear()):g,e.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";g>=p;p++)e.yearshtml+="<option value='"+p+"'"+(p===i?" selected='selected'":"")+">"+p+"</option>";e.yearshtml+="</select>",b+=e.yearshtml,e.yearshtml=null}return b+=this._get(e,"yearSuffix"),y&&(b+=(!s&&m&&v?"":"&#xa0;")+w),b+="</div>"},_adjustInstDate:function(e,t,i){var n=e.drawYear+("Y"===i?t:0),r=e.drawMonth+("M"===i?t:0),s=Math.min(e.selectedDay,this._getDaysInMonth(n,r))+("D"===i?t:0),o=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(n,r,s)));e.selectedDay=o.getDate(),e.drawMonth=e.selectedMonth=o.getMonth(),e.drawYear=e.selectedYear=o.getFullYear(),("M"===i||"Y"===i)&&this._notifyChange(e)},_restrictMinMax:function(e,t){var i=this._getMinMaxDate(e,"min"),n=this._getMinMaxDate(e,"max"),r=i&&i>t?i:t;return n&&r>n?n:r},_notifyChange:function(e){var t=this._get(e,"onChangeMonthYear");t&&t.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){var t=this._get(e,"numberOfMonths");return null==t?[1,1]:"number"==typeof t?[1,t]:t},_getMinMaxDate:function(e,t){return this._determineDate(e,this._get(e,t+"Date"),null)},_getDaysInMonth:function(e,t){return 32-this._daylightSavingAdjust(new Date(e,t,32)).getDate()},_getFirstDayOfMonth:function(e,t){return new Date(e,t,1).getDay()},_canAdjustMonth:function(e,t,i,n){var r=this._getNumberOfMonths(e),s=this._daylightSavingAdjust(new Date(i,n+(0>t?t:r[0]*r[1]),1));return 0>t&&s.setDate(this._getDaysInMonth(s.getFullYear(),s.getMonth())),this._isInRange(e,s)},_isInRange:function(e,t){var i,n,r=this._getMinMaxDate(e,"min"),s=this._getMinMaxDate(e,"max"),o=null,a=null,l=this._get(e,"yearRange");return l&&(i=l.split(":"),n=(new Date).getFullYear(),o=parseInt(i[0],10),a=parseInt(i[1],10),i[0].match(/[+\-].*/)&&(o+=n),i[1].match(/[+\-].*/)&&(a+=n)),(!r||t.getTime()>=r.getTime())&&(!s||t.getTime()<=s.getTime())&&(!o||t.getFullYear()>=o)&&(!a||t.getFullYear()<=a)},_getFormatConfig:function(e){var t=this._get(e,"shortYearCutoff");return t="string"!=typeof t?t:(new Date).getFullYear()%100+parseInt(t,10),{shortYearCutoff:t,dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function(e,t,i,n){t||(e.currentDay=e.selectedDay,e.currentMonth=e.selectedMonth,e.currentYear=e.selectedYear);var r=t?"object"==typeof t?t:this._daylightSavingAdjust(new Date(n,i,t)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,"dateFormat"),r,this._getFormatConfig(e))}}),e.fn.datepicker=function(t){if(!this.length)return this;e.datepicker.initialized||(e(document).mousedown(e.datepicker._checkExternalClick),e.datepicker.initialized=!0),0===e("#"+e.datepicker._mainDivId).length&&e("body").append(e.datepicker.dpDiv);var i=Array.prototype.slice.call(arguments,1);return"string"!=typeof t||"isDisabled"!==t&&"getDate"!==t&&"widget"!==t?"option"===t&&2===arguments.length&&"string"==typeof arguments[1]?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(i)):this.each(function(){"string"==typeof t?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this].concat(i)):e.datepicker._attachDatepicker(this,t)}):e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(i))},e.datepicker=new i,e.datepicker.initialized=!1,e.datepicker.uuid=(new Date).getTime(),e.datepicker.version="1.11.4",e.datepicker}),function(e){"function"==typeof define&&define.amd?define(["jquery","./widget"],e):e(jQuery)}(function(e){var t=!1;return e(document).mouseup(function(){t=!1}),e.widget("ui.mouse",{version:"1.11.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(i){return!0===e.data(i.target,t.widgetName+".preventClickEvent")?(e.removeData(i.target,t.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(i){if(!t){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(i),this._mouseDownEvent=i;var n=this,r=1===i.which,s="string"==typeof this.options.cancel&&i.target.nodeName?e(i.target).closest(this.options.cancel).length:!1;return r&&!s&&this._mouseCapture(i)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){n.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(i)&&this._mouseDelayMet(i)&&(this._mouseStarted=this._mouseStart(i)!==!1,!this._mouseStarted)?(i.preventDefault(),!0):(!0===e.data(i.target,this.widgetName+".preventClickEvent")&&e.removeData(i.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return n._mouseMove(e)},this._mouseUpDelegate=function(e){return n._mouseUp(e)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),i.preventDefault(),t=!0,!0)):!0}},_mouseMove:function(t){if(this._mouseMoved){if(e.ui.ie&&(!document.documentMode||document.documentMode<9)&&!t.button)return this._mouseUp(t);if(!t.which)return this._mouseUp(t)}return(t.which||t.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(i){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,i.target===this._mouseDownEvent.target&&e.data(i.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(i)),t=!1,!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}),function(e){"function"==typeof define&&define.amd?define(["jquery","./core","./mouse","./widget"],e):e(jQuery)}(function(e){return e.widget("ui.draggable",e.ui.mouse,{version:"1.11.4",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._setHandleClassName(),this._mouseInit()},_setOption:function(e,t){this._super(e,t),"handle"===e&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?void(this.destroyOnClear=!0):(this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._removeHandleClassName(),void this._mouseDestroy())},_mouseCapture:function(t){var i=this.options;return this._blurActiveElement(t),this.helper||i.disabled||e(t.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(t),this.handle?(this._blockFrames(i.iframeFix===!0?"iframe":i.iframeFix),!0):!1)},_blockFrames:function(t){this.iframeBlocks=this.document.find(t).map(function(){var t=e(this);return e("<div>").css("position","absolute").appendTo(t.parent()).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(t){var i=this.document[0];if(this.handleElement.is(t.target))try{i.activeElement&&"body"!==i.activeElement.nodeName.toLowerCase()&&e(i.activeElement).blur()}catch(n){}},_mouseStart:function(t){var i=this.options;return this.helper=this._createHelper(t),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===e(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(t),this.originalPosition=this.position=this._generatePosition(t,!1),this.originalPageX=t.pageX,this.originalPageY=t.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),this._trigger("start",t)===!1?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!i.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this._normalizeRightBottom(),this._mouseDrag(t,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t),!0)},_refreshOffsets:function(e){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:e.pageX-this.offset.left,top:e.pageY-this.offset.top}},_mouseDrag:function(t,i){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t,!0),this.positionAbs=this._convertPositionTo("absolute"),!i){var n=this._uiHash();if(this._trigger("drag",t,n)===!1)return this._mouseUp({}),!1;this.position=n.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var i=this,n=!1;return e.ui.ddmanager&&!this.options.dropBehaviour&&(n=e.ui.ddmanager.drop(this,t)),this.dropped&&(n=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!n||"valid"===this.options.revert&&n||this.options.revert===!0||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,n)?e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){i._trigger("stop",t)!==!1&&i._clear()}):this._trigger("stop",t)!==!1&&this._clear(),!1},_mouseUp:function(t){return this._unblockFrames(),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t),this.handleElement.is(t.target)&&this.element.focus(),e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(t){return this.options.handle?!!e(t.target).closest(this.element.find(this.options.handle)).length:!0},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this.handleElement.addClass("ui-draggable-handle")},_removeHandleClassName:function(){this.handleElement.removeClass("ui-draggable-handle")},_createHelper:function(t){var i=this.options,n=e.isFunction(i.helper),r=n?e(i.helper.apply(this.element[0],[t])):"clone"===i.helper?this.element.clone().removeAttr("id"):this.element;return r.parents("body").length||r.appendTo("parent"===i.appendTo?this.element[0].parentNode:i.appendTo),n&&r[0]===this.element[0]&&this._setPositionRelative(),r[0]===this.element[0]||/(fixed|absolute)/.test(r.css("position"))||r.css("position","absolute"),r},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_isRootNode:function(e){return/(html|body)/i.test(e.tagName)||e===this.document[0]},_getParentOffset:function(){var t=this.offsetParent.offset(),i=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==i&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var e=this.element.position(),t=this._isRootNode(this.scrollParent[0]);return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+(t?0:this.scrollParent.scrollTop()),left:e.left-(parseInt(this.helper.css("left"),10)||0)+(t?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}
},_setContainment:function(){var t,i,n,r=this.options,s=this.document[0];return this.relativeContainer=null,r.containment?"window"===r.containment?void(this.containment=[e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,e(window).scrollLeft()+e(window).width()-this.helperProportions.width-this.margins.left,e(window).scrollTop()+(e(window).height()||s.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===r.containment?void(this.containment=[0,0,e(s).width()-this.helperProportions.width-this.margins.left,(e(s).height()||s.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):r.containment.constructor===Array?void(this.containment=r.containment):("parent"===r.containment&&(r.containment=this.helper[0].parentNode),i=e(r.containment),n=i[0],void(n&&(t=/(scroll|auto)/.test(i.css("overflow")),this.containment=[(parseInt(i.css("borderLeftWidth"),10)||0)+(parseInt(i.css("paddingLeft"),10)||0),(parseInt(i.css("borderTopWidth"),10)||0)+(parseInt(i.css("paddingTop"),10)||0),(t?Math.max(n.scrollWidth,n.offsetWidth):n.offsetWidth)-(parseInt(i.css("borderRightWidth"),10)||0)-(parseInt(i.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(n.scrollHeight,n.offsetHeight):n.offsetHeight)-(parseInt(i.css("borderBottomWidth"),10)||0)-(parseInt(i.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=i))):void(this.containment=null)},_convertPositionTo:function(e,t){t||(t=this.position);var i="absolute"===e?1:-1,n=this._isRootNode(this.scrollParent[0]);return{top:t.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.offset.scroll.top:n?0:this.offset.scroll.top)*i,left:t.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.offset.scroll.left:n?0:this.offset.scroll.left)*i}},_generatePosition:function(e,t){var i,n,r,s,o=this.options,a=this._isRootNode(this.scrollParent[0]),l=e.pageX,c=e.pageY;return a&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),t&&(this.containment&&(this.relativeContainer?(n=this.relativeContainer.offset(),i=[this.containment[0]+n.left,this.containment[1]+n.top,this.containment[2]+n.left,this.containment[3]+n.top]):i=this.containment,e.pageX-this.offset.click.left<i[0]&&(l=i[0]+this.offset.click.left),e.pageY-this.offset.click.top<i[1]&&(c=i[1]+this.offset.click.top),e.pageX-this.offset.click.left>i[2]&&(l=i[2]+this.offset.click.left),e.pageY-this.offset.click.top>i[3]&&(c=i[3]+this.offset.click.top)),o.grid&&(r=o.grid[1]?this.originalPageY+Math.round((c-this.originalPageY)/o.grid[1])*o.grid[1]:this.originalPageY,c=i?r-this.offset.click.top>=i[1]||r-this.offset.click.top>i[3]?r:r-this.offset.click.top>=i[1]?r-o.grid[1]:r+o.grid[1]:r,s=o.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/o.grid[0])*o.grid[0]:this.originalPageX,l=i?s-this.offset.click.left>=i[0]||s-this.offset.click.left>i[2]?s:s-this.offset.click.left>=i[0]?s-o.grid[0]:s+o.grid[0]:s),"y"===o.axis&&(l=this.originalPageX),"x"===o.axis&&(c=this.originalPageY)),{top:c-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:a?0:this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:a?0:this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_normalizeRightBottom:function(){"y"!==this.options.axis&&"auto"!==this.helper.css("right")&&(this.helper.width(this.helper.width()),this.helper.css("right","auto")),"x"!==this.options.axis&&"auto"!==this.helper.css("bottom")&&(this.helper.height(this.helper.height()),this.helper.css("bottom","auto"))},_trigger:function(t,i,n){return n=n||this._uiHash(),e.ui.plugin.call(this,t,[i,n,this],!0),/^(drag|start|stop)/.test(t)&&(this.positionAbs=this._convertPositionTo("absolute"),n.offset=this.positionAbs),e.Widget.prototype._trigger.call(this,t,i,n)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),e.ui.plugin.add("draggable","connectToSortable",{start:function(t,i,n){var r=e.extend({},i,{item:n.element});n.sortables=[],e(n.options.connectToSortable).each(function(){var i=e(this).sortable("instance");i&&!i.options.disabled&&(n.sortables.push(i),i.refreshPositions(),i._trigger("activate",t,r))})},stop:function(t,i,n){var r=e.extend({},i,{item:n.element});n.cancelHelperRemoval=!1,e.each(n.sortables,function(){var e=this;e.isOver?(e.isOver=0,n.cancelHelperRemoval=!0,e.cancelHelperRemoval=!1,e._storedCSS={position:e.placeholder.css("position"),top:e.placeholder.css("top"),left:e.placeholder.css("left")},e._mouseStop(t),e.options.helper=e.options._helper):(e.cancelHelperRemoval=!0,e._trigger("deactivate",t,r))})},drag:function(t,i,n){e.each(n.sortables,function(){var r=!1,s=this;s.positionAbs=n.positionAbs,s.helperProportions=n.helperProportions,s.offset.click=n.offset.click,s._intersectsWith(s.containerCache)&&(r=!0,e.each(n.sortables,function(){return this.positionAbs=n.positionAbs,this.helperProportions=n.helperProportions,this.offset.click=n.offset.click,this!==s&&this._intersectsWith(this.containerCache)&&e.contains(s.element[0],this.element[0])&&(r=!1),r})),r?(s.isOver||(s.isOver=1,n._parent=i.helper.parent(),s.currentItem=i.helper.appendTo(s.element).data("ui-sortable-item",!0),s.options._helper=s.options.helper,s.options.helper=function(){return i.helper[0]},t.target=s.currentItem[0],s._mouseCapture(t,!0),s._mouseStart(t,!0,!0),s.offset.click.top=n.offset.click.top,s.offset.click.left=n.offset.click.left,s.offset.parent.left-=n.offset.parent.left-s.offset.parent.left,s.offset.parent.top-=n.offset.parent.top-s.offset.parent.top,n._trigger("toSortable",t),n.dropped=s.element,e.each(n.sortables,function(){this.refreshPositions()}),n.currentItem=n.element,s.fromOutside=n),s.currentItem&&(s._mouseDrag(t),i.position=s.position)):s.isOver&&(s.isOver=0,s.cancelHelperRemoval=!0,s.options._revert=s.options.revert,s.options.revert=!1,s._trigger("out",t,s._uiHash(s)),s._mouseStop(t,!0),s.options.revert=s.options._revert,s.options.helper=s.options._helper,s.placeholder&&s.placeholder.remove(),i.helper.appendTo(n._parent),n._refreshOffsets(t),i.position=n._generatePosition(t,!0),n._trigger("fromSortable",t),n.dropped=!1,e.each(n.sortables,function(){this.refreshPositions()}))})}}),e.ui.plugin.add("draggable","cursor",{start:function(t,i,n){var r=e("body"),s=n.options;r.css("cursor")&&(s._cursor=r.css("cursor")),r.css("cursor",s.cursor)},stop:function(t,i,n){var r=n.options;r._cursor&&e("body").css("cursor",r._cursor)}}),e.ui.plugin.add("draggable","opacity",{start:function(t,i,n){var r=e(i.helper),s=n.options;r.css("opacity")&&(s._opacity=r.css("opacity")),r.css("opacity",s.opacity)},stop:function(t,i,n){var r=n.options;r._opacity&&e(i.helper).css("opacity",r._opacity)}}),e.ui.plugin.add("draggable","scroll",{start:function(e,t,i){i.scrollParentNotHidden||(i.scrollParentNotHidden=i.helper.scrollParent(!1)),i.scrollParentNotHidden[0]!==i.document[0]&&"HTML"!==i.scrollParentNotHidden[0].tagName&&(i.overflowOffset=i.scrollParentNotHidden.offset())},drag:function(t,i,n){var r=n.options,s=!1,o=n.scrollParentNotHidden[0],a=n.document[0];o!==a&&"HTML"!==o.tagName?(r.axis&&"x"===r.axis||(n.overflowOffset.top+o.offsetHeight-t.pageY<r.scrollSensitivity?o.scrollTop=s=o.scrollTop+r.scrollSpeed:t.pageY-n.overflowOffset.top<r.scrollSensitivity&&(o.scrollTop=s=o.scrollTop-r.scrollSpeed)),r.axis&&"y"===r.axis||(n.overflowOffset.left+o.offsetWidth-t.pageX<r.scrollSensitivity?o.scrollLeft=s=o.scrollLeft+r.scrollSpeed:t.pageX-n.overflowOffset.left<r.scrollSensitivity&&(o.scrollLeft=s=o.scrollLeft-r.scrollSpeed))):(r.axis&&"x"===r.axis||(t.pageY-e(a).scrollTop()<r.scrollSensitivity?s=e(a).scrollTop(e(a).scrollTop()-r.scrollSpeed):e(window).height()-(t.pageY-e(a).scrollTop())<r.scrollSensitivity&&(s=e(a).scrollTop(e(a).scrollTop()+r.scrollSpeed))),r.axis&&"y"===r.axis||(t.pageX-e(a).scrollLeft()<r.scrollSensitivity?s=e(a).scrollLeft(e(a).scrollLeft()-r.scrollSpeed):e(window).width()-(t.pageX-e(a).scrollLeft())<r.scrollSensitivity&&(s=e(a).scrollLeft(e(a).scrollLeft()+r.scrollSpeed)))),s!==!1&&e.ui.ddmanager&&!r.dropBehaviour&&e.ui.ddmanager.prepareOffsets(n,t)}}),e.ui.plugin.add("draggable","snap",{start:function(t,i,n){var r=n.options;n.snapElements=[],e(r.snap.constructor!==String?r.snap.items||":data(ui-draggable)":r.snap).each(function(){var t=e(this),i=t.offset();this!==n.element[0]&&n.snapElements.push({item:this,width:t.outerWidth(),height:t.outerHeight(),top:i.top,left:i.left})})},drag:function(t,i,n){var r,s,o,a,l,c,u,d,h,f,p=n.options,g=p.snapTolerance,m=i.offset.left,v=m+n.helperProportions.width,y=i.offset.top,b=y+n.helperProportions.height;for(h=n.snapElements.length-1;h>=0;h--)l=n.snapElements[h].left-n.margins.left,c=l+n.snapElements[h].width,u=n.snapElements[h].top-n.margins.top,d=u+n.snapElements[h].height,l-g>v||m>c+g||u-g>b||y>d+g||!e.contains(n.snapElements[h].item.ownerDocument,n.snapElements[h].item)?(n.snapElements[h].snapping&&n.options.snap.release&&n.options.snap.release.call(n.element,t,e.extend(n._uiHash(),{snapItem:n.snapElements[h].item})),n.snapElements[h].snapping=!1):("inner"!==p.snapMode&&(r=Math.abs(u-b)<=g,s=Math.abs(d-y)<=g,o=Math.abs(l-v)<=g,a=Math.abs(c-m)<=g,r&&(i.position.top=n._convertPositionTo("relative",{top:u-n.helperProportions.height,left:0}).top),s&&(i.position.top=n._convertPositionTo("relative",{top:d,left:0}).top),o&&(i.position.left=n._convertPositionTo("relative",{top:0,left:l-n.helperProportions.width}).left),a&&(i.position.left=n._convertPositionTo("relative",{top:0,left:c}).left)),f=r||s||o||a,"outer"!==p.snapMode&&(r=Math.abs(u-y)<=g,s=Math.abs(d-b)<=g,o=Math.abs(l-m)<=g,a=Math.abs(c-v)<=g,r&&(i.position.top=n._convertPositionTo("relative",{top:u,left:0}).top),s&&(i.position.top=n._convertPositionTo("relative",{top:d-n.helperProportions.height,left:0}).top),o&&(i.position.left=n._convertPositionTo("relative",{top:0,left:l}).left),a&&(i.position.left=n._convertPositionTo("relative",{top:0,left:c-n.helperProportions.width}).left)),!n.snapElements[h].snapping&&(r||s||o||a||f)&&n.options.snap.snap&&n.options.snap.snap.call(n.element,t,e.extend(n._uiHash(),{snapItem:n.snapElements[h].item})),n.snapElements[h].snapping=r||s||o||a||f)}}),e.ui.plugin.add("draggable","stack",{start:function(t,i,n){var r,s=n.options,o=e.makeArray(e(s.stack)).sort(function(t,i){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(i).css("zIndex"),10)||0)});o.length&&(r=parseInt(e(o[0]).css("zIndex"),10)||0,e(o).each(function(t){e(this).css("zIndex",r+t)}),this.css("zIndex",r+o.length))}}),e.ui.plugin.add("draggable","zIndex",{start:function(t,i,n){var r=e(i.helper),s=n.options;r.css("zIndex")&&(s._zIndex=r.css("zIndex")),r.css("zIndex",s.zIndex)},stop:function(t,i,n){var r=n.options;r._zIndex&&e(i.helper).css("zIndex",r._zIndex)}}),e.ui.draggable}),function(e){"function"==typeof define&&define.amd?define(["jquery","./core","./mouse","./widget"],e):e(jQuery)}(function(e){return e.widget("ui.resizable",e.ui.mouse,{version:"1.11.4",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(e){return parseInt(e,10)||0},_isNumber:function(e){return!isNaN(parseInt(e,10))},_hasScroll:function(t,i){if("hidden"===e(t).css("overflow"))return!1;var n=i&&"left"===i?"scrollLeft":"scrollTop",r=!1;return t[n]>0?!0:(t[n]=1,r=t[n]>0,t[n]=0,r)},_create:function(){var t,i,n,r,s,o=this,a=this.options;if(this.element.addClass("ui-resizable"),e.extend(this,{_aspectRatio:!!a.aspectRatio,aspectRatio:a.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:a.helper||a.ghost||a.animate?a.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(e("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=a.handles||(e(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=e(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),t=this.handles.split(","),this.handles={},i=0;i<t.length;i++)n=e.trim(t[i]),s="ui-resizable-"+n,r=e("<div class='ui-resizable-handle "+s+"'></div>"),r.css({zIndex:a.zIndex}),"se"===n&&r.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[n]=".ui-resizable-"+n,this.element.append(r);this._renderAxis=function(t){var i,n,r,s;t=t||this.element;for(i in this.handles)this.handles[i].constructor===String?this.handles[i]=this.element.children(this.handles[i]).first().show():(this.handles[i].jquery||this.handles[i].nodeType)&&(this.handles[i]=e(this.handles[i]),this._on(this.handles[i],{mousedown:o._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(n=e(this.handles[i],this.element),s=/sw|ne|nw|se|n|s/.test(i)?n.outerHeight():n.outerWidth(),r=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),t.css(r,s),this._proportionallyResize()),this._handles=this._handles.add(this.handles[i])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.mouseover(function(){o.resizing||(this.className&&(r=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),o.axis=r&&r[1]?r[1]:"se")}),a.autoHide&&(this._handles.hide(),e(this.element).addClass("ui-resizable-autohide").mouseenter(function(){a.disabled||(e(this).removeClass("ui-resizable-autohide"),o._handles.show())}).mouseleave(function(){a.disabled||o.resizing||(e(this).addClass("ui-resizable-autohide"),o._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var t,i=function(t){e(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(i(this.element),t=this.element,this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")}).insertAfter(t),t.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_mouseCapture:function(t){var i,n,r=!1;for(i in this.handles)n=e(this.handles[i])[0],(n===t.target||e.contains(n,t.target))&&(r=!0);return!this.options.disabled&&r},_mouseStart:function(t){var i,n,r,s=this.options,o=this.element;return this.resizing=!0,this._renderProxy(),i=this._num(this.helper.css("left")),n=this._num(this.helper.css("top")),s.containment&&(i+=e(s.containment).scrollLeft()||0,n+=e(s.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:i,top:n},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:o.width(),height:o.height()},this.originalSize=this._helper?{width:o.outerWidth(),height:o.outerHeight()}:{width:o.width(),height:o.height()},this.sizeDiff={width:o.outerWidth()-o.width(),height:o.outerHeight()-o.height()},this.originalPosition={left:i,top:n},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio="number"==typeof s.aspectRatio?s.aspectRatio:this.originalSize.width/this.originalSize.height||1,r=e(".ui-resizable-"+this.axis).css("cursor"),e("body").css("cursor","auto"===r?this.axis+"-resize":r),o.addClass("ui-resizable-resizing"),this._propagate("start",t),!0},_mouseDrag:function(t){var i,n,r=this.originalMousePosition,s=this.axis,o=t.pageX-r.left||0,a=t.pageY-r.top||0,l=this._change[s];return this._updatePrevProperties(),l?(i=l.apply(this,[t,o,a]),this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(i=this._updateRatio(i,t)),i=this._respectSize(i,t),this._updateCache(i),this._propagate("resize",t),n=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),e.isEmptyObject(n)||(this._updatePrevProperties(),this._trigger("resize",t,this.ui()),this._applyChanges()),!1):!1},_mouseStop:function(t){this.resizing=!1;var i,n,r,s,o,a,l,c=this.options,u=this;return this._helper&&(i=this._proportionallyResizeElements,n=i.length&&/textarea/i.test(i[0].nodeName),r=n&&this._hasScroll(i[0],"left")?0:u.sizeDiff.height,s=n?0:u.sizeDiff.width,o={width:u.helper.width()-s,height:u.helper.height()-r},a=parseInt(u.element.css("left"),10)+(u.position.left-u.originalPosition.left)||null,l=parseInt(u.element.css("top"),10)+(u.position.top-u.originalPosition.top)||null,c.animate||this.element.css(e.extend(o,{top:l,left:a})),u.helper.height(u.size.height),u.helper.width(u.size.width),this._helper&&!c.animate&&this._proportionallyResize()),e("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var e={};return this.position.top!==this.prevPosition.top&&(e.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(e.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(e.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(e.height=this.size.height+"px"),this.helper.css(e),e},_updateVirtualBoundaries:function(e){var t,i,n,r,s,o=this.options;s={minWidth:this._isNumber(o.minWidth)?o.minWidth:0,maxWidth:this._isNumber(o.maxWidth)?o.maxWidth:1/0,minHeight:this._isNumber(o.minHeight)?o.minHeight:0,maxHeight:this._isNumber(o.maxHeight)?o.maxHeight:1/0},(this._aspectRatio||e)&&(t=s.minHeight*this.aspectRatio,n=s.minWidth/this.aspectRatio,i=s.maxHeight*this.aspectRatio,r=s.maxWidth/this.aspectRatio,t>s.minWidth&&(s.minWidth=t),n>s.minHeight&&(s.minHeight=n),i<s.maxWidth&&(s.maxWidth=i),r<s.maxHeight&&(s.maxHeight=r)),this._vBoundaries=s},_updateCache:function(e){this.offset=this.helper.offset(),this._isNumber(e.left)&&(this.position.left=e.left),this._isNumber(e.top)&&(this.position.top=e.top),this._isNumber(e.height)&&(this.size.height=e.height),this._isNumber(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var t=this.position,i=this.size,n=this.axis;return this._isNumber(e.height)?e.width=e.height*this.aspectRatio:this._isNumber(e.width)&&(e.height=e.width/this.aspectRatio),"sw"===n&&(e.left=t.left+(i.width-e.width),e.top=null),"nw"===n&&(e.top=t.top+(i.height-e.height),e.left=t.left+(i.width-e.width)),e},_respectSize:function(e){var t=this._vBoundaries,i=this.axis,n=this._isNumber(e.width)&&t.maxWidth&&t.maxWidth<e.width,r=this._isNumber(e.height)&&t.maxHeight&&t.maxHeight<e.height,s=this._isNumber(e.width)&&t.minWidth&&t.minWidth>e.width,o=this._isNumber(e.height)&&t.minHeight&&t.minHeight>e.height,a=this.originalPosition.left+this.originalSize.width,l=this.position.top+this.size.height,c=/sw|nw|w/.test(i),u=/nw|ne|n/.test(i);return s&&(e.width=t.minWidth),o&&(e.height=t.minHeight),n&&(e.width=t.maxWidth),r&&(e.height=t.maxHeight),s&&c&&(e.left=a-t.minWidth),n&&c&&(e.left=a-t.maxWidth),o&&u&&(e.top=l-t.minHeight),r&&u&&(e.top=l-t.maxHeight),e.width||e.height||e.left||!e.top?e.width||e.height||e.top||!e.left||(e.left=null):e.top=null,e},_getPaddingPlusBorderDimensions:function(e){for(var t=0,i=[],n=[e.css("borderTopWidth"),e.css("borderRightWidth"),e.css("borderBottomWidth"),e.css("borderLeftWidth")],r=[e.css("paddingTop"),e.css("paddingRight"),e.css("paddingBottom"),e.css("paddingLeft")];4>t;t++)i[t]=parseInt(n[t],10)||0,i[t]+=parseInt(r[t],10)||0;return{height:i[0]+i[2],width:i[1]+i[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var e,t=0,i=this.helper||this.element;t<this._proportionallyResizeElements.length;t++)e=this._proportionallyResizeElements[t],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(e)),e.css({height:i.height()-this.outerDimensions.height||0,width:i.width()-this.outerDimensions.width||0})},_renderProxy:function(){var t=this.element,i=this.options;this.elementOffset=t.offset(),this._helper?(this.helper=this.helper||e("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(e,t){return{width:this.originalSize.width+t}},w:function(e,t){var i=this.originalSize,n=this.originalPosition;return{left:n.left+t,width:i.width-t}},n:function(e,t,i){var n=this.originalSize,r=this.originalPosition;return{top:r.top+i,height:n.height-i}},s:function(e,t,i){return{height:this.originalSize.height+i}},se:function(t,i,n){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,i,n]))},sw:function(t,i,n){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,i,n]))},ne:function(t,i,n){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,i,n]))},nw:function(t,i,n){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,i,n]))}},_propagate:function(t,i){e.ui.plugin.call(this,t,[i,this.ui()]),"resize"!==t&&this._trigger(t,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),e.ui.plugin.add("resizable","animate",{stop:function(t){var i=e(this).resizable("instance"),n=i.options,r=i._proportionallyResizeElements,s=r.length&&/textarea/i.test(r[0].nodeName),o=s&&i._hasScroll(r[0],"left")?0:i.sizeDiff.height,a=s?0:i.sizeDiff.width,l={width:i.size.width-a,height:i.size.height-o},c=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null,u=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null;i.element.animate(e.extend(l,u&&c?{top:u,left:c}:{}),{duration:n.animateDuration,easing:n.animateEasing,step:function(){var n={width:parseInt(i.element.css("width"),10),height:parseInt(i.element.css("height"),10),top:parseInt(i.element.css("top"),10),left:parseInt(i.element.css("left"),10)};r&&r.length&&e(r[0]).css({width:n.width,height:n.height}),i._updateCache(n),i._propagate("resize",t)}})}}),e.ui.plugin.add("resizable","containment",{start:function(){var t,i,n,r,s,o,a,l=e(this).resizable("instance"),c=l.options,u=l.element,d=c.containment,h=d instanceof e?d.get(0):/parent/.test(d)?u.parent().get(0):d;h&&(l.containerElement=e(h),/document/.test(d)||d===document?(l.containerOffset={left:0,top:0},l.containerPosition={left:0,top:0},l.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight}):(t=e(h),i=[],e(["Top","Right","Left","Bottom"]).each(function(e,n){i[e]=l._num(t.css("padding"+n))}),l.containerOffset=t.offset(),l.containerPosition=t.position(),l.containerSize={height:t.innerHeight()-i[3],width:t.innerWidth()-i[1]},n=l.containerOffset,r=l.containerSize.height,s=l.containerSize.width,o=l._hasScroll(h,"left")?h.scrollWidth:s,a=l._hasScroll(h)?h.scrollHeight:r,l.parentData={element:h,left:n.left,top:n.top,width:o,height:a}))},resize:function(t){var i,n,r,s,o=e(this).resizable("instance"),a=o.options,l=o.containerOffset,c=o.position,u=o._aspectRatio||t.shiftKey,d={top:0,left:0},h=o.containerElement,f=!0;h[0]!==document&&/static/.test(h.css("position"))&&(d=l),c.left<(o._helper?l.left:0)&&(o.size.width=o.size.width+(o._helper?o.position.left-l.left:o.position.left-d.left),u&&(o.size.height=o.size.width/o.aspectRatio,f=!1),o.position.left=a.helper?l.left:0),c.top<(o._helper?l.top:0)&&(o.size.height=o.size.height+(o._helper?o.position.top-l.top:o.position.top),u&&(o.size.width=o.size.height*o.aspectRatio,f=!1),o.position.top=o._helper?l.top:0),r=o.containerElement.get(0)===o.element.parent().get(0),s=/relative|absolute/.test(o.containerElement.css("position")),r&&s?(o.offset.left=o.parentData.left+o.position.left,o.offset.top=o.parentData.top+o.position.top):(o.offset.left=o.element.offset().left,o.offset.top=o.element.offset().top),i=Math.abs(o.sizeDiff.width+(o._helper?o.offset.left-d.left:o.offset.left-l.left)),n=Math.abs(o.sizeDiff.height+(o._helper?o.offset.top-d.top:o.offset.top-l.top)),i+o.size.width>=o.parentData.width&&(o.size.width=o.parentData.width-i,u&&(o.size.height=o.size.width/o.aspectRatio,f=!1)),n+o.size.height>=o.parentData.height&&(o.size.height=o.parentData.height-n,u&&(o.size.width=o.size.height*o.aspectRatio,f=!1)),f||(o.position.left=o.prevPosition.left,o.position.top=o.prevPosition.top,o.size.width=o.prevSize.width,o.size.height=o.prevSize.height)},stop:function(){var t=e(this).resizable("instance"),i=t.options,n=t.containerOffset,r=t.containerPosition,s=t.containerElement,o=e(t.helper),a=o.offset(),l=o.outerWidth()-t.sizeDiff.width,c=o.outerHeight()-t.sizeDiff.height;t._helper&&!i.animate&&/relative/.test(s.css("position"))&&e(this).css({left:a.left-r.left-n.left,width:l,height:c}),t._helper&&!i.animate&&/static/.test(s.css("position"))&&e(this).css({left:a.left-r.left-n.left,width:l,height:c})}}),e.ui.plugin.add("resizable","alsoResize",{start:function(){var t=e(this).resizable("instance"),i=t.options;e(i.alsoResize).each(function(){var t=e(this);t.data("ui-resizable-alsoresize",{width:parseInt(t.width(),10),height:parseInt(t.height(),10),left:parseInt(t.css("left"),10),top:parseInt(t.css("top"),10)})})},resize:function(t,i){var n=e(this).resizable("instance"),r=n.options,s=n.originalSize,o=n.originalPosition,a={height:n.size.height-s.height||0,width:n.size.width-s.width||0,top:n.position.top-o.top||0,left:n.position.left-o.left||0};e(r.alsoResize).each(function(){var t=e(this),n=e(this).data("ui-resizable-alsoresize"),r={},s=t.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];e.each(s,function(e,t){var i=(n[t]||0)+(a[t]||0);i&&i>=0&&(r[t]=i||null)}),t.css(r)})},stop:function(){e(this).removeData("resizable-alsoresize")}}),e.ui.plugin.add("resizable","ghost",{start:function(){var t=e(this).resizable("instance"),i=t.options,n=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({opacity:.25,display:"block",position:"relative",height:n.height,width:n.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof i.ghost?i.ghost:""),t.ghost.appendTo(t.helper)},resize:function(){var t=e(this).resizable("instance");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=e(this).resizable("instance");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),e.ui.plugin.add("resizable","grid",{resize:function(){var t,i=e(this).resizable("instance"),n=i.options,r=i.size,s=i.originalSize,o=i.originalPosition,a=i.axis,l="number"==typeof n.grid?[n.grid,n.grid]:n.grid,c=l[0]||1,u=l[1]||1,d=Math.round((r.width-s.width)/c)*c,h=Math.round((r.height-s.height)/u)*u,f=s.width+d,p=s.height+h,g=n.maxWidth&&n.maxWidth<f,m=n.maxHeight&&n.maxHeight<p,v=n.minWidth&&n.minWidth>f,y=n.minHeight&&n.minHeight>p;n.grid=l,v&&(f+=c),y&&(p+=u),g&&(f-=c),m&&(p-=u),/^(se|s|e)$/.test(a)?(i.size.width=f,i.size.height=p):/^(ne)$/.test(a)?(i.size.width=f,i.size.height=p,i.position.top=o.top-h):/^(sw)$/.test(a)?(i.size.width=f,i.size.height=p,i.position.left=o.left-d):((0>=p-u||0>=f-c)&&(t=i._getPaddingPlusBorderDimensions(this)),p-u>0?(i.size.height=p,i.position.top=o.top-h):(p=u-t.height,i.size.height=p,i.position.top=o.top+s.height-p),f-c>0?(i.size.width=f,i.position.left=o.left-d):(f=c-t.width,i.size.width=f,i.position.left=o.left+s.width-f))}}),e.ui.resizable}),function(e){"function"==typeof define&&define.amd?define(["jquery","./core","./widget","./button","./draggable","./mouse","./position","./resizable"],e):e(jQuery)}(function(e){return e.widget("ui.dialog",{version:"1.11.4",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"Close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(t){var i=e(this).css(t).offset().top;0>i&&e(this).css("top",t.top-i)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),this.options.title=this.options.title||this.originalTitle,this._createWrapper(),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&e.fn.draggable&&this._makeDraggable(),this.options.resizable&&e.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var t=this.options.appendTo;return t&&(t.jquery||t.nodeType)?e(t):this.document.find(t||"body").eq(0)},_destroy:function(){var e,t=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(),this.uiDialog.stop(!0,!0).remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),e=t.parent.children().eq(t.index),e.length&&e[0]!==this.element[0]?e.before(this.element):t.parent.append(this.element)},widget:function(){return this.uiDialog},disable:e.noop,enable:e.noop,close:function(t){var i,n=this;if(this._isOpen&&this._trigger("beforeClose",t)!==!1){if(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),!this.opener.filter(":focusable").focus().length)try{i=this.document[0].activeElement,i&&"body"!==i.nodeName.toLowerCase()&&e(i).blur()}catch(r){}this._hide(this.uiDialog,this.options.hide,function(){n._trigger("close",t)})}},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(t,i){var n=!1,r=this.uiDialog.siblings(".ui-front:visible").map(function(){return+e(this).css("z-index")}).get(),s=Math.max.apply(null,r);return s>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",s+1),n=!0),n&&!i&&this._trigger("focus",t),n
},open:function(){var t=this;return this._isOpen?void(this._moveToTop()&&this._focusTabbable()):(this._isOpen=!0,this.opener=e(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){t._focusTabbable(),t._trigger("focus")}),this._makeFocusTarget(),void this._trigger("open"))},_focusTabbable:function(){var e=this._focusedElement;e||(e=this.element.find("[autofocus]")),e.length||(e=this.element.find(":tabbable")),e.length||(e=this.uiDialogButtonPane.find(":tabbable")),e.length||(e=this.uiDialogTitlebarClose.filter(":tabbable")),e.length||(e=this.uiDialog),e.eq(0).focus()},_keepFocus:function(t){function i(){var t=this.document[0].activeElement,i=this.uiDialog[0]===t||e.contains(this.uiDialog[0],t);i||this._focusTabbable()}t.preventDefault(),i.call(this),this._delay(i)},_createWrapper:function(){this.uiDialog=e("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._on(this.uiDialog,{keydown:function(t){if(this.options.closeOnEscape&&!t.isDefaultPrevented()&&t.keyCode&&t.keyCode===e.ui.keyCode.ESCAPE)return t.preventDefault(),void this.close(t);if(t.keyCode===e.ui.keyCode.TAB&&!t.isDefaultPrevented()){var i=this.uiDialog.find(":tabbable"),n=i.filter(":first"),r=i.filter(":last");t.target!==r[0]&&t.target!==this.uiDialog[0]||t.shiftKey?t.target!==n[0]&&t.target!==this.uiDialog[0]||!t.shiftKey||(this._delay(function(){r.focus()}),t.preventDefault()):(this._delay(function(){n.focus()}),t.preventDefault())}},mousedown:function(e){this._moveToTop(e)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var t;this.uiDialogTitlebar=e("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog),this._on(this.uiDialogTitlebar,{mousedown:function(t){e(t.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}}),this.uiDialogTitlebarClose=e("<button type='button'></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar),this._on(this.uiDialogTitlebarClose,{click:function(e){e.preventDefault(),this.close(e)}}),t=e("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar),this._title(t),this.uiDialog.attr({"aria-labelledby":t.attr("id")})},_title:function(e){this.options.title||e.html("&#160;"),e.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=e("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),this.uiButtonSet=e("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane),this._createButtons()},_createButtons:function(){var t=this,i=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),e.isEmptyObject(i)||e.isArray(i)&&!i.length?void this.uiDialog.removeClass("ui-dialog-buttons"):(e.each(i,function(i,n){var r,s;n=e.isFunction(n)?{click:n,text:i}:n,n=e.extend({type:"button"},n),r=n.click,n.click=function(){r.apply(t.element[0],arguments)},s={icons:n.icons,text:n.showText},delete n.icons,delete n.showText,e("<button></button>",n).button(s).appendTo(t.uiButtonSet)}),this.uiDialog.addClass("ui-dialog-buttons"),void this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){function t(e){return{position:e.position,offset:e.offset}}var i=this,n=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(n,r){e(this).addClass("ui-dialog-dragging"),i._blockFrames(),i._trigger("dragStart",n,t(r))},drag:function(e,n){i._trigger("drag",e,t(n))},stop:function(r,s){var o=s.offset.left-i.document.scrollLeft(),a=s.offset.top-i.document.scrollTop();n.position={my:"left top",at:"left"+(o>=0?"+":"")+o+" top"+(a>=0?"+":"")+a,of:i.window},e(this).removeClass("ui-dialog-dragging"),i._unblockFrames(),i._trigger("dragStop",r,t(s))}})},_makeResizable:function(){function t(e){return{originalPosition:e.originalPosition,originalSize:e.originalSize,position:e.position,size:e.size}}var i=this,n=this.options,r=n.resizable,s=this.uiDialog.css("position"),o="string"==typeof r?r:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:n.maxWidth,maxHeight:n.maxHeight,minWidth:n.minWidth,minHeight:this._minHeight(),handles:o,start:function(n,r){e(this).addClass("ui-dialog-resizing"),i._blockFrames(),i._trigger("resizeStart",n,t(r))},resize:function(e,n){i._trigger("resize",e,t(n))},stop:function(r,s){var o=i.uiDialog.offset(),a=o.left-i.document.scrollLeft(),l=o.top-i.document.scrollTop();n.height=i.uiDialog.height(),n.width=i.uiDialog.width(),n.position={my:"left top",at:"left"+(a>=0?"+":"")+a+" top"+(l>=0?"+":"")+l,of:i.window},e(this).removeClass("ui-dialog-resizing"),i._unblockFrames(),i._trigger("resizeStop",r,t(s))}}).css("position",s)},_trackFocus:function(){this._on(this.widget(),{focusin:function(t){this._makeFocusTarget(),this._focusedElement=e(t.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var t=this._trackingInstances(),i=e.inArray(this,t);-1!==i&&t.splice(i,1)},_trackingInstances:function(){var e=this.document.data("ui-dialog-instances");return e||(e=[],this.document.data("ui-dialog-instances",e)),e},_minHeight:function(){var e=this.options;return"auto"===e.height?e.minHeight:Math.min(e.minHeight,e.height)},_position:function(){var e=this.uiDialog.is(":visible");e||this.uiDialog.show(),this.uiDialog.position(this.options.position),e||this.uiDialog.hide()},_setOptions:function(t){var i=this,n=!1,r={};e.each(t,function(e,t){i._setOption(e,t),e in i.sizeRelatedOptions&&(n=!0),e in i.resizableRelatedOptions&&(r[e]=t)}),n&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",r)},_setOption:function(e,t){var i,n,r=this.uiDialog;"dialogClass"===e&&r.removeClass(this.options.dialogClass).addClass(t),"disabled"!==e&&(this._super(e,t),"appendTo"===e&&this.uiDialog.appendTo(this._appendTo()),"buttons"===e&&this._createButtons(),"closeText"===e&&this.uiDialogTitlebarClose.button({label:""+t}),"draggable"===e&&(i=r.is(":data(ui-draggable)"),i&&!t&&r.draggable("destroy"),!i&&t&&this._makeDraggable()),"position"===e&&this._position(),"resizable"===e&&(n=r.is(":data(ui-resizable)"),n&&!t&&r.resizable("destroy"),n&&"string"==typeof t&&r.resizable("option","handles",t),n||t===!1||this._makeResizable()),"title"===e&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var e,t,i,n=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),n.minWidth>n.width&&(n.width=n.minWidth),e=this.uiDialog.css({height:"auto",width:n.width}).outerHeight(),t=Math.max(0,n.minHeight-e),i="number"==typeof n.maxHeight?Math.max(0,n.maxHeight-e):"none","auto"===n.height?this.element.css({minHeight:t,maxHeight:i,height:"auto"}):this.element.height(Math.max(0,n.height-e)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var t=e(this);return e("<div>").css({position:"absolute",width:t.outerWidth(),height:t.outerHeight()}).appendTo(t.parent()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(t){return e(t.target).closest(".ui-dialog").length?!0:!!e(t.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var t=!0;this._delay(function(){t=!1}),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(e){t||this._allowInteraction(e)||(e.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=e("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var e=this.document.data("ui-dialog-overlays")-1;e?this.document.data("ui-dialog-overlays",e):this.document.unbind("focusin").removeData("ui-dialog-overlays"),this.overlay.remove(),this.overlay=null}}})}),function(e){"function"==typeof define&&define.amd?define(["jquery","./core","./widget","./mouse","./draggable"],e):e(jQuery)}(function(e){return e.widget("ui.droppable",{version:"1.11.4",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var t,i=this.options,n=i.accept;this.isover=!1,this.isout=!0,this.accept=e.isFunction(n)?n:function(e){return e.is(n)},this.proportions=function(){return arguments.length?void(t=arguments[0]):t?t:t={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}},this._addToManager(i.scope),i.addClasses&&this.element.addClass("ui-droppable")},_addToManager:function(t){e.ui.ddmanager.droppables[t]=e.ui.ddmanager.droppables[t]||[],e.ui.ddmanager.droppables[t].push(this)},_splice:function(e){for(var t=0;t<e.length;t++)e[t]===this&&e.splice(t,1)},_destroy:function(){var t=e.ui.ddmanager.droppables[this.options.scope];this._splice(t),this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(t,i){if("accept"===t)this.accept=e.isFunction(i)?i:function(e){return e.is(i)};else if("scope"===t){var n=e.ui.ddmanager.droppables[this.options.scope];this._splice(n),this._addToManager(i)}this._super(t,i)},_activate:function(t){var i=e.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),i&&this._trigger("activate",t,this.ui(i))},_deactivate:function(t){var i=e.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),i&&this._trigger("deactivate",t,this.ui(i))},_over:function(t){var i=e.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",t,this.ui(i)))},_out:function(t){var i=e.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",t,this.ui(i)))},_drop:function(t,i){var n=i||e.ui.ddmanager.current,r=!1;return n&&(n.currentItem||n.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var i=e(this).droppable("instance");return i.options.greedy&&!i.options.disabled&&i.options.scope===n.options.scope&&i.accept.call(i.element[0],n.currentItem||n.element)&&e.ui.intersect(n,e.extend(i,{offset:i.element.offset()}),i.options.tolerance,t)?(r=!0,!1):void 0}),r?!1:this.accept.call(this.element[0],n.currentItem||n.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",t,this.ui(n)),this.element):!1):!1},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}}}),e.ui.intersect=function(){function e(e,t,i){return e>=t&&t+i>e}return function(t,i,n,r){if(!i.offset)return!1;var s=(t.positionAbs||t.position.absolute).left+t.margins.left,o=(t.positionAbs||t.position.absolute).top+t.margins.top,a=s+t.helperProportions.width,l=o+t.helperProportions.height,c=i.offset.left,u=i.offset.top,d=c+i.proportions().width,h=u+i.proportions().height;switch(n){case"fit":return s>=c&&d>=a&&o>=u&&h>=l;case"intersect":return c<s+t.helperProportions.width/2&&a-t.helperProportions.width/2<d&&u<o+t.helperProportions.height/2&&l-t.helperProportions.height/2<h;case"pointer":return e(r.pageY,u,i.proportions().height)&&e(r.pageX,c,i.proportions().width);case"touch":return(o>=u&&h>=o||l>=u&&h>=l||u>o&&l>h)&&(s>=c&&d>=s||a>=c&&d>=a||c>s&&a>d);default:return!1}}}(),e.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(t,i){var n,r,s=e.ui.ddmanager.droppables[t.options.scope]||[],o=i?i.type:null,a=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();e:for(n=0;n<s.length;n++)if(!(s[n].options.disabled||t&&!s[n].accept.call(s[n].element[0],t.currentItem||t.element))){for(r=0;r<a.length;r++)if(a[r]===s[n].element[0]){s[n].proportions().height=0;continue e}s[n].visible="none"!==s[n].element.css("display"),s[n].visible&&("mousedown"===o&&s[n]._activate.call(s[n],i),s[n].offset=s[n].element.offset(),s[n].proportions({width:s[n].element[0].offsetWidth,height:s[n].element[0].offsetHeight}))}},drop:function(t,i){var n=!1;return e.each((e.ui.ddmanager.droppables[t.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&e.ui.intersect(t,this,this.options.tolerance,i)&&(n=this._drop.call(this,i)||n),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,i)))}),n},dragStart:function(t,i){t.element.parentsUntil("body").bind("scroll.droppable",function(){t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,i)})},drag:function(t,i){t.options.refreshPositions&&e.ui.ddmanager.prepareOffsets(t,i),e.each(e.ui.ddmanager.droppables[t.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var n,r,s,o=e.ui.intersect(t,this,this.options.tolerance,i),a=!o&&this.isover?"isout":o&&!this.isover?"isover":null;a&&(this.options.greedy&&(r=this.options.scope,s=this.element.parents(":data(ui-droppable)").filter(function(){return e(this).droppable("instance").options.scope===r}),s.length&&(n=e(s[0]).droppable("instance"),n.greedyChild="isover"===a)),n&&"isover"===a&&(n.isover=!1,n.isout=!0,n._out.call(n,i)),this[a]=!0,this["isout"===a?"isover":"isout"]=!1,this["isover"===a?"_over":"_out"].call(this,i),n&&"isout"===a&&(n.isout=!1,n.isover=!0,n._over.call(n,i)))}})},dragStop:function(t,i){t.element.parentsUntil("body").unbind("scroll.droppable"),t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,i)}},e.ui.droppable}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){var t="ui-effects-",i=e;return e.effects={effect:{}},function(e,t){function i(e,t,i){var n=d[t.type]||{};return null==e?i||!t.def?null:t.def:(e=n.floor?~~e:parseFloat(e),isNaN(e)?t.def:n.mod?(e+n.mod)%n.mod:0>e?0:n.max<e?n.max:e)}function n(t){var i=c(),n=i._rgba=[];return t=t.toLowerCase(),p(l,function(e,r){var s,o=r.re.exec(t),a=o&&r.parse(o),l=r.space||"rgba";return a?(s=i[l](a),i[u[l].cache]=s[u[l].cache],n=i._rgba=s._rgba,!1):void 0}),n.length?("0,0,0,0"===n.join()&&e.extend(n,s.transparent),i):s[t]}function r(e,t,i){return i=(i+1)%1,1>6*i?e+(t-e)*i*6:1>2*i?t:2>3*i?e+(t-e)*(2/3-i)*6:e}var s,o="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",a=/^([\-+])=\s*(\d+\.?\d*)/,l=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],c=e.Color=function(t,i,n,r){return new e.Color.fn.parse(t,i,n,r)},u={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},d={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},h=c.support={},f=e("<p>")[0],p=e.each;f.style.cssText="background-color:rgba(1,1,1,.5)",h.rgba=f.style.backgroundColor.indexOf("rgba")>-1,p(u,function(e,t){t.cache="_"+e,t.props.alpha={idx:3,type:"percent",def:1}}),c.fn=e.extend(c.prototype,{parse:function(r,o,a,l){if(r===t)return this._rgba=[null,null,null,null],this;(r.jquery||r.nodeType)&&(r=e(r).css(o),o=t);var d=this,h=e.type(r),f=this._rgba=[];return o!==t&&(r=[r,o,a,l],h="array"),"string"===h?this.parse(n(r)||s._default):"array"===h?(p(u.rgba.props,function(e,t){f[t.idx]=i(r[t.idx],t)}),this):"object"===h?(r instanceof c?p(u,function(e,t){r[t.cache]&&(d[t.cache]=r[t.cache].slice())}):p(u,function(t,n){var s=n.cache;p(n.props,function(e,t){if(!d[s]&&n.to){if("alpha"===e||null==r[e])return;d[s]=n.to(d._rgba)}d[s][t.idx]=i(r[e],t,!0)}),d[s]&&e.inArray(null,d[s].slice(0,3))<0&&(d[s][3]=1,n.from&&(d._rgba=n.from(d[s])))}),this):void 0},is:function(e){var t=c(e),i=!0,n=this;return p(u,function(e,r){var s,o=t[r.cache];return o&&(s=n[r.cache]||r.to&&r.to(n._rgba)||[],p(r.props,function(e,t){return null!=o[t.idx]?i=o[t.idx]===s[t.idx]:void 0})),i}),i},_space:function(){var e=[],t=this;return p(u,function(i,n){t[n.cache]&&e.push(i)}),e.pop()},transition:function(e,t){var n=c(e),r=n._space(),s=u[r],o=0===this.alpha()?c("transparent"):this,a=o[s.cache]||s.to(o._rgba),l=a.slice();return n=n[s.cache],p(s.props,function(e,r){var s=r.idx,o=a[s],c=n[s],u=d[r.type]||{};null!==c&&(null===o?l[s]=c:(u.mod&&(c-o>u.mod/2?o+=u.mod:o-c>u.mod/2&&(o-=u.mod)),l[s]=i((c-o)*t+o,r)))}),this[r](l)},blend:function(t){if(1===this._rgba[3])return this;var i=this._rgba.slice(),n=i.pop(),r=c(t)._rgba;return c(e.map(i,function(e,t){return(1-n)*r[t]+n*e}))},toRgbaString:function(){var t="rgba(",i=e.map(this._rgba,function(e,t){return null==e?t>2?1:0:e});return 1===i[3]&&(i.pop(),t="rgb("),t+i.join()+")"},toHslaString:function(){var t="hsla(",i=e.map(this.hsla(),function(e,t){return null==e&&(e=t>2?1:0),t&&3>t&&(e=Math.round(100*e)+"%"),e});return 1===i[3]&&(i.pop(),t="hsl("),t+i.join()+")"},toHexString:function(t){var i=this._rgba.slice(),n=i.pop();return t&&i.push(~~(255*n)),"#"+e.map(i,function(e){return e=(e||0).toString(16),1===e.length?"0"+e:e}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),c.fn.parse.prototype=c.fn,u.hsla.to=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t,i,n=e[0]/255,r=e[1]/255,s=e[2]/255,o=e[3],a=Math.max(n,r,s),l=Math.min(n,r,s),c=a-l,u=a+l,d=.5*u;return t=l===a?0:n===a?60*(r-s)/c+360:r===a?60*(s-n)/c+120:60*(n-r)/c+240,i=0===c?0:.5>=d?c/u:c/(2-u),[Math.round(t)%360,i,d,null==o?1:o]},u.hsla.from=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t=e[0]/360,i=e[1],n=e[2],s=e[3],o=.5>=n?n*(1+i):n+i-n*i,a=2*n-o;return[Math.round(255*r(a,o,t+1/3)),Math.round(255*r(a,o,t)),Math.round(255*r(a,o,t-1/3)),s]},p(u,function(n,r){var s=r.props,o=r.cache,l=r.to,u=r.from;c.fn[n]=function(n){if(l&&!this[o]&&(this[o]=l(this._rgba)),n===t)return this[o].slice();var r,a=e.type(n),d="array"===a||"object"===a?n:arguments,h=this[o].slice();return p(s,function(e,t){var n=d["object"===a?e:t.idx];null==n&&(n=h[t.idx]),h[t.idx]=i(n,t)}),u?(r=c(u(h)),r[o]=h,r):c(h)},p(s,function(t,i){c.fn[t]||(c.fn[t]=function(r){var s,o=e.type(r),l="alpha"===t?this._hsla?"hsla":"rgba":n,c=this[l](),u=c[i.idx];return"undefined"===o?u:("function"===o&&(r=r.call(this,u),o=e.type(r)),null==r&&i.empty?this:("string"===o&&(s=a.exec(r),s&&(r=u+parseFloat(s[2])*("+"===s[1]?1:-1))),c[i.idx]=r,this[l](c)))})})}),c.hook=function(t){var i=t.split(" ");p(i,function(t,i){e.cssHooks[i]={set:function(t,r){var s,o,a="";if("transparent"!==r&&("string"!==e.type(r)||(s=n(r)))){if(r=c(s||r),!h.rgba&&1!==r._rgba[3]){for(o="backgroundColor"===i?t.parentNode:t;(""===a||"transparent"===a)&&o&&o.style;)try{a=e.css(o,"backgroundColor"),o=o.parentNode}catch(l){}r=r.blend(a&&"transparent"!==a?a:"_default")}r=r.toRgbaString()}try{t.style[i]=r}catch(l){}}},e.fx.step[i]=function(t){t.colorInit||(t.start=c(t.elem,i),t.end=c(t.end),t.colorInit=!0),e.cssHooks[i].set(t.elem,t.start.transition(t.end,t.pos))}})},c.hook(o),e.cssHooks.borderColor={expand:function(e){var t={};return p(["Top","Right","Bottom","Left"],function(i,n){t["border"+n+"Color"]=e}),t}},s=e.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(i),function(){function t(t){var i,n,r=t.ownerDocument.defaultView?t.ownerDocument.defaultView.getComputedStyle(t,null):t.currentStyle,s={};if(r&&r.length&&r[0]&&r[r[0]])for(n=r.length;n--;)i=r[n],"string"==typeof r[i]&&(s[e.camelCase(i)]=r[i]);else for(i in r)"string"==typeof r[i]&&(s[i]=r[i]);return s}function n(t,i){var n,r,o={};for(n in i)r=i[n],t[n]!==r&&(s[n]||(e.fx.step[n]||!isNaN(parseFloat(r)))&&(o[n]=r));return o}var r=["add","remove","toggle"],s={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};e.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(t,n){e.fx.step[n]=function(e){("none"!==e.end&&!e.setAttr||1===e.pos&&!e.setAttr)&&(i.style(e.elem,n,e.end),e.setAttr=!0)}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e.effects.animateClass=function(i,s,o,a){var l=e.speed(s,o,a);return this.queue(function(){var s,o=e(this),a=o.attr("class")||"",c=l.children?o.find("*").addBack():o;c=c.map(function(){var i=e(this);return{el:i,start:t(this)}}),s=function(){e.each(r,function(e,t){i[t]&&o[t+"Class"](i[t])})},s(),c=c.map(function(){return this.end=t(this.el[0]),this.diff=n(this.start,this.end),this}),o.attr("class",a),c=c.map(function(){var t=this,i=e.Deferred(),n=e.extend({},l,{queue:!1,complete:function(){i.resolve(t)}});return this.el.animate(this.diff,n),i.promise()}),e.when.apply(e,c.get()).done(function(){s(),e.each(arguments,function(){var t=this.el;e.each(this.diff,function(e){t.css(e,"")})}),l.complete.call(o[0])})})},e.fn.extend({addClass:function(t){return function(i,n,r,s){return n?e.effects.animateClass.call(this,{add:i},n,r,s):t.apply(this,arguments)}}(e.fn.addClass),removeClass:function(t){return function(i,n,r,s){return arguments.length>1?e.effects.animateClass.call(this,{remove:i},n,r,s):t.apply(this,arguments)}}(e.fn.removeClass),toggleClass:function(t){return function(i,n,r,s,o){return"boolean"==typeof n||void 0===n?r?e.effects.animateClass.call(this,n?{add:i}:{remove:i},r,s,o):t.apply(this,arguments):e.effects.animateClass.call(this,{toggle:i},n,r,s)}}(e.fn.toggleClass),switchClass:function(t,i,n,r,s){return e.effects.animateClass.call(this,{add:i,remove:t},n,r,s)}})}(),function(){function i(t,i,n,r){return e.isPlainObject(t)&&(i=t,t=t.effect),t={effect:t},null==i&&(i={}),e.isFunction(i)&&(r=i,n=null,i={}),("number"==typeof i||e.fx.speeds[i])&&(r=n,n=i,i={}),e.isFunction(n)&&(r=n,n=null),i&&e.extend(t,i),n=n||i.duration,t.duration=e.fx.off?0:"number"==typeof n?n:n in e.fx.speeds?e.fx.speeds[n]:e.fx.speeds._default,t.complete=r||i.complete,t}function n(t){return!t||"number"==typeof t||e.fx.speeds[t]?!0:"string"!=typeof t||e.effects.effect[t]?e.isFunction(t)?!0:"object"!=typeof t||t.effect?!1:!0:!0}e.extend(e.effects,{version:"1.11.4",save:function(e,i){for(var n=0;n<i.length;n++)null!==i[n]&&e.data(t+i[n],e[0].style[i[n]])},restore:function(e,i){var n,r;for(r=0;r<i.length;r++)null!==i[r]&&(n=e.data(t+i[r]),void 0===n&&(n=""),e.css(i[r],n))},setMode:function(e,t){return"toggle"===t&&(t=e.is(":hidden")?"show":"hide"),t},getBaseline:function(e,t){var i,n;switch(e[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=e[0]/t.height}switch(e[1]){case"left":n=0;break;case"center":n=.5;break;case"right":n=1;break;default:n=e[1]/t.width}return{x:n,y:i}},createWrapper:function(t){if(t.parent().is(".ui-effects-wrapper"))return t.parent();var i={width:t.outerWidth(!0),height:t.outerHeight(!0),"float":t.css("float")},n=e("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),r={width:t.width(),height:t.height()},s=document.activeElement;try{s.id}catch(o){s=document.body}return t.wrap(n),(t[0]===s||e.contains(t[0],s))&&e(s).focus(),n=t.parent(),"static"===t.css("position")?(n.css({position:"relative"}),t.css({position:"relative"})):(e.extend(i,{position:t.css("position"),zIndex:t.css("z-index")}),e.each(["top","left","bottom","right"],function(e,n){i[n]=t.css(n),isNaN(parseInt(i[n],10))&&(i[n]="auto")}),t.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),t.css(r),n.css(i).show()},removeWrapper:function(t){var i=document.activeElement;return t.parent().is(".ui-effects-wrapper")&&(t.parent().replaceWith(t),(t[0]===i||e.contains(t[0],i))&&e(i).focus()),t},setTransition:function(t,i,n,r){return r=r||{},e.each(i,function(e,i){var s=t.cssUnit(i);s[0]>0&&(r[i]=s[0]*n+s[1])}),r}}),e.fn.extend({effect:function(){function t(t){function i(){e.isFunction(s)&&s.call(r[0]),e.isFunction(t)&&t()}var r=e(this),s=n.complete,a=n.mode;(r.is(":hidden")?"hide"===a:"show"===a)?(r[a](),i()):o.call(r[0],n,i)}var n=i.apply(this,arguments),r=n.mode,s=n.queue,o=e.effects.effect[n.effect];return e.fx.off||!o?r?this[r](n.duration,n.complete):this.each(function(){n.complete&&n.complete.call(this)}):s===!1?this.each(t):this.queue(s||"fx",t)},show:function(e){return function(t){if(n(t))return e.apply(this,arguments);var r=i.apply(this,arguments);return r.mode="show",this.effect.call(this,r)}}(e.fn.show),hide:function(e){return function(t){if(n(t))return e.apply(this,arguments);var r=i.apply(this,arguments);return r.mode="hide",this.effect.call(this,r)}}(e.fn.hide),toggle:function(e){return function(t){if(n(t)||"boolean"==typeof t)return e.apply(this,arguments);var r=i.apply(this,arguments);return r.mode="toggle",this.effect.call(this,r)}}(e.fn.toggle),cssUnit:function(t){var i=this.css(t),n=[];return e.each(["em","px","%","pt"],function(e,t){i.indexOf(t)>0&&(n=[parseFloat(i),t])}),n}})}(),function(){var t={};e.each(["Quad","Cubic","Quart","Quint","Expo"],function(e,i){t[i]=function(t){return Math.pow(t,e+2)}}),e.extend(t,{Sine:function(e){return 1-Math.cos(e*Math.PI/2)},Circ:function(e){return 1-Math.sqrt(1-e*e)},Elastic:function(e){return 0===e||1===e?e:-Math.pow(2,8*(e-1))*Math.sin((80*(e-1)-7.5)*Math.PI/15)},Back:function(e){return e*e*(3*e-2)},Bounce:function(e){for(var t,i=4;e<((t=Math.pow(2,--i))-1)/11;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*t-2)/22-e,2)}}),e.each(t,function(t,i){e.easing["easeIn"+t]=i,e.easing["easeOut"+t]=function(e){return 1-i(1-e)},e.easing["easeInOut"+t]=function(e){return.5>e?i(2*e)/2:1-i(-2*e+2)/2}})}(),e.effects}),function(e){"function"==typeof define&&define.amd?define(["jquery","./effect"],e):e(jQuery)}(function(e){return e.effects.effect.blind=function(t,i){var n,r,s,o=e(this),a=/up|down|vertical/,l=/up|left|vertical|horizontal/,c=["position","top","bottom","left","right","height","width"],u=e.effects.setMode(o,t.mode||"hide"),d=t.direction||"up",h=a.test(d),f=h?"height":"width",p=h?"top":"left",g=l.test(d),m={},v="show"===u;o.parent().is(".ui-effects-wrapper")?e.effects.save(o.parent(),c):e.effects.save(o,c),o.show(),n=e.effects.createWrapper(o).css({overflow:"hidden"}),r=n[f](),s=parseFloat(n.css(p))||0,m[f]=v?r:0,g||(o.css(h?"bottom":"right",0).css(h?"top":"left","auto").css({position:"absolute"}),m[p]=v?s:r+s),v&&(n.css(f,0),g||n.css(p,s+r)),n.animate(m,{duration:t.duration,easing:t.easing,queue:!1,complete:function(){"hide"===u&&o.hide(),e.effects.restore(o,c),e.effects.removeWrapper(o),i()}})}}),function(e){"function"==typeof define&&define.amd?define(["jquery","./effect"],e):e(jQuery)}(function(e){return e.effects.effect.bounce=function(t,i){var n,r,s,o=e(this),a=["position","top","bottom","left","right","height","width"],l=e.effects.setMode(o,t.mode||"effect"),c="hide"===l,u="show"===l,d=t.direction||"up",h=t.distance,f=t.times||5,p=2*f+(u||c?1:0),g=t.duration/p,m=t.easing,v="up"===d||"down"===d?"top":"left",y="up"===d||"left"===d,b=o.queue(),w=b.length;for((u||c)&&a.push("opacity"),e.effects.save(o,a),o.show(),e.effects.createWrapper(o),h||(h=o["top"===v?"outerHeight":"outerWidth"]()/3),u&&(s={opacity:1},s[v]=0,o.css("opacity",0).css(v,y?2*-h:2*h).animate(s,g,m)),c&&(h/=Math.pow(2,f-1)),s={},s[v]=0,n=0;f>n;n++)r={},r[v]=(y?"-=":"+=")+h,o.animate(r,g,m).animate(s,g,m),h=c?2*h:h/2;c&&(r={opacity:0},r[v]=(y?"-=":"+=")+h,o.animate(r,g,m)),o.queue(function(){c&&o.hide(),e.effects.restore(o,a),e.effects.removeWrapper(o),i()}),w>1&&b.splice.apply(b,[1,0].concat(b.splice(w,p+1))),o.dequeue()}}),function(e){"function"==typeof define&&define.amd?define(["jquery","./effect"],e):e(jQuery)}(function(e){return e.effects.effect.clip=function(t,i){var n,r,s,o=e(this),a=["position","top","bottom","left","right","height","width"],l=e.effects.setMode(o,t.mode||"hide"),c="show"===l,u=t.direction||"vertical",d="vertical"===u,h=d?"height":"width",f=d?"top":"left",p={};e.effects.save(o,a),o.show(),n=e.effects.createWrapper(o).css({overflow:"hidden"}),r="IMG"===o[0].tagName?n:o,s=r[h](),c&&(r.css(h,0),r.css(f,s/2)),p[h]=c?s:0,p[f]=c?0:s/2,r.animate(p,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){c||o.hide(),e.effects.restore(o,a),e.effects.removeWrapper(o),i()}})}}),function(e){"function"==typeof define&&define.amd?define(["jquery","./effect"],e):e(jQuery)}(function(e){return e.effects.effect.drop=function(t,i){var n,r=e(this),s=["position","top","bottom","left","right","opacity","height","width"],o=e.effects.setMode(r,t.mode||"hide"),a="show"===o,l=t.direction||"left",c="up"===l||"down"===l?"top":"left",u="up"===l||"left"===l?"pos":"neg",d={opacity:a?1:0};e.effects.save(r,s),r.show(),e.effects.createWrapper(r),n=t.distance||r["top"===c?"outerHeight":"outerWidth"](!0)/2,a&&r.css("opacity",0).css(c,"pos"===u?-n:n),d[c]=(a?"pos"===u?"+=":"-=":"pos"===u?"-=":"+=")+n,r.animate(d,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===o&&r.hide(),e.effects.restore(r,s),e.effects.removeWrapper(r),i()}})}}),function(e){"function"==typeof define&&define.amd?define(["jquery","./effect"],e):e(jQuery)}(function(e){return e.effects.effect.explode=function(t,i){function n(){b.push(this),b.length===d*h&&r()}function r(){f.css({visibility:"visible"}),e(b).remove(),g||f.hide(),i()}var s,o,a,l,c,u,d=t.pieces?Math.round(Math.sqrt(t.pieces)):3,h=d,f=e(this),p=e.effects.setMode(f,t.mode||"hide"),g="show"===p,m=f.show().css("visibility","hidden").offset(),v=Math.ceil(f.outerWidth()/h),y=Math.ceil(f.outerHeight()/d),b=[];for(s=0;d>s;s++)for(l=m.top+s*y,u=s-(d-1)/2,o=0;h>o;o++)a=m.left+o*v,c=o-(h-1)/2,f.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-o*v,top:-s*y}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:v,height:y,left:a+(g?c*v:0),top:l+(g?u*y:0),opacity:g?0:1}).animate({left:a+(g?0:c*v),top:l+(g?0:u*y),opacity:g?1:0},t.duration||500,t.easing,n)}}),function(e){"function"==typeof define&&define.amd?define(["jquery","./effect"],e):e(jQuery)}(function(e){return e.effects.effect.fade=function(t,i){var n=e(this),r=e.effects.setMode(n,t.mode||"toggle");n.animate({opacity:r},{queue:!1,duration:t.duration,easing:t.easing,complete:i})}}),function(e){"function"==typeof define&&define.amd?define(["jquery","./effect"],e):e(jQuery)}(function(e){return e.effects.effect.fold=function(t,i){var n,r,s=e(this),o=["position","top","bottom","left","right","height","width"],a=e.effects.setMode(s,t.mode||"hide"),l="show"===a,c="hide"===a,u=t.size||15,d=/([0-9]+)%/.exec(u),h=!!t.horizFirst,f=l!==h,p=f?["width","height"]:["height","width"],g=t.duration/2,m={},v={};
e.effects.save(s,o),s.show(),n=e.effects.createWrapper(s).css({overflow:"hidden"}),r=f?[n.width(),n.height()]:[n.height(),n.width()],d&&(u=parseInt(d[1],10)/100*r[c?0:1]),l&&n.css(h?{height:0,width:u}:{height:u,width:0}),m[p[0]]=l?r[0]:u,v[p[1]]=l?r[1]:0,n.animate(m,g,t.easing).animate(v,g,t.easing,function(){c&&s.hide(),e.effects.restore(s,o),e.effects.removeWrapper(s),i()})}}),function(e){"function"==typeof define&&define.amd?define(["jquery","./effect"],e):e(jQuery)}(function(e){return e.effects.effect.highlight=function(t,i){var n=e(this),r=["backgroundImage","backgroundColor","opacity"],s=e.effects.setMode(n,t.mode||"show"),o={backgroundColor:n.css("backgroundColor")};"hide"===s&&(o.opacity=0),e.effects.save(n,r),n.show().css({backgroundImage:"none",backgroundColor:t.color||"#ffff99"}).animate(o,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===s&&n.hide(),e.effects.restore(n,r),i()}})}}),function(e){"function"==typeof define&&define.amd?define(["jquery","./effect"],e):e(jQuery)}(function(e){return e.effects.effect.size=function(t,i){var n,r,s,o=e(this),a=["position","top","bottom","left","right","width","height","overflow","opacity"],l=["position","top","bottom","left","right","overflow","opacity"],c=["width","height","overflow"],u=["fontSize"],d=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],h=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],f=e.effects.setMode(o,t.mode||"effect"),p=t.restore||"effect"!==f,g=t.scale||"both",m=t.origin||["middle","center"],v=o.css("position"),y=p?a:l,b={height:0,width:0,outerHeight:0,outerWidth:0};"show"===f&&o.show(),n={height:o.height(),width:o.width(),outerHeight:o.outerHeight(),outerWidth:o.outerWidth()},"toggle"===t.mode&&"show"===f?(o.from=t.to||b,o.to=t.from||n):(o.from=t.from||("show"===f?b:n),o.to=t.to||("hide"===f?b:n)),s={from:{y:o.from.height/n.height,x:o.from.width/n.width},to:{y:o.to.height/n.height,x:o.to.width/n.width}},("box"===g||"both"===g)&&(s.from.y!==s.to.y&&(y=y.concat(d),o.from=e.effects.setTransition(o,d,s.from.y,o.from),o.to=e.effects.setTransition(o,d,s.to.y,o.to)),s.from.x!==s.to.x&&(y=y.concat(h),o.from=e.effects.setTransition(o,h,s.from.x,o.from),o.to=e.effects.setTransition(o,h,s.to.x,o.to))),("content"===g||"both"===g)&&s.from.y!==s.to.y&&(y=y.concat(u).concat(c),o.from=e.effects.setTransition(o,u,s.from.y,o.from),o.to=e.effects.setTransition(o,u,s.to.y,o.to)),e.effects.save(o,y),o.show(),e.effects.createWrapper(o),o.css("overflow","hidden").css(o.from),m&&(r=e.effects.getBaseline(m,n),o.from.top=(n.outerHeight-o.outerHeight())*r.y,o.from.left=(n.outerWidth-o.outerWidth())*r.x,o.to.top=(n.outerHeight-o.to.outerHeight)*r.y,o.to.left=(n.outerWidth-o.to.outerWidth)*r.x),o.css(o.from),("content"===g||"both"===g)&&(d=d.concat(["marginTop","marginBottom"]).concat(u),h=h.concat(["marginLeft","marginRight"]),c=a.concat(d).concat(h),o.find("*[width]").each(function(){var i=e(this),n={height:i.height(),width:i.width(),outerHeight:i.outerHeight(),outerWidth:i.outerWidth()};p&&e.effects.save(i,c),i.from={height:n.height*s.from.y,width:n.width*s.from.x,outerHeight:n.outerHeight*s.from.y,outerWidth:n.outerWidth*s.from.x},i.to={height:n.height*s.to.y,width:n.width*s.to.x,outerHeight:n.height*s.to.y,outerWidth:n.width*s.to.x},s.from.y!==s.to.y&&(i.from=e.effects.setTransition(i,d,s.from.y,i.from),i.to=e.effects.setTransition(i,d,s.to.y,i.to)),s.from.x!==s.to.x&&(i.from=e.effects.setTransition(i,h,s.from.x,i.from),i.to=e.effects.setTransition(i,h,s.to.x,i.to)),i.css(i.from),i.animate(i.to,t.duration,t.easing,function(){p&&e.effects.restore(i,c)})})),o.animate(o.to,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){0===o.to.opacity&&o.css("opacity",o.from.opacity),"hide"===f&&o.hide(),e.effects.restore(o,y),p||("static"===v?o.css({position:"relative",top:o.to.top,left:o.to.left}):e.each(["top","left"],function(e,t){o.css(t,function(t,i){var n=parseInt(i,10),r=e?o.to.left:o.to.top;return"auto"===i?r+"px":n+r+"px"})})),e.effects.removeWrapper(o),i()}})}}),function(e){"function"==typeof define&&define.amd?define(["jquery","./effect","./effect-size"],e):e(jQuery)}(function(e){return e.effects.effect.scale=function(t,i){var n=e(this),r=e.extend(!0,{},t),s=e.effects.setMode(n,t.mode||"effect"),o=parseInt(t.percent,10)||(0===parseInt(t.percent,10)?0:"hide"===s?0:100),a=t.direction||"both",l=t.origin,c={height:n.height(),width:n.width(),outerHeight:n.outerHeight(),outerWidth:n.outerWidth()},u={y:"horizontal"!==a?o/100:1,x:"vertical"!==a?o/100:1};r.effect="size",r.queue=!1,r.complete=i,"effect"!==s&&(r.origin=l||["middle","center"],r.restore=!0),r.from=t.from||("show"===s?{height:0,width:0,outerHeight:0,outerWidth:0}:c),r.to={height:c.height*u.y,width:c.width*u.x,outerHeight:c.outerHeight*u.y,outerWidth:c.outerWidth*u.x},r.fade&&("show"===s&&(r.from.opacity=0,r.to.opacity=1),"hide"===s&&(r.from.opacity=1,r.to.opacity=0)),n.effect(r)}}),function(e){"function"==typeof define&&define.amd?define(["jquery","./effect","./effect-scale"],e):e(jQuery)}(function(e){return e.effects.effect.puff=function(t,i){var n=e(this),r=e.effects.setMode(n,t.mode||"hide"),s="hide"===r,o=parseInt(t.percent,10)||150,a=o/100,l={height:n.height(),width:n.width(),outerHeight:n.outerHeight(),outerWidth:n.outerWidth()};e.extend(t,{effect:"scale",queue:!1,fade:!0,mode:r,complete:i,percent:s?o:100,from:s?l:{height:l.height*a,width:l.width*a,outerHeight:l.outerHeight*a,outerWidth:l.outerWidth*a}}),n.effect(t)}}),function(e){"function"==typeof define&&define.amd?define(["jquery","./effect"],e):e(jQuery)}(function(e){return e.effects.effect.pulsate=function(t,i){var n,r=e(this),s=e.effects.setMode(r,t.mode||"show"),o="show"===s,a="hide"===s,l=o||"hide"===s,c=2*(t.times||5)+(l?1:0),u=t.duration/c,d=0,h=r.queue(),f=h.length;for((o||!r.is(":visible"))&&(r.css("opacity",0).show(),d=1),n=1;c>n;n++)r.animate({opacity:d},u,t.easing),d=1-d;r.animate({opacity:d},u,t.easing),r.queue(function(){a&&r.hide(),i()}),f>1&&h.splice.apply(h,[1,0].concat(h.splice(f,c+1))),r.dequeue()}}),function(e){"function"==typeof define&&define.amd?define(["jquery","./effect"],e):e(jQuery)}(function(e){return e.effects.effect.shake=function(t,i){var n,r=e(this),s=["position","top","bottom","left","right","height","width"],o=e.effects.setMode(r,t.mode||"effect"),a=t.direction||"left",l=t.distance||20,c=t.times||3,u=2*c+1,d=Math.round(t.duration/u),h="up"===a||"down"===a?"top":"left",f="up"===a||"left"===a,p={},g={},m={},v=r.queue(),y=v.length;for(e.effects.save(r,s),r.show(),e.effects.createWrapper(r),p[h]=(f?"-=":"+=")+l,g[h]=(f?"+=":"-=")+2*l,m[h]=(f?"-=":"+=")+2*l,r.animate(p,d,t.easing),n=1;c>n;n++)r.animate(g,d,t.easing).animate(m,d,t.easing);r.animate(g,d,t.easing).animate(p,d/2,t.easing).queue(function(){"hide"===o&&r.hide(),e.effects.restore(r,s),e.effects.removeWrapper(r),i()}),y>1&&v.splice.apply(v,[1,0].concat(v.splice(y,u+1))),r.dequeue()}}),function(e){"function"==typeof define&&define.amd?define(["jquery","./effect"],e):e(jQuery)}(function(e){return e.effects.effect.slide=function(t,i){var n,r=e(this),s=["position","top","bottom","left","right","width","height"],o=e.effects.setMode(r,t.mode||"show"),a="show"===o,l=t.direction||"left",c="up"===l||"down"===l?"top":"left",u="up"===l||"left"===l,d={};e.effects.save(r,s),r.show(),n=t.distance||r["top"===c?"outerHeight":"outerWidth"](!0),e.effects.createWrapper(r).css({overflow:"hidden"}),a&&r.css(c,u?isNaN(n)?"-"+n:-n:n),d[c]=(a?u?"+=":"-=":u?"-=":"+=")+n,r.animate(d,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===o&&r.hide(),e.effects.restore(r,s),e.effects.removeWrapper(r),i()}})}}),function(e){"function"==typeof define&&define.amd?define(["jquery","./effect"],e):e(jQuery)}(function(e){return e.effects.effect.transfer=function(t,i){var n=e(this),r=e(t.to),s="fixed"===r.css("position"),o=e("body"),a=s?o.scrollTop():0,l=s?o.scrollLeft():0,c=r.offset(),u={top:c.top-a,left:c.left-l,height:r.innerHeight(),width:r.innerWidth()},d=n.offset(),h=e("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(t.className).css({top:d.top-a,left:d.left-l,height:n.innerHeight(),width:n.innerWidth(),position:s?"fixed":"absolute"}).animate(u,t.duration,t.easing,function(){h.remove(),i()})}}),function(e){"function"==typeof define&&define.amd?define(["jquery","./core","./widget"],e):e(jQuery)}(function(e){return e.widget("ui.progressbar",{version:"1.11.4",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min}),this.valueDiv=e("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove()},value:function(e){return void 0===e?this.options.value:(this.options.value=this._constrainedValue(e),void this._refreshValue())},_constrainedValue:function(e){return void 0===e&&(e=this.options.value),this.indeterminate=e===!1,"number"!=typeof e&&(e=0),this.indeterminate?!1:Math.min(this.options.max,Math.max(this.min,e))},_setOptions:function(e){var t=e.value;delete e.value,this._super(e),this.options.value=this._constrainedValue(t),this._refreshValue()},_setOption:function(e,t){"max"===e&&(t=Math.max(this.min,t)),"disabled"===e&&this.element.toggleClass("ui-state-disabled",!!t).attr("aria-disabled",t),this._super(e,t)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var t=this.options.value,i=this._percentage();this.valueDiv.toggle(this.indeterminate||t>this.min).toggleClass("ui-corner-right",t===this.options.max).width(i.toFixed(0)+"%"),this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=e("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":t}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==t&&(this.oldValue=t,this._trigger("change")),t===this.options.max&&this._trigger("complete")}})}),function(e){"function"==typeof define&&define.amd?define(["jquery","./core","./mouse","./widget"],e):e(jQuery)}(function(e){return e.widget("ui.selectable",e.ui.mouse,{version:"1.11.4",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var t,i=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){t=e(i.options.filter,i.element[0]),t.addClass("ui-selectee"),t.each(function(){var t=e(this),i=t.offset();e.data(this,"selectable-item",{element:this,$element:t,left:i.left,top:i.top,right:i.left+t.outerWidth(),bottom:i.top+t.outerHeight(),startselected:!1,selected:t.hasClass("ui-selected"),selecting:t.hasClass("ui-selecting"),unselecting:t.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=t.addClass("ui-selectee"),this._mouseInit(),this.helper=e("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(t){var i=this,n=this.options;this.opos=[t.pageX,t.pageY],this.options.disabled||(this.selectees=e(n.filter,this.element[0]),this._trigger("start",t),e(n.appendTo).append(this.helper),this.helper.css({left:t.pageX,top:t.pageY,width:0,height:0}),n.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var n=e.data(this,"selectable-item");n.startselected=!0,t.metaKey||t.ctrlKey||(n.$element.removeClass("ui-selected"),n.selected=!1,n.$element.addClass("ui-unselecting"),n.unselecting=!0,i._trigger("unselecting",t,{unselecting:n.element}))}),e(t.target).parents().addBack().each(function(){var n,r=e.data(this,"selectable-item");return r?(n=!t.metaKey&&!t.ctrlKey||!r.$element.hasClass("ui-selected"),r.$element.removeClass(n?"ui-unselecting":"ui-selected").addClass(n?"ui-selecting":"ui-unselecting"),r.unselecting=!n,r.selecting=n,r.selected=n,n?i._trigger("selecting",t,{selecting:r.element}):i._trigger("unselecting",t,{unselecting:r.element}),!1):void 0}))},_mouseDrag:function(t){if(this.dragged=!0,!this.options.disabled){var i,n=this,r=this.options,s=this.opos[0],o=this.opos[1],a=t.pageX,l=t.pageY;return s>a&&(i=a,a=s,s=i),o>l&&(i=l,l=o,o=i),this.helper.css({left:s,top:o,width:a-s,height:l-o}),this.selectees.each(function(){var i=e.data(this,"selectable-item"),c=!1;i&&i.element!==n.element[0]&&("touch"===r.tolerance?c=!(i.left>a||i.right<s||i.top>l||i.bottom<o):"fit"===r.tolerance&&(c=i.left>s&&i.right<a&&i.top>o&&i.bottom<l),c?(i.selected&&(i.$element.removeClass("ui-selected"),i.selected=!1),i.unselecting&&(i.$element.removeClass("ui-unselecting"),i.unselecting=!1),i.selecting||(i.$element.addClass("ui-selecting"),i.selecting=!0,n._trigger("selecting",t,{selecting:i.element}))):(i.selecting&&((t.metaKey||t.ctrlKey)&&i.startselected?(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.$element.addClass("ui-selected"),i.selected=!0):(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.startselected&&(i.$element.addClass("ui-unselecting"),i.unselecting=!0),n._trigger("unselecting",t,{unselecting:i.element}))),i.selected&&(t.metaKey||t.ctrlKey||i.startselected||(i.$element.removeClass("ui-selected"),i.selected=!1,i.$element.addClass("ui-unselecting"),i.unselecting=!0,n._trigger("unselecting",t,{unselecting:i.element})))))}),!1}},_mouseStop:function(t){var i=this;return this.dragged=!1,e(".ui-unselecting",this.element[0]).each(function(){var n=e.data(this,"selectable-item");n.$element.removeClass("ui-unselecting"),n.unselecting=!1,n.startselected=!1,i._trigger("unselected",t,{unselected:n.element})}),e(".ui-selecting",this.element[0]).each(function(){var n=e.data(this,"selectable-item");n.$element.removeClass("ui-selecting").addClass("ui-selected"),n.selecting=!1,n.selected=!0,n.startselected=!0,i._trigger("selected",t,{selected:n.element})}),this._trigger("stop",t),this.helper.remove(),!1}})}),function(e){"function"==typeof define&&define.amd?define(["jquery","./core","./widget","./position","./menu"],e):e(jQuery)}(function(e){return e.widget("ui.selectmenu",{version:"1.11.4",defaultElement:"<select>",options:{appendTo:null,disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:null,change:null,close:null,focus:null,open:null,select:null},_create:function(){var e=this.element.uniqueId().attr("id");this.ids={element:e,button:e+"-button",menu:e+"-menu"},this._drawButton(),this._drawMenu(),this.options.disabled&&this.disable()},_drawButton:function(){var t=this;this.label=e("label[for='"+this.ids.element+"']").attr("for",this.ids.button),this._on(this.label,{click:function(e){this.button.focus(),e.preventDefault()}}),this.element.hide(),this.button=e("<span>",{"class":"ui-selectmenu-button ui-widget ui-state-default ui-corner-all",tabindex:this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true"}).insertAfter(this.element),e("<span>",{"class":"ui-icon "+this.options.icons.button}).prependTo(this.button),this.buttonText=e("<span>",{"class":"ui-selectmenu-text"}).appendTo(this.button),this._setText(this.buttonText,this.element.find("option:selected").text()),this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one("focusin",function(){t.menuItems||t._refreshMenu()}),this._hoverable(this.button),this._focusable(this.button)},_drawMenu:function(){var t=this;this.menu=e("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=e("<div>",{"class":"ui-selectmenu-menu ui-front"}).append(this.menu).appendTo(this._appendTo()),this.menuInstance=this.menu.menu({role:"listbox",select:function(e,i){e.preventDefault(),t._setSelection(),t._select(i.item.data("ui-selectmenu-item"),e)},focus:function(e,i){var n=i.item.data("ui-selectmenu-item");null!=t.focusIndex&&n.index!==t.focusIndex&&(t._trigger("focus",e,{item:n}),t.isOpen||t._select(n,e)),t.focusIndex=n.index,t.button.attr("aria-activedescendant",t.menuItems.eq(n.index).attr("id"))}}).menu("instance"),this.menu.addClass("ui-corner-bottom").removeClass("ui-corner-all"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this._setText(this.buttonText,this._getSelectedItem().text()),this.options.width||this._resizeButton()},_refreshMenu:function(){this.menu.empty();var e,t=this.element.find("option");t.length&&(this._parseOptions(t),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup"),e=this._getSelectedItem(),this.menuInstance.focus(null,e),this._setAria(e.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(e){this.options.disabled||(this.menuItems?(this.menu.find(".ui-state-focus").removeClass("ui-state-focus"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",e))},_position:function(){this.menuWrap.position(e.extend({of:this.button},this.options.position))},close:function(e){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this.range=null,this._off(this.document),this._trigger("close",e))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderMenu:function(t,i){var n=this,r="";e.each(i,function(i,s){s.optgroup!==r&&(e("<li>",{"class":"ui-selectmenu-optgroup ui-menu-divider"+(s.element.parent("optgroup").prop("disabled")?" ui-state-disabled":""),text:s.optgroup}).appendTo(t),r=s.optgroup),n._renderItemData(t,s)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-selectmenu-item",t)},_renderItem:function(t,i){var n=e("<li>");return i.disabled&&n.addClass("ui-state-disabled"),this._setText(n,i.label),n.appendTo(t)},_setText:function(e,t){t?e.text(t):e.html("&#160;")},_move:function(e,t){var i,n,r=".ui-menu-item";this.isOpen?i=this.menuItems.eq(this.focusIndex):(i=this.menuItems.eq(this.element[0].selectedIndex),r+=":not(.ui-state-disabled)"),n="first"===e||"last"===e?i["first"===e?"prevAll":"nextAll"](r).eq(-1):i[e+"All"](r).eq(0),n.length&&this.menuInstance.focus(t,n)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex)},_toggle:function(e){this[this.isOpen?"close":"open"](e)},_setSelection:function(){var e;this.range&&(window.getSelection?(e=window.getSelection(),e.removeAllRanges(),e.addRange(this.range)):this.range.select(),this.button.focus())},_documentClick:{mousedown:function(t){this.isOpen&&(e(t.target).closest(".ui-selectmenu-menu, #"+this.ids.button).length||this.close(t))}},_buttonEvents:{mousedown:function(){var e;window.getSelection?(e=window.getSelection(),e.rangeCount&&(this.range=e.getRangeAt(0))):this.range=document.selection.createRange()},click:function(e){this._setSelection(),this._toggle(e)},keydown:function(t){var i=!0;switch(t.keyCode){case e.ui.keyCode.TAB:case e.ui.keyCode.ESCAPE:this.close(t),i=!1;break;case e.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(t);break;case e.ui.keyCode.UP:t.altKey?this._toggle(t):this._move("prev",t);break;case e.ui.keyCode.DOWN:t.altKey?this._toggle(t):this._move("next",t);break;case e.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(t):this._toggle(t);break;case e.ui.keyCode.LEFT:this._move("prev",t);break;case e.ui.keyCode.RIGHT:this._move("next",t);break;case e.ui.keyCode.HOME:case e.ui.keyCode.PAGE_UP:this._move("first",t);break;case e.ui.keyCode.END:case e.ui.keyCode.PAGE_DOWN:this._move("last",t);break;default:this.menu.trigger(t),i=!1}i&&t.preventDefault()}},_selectFocusedItem:function(e){var t=this.menuItems.eq(this.focusIndex);t.hasClass("ui-state-disabled")||this._select(t.data("ui-selectmenu-item"),e)},_select:function(e,t){var i=this.element[0].selectedIndex;this.element[0].selectedIndex=e.index,this._setText(this.buttonText,e.label),this._setAria(e),this._trigger("select",t,{item:e}),e.index!==i&&this._trigger("change",t,{item:e}),this.close(t)},_setAria:function(e){var t=this.menuItems.eq(e.index).attr("id");this.button.attr({"aria-labelledby":t,"aria-activedescendant":t}),this.menu.attr("aria-activedescendant",t)},_setOption:function(e,t){"icons"===e&&this.button.find("span.ui-icon").removeClass(this.options.icons.button).addClass(t.button),this._super(e,t),"appendTo"===e&&this.menuWrap.appendTo(this._appendTo()),"disabled"===e&&(this.menuInstance.option("disabled",t),this.button.toggleClass("ui-state-disabled",t).attr("aria-disabled",t),this.element.prop("disabled",t),t?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)),"width"===e&&this._resizeButton()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?e(t):this.document.find(t).eq(0)),t&&t[0]||(t=this.element.closest(".ui-front")),t.length||(t=this.document[0].body),t},_toggleAttr:function(){this.button.toggleClass("ui-corner-top",this.isOpen).toggleClass("ui-corner-all",!this.isOpen).attr("aria-expanded",this.isOpen),this.menuWrap.toggleClass("ui-selectmenu-open",this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var e=this.options.width;e||(e=this.element.show().outerWidth(),this.element.hide()),this.button.outerWidth(e)},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){return{disabled:this.element.prop("disabled")}},_parseOptions:function(t){var i=[];t.each(function(t,n){var r=e(n),s=r.parent("optgroup");i.push({element:r,index:t,value:r.val(),label:r.text(),optgroup:s.attr("label")||"",disabled:s.prop("disabled")||r.prop("disabled")})}),this.items=i},_destroy:function(){this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.label.attr("for",this.ids.element)}})}),function(e){"function"==typeof define&&define.amd?define(["jquery","./core","./mouse","./widget"],e):e(jQuery)}(function(e){return e.widget("ui.slider",e.ui.mouse,{version:"1.11.4",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var t,i,n=this.options,r=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),s="<span class='ui-slider-handle ui-state-default ui-corner-all' tabindex='0'></span>",o=[];for(i=n.values&&n.values.length||1,r.length>i&&(r.slice(i).remove(),r=r.slice(0,i)),t=r.length;i>t;t++)o.push(s);this.handles=r.add(e(o.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(t){e(this).data("ui-slider-handle-index",t)})},_createRange:function(){var t=this.options,i="";t.range?(t.range===!0&&(t.values?t.values.length&&2!==t.values.length?t.values=[t.values[0],t.values[0]]:e.isArray(t.values)&&(t.values=t.values.slice(0)):t.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=e("<div></div>").appendTo(this.element),i="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(i+("min"===t.range||"max"===t.range?" ui-slider-range-"+t.range:""))):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(t){var i,n,r,s,o,a,l,c,u=this,d=this.options;return d.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),i={x:t.pageX,y:t.pageY},n=this._normValueFromMouse(i),r=this._valueMax()-this._valueMin()+1,this.handles.each(function(t){var i=Math.abs(n-u.values(t));(r>i||r===i&&(t===u._lastChangedValue||u.values(t)===d.min))&&(r=i,s=e(this),o=t)}),a=this._start(t,o),a===!1?!1:(this._mouseSliding=!0,this._handleIndex=o,s.addClass("ui-state-active").focus(),l=s.offset(),c=!e(t.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=c?{left:0,top:0}:{left:t.pageX-l.left-s.width()/2,top:t.pageY-l.top-s.height()/2-(parseInt(s.css("borderTopWidth"),10)||0)-(parseInt(s.css("borderBottomWidth"),10)||0)+(parseInt(s.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(t,o,n),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(e){var t={x:e.pageX,y:e.pageY},i=this._normValueFromMouse(t);return this._slide(e,this._handleIndex,i),!1},_mouseStop:function(e){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(e,this._handleIndex),this._change(e,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(e){var t,i,n,r,s;return"horizontal"===this.orientation?(t=this.elementSize.width,i=e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(t=this.elementSize.height,i=e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),n=i/t,n>1&&(n=1),0>n&&(n=0),"vertical"===this.orientation&&(n=1-n),r=this._valueMax()-this._valueMin(),s=this._valueMin()+n*r,this._trimAlignValue(s)},_start:function(e,t){var i={handle:this.handles[t],value:this.value()};return this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._trigger("start",e,i)},_slide:function(e,t,i){var n,r,s;this.options.values&&this.options.values.length?(n=this.values(t?0:1),2===this.options.values.length&&this.options.range===!0&&(0===t&&i>n||1===t&&n>i)&&(i=n),i!==this.values(t)&&(r=this.values(),r[t]=i,s=this._trigger("slide",e,{handle:this.handles[t],value:i,values:r}),n=this.values(t?0:1),s!==!1&&this.values(t,i))):i!==this.value()&&(s=this._trigger("slide",e,{handle:this.handles[t],value:i}),s!==!1&&this.value(i))},_stop:function(e,t){var i={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._trigger("stop",e,i)},_change:function(e,t){if(!this._keySliding&&!this._mouseSliding){var i={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._lastChangedValue=t,this._trigger("change",e,i)}},value:function(e){return arguments.length?(this.options.value=this._trimAlignValue(e),this._refreshValue(),void this._change(null,0)):this._value()},values:function(t,i){var n,r,s;if(arguments.length>1)return this.options.values[t]=this._trimAlignValue(i),this._refreshValue(),void this._change(null,t);if(!arguments.length)return this._values();if(!e.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(t):this.value();for(n=this.options.values,r=arguments[0],s=0;s<n.length;s+=1)n[s]=this._trimAlignValue(r[s]),this._change(null,s);this._refreshValue()},_setOption:function(t,i){var n,r=0;switch("range"===t&&this.options.range===!0&&("min"===i?(this.options.value=this._values(0),this.options.values=null):"max"===i&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),e.isArray(this.options.values)&&(r=this.options.values.length),"disabled"===t&&this.element.toggleClass("ui-state-disabled",!!i),this._super(t,i),t){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue(),this.handles.css("horizontal"===i?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),n=0;r>n;n+=1)this._change(null,n);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var e=this.options.value;return e=this._trimAlignValue(e)},_values:function(e){var t,i,n;if(arguments.length)return t=this.options.values[e],t=this._trimAlignValue(t);if(this.options.values&&this.options.values.length){for(i=this.options.values.slice(),n=0;n<i.length;n+=1)i[n]=this._trimAlignValue(i[n]);return i}return[]},_trimAlignValue:function(e){if(e<=this._valueMin())return this._valueMin();if(e>=this._valueMax())return this._valueMax();var t=this.options.step>0?this.options.step:1,i=(e-this._valueMin())%t,n=e-i;return 2*Math.abs(i)>=t&&(n+=i>0?t:-t),parseFloat(n.toFixed(5))},_calculateNewMax:function(){var e=this.options.max,t=this._valueMin(),i=this.options.step,n=Math.floor(+(e-t).toFixed(this._precision())/i)*i;e=n+t,this.max=parseFloat(e.toFixed(this._precision()))},_precision:function(){var e=this._precisionOf(this.options.step);return null!==this.options.min&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var t=e.toString(),i=t.indexOf(".");return-1===i?0:t.length-i-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshValue:function(){var t,i,n,r,s,o=this.options.range,a=this.options,l=this,c=this._animateOff?!1:a.animate,u={};this.options.values&&this.options.values.length?this.handles.each(function(n){i=(l.values(n)-l._valueMin())/(l._valueMax()-l._valueMin())*100,u["horizontal"===l.orientation?"left":"bottom"]=i+"%",e(this).stop(1,1)[c?"animate":"css"](u,a.animate),l.options.range===!0&&("horizontal"===l.orientation?(0===n&&l.range.stop(1,1)[c?"animate":"css"]({left:i+"%"},a.animate),1===n&&l.range[c?"animate":"css"]({width:i-t+"%"},{queue:!1,duration:a.animate})):(0===n&&l.range.stop(1,1)[c?"animate":"css"]({bottom:i+"%"},a.animate),1===n&&l.range[c?"animate":"css"]({height:i-t+"%"},{queue:!1,duration:a.animate}))),t=i}):(n=this.value(),r=this._valueMin(),s=this._valueMax(),i=s!==r?(n-r)/(s-r)*100:0,u["horizontal"===this.orientation?"left":"bottom"]=i+"%",this.handle.stop(1,1)[c?"animate":"css"](u,a.animate),"min"===o&&"horizontal"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({width:i+"%"},a.animate),"max"===o&&"horizontal"===this.orientation&&this.range[c?"animate":"css"]({width:100-i+"%"},{queue:!1,duration:a.animate}),"min"===o&&"vertical"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({height:i+"%"},a.animate),"max"===o&&"vertical"===this.orientation&&this.range[c?"animate":"css"]({height:100-i+"%"},{queue:!1,duration:a.animate}))},_handleEvents:{keydown:function(t){var i,n,r,s,o=e(t.target).data("ui-slider-handle-index");switch(t.keyCode){case e.ui.keyCode.HOME:case e.ui.keyCode.END:case e.ui.keyCode.PAGE_UP:case e.ui.keyCode.PAGE_DOWN:case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(t.preventDefault(),!this._keySliding&&(this._keySliding=!0,e(t.target).addClass("ui-state-active"),i=this._start(t,o),i===!1))return}switch(s=this.options.step,n=r=this.options.values&&this.options.values.length?this.values(o):this.value(),t.keyCode){case e.ui.keyCode.HOME:r=this._valueMin();
break;case e.ui.keyCode.END:r=this._valueMax();break;case e.ui.keyCode.PAGE_UP:r=this._trimAlignValue(n+(this._valueMax()-this._valueMin())/this.numPages);break;case e.ui.keyCode.PAGE_DOWN:r=this._trimAlignValue(n-(this._valueMax()-this._valueMin())/this.numPages);break;case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:if(n===this._valueMax())return;r=this._trimAlignValue(n+s);break;case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(n===this._valueMin())return;r=this._trimAlignValue(n-s)}this._slide(t,o,r)},keyup:function(t){var i=e(t.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(t,i),this._change(t,i),e(t.target).removeClass("ui-state-active"))}}})}),function(e){"function"==typeof define&&define.amd?define(["jquery","./core","./mouse","./widget"],e):e(jQuery)}(function(e){return e.widget("ui.sortable",e.ui.mouse,{version:"1.11.4",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(e,t,i){return e>=t&&t+i>e},_isFloating:function(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))},_create:function(){this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(e,t){this._super(e,t),"handle"===e&&this._setHandleClassName()},_setHandleClassName:function(){this.element.find(".ui-sortable-handle").removeClass("ui-sortable-handle"),e.each(this.items,function(){(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item).addClass("ui-sortable-handle")})},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").find(".ui-sortable-handle").removeClass("ui-sortable-handle"),this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(t,i){var n=null,r=!1,s=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(t),e(t.target).parents().each(function(){return e.data(this,s.widgetName+"-item")===s?(n=e(this),!1):void 0}),e.data(t.target,s.widgetName+"-item")===s&&(n=e(t.target)),n&&(!this.options.handle||i||(e(this.options.handle,n).find("*").addBack().each(function(){this===t.target&&(r=!0)}),r))?(this.currentItem=n,this._removeCurrentsFromItems(),!0):!1)},_mouseStart:function(t,i,n){var r,s,o=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,o.cursorAt&&this._adjustOffsetFromHelper(o.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),o.containment&&this._setContainment(),o.cursor&&"auto"!==o.cursor&&(s=this.document.find("body"),this.storedCursor=s.css("cursor"),s.css("cursor",o.cursor),this.storedStylesheet=e("<style>*{ cursor: "+o.cursor+" !important; }</style>").appendTo(s)),o.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",o.opacity)),o.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",o.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!n)for(r=this.containers.length-1;r>=0;r--)this.containers[r]._trigger("activate",t,this._uiHash(this));return e.ui.ddmanager&&(e.ui.ddmanager.current=this),e.ui.ddmanager&&!o.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){var i,n,r,s,o=this.options,a=!1;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<o.scrollSensitivity?this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop+o.scrollSpeed:t.pageY-this.overflowOffset.top<o.scrollSensitivity&&(this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop-o.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<o.scrollSensitivity?this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft+o.scrollSpeed:t.pageX-this.overflowOffset.left<o.scrollSensitivity&&(this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft-o.scrollSpeed)):(t.pageY-this.document.scrollTop()<o.scrollSensitivity?a=this.document.scrollTop(this.document.scrollTop()-o.scrollSpeed):this.window.height()-(t.pageY-this.document.scrollTop())<o.scrollSensitivity&&(a=this.document.scrollTop(this.document.scrollTop()+o.scrollSpeed)),t.pageX-this.document.scrollLeft()<o.scrollSensitivity?a=this.document.scrollLeft(this.document.scrollLeft()-o.scrollSpeed):this.window.width()-(t.pageX-this.document.scrollLeft())<o.scrollSensitivity&&(a=this.document.scrollLeft(this.document.scrollLeft()+o.scrollSpeed))),a!==!1&&e.ui.ddmanager&&!o.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),i=this.items.length-1;i>=0;i--)if(n=this.items[i],r=n.item[0],s=this._intersectsWithPointer(n),s&&n.instance===this.currentContainer&&r!==this.currentItem[0]&&this.placeholder[1===s?"next":"prev"]()[0]!==r&&!e.contains(this.placeholder[0],r)&&("semi-dynamic"===this.options.type?!e.contains(this.element[0],r):!0)){if(this.direction=1===s?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(n))break;this._rearrange(t,n),this._trigger("change",t,this._uiHash());break}return this._contactContainers(t),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,i){if(t){if(e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,t),this.options.revert){var n=this,r=this.placeholder.offset(),s=this.options.axis,o={};s&&"x"!==s||(o.left=r.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),s&&"y"!==s||(o.top=r.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,e(this.helper).animate(o,parseInt(this.options.revert,10)||500,function(){n._clear(t)})}else this._clear(t,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),e.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var i=this._getItemsAsjQuery(t&&t.connected),n=[];return t=t||{},e(i).each(function(){var i=(e(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);i&&n.push((t.key||i[1]+"[]")+"="+(t.key&&t.expression?i[1]:i[2]))}),!n.length&&t.key&&n.push(t.key+"="),n.join("&")},toArray:function(t){var i=this._getItemsAsjQuery(t&&t.connected),n=[];return t=t||{},i.each(function(){n.push(e(t.item||this).attr(t.attribute||"id")||"")}),n},_intersectsWith:function(e){var t=this.positionAbs.left,i=t+this.helperProportions.width,n=this.positionAbs.top,r=n+this.helperProportions.height,s=e.left,o=s+e.width,a=e.top,l=a+e.height,c=this.offset.click.top,u=this.offset.click.left,d="x"===this.options.axis||n+c>a&&l>n+c,h="y"===this.options.axis||t+u>s&&o>t+u,f=d&&h;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?f:s<t+this.helperProportions.width/2&&i-this.helperProportions.width/2<o&&a<n+this.helperProportions.height/2&&r-this.helperProportions.height/2<l},_intersectsWithPointer:function(e){var t="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top,e.height),i="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left,e.width),n=t&&i,r=this._getDragVerticalDirection(),s=this._getDragHorizontalDirection();return n?this.floating?s&&"right"===s||"down"===r?2:1:r&&("down"===r?2:1):!1},_intersectsWithSides:function(e){var t=this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),i=this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),n=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();return this.floating&&r?"right"===r&&i||"left"===r&&!i:n&&("down"===n&&t||"up"===n&&!t)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!==e&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!==e&&(e>0?"right":"left")},refresh:function(e){return this._refreshItems(e),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(t){function i(){a.push(this)}var n,r,s,o,a=[],l=[],c=this._connectWith();if(c&&t)for(n=c.length-1;n>=0;n--)for(s=e(c[n],this.document[0]),r=s.length-1;r>=0;r--)o=e.data(s[r],this.widgetFullName),o&&o!==this&&!o.options.disabled&&l.push([e.isFunction(o.options.items)?o.options.items.call(o.element):e(o.options.items,o.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),o]);for(l.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),n=l.length-1;n>=0;n--)l[n][0].each(i);return e(a)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=e.grep(this.items,function(e){for(var i=0;i<t.length;i++)if(t[i]===e.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[],this.containers=[this];var i,n,r,s,o,a,l,c,u=this.items,d=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):e(this.options.items,this.element),this]],h=this._connectWith();if(h&&this.ready)for(i=h.length-1;i>=0;i--)for(r=e(h[i],this.document[0]),n=r.length-1;n>=0;n--)s=e.data(r[n],this.widgetFullName),s&&s!==this&&!s.options.disabled&&(d.push([e.isFunction(s.options.items)?s.options.items.call(s.element[0],t,{item:this.currentItem}):e(s.options.items,s.element),s]),this.containers.push(s));for(i=d.length-1;i>=0;i--)for(o=d[i][1],a=d[i][0],n=0,c=a.length;c>n;n++)l=e(a[n]),l.data(this.widgetName+"-item",o),u.push({item:l,instance:o,width:0,height:0,left:0,top:0})},refreshPositions:function(t){this.floating=this.items.length?"x"===this.options.axis||this._isFloating(this.items[0].item):!1,this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var i,n,r,s;for(i=this.items.length-1;i>=0;i--)n=this.items[i],n.instance!==this.currentContainer&&this.currentContainer&&n.item[0]!==this.currentItem[0]||(r=this.options.toleranceElement?e(this.options.toleranceElement,n.item):n.item,t||(n.width=r.outerWidth(),n.height=r.outerHeight()),s=r.offset(),n.left=s.left,n.top=s.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)s=this.containers[i].element.offset(),this.containers[i].containerCache.left=s.left,this.containers[i].containerCache.top=s.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(t){t=t||this;var i,n=t.options;n.placeholder&&n.placeholder.constructor!==String||(i=n.placeholder,n.placeholder={element:function(){var n=t.currentItem[0].nodeName.toLowerCase(),r=e("<"+n+">",t.document[0]).addClass(i||t.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tbody"===n?t._createTrPlaceholder(t.currentItem.find("tr").eq(0),e("<tr>",t.document[0]).appendTo(r)):"tr"===n?t._createTrPlaceholder(t.currentItem,r):"img"===n&&r.attr("src",t.currentItem.attr("src")),i||r.css("visibility","hidden"),r},update:function(e,r){(!i||n.forcePlaceholderSize)&&(r.height()||r.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10)),r.width()||r.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10)))}}),t.placeholder=e(n.placeholder.element.call(t.element,t.currentItem)),t.currentItem.after(t.placeholder),n.placeholder.update(t,t.placeholder)},_createTrPlaceholder:function(t,i){var n=this;t.children().each(function(){e("<td>&#160;</td>",n.document[0]).attr("colspan",e(this).attr("colspan")||1).appendTo(i)})},_contactContainers:function(t){var i,n,r,s,o,a,l,c,u,d,h=null,f=null;for(i=this.containers.length-1;i>=0;i--)if(!e.contains(this.currentItem[0],this.containers[i].element[0]))if(this._intersectsWith(this.containers[i].containerCache)){if(h&&e.contains(this.containers[i].element[0],h.element[0]))continue;h=this.containers[i],f=i}else this.containers[i].containerCache.over&&(this.containers[i]._trigger("out",t,this._uiHash(this)),this.containers[i].containerCache.over=0);if(h)if(1===this.containers.length)this.containers[f].containerCache.over||(this.containers[f]._trigger("over",t,this._uiHash(this)),this.containers[f].containerCache.over=1);else{for(r=1e4,s=null,u=h.floating||this._isFloating(this.currentItem),o=u?"left":"top",a=u?"width":"height",d=u?"clientX":"clientY",n=this.items.length-1;n>=0;n--)e.contains(this.containers[f].element[0],this.items[n].item[0])&&this.items[n].item[0]!==this.currentItem[0]&&(l=this.items[n].item.offset()[o],c=!1,t[d]-l>this.items[n][a]/2&&(c=!0),Math.abs(t[d]-l)<r&&(r=Math.abs(t[d]-l),s=this.items[n],this.direction=c?"up":"down"));if(!s&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[f])return void(this.currentContainer.containerCache.over||(this.containers[f]._trigger("over",t,this._uiHash()),this.currentContainer.containerCache.over=1));s?this._rearrange(t,s,null,!0):this._rearrange(t,null,this.containers[f].element,!0),this._trigger("change",t,this._uiHash()),this.containers[f]._trigger("change",t,this._uiHash(this)),this.currentContainer=this.containers[f],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[f]._trigger("over",t,this._uiHash(this)),this.containers[f].containerCache.over=1}},_createHelper:function(t){var i=this.options,n=e.isFunction(i.helper)?e(i.helper.apply(this.element[0],[t,this.currentItem])):"clone"===i.helper?this.currentItem.clone():this.currentItem;return n.parents("body").length||e("parent"!==i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(n[0]),n[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!n[0].style.width||i.forceHelperSize)&&n.width(this.currentItem.width()),(!n[0].style.height||i.forceHelperSize)&&n.height(this.currentItem.height()),n},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,i,n,r=this.options;"parent"===r.containment&&(r.containment=this.helper[0].parentNode),("document"===r.containment||"window"===r.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===r.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===r.containment?this.document.width():this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(r.containment)||(t=e(r.containment)[0],i=e(r.containment).offset(),n="hidden"!==e(t).css("overflow"),this.containment=[i.left+(parseInt(e(t).css("borderLeftWidth"),10)||0)+(parseInt(e(t).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(e(t).css("borderTopWidth"),10)||0)+(parseInt(e(t).css("paddingTop"),10)||0)-this.margins.top,i.left+(n?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(e(t).css("borderLeftWidth"),10)||0)-(parseInt(e(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(n?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(e(t).css("borderTopWidth"),10)||0)-(parseInt(e(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,i){i||(i=this.position);var n="absolute"===t?1:-1,r="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,s=/(html|body)/i.test(r[0].tagName);return{top:i.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():s?0:r.scrollTop())*n,left:i.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():s?0:r.scrollLeft())*n}},_generatePosition:function(t){var i,n,r=this.options,s=t.pageX,o=t.pageY,a="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(a[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(s=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(o=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(s=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(o=this.containment[3]+this.offset.click.top)),r.grid&&(i=this.originalPageY+Math.round((o-this.originalPageY)/r.grid[1])*r.grid[1],o=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-r.grid[1]:i+r.grid[1]:i,n=this.originalPageX+Math.round((s-this.originalPageX)/r.grid[0])*r.grid[0],s=this.containment?n-this.offset.click.left>=this.containment[0]&&n-this.offset.click.left<=this.containment[2]?n:n-this.offset.click.left>=this.containment[0]?n-r.grid[0]:n+r.grid[0]:n)),{top:o-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:a.scrollTop()),left:s-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:a.scrollLeft())}},_rearrange:function(e,t,i,n){i?i[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var r=this.counter;this._delay(function(){r===this.counter&&this.refreshPositions(!n)})},_clear:function(e,t){function i(e,t,i){return function(n){i._trigger(e,n,t._uiHash(t))}}this.reverting=!1;var n,r=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(n in this._storedCSS)("auto"===this._storedCSS[n]||"static"===this._storedCSS[n])&&(this._storedCSS[n]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!t&&r.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||t||r.push(function(e){this._trigger("update",e,this._uiHash())}),this!==this.currentContainer&&(t||(r.push(function(e){this._trigger("remove",e,this._uiHash())}),r.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),r.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer)))),n=this.containers.length-1;n>=0;n--)t||r.push(i("deactivate",this,this.containers[n])),this.containers[n].containerCache.over&&(r.push(i("out",this,this.containers[n])),this.containers[n].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,t||this._trigger("beforeStop",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!t){for(n=0;n<r.length;n++)r[n].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){e.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(t){var i=t||this;return{helper:i.helper,placeholder:i.placeholder||e([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:t?t.element:null}}})}),function(e){"function"==typeof define&&define.amd?define(["jquery","./core","./widget","./button"],e):e(jQuery)}(function(e){function t(e){return function(){var t=this.element.val();e.apply(this,arguments),this._refresh(),t!==this.element.val()&&this._trigger("change")}}return e.widget("ui.spinner",{version:"1.11.4",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var t={},i=this.element;return e.each(["min","max","step"],function(e,n){var r=i.attr(n);void 0!==r&&r.length&&(t[n]=r)}),t},_events:{keydown:function(e){this._start(e)&&this._keydown(e)&&e.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(e){return this.cancelBlur?void delete this.cancelBlur:(this._stop(),this._refresh(),void(this.previous!==this.element.val()&&this._trigger("change",e)))},mousewheel:function(e,t){if(t){if(!this.spinning&&!this._start(e))return!1;this._spin((t>0?1:-1)*this.options.step,e),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(e)},100),e.preventDefault()}},"mousedown .ui-spinner-button":function(t){function i(){var e=this.element[0]===this.document[0].activeElement;e||(this.element.focus(),this.previous=n,this._delay(function(){this.previous=n}))}var n;n=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),t.preventDefault(),i.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,i.call(this)}),this._start(t)!==!1&&this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(t){return e(t.currentTarget).hasClass("ui-state-active")?this._start(t)===!1?!1:void this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t):void 0},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var e=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=e.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(.5*e.height())&&e.height()>0&&e.height(e.height()),this.options.disabled&&this.disable()},_keydown:function(t){var i=this.options,n=e.ui.keyCode;switch(t.keyCode){case n.UP:return this._repeat(null,1,t),!0;case n.DOWN:return this._repeat(null,-1,t),!0;case n.PAGE_UP:return this._repeat(null,i.page,t),!0;case n.PAGE_DOWN:return this._repeat(null,-i.page,t),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span></a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon "+this.options.icons.down+"'>&#9660;</span></a>"},_start:function(e){return this.spinning||this._trigger("start",e)!==!1?(this.counter||(this.counter=1),this.spinning=!0,!0):!1},_repeat:function(e,t,i){e=e||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,t,i)},e),this._spin(t*this.options.step,i)},_spin:function(e,t){var i=this.value()||0;this.counter||(this.counter=1),i=this._adjustValue(i+e*this._increment(this.counter)),this.spinning&&this._trigger("spin",t,{value:i})===!1||(this._value(i),this.counter++)},_increment:function(t){var i=this.options.incremental;return i?e.isFunction(i)?i(t):Math.floor(t*t*t/5e4-t*t/500+17*t/200+1):1},_precision:function(){var e=this._precisionOf(this.options.step);return null!==this.options.min&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var t=e.toString(),i=t.indexOf(".");return-1===i?0:t.length-i-1},_adjustValue:function(e){var t,i,n=this.options;return t=null!==n.min?n.min:0,i=e-t,i=Math.round(i/n.step)*n.step,e=t+i,e=parseFloat(e.toFixed(this._precision())),null!==n.max&&e>n.max?n.max:null!==n.min&&e<n.min?n.min:e},_stop:function(e){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",e))},_setOption:function(e,t){if("culture"===e||"numberFormat"===e){var i=this._parse(this.element.val());return this.options[e]=t,void this.element.val(this._format(i))}("max"===e||"min"===e||"step"===e)&&"string"==typeof t&&(t=this._parse(t)),"icons"===e&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(t.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(t.down)),this._super(e,t),"disabled"===e&&(this.widget().toggleClass("ui-state-disabled",!!t),this.element.prop("disabled",!!t),this.buttons.button(t?"disable":"enable"))},_setOptions:t(function(e){this._super(e)}),_parse:function(e){return"string"==typeof e&&""!==e&&(e=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(e,10,this.options.culture):+e),""===e||isNaN(e)?null:e},_format:function(e){return""===e?"":window.Globalize&&this.options.numberFormat?Globalize.format(e,this.options.numberFormat,this.options.culture):e},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var e=this.value();return null===e?!1:e===this._adjustValue(e)},_value:function(e,t){var i;""!==e&&(i=this._parse(e),null!==i&&(t||(i=this._adjustValue(i)),e=this._format(i))),this.element.val(e),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:t(function(e){this._stepUp(e)}),_stepUp:function(e){this._start()&&(this._spin((e||1)*this.options.step),this._stop())},stepDown:t(function(e){this._stepDown(e)}),_stepDown:function(e){this._start()&&(this._spin((e||1)*-this.options.step),this._stop())},pageUp:t(function(e){this._stepUp((e||1)*this.options.page)}),pageDown:t(function(e){this._stepDown((e||1)*this.options.page)}),value:function(e){return arguments.length?void t(this._value).call(this,e):this._parse(this.element.val())},widget:function(){return this.uiSpinner}})}),function(e){"function"==typeof define&&define.amd?define(["jquery","./core","./widget"],e):e(jQuery)}(function(e){return e.widget("ui.tabs",{version:"1.11.4",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:function(){var e=/#.*$/;return function(t){var i,n;t=t.cloneNode(!1),i=t.href.replace(e,""),n=location.href.replace(e,"");try{i=decodeURIComponent(i)}catch(r){}try{n=decodeURIComponent(n)
}catch(r){}return t.hash.length>1&&i===n}}(),_create:function(){var t=this,i=this.options;this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",i.collapsible),this._processTabs(),i.active=this._initialActive(),e.isArray(i.disabled)&&(i.disabled=e.unique(i.disabled.concat(e.map(this.tabs.filter(".ui-state-disabled"),function(e){return t.tabs.index(e)}))).sort()),this.active=this.options.active!==!1&&this.anchors.length?this._findActive(i.active):e(),this._refresh(),this.active.length&&this.load(i.active)},_initialActive:function(){var t=this.options.active,i=this.options.collapsible,n=location.hash.substring(1);return null===t&&(n&&this.tabs.each(function(i,r){return e(r).attr("aria-controls")===n?(t=i,!1):void 0}),null===t&&(t=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(null===t||-1===t)&&(t=this.tabs.length?0:!1)),t!==!1&&(t=this.tabs.index(this.tabs.eq(t)),-1===t&&(t=i?!1:0)),!i&&t===!1&&this.anchors.length&&(t=0),t},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):e()}},_tabKeydown:function(t){var i=e(this.document[0].activeElement).closest("li"),n=this.tabs.index(i),r=!0;if(!this._handlePageNav(t)){switch(t.keyCode){case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:n++;break;case e.ui.keyCode.UP:case e.ui.keyCode.LEFT:r=!1,n--;break;case e.ui.keyCode.END:n=this.anchors.length-1;break;case e.ui.keyCode.HOME:n=0;break;case e.ui.keyCode.SPACE:return t.preventDefault(),clearTimeout(this.activating),void this._activate(n);case e.ui.keyCode.ENTER:return t.preventDefault(),clearTimeout(this.activating),void this._activate(n===this.options.active?!1:n);default:return}t.preventDefault(),clearTimeout(this.activating),n=this._focusNextTab(n,r),t.ctrlKey||t.metaKey||(i.attr("aria-selected","false"),this.tabs.eq(n).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",n)},this.delay))}},_panelKeydown:function(t){this._handlePageNav(t)||t.ctrlKey&&t.keyCode===e.ui.keyCode.UP&&(t.preventDefault(),this.active.focus())},_handlePageNav:function(t){return t.altKey&&t.keyCode===e.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):t.altKey&&t.keyCode===e.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(t,i){function n(){return t>r&&(t=0),0>t&&(t=r),t}for(var r=this.tabs.length-1;-1!==e.inArray(n(),this.options.disabled);)t=i?t+1:t-1;return t},_focusNextTab:function(e,t){return e=this._findNextTab(e,t),this.tabs.eq(e).focus(),e},_setOption:function(e,t){return"active"===e?void this._activate(t):"disabled"===e?void this._setupDisabled(t):(this._super(e,t),"collapsible"===e&&(this.element.toggleClass("ui-tabs-collapsible",t),t||this.options.active!==!1||this._activate(0)),"event"===e&&this._setupEvents(t),void("heightStyle"===e&&this._setupHeightStyle(t)))},_sanitizeSelector:function(e){return e?e.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var t=this.options,i=this.tablist.children(":has(a[href])");t.disabled=e.map(i.filter(".ui-state-disabled"),function(e){return i.index(e)}),this._processTabs(),t.active!==!1&&this.anchors.length?this.active.length&&!e.contains(this.tablist[0],this.active[0])?this.tabs.length===t.disabled.length?(t.active=!1,this.active=e()):this._activate(this._findNextTab(Math.max(0,t.active-1),!1)):t.active=this.tabs.index(this.active):(t.active=!1,this.active=e()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var t=this,i=this.tabs,n=this.anchors,r=this.panels;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist").delegate("> li","mousedown"+this.eventNamespace,function(t){e(this).is(".ui-state-disabled")&&t.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){e(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return e("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=e(),this.anchors.each(function(i,n){var r,s,o,a=e(n).uniqueId().attr("id"),l=e(n).closest("li"),c=l.attr("aria-controls");t._isLocal(n)?(r=n.hash,o=r.substring(1),s=t.element.find(t._sanitizeSelector(r))):(o=l.attr("aria-controls")||e({}).uniqueId()[0].id,r="#"+o,s=t.element.find(r),s.length||(s=t._createPanel(o),s.insertAfter(t.panels[i-1]||t.tablist)),s.attr("aria-live","polite")),s.length&&(t.panels=t.panels.add(s)),c&&l.data("ui-tabs-aria-controls",c),l.attr({"aria-controls":o,"aria-labelledby":a}),s.attr("aria-labelledby",a)}),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel"),i&&(this._off(i.not(this.tabs)),this._off(n.not(this.anchors)),this._off(r.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol,ul").eq(0)},_createPanel:function(t){return e("<div>").attr("id",t).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(t){e.isArray(t)&&(t.length?t.length===this.anchors.length&&(t=!0):t=!1);for(var i,n=0;i=this.tabs[n];n++)t===!0||-1!==e.inArray(n,t)?e(i).addClass("ui-state-disabled").attr("aria-disabled","true"):e(i).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=t},_setupEvents:function(t){var i={};t&&e.each(t.split(" "),function(e,t){i[t]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(e){e.preventDefault()}}),this._on(this.anchors,i),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(t){var i,n=this.element.parent();"fill"===t?(i=n.height(),i-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var t=e(this),n=t.css("position");"absolute"!==n&&"fixed"!==n&&(i-=t.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){i-=e(this).outerHeight(!0)}),this.panels.each(function(){e(this).height(Math.max(0,i-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")):"auto"===t&&(i=0,this.panels.each(function(){i=Math.max(i,e(this).height("").height())}).height(i))},_eventHandler:function(t){var i=this.options,n=this.active,r=e(t.currentTarget),s=r.closest("li"),o=s[0]===n[0],a=o&&i.collapsible,l=a?e():this._getPanelForTab(s),c=n.length?this._getPanelForTab(n):e(),u={oldTab:n,oldPanel:c,newTab:a?e():s,newPanel:l};t.preventDefault(),s.hasClass("ui-state-disabled")||s.hasClass("ui-tabs-loading")||this.running||o&&!i.collapsible||this._trigger("beforeActivate",t,u)===!1||(i.active=a?!1:this.tabs.index(s),this.active=o?e():s,this.xhr&&this.xhr.abort(),c.length||l.length||e.error("jQuery UI Tabs: Mismatching fragment identifier."),l.length&&this.load(this.tabs.index(s),t),this._toggle(t,u))},_toggle:function(t,i){function n(){s.running=!1,s._trigger("activate",t,i)}function r(){i.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),o.length&&s.options.show?s._show(o,s.options.show,n):(o.show(),n())}var s=this,o=i.newPanel,a=i.oldPanel;this.running=!0,a.length&&this.options.hide?this._hide(a,this.options.hide,function(){i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),r()}):(i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),a.hide(),r()),a.attr("aria-hidden","true"),i.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),o.length&&a.length?i.oldTab.attr("tabIndex",-1):o.length&&this.tabs.filter(function(){return 0===e(this).attr("tabIndex")}).attr("tabIndex",-1),o.attr("aria-hidden","false"),i.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(t){var i,n=this._findActive(t);n[0]!==this.active[0]&&(n.length||(n=this.active),i=n.find(".ui-tabs-anchor")[0],this._eventHandler({target:i,currentTarget:i,preventDefault:e.noop}))},_findActive:function(t){return t===!1?e():this.tabs.eq(t)},_getIndex:function(e){return"string"==typeof e&&(e=this.anchors.index(this.anchors.filter("[href$='"+e+"']"))),e},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(),this.tablist.unbind(this.eventNamespace),this.tabs.add(this.panels).each(function(){e.data(this,"ui-tabs-destroy")?e(this).remove():e(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}),this.tabs.each(function(){var t=e(this),i=t.data("ui-tabs-aria-controls");i?t.attr("aria-controls",i).removeData("ui-tabs-aria-controls"):t.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(t){var i=this.options.disabled;i!==!1&&(void 0===t?i=!1:(t=this._getIndex(t),i=e.isArray(i)?e.map(i,function(e){return e!==t?e:null}):e.map(this.tabs,function(e,i){return i!==t?i:null})),this._setupDisabled(i))},disable:function(t){var i=this.options.disabled;if(i!==!0){if(void 0===t)i=!0;else{if(t=this._getIndex(t),-1!==e.inArray(t,i))return;i=e.isArray(i)?e.merge([t],i).sort():[t]}this._setupDisabled(i)}},load:function(t,i){t=this._getIndex(t);var n=this,r=this.tabs.eq(t),s=r.find(".ui-tabs-anchor"),o=this._getPanelForTab(r),a={tab:r,panel:o},l=function(e,t){"abort"===t&&n.panels.stop(!1,!0),r.removeClass("ui-tabs-loading"),o.removeAttr("aria-busy"),e===n.xhr&&delete n.xhr};this._isLocal(s[0])||(this.xhr=e.ajax(this._ajaxSettings(s,i,a)),this.xhr&&"canceled"!==this.xhr.statusText&&(r.addClass("ui-tabs-loading"),o.attr("aria-busy","true"),this.xhr.done(function(e,t,r){setTimeout(function(){o.html(e),n._trigger("load",i,a),l(r,t)},1)}).fail(function(e,t){setTimeout(function(){l(e,t)},1)})))},_ajaxSettings:function(t,i,n){var r=this;return{url:t.attr("href"),beforeSend:function(t,s){return r._trigger("beforeLoad",i,e.extend({jqXHR:t,ajaxSettings:s},n))}}},_getPanelForTab:function(t){var i=e(t).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+i))}})}),function(e){"function"==typeof define&&define.amd?define(["jquery","./core","./widget","./position"],e):e(jQuery)}(function(e){return e.widget("ui.tooltip",{version:"1.11.4",options:{content:function(){var t=e(this).attr("title")||"";return e("<a>").text(t).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_addDescribedBy:function(t,i){var n=(t.attr("aria-describedby")||"").split(/\s+/);n.push(i),t.data("ui-tooltip-id",i).attr("aria-describedby",e.trim(n.join(" ")))},_removeDescribedBy:function(t){var i=t.data("ui-tooltip-id"),n=(t.attr("aria-describedby")||"").split(/\s+/),r=e.inArray(i,n);-1!==r&&n.splice(r,1),t.removeData("ui-tooltip-id"),n=e.trim(n.join(" ")),n?t.attr("aria-describedby",n):t.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable(),this.liveRegion=e("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body)},_setOption:function(t,i){var n=this;return"disabled"===t?(this[i?"_disable":"_enable"](),void(this.options[t]=i)):(this._super(t,i),void("content"===t&&e.each(this.tooltips,function(e,t){n._updateContent(t.element)})))},_disable:function(){var t=this;e.each(this.tooltips,function(i,n){var r=e.Event("blur");r.target=r.currentTarget=n.element[0],t.close(r,!0)}),this.element.find(this.options.items).addBack().each(function(){var t=e(this);t.is("[title]")&&t.data("ui-tooltip-title",t.attr("title")).removeAttr("title")})},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var t=e(this);t.data("ui-tooltip-title")&&t.attr("title",t.data("ui-tooltip-title"))})},open:function(t){var i=this,n=e(t?t.target:this.element).closest(this.options.items);n.length&&!n.data("ui-tooltip-id")&&(n.attr("title")&&n.data("ui-tooltip-title",n.attr("title")),n.data("ui-tooltip-open",!0),t&&"mouseover"===t.type&&n.parents().each(function(){var t,n=e(this);n.data("ui-tooltip-open")&&(t=e.Event("blur"),t.target=t.currentTarget=this,i.close(t,!0)),n.attr("title")&&(n.uniqueId(),i.parents[this.id]={element:this,title:n.attr("title")},n.attr("title",""))}),this._registerCloseHandlers(t,n),this._updateContent(n,t))},_updateContent:function(e,t){var i,n=this.options.content,r=this,s=t?t.type:null;return"string"==typeof n?this._open(t,e,n):(i=n.call(e[0],function(i){r._delay(function(){e.data("ui-tooltip-open")&&(t&&(t.type=s),this._open(t,e,i))})}),void(i&&this._open(t,e,i)))},_open:function(t,i,n){function r(e){c.of=e,o.is(":hidden")||o.position(c)}var s,o,a,l,c=e.extend({},this.options.position);if(n){if(s=this._find(i))return void s.tooltip.find(".ui-tooltip-content").html(n);i.is("[title]")&&(t&&"mouseover"===t.type?i.attr("title",""):i.removeAttr("title")),s=this._tooltip(i),o=s.tooltip,this._addDescribedBy(i,o.attr("id")),o.find(".ui-tooltip-content").html(n),this.liveRegion.children().hide(),n.clone?(l=n.clone(),l.removeAttr("id").find("[id]").removeAttr("id")):l=n,e("<div>").html(l).appendTo(this.liveRegion),this.options.track&&t&&/^mouse/.test(t.type)?(this._on(this.document,{mousemove:r}),r(t)):o.position(e.extend({of:i},this.options.position)),o.hide(),this._show(o,this.options.show),this.options.show&&this.options.show.delay&&(a=this.delayedShow=setInterval(function(){o.is(":visible")&&(r(c.of),clearInterval(a))},e.fx.interval)),this._trigger("open",t,{tooltip:o})}},_registerCloseHandlers:function(t,i){var n={keyup:function(t){if(t.keyCode===e.ui.keyCode.ESCAPE){var n=e.Event(t);n.currentTarget=i[0],this.close(n,!0)}}};i[0]!==this.element[0]&&(n.remove=function(){this._removeTooltip(this._find(i).tooltip)}),t&&"mouseover"!==t.type||(n.mouseleave="close"),t&&"focusin"!==t.type||(n.focusout="close"),this._on(!0,i,n)},close:function(t){var i,n=this,r=e(t?t.currentTarget:this.element),s=this._find(r);return s?(i=s.tooltip,void(s.closing||(clearInterval(this.delayedShow),r.data("ui-tooltip-title")&&!r.attr("title")&&r.attr("title",r.data("ui-tooltip-title")),this._removeDescribedBy(r),s.hiding=!0,i.stop(!0),this._hide(i,this.options.hide,function(){n._removeTooltip(e(this))}),r.removeData("ui-tooltip-open"),this._off(r,"mouseleave focusout keyup"),r[0]!==this.element[0]&&this._off(r,"remove"),this._off(this.document,"mousemove"),t&&"mouseleave"===t.type&&e.each(this.parents,function(t,i){e(i.element).attr("title",i.title),delete n.parents[t]}),s.closing=!0,this._trigger("close",t,{tooltip:i}),s.hiding||(s.closing=!1)))):void r.removeData("ui-tooltip-open")},_tooltip:function(t){var i=e("<div>").attr("role","tooltip").addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||"")),n=i.uniqueId().attr("id");return e("<div>").addClass("ui-tooltip-content").appendTo(i),i.appendTo(this.document[0].body),this.tooltips[n]={element:t,tooltip:i}},_find:function(e){var t=e.data("ui-tooltip-id");return t?this.tooltips[t]:null},_removeTooltip:function(e){e.remove(),delete this.tooltips[e.attr("id")]},_destroy:function(){var t=this;e.each(this.tooltips,function(i,n){var r=e.Event("blur"),s=n.element;r.target=r.currentTarget=s[0],t.close(r,!0),e("#"+i).remove(),s.data("ui-tooltip-title")&&(s.attr("title")||s.attr("title",s.data("ui-tooltip-title")),s.removeData("ui-tooltip-title"))}),this.liveRegion.remove()}})}),function(){var e,t;e=window.jQuery||("function"==typeof require?require("jquery"):void 0),t=e(document),e.turbo={version:"2.1.0",isReady:!1,use:function(e,i){return t.off(".turbo").on(""+e+".turbo",this.onLoad).on(""+i+".turbo",this.onFetch)},addCallback:function(i){return e.turbo.isReady&&i(e),t.on("turbo:ready",function(){return i(e)})},onLoad:function(){return e.turbo.isReady=!0,t.trigger("turbo:ready")},onFetch:function(){return e.turbo.isReady=!1},register:function(){return e(this.onLoad),e.fn.ready=this.addCallback}},e.turbo.register(),e.turbo.use("page:load","page:fetch")}.call(this),function(e){var t=0,i=function(){return(new Date).getTime()+t++},n=function(e){return"["+e+"]$1"},r=function(e){return"_"+e+"_$1"},s=function(t,i,n){return t?"function"==typeof t?(i&&console.warn("association-insertion-traversal is ignored, because association-insertion-node is given as a function."),t(n)):"string"==typeof t?i?n[i](t):"this"==t?n:e(t):void 0:n.parent()};e(document).on("click",".add_fields",function(t){t.preventDefault();var o=e(this),a=o.data("association"),l=o.data("associations"),c=o.data("association-insertion-template"),u=o.data("association-insertion-method")||o.data("association-insertion-position")||"before",d=o.data("association-insertion-node"),h=o.data("association-insertion-traversal"),f=parseInt(o.data("count"),10),p=new RegExp("\\[new_"+a+"\\](.*?\\s)","g"),g=new RegExp("_new_"+a+"_(\\w*)","g"),m=i(),v=c.replace(p,n(m)),y=[];for(v==c&&(p=new RegExp("\\[new_"+l+"\\](.*?\\s)","g"),g=new RegExp("_new_"+l+"_(\\w*)","g"),v=c.replace(p,n(m))),v=v.replace(g,r(m)),y=[v],f=isNaN(f)?1:Math.max(f,1),f-=1;f;)m=i(),v=c.replace(p,n(m)),v=v.replace(g,r(m)),y.push(v),f-=1;var b=s(d,h,o);b&&0!=b.length||console.warn("Couldn't find the element to insert the template. Make sure your `data-association-insertion-*` on `link_to_add_association` is correct."),e.each(y,function(t,i){var n=e(i);b.trigger("cocoon:before-insert",[n]);b[u](n);b.trigger("cocoon:after-insert",[n])})}),e(document).on("click",".remove_fields.dynamic, .remove_fields.existing",function(t){var i=e(this),n=i.data("wrapper-class")||"nested-fields",r=i.closest("."+n),s=r.parent();t.preventDefault(),s.trigger("cocoon:before-remove",[r]);var o=s.data("remove-timeout")||0;setTimeout(function(){i.hasClass("dynamic")?r.remove():(i.prev("input[type=hidden]").val("1"),r.hide()),s.trigger("cocoon:after-remove",[r])},o)}),e(document).on("ready page:load",function(){e(".remove_fields.existing.destroyed").each(function(){var t=e(this),i=t.data("wrapper-class")||"nested-fields";t.closest("."+i).hide()})})}(jQuery),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.moment=t()}(this,function(){"use strict";function e(){return Vn.apply(null,arguments)}function t(e){Vn=e}function i(e){return"[object Array]"===Object.prototype.toString.call(e)}function n(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function r(e,t){var i,n=[];for(i=0;i<e.length;++i)n.push(t(e[i],i));return n}function s(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function o(e,t){for(var i in t)s(t,i)&&(e[i]=t[i]);return s(t,"toString")&&(e.toString=t.toString),s(t,"valueOf")&&(e.valueOf=t.valueOf),e}function a(e,t,i,n){return Mt(e,t,i,n,!0).utc()}function l(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function c(e){return null==e._pf&&(e._pf=l()),e._pf}function u(e){if(null==e._isValid){var t=c(e);e._isValid=!(isNaN(e._d.getTime())||!(t.overflow<0)||t.empty||t.invalidMonth||t.invalidWeekday||t.nullInput||t.invalidFormat||t.userInvalidated),e._strict&&(e._isValid=e._isValid&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour)}return e._isValid}function d(e){var t=a(0/0);return null!=e?o(c(t),e):c(t).userInvalidated=!0,t}function h(e){return void 0===e}function f(e,t){var i,n,r;if(h(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),h(t._i)||(e._i=t._i),h(t._f)||(e._f=t._f),h(t._l)||(e._l=t._l),h(t._strict)||(e._strict=t._strict),h(t._tzm)||(e._tzm=t._tzm),h(t._isUTC)||(e._isUTC=t._isUTC),h(t._offset)||(e._offset=t._offset),h(t._pf)||(e._pf=c(t)),h(t._locale)||(e._locale=t._locale),Kn.length>0)for(i in Kn)n=Kn[i],r=t[n],h(r)||(e[n]=r);return e}function p(t){f(this,t),this._d=new Date(null!=t._d?t._d.getTime():0/0),Xn===!1&&(Xn=!0,e.updateOffset(this),Xn=!1)}function g(e){return e instanceof p||null!=e&&null!=e._isAMomentObject}function m(e){return 0>e?Math.ceil(e):Math.floor(e)}function v(e){var t=+e,i=0;return 0!==t&&isFinite(t)&&(i=m(t)),i}function y(e,t,i){var n,r=Math.min(e.length,t.length),s=Math.abs(e.length-t.length),o=0;for(n=0;r>n;n++)(i&&e[n]!==t[n]||!i&&v(e[n])!==v(t[n]))&&o++;return o+s}function b(){}function w(e){return e?e.toLowerCase().replace("_","-"):e}function x(e){for(var t,i,n,r,s=0;s<e.length;){for(r=w(e[s]).split("-"),t=r.length,i=w(e[s+1]),i=i?i.split("-"):null;t>0;){if(n=k(r.slice(0,t).join("-")))return n;if(i&&i.length>=t&&y(r,i,!0)>=t-1)break;t--}s++}return null}function k(e){var t=null;if(!Qn[e]&&"undefined"!=typeof module&&module&&module.exports)try{t=Gn._abbr,require("./locale/"+e),_(t)}catch(i){}return Qn[e]}function _(e,t){var i;return e&&(i=h(t)?T(e):C(e,t),i&&(Gn=i)),Gn._abbr}function C(e,t){return null!==t?(t.abbr=e,Qn[e]=Qn[e]||new b,Qn[e].set(t),_(e),Qn[e]):(delete Qn[e],null)}function T(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Gn;if(!i(e)){if(t=k(e))return t;e=[e]}return x(e)}function S(e,t){var i=e.toLowerCase();Zn[i]=Zn[i+"s"]=Zn[t]=e}function D(e){return"string"==typeof e?Zn[e]||Zn[e.toLowerCase()]:void 0}function E(e){var t,i,n={};for(i in e)s(e,i)&&(t=D(i),t&&(n[t]=e[i]));return n}function M(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function A(t,i){return function(n){return null!=n?(O(this,t,n),e.updateOffset(this,i),this):I(this,t)}}function I(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():0/0}function O(e,t,i){e.isValid()&&e._d["set"+(e._isUTC?"UTC":"")+t](i)}function $(e,t){var i;if("object"==typeof e)for(i in e)this.set(i,e[i]);else if(e=D(e),M(this[e]))return this[e](t);return this}function R(e,t,i){var n=""+Math.abs(e),r=t-n.length,s=e>=0;return(s?i?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+n}function H(e,t,i,n){var r=n;"string"==typeof n&&(r=function(){return this[n]()}),e&&(ir[e]=r),t&&(ir[t[0]]=function(){return R(r.apply(this,arguments),t[1],t[2])}),i&&(ir[i]=function(){return this.localeData().ordinal(r.apply(this,arguments),e)})}function P(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function z(e){var t,i,n=e.match(Jn);for(t=0,i=n.length;i>t;t++)n[t]=ir[n[t]]?ir[n[t]]:P(n[t]);return function(r){var s="";for(t=0;i>t;t++)s+=n[t]instanceof Function?n[t].call(r,e):n[t];return s}}function N(e,t){return e.isValid()?(t=L(t,e.localeData()),tr[t]=tr[t]||z(t),tr[t](e)):e.localeData().invalidDate()}function L(e,t){function i(e){return t.longDateFormat(e)||e}var n=5;for(er.lastIndex=0;n>=0&&er.test(e);)e=e.replace(er,i),er.lastIndex=0,n-=1;return e}function F(e,t,i){wr[e]=M(t)?t:function(e){return e&&i?i:t}}function j(e,t){return s(wr,e)?wr[e](t._strict,t._locale):new RegExp(W(e))}function W(e){return B(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,i,n,r){return t||i||n||r}))}function B(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function U(e,t){var i,n=t;for("string"==typeof e&&(e=[e]),"number"==typeof t&&(n=function(e,i){i[t]=v(e)}),i=0;i<e.length;i++)xr[e[i]]=n}function q(e,t){U(e,function(e,i,n,r){n._w=n._w||{},t(e,n._w,n,r)})}function Y(e,t,i){null!=t&&s(xr,e)&&xr[e](t,i._a,i,e)}function V(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function G(e,t){return i(this._months)?this._months[e.month()]:this._months[Ir.test(t)?"format":"standalone"][e.month()]}function K(e,t){return i(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[Ir.test(t)?"format":"standalone"][e.month()]}function X(e,t,i){var n,r,s;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;12>n;n++){if(r=a([2e3,n]),i&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),i||this._monthsParse[n]||(s="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[n]=new RegExp(s.replace(".",""),"i")),i&&"MMMM"===t&&this._longMonthsParse[n].test(e))return n;if(i&&"MMM"===t&&this._shortMonthsParse[n].test(e))return n;if(!i&&this._monthsParse[n].test(e))return n}}function Q(e,t){var i;return e.isValid()?"string"==typeof t&&(t=e.localeData().monthsParse(t),"number"!=typeof t)?e:(i=Math.min(e.date(),V(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,i),e):e}function Z(t){return null!=t?(Q(this,t),e.updateOffset(this,!0),this):I(this,"Month")}function J(){return V(this.year(),this.month())}function et(e){return this._monthsParseExact?(s(this,"_monthsRegex")||it.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex}function tt(e){return this._monthsParseExact?(s(this,"_monthsRegex")||it.call(this),e?this._monthsStrictRegex:this._monthsRegex):this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex}function it(){function e(e,t){return t.length-e.length}var t,i,n=[],r=[],s=[];for(t=0;12>t;t++)i=a([2e3,t]),n.push(this.monthsShort(i,"")),r.push(this.months(i,"")),s.push(this.months(i,"")),s.push(this.monthsShort(i,""));for(n.sort(e),r.sort(e),s.sort(e),t=0;12>t;t++)n[t]=B(n[t]),r[t]=B(r[t]),s[t]=B(s[t]);this._monthsRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")$","i"),this._monthsShortStrictRegex=new RegExp("^("+n.join("|")+")$","i")}function nt(e){var t,i=e._a;return i&&-2===c(e).overflow&&(t=i[_r]<0||i[_r]>11?_r:i[Cr]<1||i[Cr]>V(i[kr],i[_r])?Cr:i[Tr]<0||i[Tr]>24||24===i[Tr]&&(0!==i[Sr]||0!==i[Dr]||0!==i[Er])?Tr:i[Sr]<0||i[Sr]>59?Sr:i[Dr]<0||i[Dr]>59?Dr:i[Er]<0||i[Er]>999?Er:-1,c(e)._overflowDayOfYear&&(kr>t||t>Cr)&&(t=Cr),c(e)._overflowWeeks&&-1===t&&(t=Mr),c(e)._overflowWeekday&&-1===t&&(t=Ar),c(e).overflow=t),e}function rt(t){e.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function st(e,t){var i=!0;return o(function(){return i&&(rt(e+"\nArguments: "+Array.prototype.slice.call(arguments).join(", ")+"\n"+(new Error).stack),i=!1),t.apply(this,arguments)},t)}function ot(e,t){Pr[e]||(rt(t),Pr[e]=!0)}function at(e){var t,i,n,r,s,o,a=e._i,l=zr.exec(a)||Nr.exec(a);if(l){for(c(e).iso=!0,t=0,i=Fr.length;i>t;t++)if(Fr[t][1].exec(l[1])){r=Fr[t][0],n=Fr[t][2]!==!1;break}if(null==r)return void(e._isValid=!1);if(l[3]){for(t=0,i=jr.length;i>t;t++)if(jr[t][1].exec(l[3])){s=(l[2]||" ")+jr[t][0];break}if(null==s)return void(e._isValid=!1)}if(!n&&null!=s)return void(e._isValid=!1);if(l[4]){if(!Lr.exec(l[4]))return void(e._isValid=!1);o="Z"}e._f=r+(s||"")+(o||""),kt(e)}else e._isValid=!1}function lt(t){var i=Wr.exec(t._i);return null!==i?void(t._d=new Date(+i[1])):(at(t),void(t._isValid===!1&&(delete t._isValid,e.createFromInputFallback(t))))}function ct(e,t,i,n,r,s,o){var a=new Date(e,t,i,n,r,s,o);return 100>e&&e>=0&&isFinite(a.getFullYear())&&a.setFullYear(e),a}function ut(e){var t=new Date(Date.UTC.apply(null,arguments));return 100>e&&e>=0&&isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e),t}function dt(e){return ht(e)?366:365}function ht(e){return e%4===0&&e%100!==0||e%400===0}function ft(){return ht(this.year())}function pt(e,t,i){var n=7+t-i,r=(7+ut(e,0,n).getUTCDay()-t)%7;return-r+n-1}function gt(e,t,i,n,r){var s,o,a=(7+i-n)%7,l=pt(e,n,r),c=1+7*(t-1)+a+l;return 0>=c?(s=e-1,o=dt(s)+c):c>dt(e)?(s=e+1,o=c-dt(e)):(s=e,o=c),{year:s,dayOfYear:o}}function mt(e,t,i){var n,r,s=pt(e.year(),t,i),o=Math.floor((e.dayOfYear()-s-1)/7)+1;return 1>o?(r=e.year()-1,n=o+vt(r,t,i)):o>vt(e.year(),t,i)?(n=o-vt(e.year(),t,i),r=e.year()+1):(r=e.year(),n=o),{week:n,year:r}}function vt(e,t,i){var n=pt(e,t,i),r=pt(e+1,t,i);return(dt(e)-n+r)/7}function yt(e,t,i){return null!=e?e:null!=t?t:i}function bt(t){var i=new Date(e.now());return t._useUTC?[i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()]:[i.getFullYear(),i.getMonth(),i.getDate()]}function wt(e){var t,i,n,r,s=[];if(!e._d){for(n=bt(e),e._w&&null==e._a[Cr]&&null==e._a[_r]&&xt(e),e._dayOfYear&&(r=yt(e._a[kr],n[kr]),e._dayOfYear>dt(r)&&(c(e)._overflowDayOfYear=!0),i=ut(r,0,e._dayOfYear),e._a[_r]=i.getUTCMonth(),e._a[Cr]=i.getUTCDate()),t=0;3>t&&null==e._a[t];++t)e._a[t]=s[t]=n[t];for(;7>t;t++)e._a[t]=s[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[Tr]&&0===e._a[Sr]&&0===e._a[Dr]&&0===e._a[Er]&&(e._nextDay=!0,e._a[Tr]=0),e._d=(e._useUTC?ut:ct).apply(null,s),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[Tr]=24)}}function xt(e){var t,i,n,r,s,o,a,l;t=e._w,null!=t.GG||null!=t.W||null!=t.E?(s=1,o=4,i=yt(t.GG,e._a[kr],mt(At(),1,4).year),n=yt(t.W,1),r=yt(t.E,1),(1>r||r>7)&&(l=!0)):(s=e._locale._week.dow,o=e._locale._week.doy,i=yt(t.gg,e._a[kr],mt(At(),s,o).year),n=yt(t.w,1),null!=t.d?(r=t.d,(0>r||r>6)&&(l=!0)):null!=t.e?(r=t.e+s,(t.e<0||t.e>6)&&(l=!0)):r=s),1>n||n>vt(i,s,o)?c(e)._overflowWeeks=!0:null!=l?c(e)._overflowWeekday=!0:(a=gt(i,n,r,s,o),e._a[kr]=a.year,e._dayOfYear=a.dayOfYear)}function kt(t){if(t._f===e.ISO_8601)return void at(t);t._a=[],c(t).empty=!0;var i,n,r,s,o,a=""+t._i,l=a.length,u=0;for(r=L(t._f,t._locale).match(Jn)||[],i=0;i<r.length;i++)s=r[i],n=(a.match(j(s,t))||[])[0],n&&(o=a.substr(0,a.indexOf(n)),o.length>0&&c(t).unusedInput.push(o),a=a.slice(a.indexOf(n)+n.length),u+=n.length),ir[s]?(n?c(t).empty=!1:c(t).unusedTokens.push(s),Y(s,n,t)):t._strict&&!n&&c(t).unusedTokens.push(s);c(t).charsLeftOver=l-u,a.length>0&&c(t).unusedInput.push(a),c(t).bigHour===!0&&t._a[Tr]<=12&&t._a[Tr]>0&&(c(t).bigHour=void 0),t._a[Tr]=_t(t._locale,t._a[Tr],t._meridiem),wt(t),nt(t)}function _t(e,t,i){var n;return null==i?t:null!=e.meridiemHour?e.meridiemHour(t,i):null!=e.isPM?(n=e.isPM(i),n&&12>t&&(t+=12),n||12!==t||(t=0),t):t}function Ct(e){var t,i,n,r,s;if(0===e._f.length)return c(e).invalidFormat=!0,void(e._d=new Date(0/0));for(r=0;r<e._f.length;r++)s=0,t=f({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[r],kt(t),u(t)&&(s+=c(t).charsLeftOver,s+=10*c(t).unusedTokens.length,c(t).score=s,(null==n||n>s)&&(n=s,i=t));o(e,i||t)}function Tt(e){if(!e._d){var t=E(e._i);e._a=r([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),wt(e)}}function St(e){var t=new p(nt(Dt(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function Dt(e){var t=e._i,r=e._f;return e._locale=e._locale||T(e._l),null===t||void 0===r&&""===t?d({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),g(t)?new p(nt(t)):(i(r)?Ct(e):r?kt(e):n(t)?e._d=t:Et(e),u(e)||(e._d=null),e))}function Et(t){var s=t._i;void 0===s?t._d=new Date(e.now()):n(s)?t._d=new Date(+s):"string"==typeof s?lt(t):i(s)?(t._a=r(s.slice(0),function(e){return parseInt(e,10)}),wt(t)):"object"==typeof s?Tt(t):"number"==typeof s?t._d=new Date(s):e.createFromInputFallback(t)}function Mt(e,t,i,n,r){var s={};return"boolean"==typeof i&&(n=i,i=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=r,s._l=i,s._i=e,s._f=t,s._strict=n,St(s)}function At(e,t,i,n){return Mt(e,t,i,n,!1)}function It(e,t){var n,r;if(1===t.length&&i(t[0])&&(t=t[0]),!t.length)return At();for(n=t[0],r=1;r<t.length;++r)(!t[r].isValid()||t[r][e](n))&&(n=t[r]);return n}function Ot(){var e=[].slice.call(arguments,0);return It("isBefore",e)}function $t(){var e=[].slice.call(arguments,0);
return It("isAfter",e)}function Rt(e){var t=E(e),i=t.year||0,n=t.quarter||0,r=t.month||0,s=t.week||0,o=t.day||0,a=t.hour||0,l=t.minute||0,c=t.second||0,u=t.millisecond||0;this._milliseconds=+u+1e3*c+6e4*l+36e5*a,this._days=+o+7*s,this._months=+r+3*n+12*i,this._data={},this._locale=T(),this._bubble()}function Ht(e){return e instanceof Rt}function Pt(e,t){H(e,0,0,function(){var e=this.utcOffset(),i="+";return 0>e&&(e=-e,i="-"),i+R(~~(e/60),2)+t+R(~~e%60,2)})}function zt(e,t){var i=(t||"").match(e)||[],n=i[i.length-1]||[],r=(n+"").match(Vr)||["-",0,0],s=+(60*r[1])+v(r[2]);return"+"===r[0]?s:-s}function Nt(t,i){var r,s;return i._isUTC?(r=i.clone(),s=(g(t)||n(t)?+t:+At(t))-+r,r._d.setTime(+r._d+s),e.updateOffset(r,!1),r):At(t).local()}function Lt(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function Ft(t,i){var n,r=this._offset||0;return this.isValid()?null!=t?("string"==typeof t?t=zt(vr,t):Math.abs(t)<16&&(t=60*t),!this._isUTC&&i&&(n=Lt(this)),this._offset=t,this._isUTC=!0,null!=n&&this.add(n,"m"),r!==t&&(!i||this._changeInProgress?ii(this,Qt(t-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?r:Lt(this):null!=t?this:0/0}function jt(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function Wt(e){return this.utcOffset(0,e)}function Bt(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Lt(this),"m")),this}function Ut(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(zt(mr,this._i)),this}function qt(e){return this.isValid()?(e=e?At(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function Yt(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Vt(){if(!h(this._isDSTShifted))return this._isDSTShifted;var e={};if(f(e,this),e=Dt(e),e._a){var t=e._isUTC?a(e._a):At(e._a);this._isDSTShifted=this.isValid()&&y(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Gt(){return this.isValid()?!this._isUTC:!1}function Kt(){return this.isValid()?this._isUTC:!1}function Xt(){return this.isValid()?this._isUTC&&0===this._offset:!1}function Qt(e,t){var i,n,r,o=e,a=null;return Ht(e)?o={ms:e._milliseconds,d:e._days,M:e._months}:"number"==typeof e?(o={},t?o[t]=e:o.milliseconds=e):(a=Gr.exec(e))?(i="-"===a[1]?-1:1,o={y:0,d:v(a[Cr])*i,h:v(a[Tr])*i,m:v(a[Sr])*i,s:v(a[Dr])*i,ms:v(a[Er])*i}):(a=Kr.exec(e))?(i="-"===a[1]?-1:1,o={y:Zt(a[2],i),M:Zt(a[3],i),d:Zt(a[4],i),h:Zt(a[5],i),m:Zt(a[6],i),s:Zt(a[7],i),w:Zt(a[8],i)}):null==o?o={}:"object"==typeof o&&("from"in o||"to"in o)&&(r=ei(At(o.from),At(o.to)),o={},o.ms=r.milliseconds,o.M=r.months),n=new Rt(o),Ht(e)&&s(e,"_locale")&&(n._locale=e._locale),n}function Zt(e,t){var i=e&&parseFloat(e.replace(",","."));return(isNaN(i)?0:i)*t}function Jt(e,t){var i={milliseconds:0,months:0};return i.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(i.months,"M").isAfter(t)&&--i.months,i.milliseconds=+t-+e.clone().add(i.months,"M"),i}function ei(e,t){var i;return e.isValid()&&t.isValid()?(t=Nt(t,e),e.isBefore(t)?i=Jt(e,t):(i=Jt(t,e),i.milliseconds=-i.milliseconds,i.months=-i.months),i):{milliseconds:0,months:0}}function ti(e,t){return function(i,n){var r,s;return null===n||isNaN(+n)||(ot(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period)."),s=i,i=n,n=s),i="string"==typeof i?+i:i,r=Qt(i,n),ii(this,r,e),this}}function ii(t,i,n,r){var s=i._milliseconds,o=i._days,a=i._months;t.isValid()&&(r=null==r?!0:r,s&&t._d.setTime(+t._d+s*n),o&&O(t,"Date",I(t,"Date")+o*n),a&&Q(t,I(t,"Month")+a*n),r&&e.updateOffset(t,o||a))}function ni(e,t){var i=e||At(),n=Nt(i,this).startOf("day"),r=this.diff(n,"days",!0),s=-6>r?"sameElse":-1>r?"lastWeek":0>r?"lastDay":1>r?"sameDay":2>r?"nextDay":7>r?"nextWeek":"sameElse",o=t&&(M(t[s])?t[s]():t[s]);return this.format(o||this.localeData().calendar(s,this,At(i)))}function ri(){return new p(this)}function si(e,t){var i=g(e)?e:At(e);return this.isValid()&&i.isValid()?(t=D(h(t)?"millisecond":t),"millisecond"===t?+this>+i:+i<+this.clone().startOf(t)):!1}function oi(e,t){var i=g(e)?e:At(e);return this.isValid()&&i.isValid()?(t=D(h(t)?"millisecond":t),"millisecond"===t?+i>+this:+this.clone().endOf(t)<+i):!1}function ai(e,t,i){return this.isAfter(e,i)&&this.isBefore(t,i)}function li(e,t){var i,n=g(e)?e:At(e);return this.isValid()&&n.isValid()?(t=D(t||"millisecond"),"millisecond"===t?+this===+n:(i=+n,+this.clone().startOf(t)<=i&&i<=+this.clone().endOf(t))):!1}function ci(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function ui(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function di(e,t,i){var n,r,s,o;return this.isValid()?(n=Nt(e,this),n.isValid()?(r=6e4*(n.utcOffset()-this.utcOffset()),t=D(t),"year"===t||"month"===t||"quarter"===t?(o=hi(this,n),"quarter"===t?o/=3:"year"===t&&(o/=12)):(s=this-n,o="second"===t?s/1e3:"minute"===t?s/6e4:"hour"===t?s/36e5:"day"===t?(s-r)/864e5:"week"===t?(s-r)/6048e5:s),i?o:m(o)):0/0):0/0}function hi(e,t){var i,n,r=12*(t.year()-e.year())+(t.month()-e.month()),s=e.clone().add(r,"months");return 0>t-s?(i=e.clone().add(r-1,"months"),n=(t-s)/(s-i)):(i=e.clone().add(r+1,"months"),n=(t-s)/(i-s)),-(r+n)}function fi(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function pi(){var e=this.clone().utc();return 0<e.year()&&e.year()<=9999?M(Date.prototype.toISOString)?this.toDate().toISOString():N(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):N(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function gi(t){var i=N(this,t||e.defaultFormat);return this.localeData().postformat(i)}function mi(e,t){return this.isValid()&&(g(e)&&e.isValid()||At(e).isValid())?Qt({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function vi(e){return this.from(At(),e)}function yi(e,t){return this.isValid()&&(g(e)&&e.isValid()||At(e).isValid())?Qt({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function bi(e){return this.to(At(),e)}function wi(e){var t;return void 0===e?this._locale._abbr:(t=T(e),null!=t&&(this._locale=t),this)}function xi(){return this._locale}function ki(e){switch(e=D(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this}function _i(e){return e=D(e),void 0===e||"millisecond"===e?this:this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms")}function Ci(){return+this._d-6e4*(this._offset||0)}function Ti(){return Math.floor(+this/1e3)}function Si(){return this._offset?new Date(+this):this._d}function Di(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function Ei(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function Mi(){return this.isValid()?this.toISOString():"null"}function Ai(){return u(this)}function Ii(){return o({},c(this))}function Oi(){return c(this).overflow}function $i(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Ri(e,t){H(0,[e,e.length],0,t)}function Hi(e){return Li.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Pi(e){return Li.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function zi(){return vt(this.year(),1,4)}function Ni(){var e=this.localeData()._week;return vt(this.year(),e.dow,e.doy)}function Li(e,t,i,n,r){var s;return null==e?mt(this,n,r).year:(s=vt(e,n,r),t>s&&(t=s),Fi.call(this,e,t,i,n,r))}function Fi(e,t,i,n,r){var s=gt(e,t,i,n,r),o=ut(s.year,0,s.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}function ji(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}function Wi(e){return mt(e,this._week.dow,this._week.doy).week}function Bi(){return this._week.dow}function Ui(){return this._week.doy}function qi(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function Yi(e){var t=mt(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function Vi(e,t){return"string"!=typeof e?e:isNaN(e)?(e=t.weekdaysParse(e),"number"==typeof e?e:null):parseInt(e,10)}function Gi(e,t){return i(this._weekdays)?this._weekdays[e.day()]:this._weekdays[this._weekdays.isFormat.test(t)?"format":"standalone"][e.day()]}function Ki(e){return this._weekdaysShort[e.day()]}function Xi(e){return this._weekdaysMin[e.day()]}function Qi(e,t,i){var n,r,s;for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),n=0;7>n;n++){if(r=At([2e3,1]).day(n),i&&!this._fullWeekdaysParse[n]&&(this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(r,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(r,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(r,"").replace(".",".?")+"$","i")),this._weekdaysParse[n]||(s="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[n]=new RegExp(s.replace(".",""),"i")),i&&"dddd"===t&&this._fullWeekdaysParse[n].test(e))return n;if(i&&"ddd"===t&&this._shortWeekdaysParse[n].test(e))return n;if(i&&"dd"===t&&this._minWeekdaysParse[n].test(e))return n;if(!i&&this._weekdaysParse[n].test(e))return n}}function Zi(e){if(!this.isValid())return null!=e?this:0/0;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=Vi(e,this.localeData()),this.add(e-t,"d")):t}function Ji(e){if(!this.isValid())return null!=e?this:0/0;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function en(e){return this.isValid()?null==e?this.day()||7:this.day(this.day()%7?e:e-7):null!=e?this:0/0}function tn(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}function nn(){return this.hours()%12||12}function rn(e,t){H(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function sn(e,t){return t._meridiemParse}function on(e){return"p"===(e+"").toLowerCase().charAt(0)}function an(e,t,i){return e>11?i?"pm":"PM":i?"am":"AM"}function ln(e,t){t[Er]=v(1e3*("0."+e))}function cn(){return this._isUTC?"UTC":""}function un(){return this._isUTC?"Coordinated Universal Time":""}function dn(e){return At(1e3*e)}function hn(){return At.apply(null,arguments).parseZone()}function fn(e,t,i){var n=this._calendar[e];return M(n)?n.call(t,i):n}function pn(e){var t=this._longDateFormat[e],i=this._longDateFormat[e.toUpperCase()];return t||!i?t:(this._longDateFormat[e]=i.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])}function gn(){return this._invalidDate}function mn(e){return this._ordinal.replace("%d",e)}function vn(e){return e}function yn(e,t,i,n){var r=this._relativeTime[i];return M(r)?r(e,t,i,n):r.replace(/%d/i,e)}function bn(e,t){var i=this._relativeTime[e>0?"future":"past"];return M(i)?i(t):i.replace(/%s/i,t)}function wn(e){var t,i;for(i in e)t=e[i],M(t)?this[i]=t:this["_"+i]=t;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function xn(e,t,i,n){var r=T(),s=a().set(n,t);return r[i](s,e)}function kn(e,t,i,n,r){if("number"==typeof e&&(t=e,e=void 0),e=e||"",null!=t)return xn(e,t,i,r);var s,o=[];for(s=0;n>s;s++)o[s]=xn(e,s,i,r);return o}function _n(e,t){return kn(e,t,"months",12,"month")}function Cn(e,t){return kn(e,t,"monthsShort",12,"month")}function Tn(e,t){return kn(e,t,"weekdays",7,"day")}function Sn(e,t){return kn(e,t,"weekdaysShort",7,"day")}function Dn(e,t){return kn(e,t,"weekdaysMin",7,"day")}function En(){var e=this._data;return this._milliseconds=bs(this._milliseconds),this._days=bs(this._days),this._months=bs(this._months),e.milliseconds=bs(e.milliseconds),e.seconds=bs(e.seconds),e.minutes=bs(e.minutes),e.hours=bs(e.hours),e.months=bs(e.months),e.years=bs(e.years),this}function Mn(e,t,i,n){var r=Qt(t,i);return e._milliseconds+=n*r._milliseconds,e._days+=n*r._days,e._months+=n*r._months,e._bubble()}function An(e,t){return Mn(this,e,t,1)}function In(e,t){return Mn(this,e,t,-1)}function On(e){return 0>e?Math.floor(e):Math.ceil(e)}function $n(){var e,t,i,n,r,s=this._milliseconds,o=this._days,a=this._months,l=this._data;return s>=0&&o>=0&&a>=0||0>=s&&0>=o&&0>=a||(s+=864e5*On(Hn(a)+o),o=0,a=0),l.milliseconds=s%1e3,e=m(s/1e3),l.seconds=e%60,t=m(e/60),l.minutes=t%60,i=m(t/60),l.hours=i%24,o+=m(i/24),r=m(Rn(o)),a+=r,o-=On(Hn(r)),n=m(a/12),a%=12,l.days=o,l.months=a,l.years=n,this}function Rn(e){return 4800*e/146097}function Hn(e){return 146097*e/4800}function Pn(e){var t,i,n=this._milliseconds;if(e=D(e),"month"===e||"year"===e)return t=this._days+n/864e5,i=this._months+Rn(t),"month"===e?i:i/12;switch(t=this._days+Math.round(Hn(this._months)),e){case"week":return t/7+n/6048e5;case"day":return t+n/864e5;case"hour":return 24*t+n/36e5;case"minute":return 1440*t+n/6e4;case"second":return 86400*t+n/1e3;case"millisecond":return Math.floor(864e5*t)+n;default:throw new Error("Unknown unit "+e)}}function zn(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*v(this._months/12)}function Nn(e){return function(){return this.as(e)}}function Ln(e){return e=D(e),this[e+"s"]()}function Fn(e){return function(){return this._data[e]}}function jn(){return m(this.days()/7)}function Wn(e,t,i,n,r){return r.relativeTime(t||1,!!i,e,n)}function Bn(e,t,i){var n=Qt(e).abs(),r=Hs(n.as("s")),s=Hs(n.as("m")),o=Hs(n.as("h")),a=Hs(n.as("d")),l=Hs(n.as("M")),c=Hs(n.as("y")),u=r<Ps.s&&["s",r]||1>=s&&["m"]||s<Ps.m&&["mm",s]||1>=o&&["h"]||o<Ps.h&&["hh",o]||1>=a&&["d"]||a<Ps.d&&["dd",a]||1>=l&&["M"]||l<Ps.M&&["MM",l]||1>=c&&["y"]||["yy",c];return u[2]=t,u[3]=+e>0,u[4]=i,Wn.apply(null,u)}function Un(e,t){return void 0===Ps[e]?!1:void 0===t?Ps[e]:(Ps[e]=t,!0)}function qn(e){var t=this.localeData(),i=Bn(this,!e,t);return e&&(i=t.pastFuture(+this,i)),t.postformat(i)}function Yn(){var e,t,i,n=zs(this._milliseconds)/1e3,r=zs(this._days),s=zs(this._months);e=m(n/60),t=m(e/60),n%=60,e%=60,i=m(s/12),s%=12;var o=i,a=s,l=r,c=t,u=e,d=n,h=this.asSeconds();return h?(0>h?"-":"")+"P"+(o?o+"Y":"")+(a?a+"M":"")+(l?l+"D":"")+(c||u||d?"T":"")+(c?c+"H":"")+(u?u+"M":"")+(d?d+"S":""):"P0D"}var Vn,Gn,Kn=e.momentProperties=[],Xn=!1,Qn={},Zn={},Jn=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,er=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,tr={},ir={},nr=/\d/,rr=/\d\d/,sr=/\d{3}/,or=/\d{4}/,ar=/[+-]?\d{6}/,lr=/\d\d?/,cr=/\d\d\d\d?/,ur=/\d\d\d\d\d\d?/,dr=/\d{1,3}/,hr=/\d{1,4}/,fr=/[+-]?\d{1,6}/,pr=/\d+/,gr=/[+-]?\d+/,mr=/Z|[+-]\d\d:?\d\d/gi,vr=/Z|[+-]\d\d(?::?\d\d)?/gi,yr=/[+-]?\d+(\.\d{1,3})?/,br=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,wr={},xr={},kr=0,_r=1,Cr=2,Tr=3,Sr=4,Dr=5,Er=6,Mr=7,Ar=8;H("M",["MM",2],"Mo",function(){return this.month()+1}),H("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),H("MMMM",0,0,function(e){return this.localeData().months(this,e)}),S("month","M"),F("M",lr),F("MM",lr,rr),F("MMM",function(e,t){return t.monthsShortRegex(e)}),F("MMMM",function(e,t){return t.monthsRegex(e)}),U(["M","MM"],function(e,t){t[_r]=v(e)-1}),U(["MMM","MMMM"],function(e,t,i,n){var r=i._locale.monthsParse(e,n,i._strict);null!=r?t[_r]=r:c(i).invalidMonth=e});var Ir=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/,Or="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),$r="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Rr=br,Hr=br,Pr={};e.suppressDeprecationWarnings=!1;var zr=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,Nr=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,Lr=/Z|[+-]\d\d(?::?\d\d)?/,Fr=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],jr=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Wr=/^\/?Date\((\-?\d+)/i;e.createFromInputFallback=st("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),H("Y",0,0,function(){var e=this.year();return 9999>=e?""+e:"+"+e}),H(0,["YY",2],0,function(){return this.year()%100}),H(0,["YYYY",4],0,"year"),H(0,["YYYYY",5],0,"year"),H(0,["YYYYYY",6,!0],0,"year"),S("year","y"),F("Y",gr),F("YY",lr,rr),F("YYYY",hr,or),F("YYYYY",fr,ar),F("YYYYYY",fr,ar),U(["YYYYY","YYYYYY"],kr),U("YYYY",function(t,i){i[kr]=2===t.length?e.parseTwoDigitYear(t):v(t)}),U("YY",function(t,i){i[kr]=e.parseTwoDigitYear(t)}),U("Y",function(e,t){t[kr]=parseInt(e,10)}),e.parseTwoDigitYear=function(e){return v(e)+(v(e)>68?1900:2e3)};var Br=A("FullYear",!1);e.ISO_8601=function(){};var Ur=st("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var e=At.apply(null,arguments);return this.isValid()&&e.isValid()?this>e?this:e:d()}),qr=st("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var e=At.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:d()}),Yr=function(){return Date.now?Date.now():+new Date};Pt("Z",":"),Pt("ZZ",""),F("Z",vr),F("ZZ",vr),U(["Z","ZZ"],function(e,t,i){i._useUTC=!0,i._tzm=zt(vr,e)});var Vr=/([\+\-]|\d\d)/gi;e.updateOffset=function(){};var Gr=/(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,Kr=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;Qt.fn=Rt.prototype;var Xr=ti(1,"add"),Qr=ti(-1,"subtract");e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";var Zr=st("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});H(0,["gg",2],0,function(){return this.weekYear()%100}),H(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Ri("gggg","weekYear"),Ri("ggggg","weekYear"),Ri("GGGG","isoWeekYear"),Ri("GGGGG","isoWeekYear"),S("weekYear","gg"),S("isoWeekYear","GG"),F("G",gr),F("g",gr),F("GG",lr,rr),F("gg",lr,rr),F("GGGG",hr,or),F("gggg",hr,or),F("GGGGG",fr,ar),F("ggggg",fr,ar),q(["gggg","ggggg","GGGG","GGGGG"],function(e,t,i,n){t[n.substr(0,2)]=v(e)}),q(["gg","GG"],function(t,i,n,r){i[r]=e.parseTwoDigitYear(t)}),H("Q",0,"Qo","quarter"),S("quarter","Q"),F("Q",nr),U("Q",function(e,t){t[_r]=3*(v(e)-1)}),H("w",["ww",2],"wo","week"),H("W",["WW",2],"Wo","isoWeek"),S("week","w"),S("isoWeek","W"),F("w",lr),F("ww",lr,rr),F("W",lr),F("WW",lr,rr),q(["w","ww","W","WW"],function(e,t,i,n){t[n.substr(0,1)]=v(e)});var Jr={dow:0,doy:6};H("D",["DD",2],"Do","date"),S("date","D"),F("D",lr),F("DD",lr,rr),F("Do",function(e,t){return e?t._ordinalParse:t._ordinalParseLenient}),U(["D","DD"],Cr),U("Do",function(e,t){t[Cr]=v(e.match(lr)[0],10)});var es=A("Date",!0);H("d",0,"do","day"),H("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),H("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),H("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),H("e",0,0,"weekday"),H("E",0,0,"isoWeekday"),S("day","d"),S("weekday","e"),S("isoWeekday","E"),F("d",lr),F("e",lr),F("E",lr),F("dd",br),F("ddd",br),F("dddd",br),q(["dd","ddd","dddd"],function(e,t,i,n){var r=i._locale.weekdaysParse(e,n,i._strict);null!=r?t.d=r:c(i).invalidWeekday=e}),q(["d","e","E"],function(e,t,i,n){t[n]=v(e)});var ts="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),is="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),ns="Su_Mo_Tu_We_Th_Fr_Sa".split("_");H("DDD",["DDDD",3],"DDDo","dayOfYear"),S("dayOfYear","DDD"),F("DDD",dr),F("DDDD",sr),U(["DDD","DDDD"],function(e,t,i){i._dayOfYear=v(e)}),H("H",["HH",2],0,"hour"),H("h",["hh",2],0,nn),H("hmm",0,0,function(){return""+nn.apply(this)+R(this.minutes(),2)}),H("hmmss",0,0,function(){return""+nn.apply(this)+R(this.minutes(),2)+R(this.seconds(),2)}),H("Hmm",0,0,function(){return""+this.hours()+R(this.minutes(),2)}),H("Hmmss",0,0,function(){return""+this.hours()+R(this.minutes(),2)+R(this.seconds(),2)}),rn("a",!0),rn("A",!1),S("hour","h"),F("a",sn),F("A",sn),F("H",lr),F("h",lr),F("HH",lr,rr),F("hh",lr,rr),F("hmm",cr),F("hmmss",ur),F("Hmm",cr),F("Hmmss",ur),U(["H","HH"],Tr),U(["a","A"],function(e,t,i){i._isPm=i._locale.isPM(e),i._meridiem=e}),U(["h","hh"],function(e,t,i){t[Tr]=v(e),c(i).bigHour=!0}),U("hmm",function(e,t,i){var n=e.length-2;t[Tr]=v(e.substr(0,n)),t[Sr]=v(e.substr(n)),c(i).bigHour=!0}),U("hmmss",function(e,t,i){var n=e.length-4,r=e.length-2;t[Tr]=v(e.substr(0,n)),t[Sr]=v(e.substr(n,2)),t[Dr]=v(e.substr(r)),c(i).bigHour=!0}),U("Hmm",function(e,t){var i=e.length-2;t[Tr]=v(e.substr(0,i)),t[Sr]=v(e.substr(i))}),U("Hmmss",function(e,t){var i=e.length-4,n=e.length-2;t[Tr]=v(e.substr(0,i)),t[Sr]=v(e.substr(i,2)),t[Dr]=v(e.substr(n))});var rs=/[ap]\.?m?\.?/i,ss=A("Hours",!0);H("m",["mm",2],0,"minute"),S("minute","m"),F("m",lr),F("mm",lr,rr),U(["m","mm"],Sr);var os=A("Minutes",!1);H("s",["ss",2],0,"second"),S("second","s"),F("s",lr),F("ss",lr,rr),U(["s","ss"],Dr);var as=A("Seconds",!1);H("S",0,0,function(){return~~(this.millisecond()/100)}),H(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),H(0,["SSS",3],0,"millisecond"),H(0,["SSSS",4],0,function(){return 10*this.millisecond()}),H(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),H(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),H(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),H(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),H(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),S("millisecond","ms"),F("S",dr,nr),F("SS",dr,rr),F("SSS",dr,sr);var ls;for(ls="SSSS";ls.length<=9;ls+="S")F(ls,pr);for(ls="S";ls.length<=9;ls+="S")U(ls,ln);var cs=A("Milliseconds",!1);H("z",0,0,"zoneAbbr"),H("zz",0,0,"zoneName");var us=p.prototype;us.add=Xr,us.calendar=ni,us.clone=ri,us.diff=di,us.endOf=_i,us.format=gi,us.from=mi,us.fromNow=vi,us.to=yi,us.toNow=bi,us.get=$,us.invalidAt=Oi,us.isAfter=si,us.isBefore=oi,us.isBetween=ai,us.isSame=li,us.isSameOrAfter=ci,us.isSameOrBefore=ui,us.isValid=Ai,us.lang=Zr,us.locale=wi,us.localeData=xi,us.max=qr,us.min=Ur,us.parsingFlags=Ii,us.set=$,us.startOf=ki,us.subtract=Qr,us.toArray=Di,us.toObject=Ei,us.toDate=Si,us.toISOString=pi,us.toJSON=Mi,us.toString=fi,us.unix=Ti,us.valueOf=Ci,us.creationData=$i,us.year=Br,us.isLeapYear=ft,us.weekYear=Hi,us.isoWeekYear=Pi,us.quarter=us.quarters=ji,us.month=Z,us.daysInMonth=J,us.week=us.weeks=qi,us.isoWeek=us.isoWeeks=Yi,us.weeksInYear=Ni,us.isoWeeksInYear=zi,us.date=es,us.day=us.days=Zi,us.weekday=Ji,us.isoWeekday=en,us.dayOfYear=tn,us.hour=us.hours=ss,us.minute=us.minutes=os,us.second=us.seconds=as,us.millisecond=us.milliseconds=cs,us.utcOffset=Ft,us.utc=Wt,us.local=Bt,us.parseZone=Ut,us.hasAlignedHourOffset=qt,us.isDST=Yt,us.isDSTShifted=Vt,us.isLocal=Gt,us.isUtcOffset=Kt,us.isUtc=Xt,us.isUTC=Xt,us.zoneAbbr=cn,us.zoneName=un,us.dates=st("dates accessor is deprecated. Use date instead.",es),us.months=st("months accessor is deprecated. Use month instead",Z),us.years=st("years accessor is deprecated. Use year instead",Br),us.zone=st("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",jt);var ds=us,hs={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},fs={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},ps="Invalid date",gs="%d",ms=/\d{1,2}/,vs={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ys=b.prototype;ys._calendar=hs,ys.calendar=fn,ys._longDateFormat=fs,ys.longDateFormat=pn,ys._invalidDate=ps,ys.invalidDate=gn,ys._ordinal=gs,ys.ordinal=mn,ys._ordinalParse=ms,ys.preparse=vn,ys.postformat=vn,ys._relativeTime=vs,ys.relativeTime=yn,ys.pastFuture=bn,ys.set=wn,ys.months=G,ys._months=Or,ys.monthsShort=K,ys._monthsShort=$r,ys.monthsParse=X,ys._monthsRegex=Hr,ys.monthsRegex=tt,ys._monthsShortRegex=Rr,ys.monthsShortRegex=et,ys.week=Wi,ys._week=Jr,ys.firstDayOfYear=Ui,ys.firstDayOfWeek=Bi,ys.weekdays=Gi,ys._weekdays=ts,ys.weekdaysMin=Xi,ys._weekdaysMin=ns,ys.weekdaysShort=Ki,ys._weekdaysShort=is,ys.weekdaysParse=Qi,ys.isPM=on,ys._meridiemParse=rs,ys.meridiem=an,_("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,i=1===v(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+i}}),e.lang=st("moment.lang is deprecated. Use moment.locale instead.",_),e.langData=st("moment.langData is deprecated. Use moment.localeData instead.",T);var bs=Math.abs,ws=Nn("ms"),xs=Nn("s"),ks=Nn("m"),_s=Nn("h"),Cs=Nn("d"),Ts=Nn("w"),Ss=Nn("M"),Ds=Nn("y"),Es=Fn("milliseconds"),Ms=Fn("seconds"),As=Fn("minutes"),Is=Fn("hours"),Os=Fn("days"),$s=Fn("months"),Rs=Fn("years"),Hs=Math.round,Ps={s:45,m:45,h:22,d:26,M:11},zs=Math.abs,Ns=Rt.prototype;Ns.abs=En,Ns.add=An,Ns.subtract=In,Ns.as=Pn,Ns.asMilliseconds=ws,Ns.asSeconds=xs,Ns.asMinutes=ks,Ns.asHours=_s,Ns.asDays=Cs,Ns.asWeeks=Ts,Ns.asMonths=Ss,Ns.asYears=Ds,Ns.valueOf=zn,Ns._bubble=$n,Ns.get=Ln,Ns.milliseconds=Es,Ns.seconds=Ms,Ns.minutes=As,Ns.hours=Is,Ns.days=Os,Ns.weeks=jn,Ns.months=$s,Ns.years=Rs,Ns.humanize=qn,Ns.toISOString=Yn,Ns.toString=Yn,Ns.toJSON=Yn,Ns.locale=wi,Ns.localeData=xi,Ns.toIsoString=st("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Yn),Ns.lang=Zr,H("X",0,0,"unix"),H("x",0,0,"valueOf"),F("x",gr),F("X",yr),U("X",function(e,t,i){i._d=new Date(1e3*parseFloat(e,10))}),U("x",function(e,t,i){i._d=new Date(v(e))}),e.version="2.11.1",t(At),e.fn=ds,e.min=Ot,e.max=$t,e.now=Yr,e.utc=a,e.unix=dn,e.months=_n,e.isDate=n,e.locale=_,e.invalid=d,e.duration=Qt,e.isMoment=g,e.weekdays=Tn,e.parseZone=hn,e.localeData=T,e.isDuration=Ht,e.monthsShort=Cn,e.weekdaysMin=Dn,e.defineLocale=C,e.weekdaysShort=Sn,e.normalizeUnits=D,e.relativeTimeThreshold=Un,e.prototype=ds;var Ls=e;return Ls}),function(e){"function"==typeof define&&define.amd?define(["jquery","moment"],e):"object"==typeof exports?module.exports=e(require("jquery"),require("moment")):e(jQuery,moment)}(function(e,t){function i(e){return G(e,Xt)}function n(t){var i,n={views:t.views||{}};return e.each(t,function(t,r){"views"!=t&&(e.isPlainObject(r)&&!/(time|duration|interval)$/i.test(t)&&-1==e.inArray(t,Xt)?(i=null,e.each(r,function(e,r){/^(month|week|day|default|basic(Week|Day)?|agenda(Week|Day)?)$/.test(e)?(n.views[e]||(n.views[e]={}),n.views[e][t]=r):(i||(i={}),i[e]=r)}),i&&(n[t]=i)):n[t]=r)}),n}function r(e,t){t.left&&e.css({"border-left-width":1,"margin-left":t.left-1}),t.right&&e.css({"border-right-width":1,"margin-right":t.right-1})}function s(e){e.css({"margin-left":"","margin-right":"","border-left-width":"","border-right-width":""})}function o(){e("body").addClass("fc-not-allowed")}function a(){e("body").removeClass("fc-not-allowed")}function l(t,i,n){var r=Math.floor(i/t.length),s=Math.floor(i-r*(t.length-1)),o=[],a=[],l=[],u=0;c(t),t.each(function(i,n){var c=i===t.length-1?s:r,d=e(n).outerHeight(!0);c>d?(o.push(n),a.push(d),l.push(e(n).height())):u+=d}),n&&(i-=u,r=Math.floor(i/o.length),s=Math.floor(i-r*(o.length-1))),e(o).each(function(t,i){var n=t===o.length-1?s:r,c=a[t],u=l[t],d=n-(c-u);n>c&&e(i).height(d)})}function c(e){e.height("")}function u(t){var i=0;return t.find("> span").each(function(t,n){var r=e(n).outerWidth();r>i&&(i=r)}),i++,t.width(i),i}function d(e,t){var i,n=e.add(t);return n.css({position:"relative",left:-1}),i=e.outerHeight()-t.outerHeight(),n.css({position:"",left:""}),i}function h(t){var i=t.css("position"),n=t.parents().filter(function(){var t=e(this);return/(auto|scroll)/.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==i&&n.length?n:e(t[0].ownerDocument||document)}function f(e,t){var i=e.offset(),n=i.left-(t?t.left:0),r=i.top-(t?t.top:0);return{left:n,right:n+e.outerWidth(),top:r,bottom:r+e.outerHeight()}}function p(e,t){var i=e.offset(),n=m(e),r=i.left+b(e,"border-left-width")+n.left-(t?t.left:0),s=i.top+b(e,"border-top-width")+n.top-(t?t.top:0);return{left:r,right:r+e[0].clientWidth,top:s,bottom:s+e[0].clientHeight}}function g(e,t){var i=e.offset(),n=i.left+b(e,"border-left-width")+b(e,"padding-left")-(t?t.left:0),r=i.top+b(e,"border-top-width")+b(e,"padding-top")-(t?t.top:0);return{left:n,right:n+e.width(),top:r,bottom:r+e.height()}}function m(e){var t=e.innerWidth()-e[0].clientWidth,i={left:0,right:0,top:0,bottom:e.innerHeight()-e[0].clientHeight};return v()&&"rtl"==e.css("direction")?i.left=t:i.right=t,i}function v(){return null===Qt&&(Qt=y()),Qt}function y(){var t=e("<div><div/></div>").css({position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}).appendTo("body"),i=t.children(),n=i.offset().left>t.offset().left;return t.remove(),n}function b(e,t){return parseFloat(e.css(t))||0}function w(e){return 1==e.which&&!e.ctrlKey}function x(e){if(void 0!==e.pageX)return e.pageX;var t=e.originalEvent.touches;return t?t[0].pageX:void 0}function k(e){if(void 0!==e.pageY)return e.pageY;var t=e.originalEvent.touches;return t?t[0].pageY:void 0}function _(e){return/^touch/.test(e.type)}function C(e){e.addClass("fc-unselectable").on("selectstart",T)}function T(e){e.preventDefault()}function S(e){return window.addEventListener?(window.addEventListener("scroll",e,!0),!0):!1}function D(e){return window.removeEventListener?(window.removeEventListener("scroll",e,!0),!0):!1}function E(e,t){var i={left:Math.max(e.left,t.left),right:Math.min(e.right,t.right),top:Math.max(e.top,t.top),bottom:Math.min(e.bottom,t.bottom)};return i.left<i.right&&i.top<i.bottom?i:!1}function M(e,t){return{left:Math.min(Math.max(e.left,t.left),t.right),top:Math.min(Math.max(e.top,t.top),t.bottom)}}function A(e){return{left:(e.left+e.right)/2,top:(e.top+e.bottom)/2}}function I(e,t){return{left:e.left-t.left,top:e.top-t.top}}function O(t){var i,n,r=[],s=[];for("string"==typeof t?s=t.split(/\s*,\s*/):"function"==typeof t?s=[t]:e.isArray(t)&&(s=t),i=0;i<s.length;i++)n=s[i],"string"==typeof n?r.push("-"==n.charAt(0)?{field:n.substring(1),order:-1}:{field:n,order:1}):"function"==typeof n&&r.push({func:n});return r}function $(e,t,i){var n,r;for(n=0;n<i.length;n++)if(r=R(e,t,i[n]))return r;return 0}function R(e,t,i){return i.func?i.func(e,t):H(e[i.field],t[i.field])*(i.order||1)}function H(t,i){return t||i?null==i?-1:null==t?1:"string"===e.type(t)||"string"===e.type(i)?String(t).localeCompare(String(i)):t-i:0}function P(e,t){var i,n,r,s,o=e.start,a=e.end,l=t.start,c=t.end;return a>l&&c>o?(o>=l?(i=o.clone(),r=!0):(i=l.clone(),r=!1),c>=a?(n=a.clone(),s=!0):(n=c.clone(),s=!1),{start:i,end:n,isStart:r,isEnd:s}):void 0}function z(e,i){return t.duration({days:e.clone().stripTime().diff(i.clone().stripTime(),"days"),ms:e.time()-i.time()})}function N(e,i){return t.duration({days:e.clone().stripTime().diff(i.clone().stripTime(),"days")})}function L(e,i,n){return t.duration(Math.round(e.diff(i,n,!0)),n)}function F(e,t){var i,n,r;for(i=0;i<Jt.length&&(n=Jt[i],r=j(n,e,t),!(r>=1&&at(r)));i++);return n}function j(e,i,n){return null!=n?n.diff(i,e,!0):t.isDuration(i)?i.as(e):i.end.diff(i.start,e,!0)}function W(e,t,i){var n;return q(i)?(t-e)/i:(n=i.asMonths(),Math.abs(n)>=1&&at(n)?t.diff(e,"months",!0)/n:t.diff(e,"days",!0)/i.asDays())}function B(e,t){var i,n;return q(e)||q(t)?e/t:(i=e.asMonths(),n=t.asMonths(),Math.abs(i)>=1&&at(i)&&Math.abs(n)>=1&&at(n)?i/n:e.asDays()/t.asDays())
}function U(e,i){var n;return q(e)?t.duration(e*i):(n=e.asMonths(),t.duration(Math.abs(n)>=1&&at(n)?{months:n*i}:{days:e.asDays()*i}))}function q(e){return Boolean(e.hours()||e.minutes()||e.seconds()||e.milliseconds())}function Y(e){return"[object Date]"===Object.prototype.toString.call(e)||e instanceof Date}function V(e){return/^\d+\:\d+(?:\:\d+\.?(?:\d{3})?)?$/.test(e)}function G(e,t){var i,n,r,s,o,a,l={};if(t)for(i=0;i<t.length;i++){for(n=t[i],r=[],s=e.length-1;s>=0;s--)if(o=e[s][n],"object"==typeof o)r.unshift(o);else if(void 0!==o){l[n]=o;break}r.length&&(l[n]=G(r))}for(i=e.length-1;i>=0;i--){a=e[i];for(n in a)n in l||(l[n]=a[n])}return l}function K(e){var t=function(){};return t.prototype=e,new t}function X(e,t){for(var i in e)Z(e,i)&&(t[i]=e[i])}function Q(e,t){var i,n,r=["constructor","toString","valueOf"];for(i=0;i<r.length;i++)n=r[i],e[n]!==Object.prototype[n]&&(t[n]=e[n])}function Z(e,t){return ni.call(e,t)}function J(t){return/undefined|null|boolean|number|string/.test(e.type(t))}function et(t,i,n){if(e.isFunction(t)&&(t=[t]),t){var r,s;for(r=0;r<t.length;r++)s=t[r].apply(i,n)||s;return s}}function tt(){for(var e=0;e<arguments.length;e++)if(void 0!==arguments[e])return arguments[e]}function it(e){return(e+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function nt(e){return e.replace(/&.*?;/g,"")}function rt(t){var i=[];return e.each(t,function(e,t){null!=t&&i.push(e+":"+t)}),i.join(";")}function st(e){return e.charAt(0).toUpperCase()+e.slice(1)}function ot(e,t){return e-t}function at(e){return e%1===0}function lt(e,t){var i=e[t];return function(){return i.apply(e,arguments)}}function ct(e,t,i){var n,r,s,o,a,l=function(){var c=+new Date-o;t>c?n=setTimeout(l,t-c):(n=null,i||(a=e.apply(s,r),s=r=null))};return function(){s=this,r=arguments,o=+new Date;var c=i&&!n;return n||(n=setTimeout(l,t)),c&&(a=e.apply(s,r),s=r=null),a}}function ut(t,i){return t&&t.then&&"resolved"!==t.state()?i?t.then(i):void 0:e.when(i())}function dt(i,n,r){var s,o,a,l,c=i[0],u=1==i.length&&"string"==typeof c;return t.isMoment(c)?(l=t.apply(null,i),ft(c,l)):Y(c)||void 0===c?l=t.apply(null,i):(s=!1,o=!1,u?ri.test(c)?(c+="-01",i=[c],s=!0,o=!0):(a=si.exec(c))&&(s=!a[5],o=!0):e.isArray(c)&&(o=!0),l=n||s?t.utc.apply(t,i):t.apply(null,i),s?(l._ambigTime=!0,l._ambigZone=!0):r&&(o?l._ambigZone=!0:u&&(l.utcOffset?l.utcOffset(c):l.zone(c)))),l._fullCalendar=!0,l}function ht(e,i){var n,r,s=!1,o=!1,a=e.length,l=[];for(n=0;a>n;n++)r=e[n],t.isMoment(r)||(r=Gt.moment.parseZone(r)),s=s||r._ambigTime,o=o||r._ambigZone,l.push(r);for(n=0;a>n;n++)r=l[n],i||!s||r._ambigTime?o&&!r._ambigZone&&(l[n]=r.clone().stripZone()):l[n]=r.clone().stripTime();return l}function ft(e,t){e._ambigTime?t._ambigTime=!0:t._ambigTime&&(t._ambigTime=!1),e._ambigZone?t._ambigZone=!0:t._ambigZone&&(t._ambigZone=!1)}function pt(e,t){e.year(t[0]||0).month(t[1]||0).date(t[2]||0).hours(t[3]||0).minutes(t[4]||0).seconds(t[5]||0).milliseconds(t[6]||0)}function gt(e,t){return ai.format.call(e,t)}function mt(e,t){return vt(e,kt(t))}function vt(e,t){var i,n="";for(i=0;i<t.length;i++)n+=yt(e,t[i]);return n}function yt(e,t){var i,n;return"string"==typeof t?t:(i=t.token)?li[i]?li[i](e):gt(e,i):t.maybe&&(n=vt(e,t.maybe),n.match(/[1-9]/))?n:""}function bt(e,t,i,n,r){var s;return e=Gt.moment.parseZone(e),t=Gt.moment.parseZone(t),s=(e.localeData||e.lang).call(e),i=s.longDateFormat(i)||i,n=n||" - ",wt(e,t,kt(i),n,r)}function wt(e,t,i,n,r){var s,o,a,l,c=e.clone().stripZone(),u=t.clone().stripZone(),d="",h="",f="",p="",g="";for(o=0;o<i.length&&(s=xt(e,t,c,u,i[o]),s!==!1);o++)d+=s;for(a=i.length-1;a>o&&(s=xt(e,t,c,u,i[a]),s!==!1);a--)h=s+h;for(l=o;a>=l;l++)f+=yt(e,i[l]),p+=yt(t,i[l]);return(f||p)&&(g=r?p+n+f:f+n+p),d+g+h}function xt(e,t,i,n,r){var s,o;return"string"==typeof r?r:(s=r.token)&&(o=ci[s.charAt(0)],o&&i.isSame(n,o))?gt(e,s):!1}function kt(e){return e in ui?ui[e]:ui[e]=_t(e)}function _t(e){for(var t,i=[],n=/\[([^\]]*)\]|\(([^\)]*)\)|(LTS|LT|(\w)\4*o?)|([^\w\[\(]+)/g;t=n.exec(e);)t[1]?i.push(t[1]):t[2]?i.push({maybe:_t(t[2])}):t[3]?i.push({token:t[3]}):t[5]&&i.push(t[5]);return i}function Ct(){}function Tt(e,t){var i;return Z(t,"constructor")&&(i=t.constructor),"function"!=typeof i&&(i=t.constructor=function(){e.apply(this,arguments)}),i.prototype=K(e.prototype),X(t,i.prototype),Q(t,i.prototype),X(e,i),i}function St(e,t){X(t,e.prototype)}function Dt(e,t){return e||t?e&&t?e.component===t.component&&Et(e,t)&&Et(t,e):!1:!0}function Et(e,t){for(var i in e)if(!/^(component|left|right|top|bottom)$/.test(i)&&e[i]!==t[i])return!1;return!0}function Mt(e){var t=It(e);return"background"===t||"inverse-background"===t}function At(e){return"inverse-background"===It(e)}function It(e){return tt((e.source||{}).rendering,e.rendering)}function Ot(e){var t,i,n={};for(t=0;t<e.length;t++)i=e[t],(n[i._id]||(n[i._id]=[])).push(i);return n}function $t(e,t){return e.start-t.start}function Rt(i){var n,r,s,o,a=Gt.dataAttrPrefix;return a&&(a+="-"),n=i.data(a+"event")||null,n&&(n="object"==typeof n?e.extend({},n):{},r=n.start,null==r&&(r=n.time),s=n.duration,o=n.stick,delete n.start,delete n.time,delete n.duration,delete n.stick),null==r&&(r=i.data(a+"start")),null==r&&(r=i.data(a+"time")),null==s&&(s=i.data(a+"duration")),null==o&&(o=i.data(a+"stick")),r=null!=r?t.duration(r):null,s=null!=s?t.duration(s):null,o=Boolean(o),{eventProps:n,startTime:r,duration:s,stick:o}}function Ht(e,t){var i,n;for(i=0;i<t.length;i++)if(n=t[i],n.leftCol<=e.rightCol&&n.rightCol>=e.leftCol)return!0;return!1}function Pt(e,t){return e.leftCol-t.leftCol}function zt(e){var t,i,n,r=[];for(t=0;t<e.length;t++){for(i=e[t],n=0;n<r.length&&Ft(i,r[n]).length;n++);i.level=n,(r[n]||(r[n]=[])).push(i)}return r}function Nt(e){var t,i,n,r,s;for(t=0;t<e.length;t++)for(i=e[t],n=0;n<i.length;n++)for(r=i[n],r.forwardSegs=[],s=t+1;s<e.length;s++)Ft(r,e[s],r.forwardSegs)}function Lt(e){var t,i,n=e.forwardSegs,r=0;if(void 0===e.forwardPressure){for(t=0;t<n.length;t++)i=n[t],Lt(i),r=Math.max(r,1+i.forwardPressure);e.forwardPressure=r}}function Ft(e,t,i){i=i||[];for(var n=0;n<t.length;n++)jt(e,t[n])&&i.push(t[n]);return i}function jt(e,t){return e.bottom>t.top&&e.top<t.bottom}function Wt(i,n){function r(){q?a()&&(u(),l()):s()}function s(){Y=F.theme?"ui":"fc",i.addClass("fc"),i.addClass(F.isRTL?"fc-rtl":"fc-ltr"),i.addClass(F.theme?"ui-widget":"fc-unthemed"),q=e("<div class='fc-view-container'/>").prependTo(i),B=L.header=new qt(L,F),U=B.render(),U&&i.prepend(U),l(F.defaultView),F.handleWindowResize&&(X=ct(h,F.windowResizeDelay),e(window).resize(X))}function o(){V&&V.removeElement(),B.removeElement(),q.remove(),i.removeClass("fc fc-ltr fc-rtl fc-unthemed ui-widget"),X&&e(window).unbind("resize",X)}function a(){return i.is(":visible")}function l(t){nt++,V&&t&&V.type!==t&&(B.deactivateButton(V.type),$(),V.removeElement(),V=L.view=null),!V&&t&&(V=L.view=it[t]||(it[t]=L.instantiateView(t)),V.setElement(e("<div class='fc-view fc-"+t+"-view' />").appendTo(q)),B.activateButton(t)),V&&(Q=V.massageCurrentDate(Q),V.displaying&&Q.isWithin(V.intervalStart,V.intervalEnd)||a()&&(V.display(Q),R(),w(),x(),m())),R(),nt--}function c(e){return a()?(e&&d(),nt++,V.updateSize(!0),nt--,!0):void 0}function u(){a()&&d()}function d(){G="number"==typeof F.contentHeight?F.contentHeight:"number"==typeof F.height?F.height-(U?U.outerHeight(!0):0):Math.round(q.width()/Math.max(F.aspectRatio,.5))}function h(e){!nt&&e.target===window&&V.start&&c(!0)&&V.trigger("windowResize",tt)}function f(){v()}function p(e){et(L.getEventSourcesByMatchArray(e))}function g(){a()&&($(),V.displayEvents(rt),R())}function m(){!F.lazyFetching||Z(V.start,V.end)?v():g()}function v(){J(V.start,V.end)}function y(e){rt=e,g()}function b(){g()}function w(){B.updateTitle(V.title)}function x(){var e=L.getNow();e.isWithin(V.intervalStart,V.intervalEnd)?B.disableButton("today"):B.enableButton("today")}function k(){V.select(L.buildSelectSpan.apply(L,arguments))}function _(){V&&V.unselect()}function C(){Q=V.computePrevDate(Q),l()}function T(){Q=V.computeNextDate(Q),l()}function S(){Q.add(-1,"years"),l()}function D(){Q.add(1,"years"),l()}function E(){Q=L.getNow(),l()}function M(e){Q=L.moment(e).stripZone(),l()}function A(e){Q.add(t.duration(e)),l()}function I(e,t){var i;t=t||"day",i=L.getViewSpec(t)||L.getUnitViewSpec(t),Q=e.clone(),l(i?i.type:null)}function O(){return L.applyTimezone(Q)}function $(){q.css({width:"100%",height:q.height(),overflow:"hidden"})}function R(){q.css({width:"",height:"",overflow:""})}function H(){return L}function P(){return V}function z(e,t){return void 0===t?F[e]:void(("height"==e||"contentHeight"==e||"aspectRatio"==e)&&(F[e]=t,c(!0)))}function N(e,t){var i=Array.prototype.slice.call(arguments,2);return t=t||tt,this.triggerWith(e,t,i),F[e]?F[e].apply(t,i):void 0}var L=this;L.initOptions(n||{});var F=this.options;L.render=r,L.destroy=o,L.refetchEvents=f,L.refetchEventSources=p,L.reportEvents=y,L.reportEventChange=b,L.rerenderEvents=g,L.changeView=l,L.select=k,L.unselect=_,L.prev=C,L.next=T,L.prevYear=S,L.nextYear=D,L.today=E,L.gotoDate=M,L.incrementDate=A,L.zoomTo=I,L.getDate=O,L.getCalendar=H,L.getView=P,L.option=z,L.trigger=N;var j=K(Ut(F.lang));if(F.monthNames&&(j._months=F.monthNames),F.monthNamesShort&&(j._monthsShort=F.monthNamesShort),F.dayNames&&(j._weekdays=F.dayNames),F.dayNamesShort&&(j._weekdaysShort=F.dayNamesShort),null!=F.firstDay){var W=K(j._week);W.dow=F.firstDay,j._week=W}j._fullCalendar_weekCalc=function(e){return"function"==typeof e?e:"local"===e?e:"iso"===e||"ISO"===e?"ISO":void 0}(F.weekNumberCalculation),L.defaultAllDayEventDuration=t.duration(F.defaultAllDayEventDuration),L.defaultTimedEventDuration=t.duration(F.defaultTimedEventDuration),L.moment=function(){var e;return"local"===F.timezone?(e=Gt.moment.apply(null,arguments),e.hasTime()&&e.local()):e="UTC"===F.timezone?Gt.moment.utc.apply(null,arguments):Gt.moment.parseZone.apply(null,arguments),"_locale"in e?e._locale=j:e._lang=j,e},L.getIsAmbigTimezone=function(){return"local"!==F.timezone&&"UTC"!==F.timezone},L.applyTimezone=function(e){if(!e.hasTime())return e.clone();var t,i=L.moment(e.toArray()),n=e.time()-i.time();return n&&(t=i.clone().add(n),e.time()-t.time()===0&&(i=t)),i},L.getNow=function(){var e=F.now;return"function"==typeof e&&(e=e()),L.moment(e).stripZone()},L.getEventEnd=function(e){return e.end?e.end.clone():L.getDefaultEventEnd(e.allDay,e.start)},L.getDefaultEventEnd=function(e,t){var i=t.clone();return e?i.stripTime().add(L.defaultAllDayEventDuration):i.add(L.defaultTimedEventDuration),L.getIsAmbigTimezone()&&i.stripZone(),i},L.humanizeDuration=function(e){return(e.locale||e.lang).call(e,F.lang).humanize()},Yt.call(L,F);var B,U,q,Y,V,G,X,Q,Z=L.isFetchNeeded,J=L.fetchEvents,et=L.fetchEventSources,tt=i[0],it={},nt=0,rt=[];Q=null!=F.defaultDate?L.moment(F.defaultDate).stripZone():L.getNow(),L.getSuggestedViewHeight=function(){return void 0===G&&u(),G},L.isHeightAuto=function(){return"auto"===F.contentHeight||"auto"===F.height},L.freezeContentHeight=$,L.unfreezeContentHeight=R,L.initialize()}function Bt(t){e.each(Mi,function(e,i){null==t[e]&&(t[e]=i(t))})}function Ut(e){var i=t.localeData||t.langData;return i.call(t,e)||i.call(t,"en")}function qt(t,i){function n(){var t=i.header;return f=i.theme?"ui":"fc",t?p=e("<div class='fc-toolbar'/>").append(s("left")).append(s("right")).append(s("center")).append('<div class="fc-clear"/>'):void 0}function r(){p.remove(),p=e()}function s(n){var r=e('<div class="fc-'+n+'"/>'),s=i.header[n];return s&&e.each(s.split(" "),function(){var n,s=e(),o=!0;e.each(this.split(","),function(n,r){var a,l,c,u,d,h,p,m,v,y;"title"==r?(s=s.add(e("<h2>&nbsp;</h2>")),o=!1):((a=(t.options.customButtons||{})[r])?(c=function(e){a.click&&a.click.call(y[0],e)},u="",d=a.text):(l=t.getViewSpec(r))?(c=function(){t.changeView(r)},g.push(r),u=l.buttonTextOverride,d=l.buttonTextDefault):t[r]&&(c=function(){t[r]()},u=(t.overrides.buttonText||{})[r],d=i.buttonText[r]),c&&(h=a?a.themeIcon:i.themeButtonIcons[r],p=a?a.icon:i.buttonIcons[r],m=u?it(u):h&&i.theme?"<span class='ui-icon ui-icon-"+h+"'></span>":p&&!i.theme?"<span class='fc-icon fc-icon-"+p+"'></span>":it(d),v=["fc-"+r+"-button",f+"-button",f+"-state-default"],y=e('<button type="button" class="'+v.join(" ")+'">'+m+"</button>").click(function(e){y.hasClass(f+"-state-disabled")||(c(e),(y.hasClass(f+"-state-active")||y.hasClass(f+"-state-disabled"))&&y.removeClass(f+"-state-hover"))}).mousedown(function(){y.not("."+f+"-state-active").not("."+f+"-state-disabled").addClass(f+"-state-down")}).mouseup(function(){y.removeClass(f+"-state-down")}).hover(function(){y.not("."+f+"-state-active").not("."+f+"-state-disabled").addClass(f+"-state-hover")},function(){y.removeClass(f+"-state-hover").removeClass(f+"-state-down")}),s=s.add(y)))}),o&&s.first().addClass(f+"-corner-left").end().last().addClass(f+"-corner-right").end(),s.length>1?(n=e("<div/>"),o&&n.addClass("fc-button-group"),n.append(s),r.append(n)):r.append(s)}),r}function o(e){p.find("h2").text(e)}function a(e){p.find(".fc-"+e+"-button").addClass(f+"-state-active")}function l(e){p.find(".fc-"+e+"-button").removeClass(f+"-state-active")}function c(e){p.find(".fc-"+e+"-button").prop("disabled",!0).addClass(f+"-state-disabled")}function u(e){p.find(".fc-"+e+"-button").prop("disabled",!1).removeClass(f+"-state-disabled")}function d(){return g}var h=this;h.render=n,h.removeElement=r,h.updateTitle=o,h.activateButton=a,h.deactivateButton=l,h.disableButton=c,h.enableButton=u,h.getViewsWithButtons=d;var f,p=e(),g=[]}function Yt(i){function n(e,t){return!G||G>e||t>K}function r(e,t){G=e,K=t,s(Z,"reset")}function s(e,t){var i,n;for("reset"===t?nt=[]:"add"!==t&&(nt=x(nt,e)),i=0;i<e.length;i++)n=e[i],"pending"!==n._status&&it++,n._fetchId=(n._fetchId||0)+1,n._status="pending";for(i=0;i<e.length;i++)n=e[i],o(n,n._fetchId)}function o(t,i){c(t,function(n){var r,s,o,a=e.isArray(t.events);if(i===t._fetchId&&"rejected"!==t._status){if(t._status="resolved",n)for(r=0;r<n.length;r++)s=n[r],o=a?s:E(s,t),o&&nt.push.apply(nt,O(o));l()}})}function a(e){var t="pending"===e._status;e._status="rejected",t&&l()}function l(){it--,it||X(nt)}function c(t,n){var r,s,o=Gt.sourceFetchers;for(r=0;r<o.length;r++){if(s=o[r].call(Y,t,G.clone(),K.clone(),i.timezone,n),s===!0)return;if("object"==typeof s)return void c(s,n)}var a=t.events;if(a)e.isFunction(a)?(Y.pushLoading(),a.call(Y,G.clone(),K.clone(),i.timezone,function(e){n(e),Y.popLoading()})):e.isArray(a)?n(a):n();else{var l=t.url;if(l){var u,d=t.success,h=t.error,f=t.complete;u=e.isFunction(t.data)?t.data():t.data;var p=e.extend({},u||{}),g=tt(t.startParam,i.startParam),m=tt(t.endParam,i.endParam),v=tt(t.timezoneParam,i.timezoneParam);g&&(p[g]=G.format()),m&&(p[m]=K.format()),i.timezone&&"local"!=i.timezone&&(p[v]=i.timezone),Y.pushLoading(),e.ajax(e.extend({},Ai,t,{data:p,success:function(t){t=t||[];var i=et(d,this,arguments);e.isArray(i)&&(t=i),n(t)},error:function(){et(h,this,arguments),n()},complete:function(){et(f,this,arguments),Y.popLoading()}}))}else n()}}function u(e){var t=d(e);t&&(Z.push(t),s([t],"add"))}function d(t){var i,n,r=Gt.sourceNormalizers;if(e.isFunction(t)||e.isArray(t)?i={events:t}:"string"==typeof t?i={url:t}:"object"==typeof t&&(i=e.extend({},t)),i){for(i.className?"string"==typeof i.className&&(i.className=i.className.split(/\s+/)):i.className=[],e.isArray(i.events)&&(i.origArray=i.events,i.events=e.map(i.events,function(e){return E(e,i)})),n=0;n<r.length;n++)r[n].call(Y,i);return i}}function h(e){p(y(e))}function f(e){null==e?p(Z,!0):p(v(e))}function p(t,i){var n;for(n=0;n<t.length;n++)a(t[n]);i?(Z=[],nt=[]):(Z=e.grep(Z,function(e){for(n=0;n<t.length;n++)if(e===t[n])return!1;return!0}),nt=x(nt,t)),X(nt)}function g(){return Z.slice(1)}function m(t){return e.grep(Z,function(e){return e.id&&e.id===t})[0]}function v(t){t?e.isArray(t)||(t=[t]):t=[];var i,n=[];for(i=0;i<t.length;i++)n.push.apply(n,y(t[i]));return n}function y(t){var i,n;for(i=0;i<Z.length;i++)if(n=Z[i],n===t)return[n];return n=m(t),n?[n]:e.grep(Z,function(e){return b(t,e)})}function b(e,t){return e&&t&&w(e)==w(t)}function w(e){return("object"==typeof e?e.origArray||e.googleCalendarId||e.url||e.events:null)||e}function x(t,i){return e.grep(t,function(e){for(var t=0;t<i.length;t++)if(e.source===i[t])return!1;return!0})}function k(e){e.start=Y.moment(e.start),e.end=e.end?Y.moment(e.end):null,$(e,_(e)),X(nt)}function _(t){var i={};return e.each(t,function(e,t){C(e)&&void 0!==t&&J(t)&&(i[e]=t)}),i}function C(e){return!/^_|^(id|allDay|start|end)$/.test(e)}function T(e,t){var i,n,r,s=E(e);if(s){for(i=O(s),n=0;n<i.length;n++)r=i[n],r.source||(t&&(Q.events.push(r),r.source=Q),nt.push(r));return X(nt),i}return[]}function S(t){var i,n;for(null==t?t=function(){return!0}:e.isFunction(t)||(i=t+"",t=function(e){return e._id==i}),nt=e.grep(nt,t,!0),n=0;n<Z.length;n++)e.isArray(Z[n].events)&&(Z[n].events=e.grep(Z[n].events,t,!0));X(nt)}function D(t){return e.isFunction(t)?e.grep(nt,t):null!=t?(t+="",e.grep(nt,function(e){return e._id==t})):nt}function E(n,r){var s,o,a,l={};if(i.eventDataTransform&&(n=i.eventDataTransform(n)),r&&r.eventDataTransform&&(n=r.eventDataTransform(n)),e.extend(l,n),r&&(l.source=r),l._id=n._id||(void 0===n.id?"_fc"+Ii++:n.id+""),l.className=n.className?"string"==typeof n.className?n.className.split(/\s+/):n.className:[],s=n.start||n.date,o=n.end,V(s)&&(s=t.duration(s)),V(o)&&(o=t.duration(o)),n.dow||t.isDuration(s)||t.isDuration(o))l.start=s?t.duration(s):null,l.end=o?t.duration(o):null,l._recurring=!0;else{if(s&&(s=Y.moment(s),!s.isValid()))return!1;o&&(o=Y.moment(o),o.isValid()||(o=null)),a=n.allDay,void 0===a&&(a=tt(r?r.allDayDefault:void 0,i.allDayDefault)),M(s,o,a,l)}return Y.normalizeEvent(l),l}function M(e,t,i,n){n.start=e,n.end=t,n.allDay=i,A(n),Vt(n)}function A(e){I(e),e.end&&!e.end.isAfter(e.start)&&(e.end=null),e.end||(e.end=i.forceEventDuration?Y.getDefaultEventEnd(e.allDay,e.start):null)}function I(e){null==e.allDay&&(e.allDay=!(e.start.hasTime()||e.end&&e.end.hasTime())),e.allDay?(e.start.stripTime(),e.end&&e.end.stripTime()):(e.start.hasTime()||(e.start=Y.applyTimezone(e.start.time(0))),e.end&&!e.end.hasTime()&&(e.end=Y.applyTimezone(e.end.time(0))))}function O(t,i,n){var r,s,o,a,l,c,u,d,h,f=[];if(i=i||G,n=n||K,t)if(t._recurring){if(s=t.dow)for(r={},o=0;o<s.length;o++)r[s[o]]=!0;for(a=i.clone().stripTime();a.isBefore(n);)(!r||r[a.day()])&&(l=t.start,c=t.end,u=a.clone(),d=null,l&&(u=u.time(l)),c&&(d=a.clone().time(c)),h=e.extend({},t),M(u,d,!l&&!c,h),f.push(h)),a.add(1,"days")}else f.push(t);return f}function $(t,i,n){function r(e,t){return n?L(e,t,n):i.allDay?N(e,t):z(e,t)}var s,o,a,l,c,u,d={};return i=i||{},i.start||(i.start=t.start.clone()),void 0===i.end&&(i.end=t.end?t.end.clone():null),null==i.allDay&&(i.allDay=t.allDay),A(i),s={start:t._start.clone(),end:t._end?t._end.clone():Y.getDefaultEventEnd(t._allDay,t._start),allDay:i.allDay},A(s),o=null!==t._end&&null===i.end,a=r(i.start,s.start),i.end?(l=r(i.end,s.end),c=l.subtract(a)):c=null,e.each(i,function(e,t){C(e)&&void 0!==t&&(d[e]=t)}),u=R(D(t._id),o,i.allDay,a,c,d),{dateDelta:a,durationDelta:c,undo:u}}function R(t,i,n,r,s,o){var a=Y.getIsAmbigTimezone(),l=[];return r&&!r.valueOf()&&(r=null),s&&!s.valueOf()&&(s=null),e.each(t,function(t,c){var u,d;u={start:c.start.clone(),end:c.end?c.end.clone():null,allDay:c.allDay},e.each(o,function(e){u[e]=c[e]}),d={start:c._start,end:c._end,allDay:n},A(d),i?d.end=null:s&&!d.end&&(d.end=Y.getDefaultEventEnd(d.allDay,d.start)),r&&(d.start.add(r),d.end&&d.end.add(r)),s&&d.end.add(s),a&&!d.allDay&&(r||s)&&(d.start.stripZone(),d.end&&d.end.stripZone()),e.extend(c,o,d),Vt(c),l.push(function(){e.extend(c,u),Vt(c)})}),function(){for(var e=0;e<l.length;e++)l[e]()}}function H(t){var n,r=i.businessHours,s={className:"fc-nonbusiness",start:"09:00",end:"17:00",dow:[1,2,3,4,5],rendering:"inverse-background"},o=Y.getView();return r&&(n=e.extend({},s,"object"==typeof r?r:{})),n?(t&&(n.start=null,n.end=null),O(E(n),o.start,o.end)):[]}function P(e,t){var n=t.source||{},r=tt(t.constraint,n.constraint,i.eventConstraint),s=tt(t.overlap,n.overlap,i.eventOverlap);return W(e,r,s,t)}function F(t,i,n){var r,s;return n&&(r=e.extend({},n,i),s=O(E(r))[0]),s?P(t,s):j(t)}function j(e){return W(e,i.selectConstraint,i.selectOverlap)}function W(e,t,i,n){var r,s,o,a,l,c;if(null!=t){for(r=B(t),s=!1,a=0;a<r.length;a++)if(U(r[a],e)){s=!0;break}if(!s)return!1}for(o=Y.getPeerEvents(e,n),a=0;a<o.length;a++)if(l=o[a],q(l,e)){if(i===!1)return!1;if("function"==typeof i&&!i(l,n))return!1;if(n){if(c=tt(l.overlap,(l.source||{}).overlap),c===!1)return!1;if("function"==typeof c&&!c(n,l))return!1}}return!0}function B(e){return"businessHours"===e?H():"object"==typeof e?O(E(e)):D(e)}function U(e,t){var i=e.start.clone().stripZone(),n=Y.getEventEnd(e).stripZone();return t.start>=i&&t.end<=n}function q(e,t){var i=e.start.clone().stripZone(),n=Y.getEventEnd(e).stripZone();return t.start<n&&t.end>i}var Y=this;Y.isFetchNeeded=n,Y.fetchEvents=r,Y.fetchEventSources=s,Y.getEventSources=g,Y.getEventSourceById=m,Y.getEventSourcesByMatchArray=v,Y.getEventSourcesByMatch=y,Y.addEventSource=u,Y.removeEventSource=h,Y.removeEventSources=f,Y.updateEvent=k,Y.renderEvent=T,Y.removeEvents=S,Y.clientEvents=D,Y.mutateEvent=$,Y.normalizeEventDates=A,Y.normalizeEventTimes=I;var G,K,X=Y.reportEvents,Q={events:[]},Z=[Q],it=0,nt=[];e.each((i.events?[i.events]:[]).concat(i.eventSources||[]),function(e,t){var i=d(t);i&&Z.push(i)}),Y.getBusinessHoursEvents=H,Y.isEventSpanAllowed=P,Y.isExternalSpanAllowed=F,Y.isSelectionSpanAllowed=j,Y.getEventCache=function(){return nt}}function Vt(e){e._allDay=e.allDay,e._start=e.start.clone(),e._end=e.end?e.end.clone():null}var Gt=e.fullCalendar={version:"2.8.0",internalApiVersion:4},Kt=Gt.views={};e.fn.fullCalendar=function(t){var i=Array.prototype.slice.call(arguments,1),n=this;return this.each(function(r,s){var o,a=e(s),l=a.data("fullCalendar");"string"==typeof t?l&&e.isFunction(l[t])&&(o=l[t].apply(l,i),r||(n=o),"destroy"===t&&a.removeData("fullCalendar")):l||(l=new Ti(a,t),a.data("fullCalendar",l),l.render())}),n};var Xt=["header","buttonText","buttonIcons","themeButtonIcons"];Gt.intersectRanges=P,Gt.applyAll=et,Gt.debounce=ct,Gt.isInt=at,Gt.htmlEscape=it,Gt.cssToStr=rt,Gt.proxy=lt,Gt.capitaliseFirstLetter=st,Gt.getOuterRect=f,Gt.getClientRect=p,Gt.getContentRect=g,Gt.getScrollbarWidths=m;var Qt=null;Gt.preventDefault=T,Gt.intersectRects=E,Gt.parseFieldSpecs=O,Gt.compareByFieldSpecs=$,Gt.compareByFieldSpec=R,Gt.flexibleCompare=H,Gt.computeIntervalUnit=F,Gt.divideRangeByDuration=W,Gt.divideDurationByDuration=B,Gt.multiplyDuration=U,Gt.durationHasTime=q;var Zt=["sun","mon","tue","wed","thu","fri","sat"],Jt=["year","month","week","day","hour","minute","second","millisecond"];Gt.log=function(){var e=window.console;return e&&e.log?e.log.apply(e,arguments):void 0},Gt.warn=function(){var e=window.console;return e&&e.warn?e.warn.apply(e,arguments):Gt.log.apply(Gt,arguments)};var ei,ti,ii,ni={}.hasOwnProperty,ri=/^\s*\d{4}-\d\d$/,si=/^\s*\d{4}-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?)?$/,oi=t.fn,ai=e.extend({},oi);Gt.moment=function(){return dt(arguments)},Gt.moment.utc=function(){var e=dt(arguments,!0);return e.hasTime()&&e.utc(),e},Gt.moment.parseZone=function(){return dt(arguments,!0,!0)},oi.clone=function(){var e=ai.clone.apply(this,arguments);return ft(this,e),this._fullCalendar&&(e._fullCalendar=!0),e},oi.week=oi.weeks=function(e){var t=(this._locale||this._lang)._fullCalendar_weekCalc;return null==e&&"function"==typeof t?t(this):"ISO"===t?ai.isoWeek.apply(this,arguments):ai.week.apply(this,arguments)},oi.time=function(e){if(!this._fullCalendar)return ai.time.apply(this,arguments);if(null==e)return t.duration({hours:this.hours(),minutes:this.minutes(),seconds:this.seconds(),milliseconds:this.milliseconds()});this._ambigTime=!1,t.isDuration(e)||t.isMoment(e)||(e=t.duration(e));var i=0;return t.isDuration(e)&&(i=24*Math.floor(e.asDays())),this.hours(i+e.hours()).minutes(e.minutes()).seconds(e.seconds()).milliseconds(e.milliseconds())},oi.stripTime=function(){var e;return this._ambigTime||(e=this.toArray(),this.utc(),ti(this,e.slice(0,3)),this._ambigTime=!0,this._ambigZone=!0),this},oi.hasTime=function(){return!this._ambigTime},oi.stripZone=function(){var e,t;return this._ambigZone||(e=this.toArray(),t=this._ambigTime,this.utc(),ti(this,e),this._ambigTime=t||!1,this._ambigZone=!0),this},oi.hasZone=function(){return!this._ambigZone},oi.local=function(){var e=this.toArray(),t=this._ambigZone;return ai.local.apply(this,arguments),this._ambigTime=!1,this._ambigZone=!1,t&&ii(this,e),this},oi.utc=function(){return ai.utc.apply(this,arguments),this._ambigTime=!1,this._ambigZone=!1,this},e.each(["zone","utcOffset"],function(e,t){ai[t]&&(oi[t]=function(e){return null!=e&&(this._ambigTime=!1,this._ambigZone=!1),ai[t].apply(this,arguments)})}),oi.format=function(){return this._fullCalendar&&arguments[0]?mt(this,arguments[0]):this._ambigTime?gt(this,"YYYY-MM-DD"):this._ambigZone?gt(this,"YYYY-MM-DD[T]HH:mm:ss"):ai.format.apply(this,arguments)},oi.toISOString=function(){return this._ambigTime?gt(this,"YYYY-MM-DD"):this._ambigZone?gt(this,"YYYY-MM-DD[T]HH:mm:ss"):ai.toISOString.apply(this,arguments)},oi.isWithin=function(e,t){var i=ht([this,e,t]);return i[0]>=i[1]&&i[0]<i[2]},oi.isSame=function(e,t){var i;return this._fullCalendar?t?(i=ht([this,e],!0),ai.isSame.call(i[0],i[1],t)):(e=Gt.moment.parseZone(e),ai.isSame.call(this,e)&&Boolean(this._ambigTime)===Boolean(e._ambigTime)&&Boolean(this._ambigZone)===Boolean(e._ambigZone)):ai.isSame.apply(this,arguments)},e.each(["isBefore","isAfter"],function(e,t){oi[t]=function(e,i){var n;return this._fullCalendar?(n=ht([this,e]),ai[t].call(n[0],n[1],i)):ai[t].apply(this,arguments)}}),ei="_d"in t()&&"updateOffset"in t,ti=ei?function(e,i){e._d.setTime(Date.UTC.apply(Date,i)),t.updateOffset(e,!1)}:pt,ii=ei?function(e,i){e._d.setTime(+new Date(i[0]||0,i[1]||0,i[2]||0,i[3]||0,i[4]||0,i[5]||0,i[6]||0)),t.updateOffset(e,!1)}:pt;var li={t:function(e){return gt(e,"a").charAt(0)},T:function(e){return gt(e,"A").charAt(0)}};Gt.formatRange=bt;var ci={Y:"year",M:"month",D:"day",d:"day",A:"second",a:"second",T:"second",t:"second",H:"second",h:"second",m:"second",s:"second"},ui={};Gt.Class=Ct,Ct.extend=function(){var e,t,i=arguments.length;for(e=0;i>e;e++)t=arguments[e],i-1>e&&St(this,t);return Tt(this,t||{})},Ct.mixin=function(e){St(this,e)};var di=Gt.EmitterMixin={on:function(t,i){var n=function(e,t){return i.apply(t.context||this,t.args||[])};return i.guid||(i.guid=e.guid++),n.guid=i.guid,e(this).on(t,n),this},off:function(t,i){return e(this).off(t,i),this},trigger:function(t){var i=Array.prototype.slice.call(arguments,1);return e(this).triggerHandler(t,{args:i}),this},triggerWith:function(t,i,n){return e(this).triggerHandler(t,{context:i,args:n}),this}},hi=Gt.ListenerMixin=function(){var t=0,i={listenerId:null,listenTo:function(t,i,n){if("object"==typeof i)for(var r in i)i.hasOwnProperty(r)&&this.listenTo(t,r,i[r]);else"string"==typeof i&&t.on(i+"."+this.getListenerNamespace(),e.proxy(n,this))},stopListeningTo:function(e,t){e.off((t||"")+"."+this.getListenerNamespace())},getListenerNamespace:function(){return null==this.listenerId&&(this.listenerId=t++),"_listener"+this.listenerId}};return i}(),fi={isIgnoringMouse:!1,delayUnignoreMouse:null,initMouseIgnoring:function(e){this.delayUnignoreMouse=ct(lt(this,"unignoreMouse"),e||1e3)},tempIgnoreMouse:function(){this.isIgnoringMouse=!0,this.delayUnignoreMouse()},unignoreMouse:function(){this.isIgnoringMouse=!1}},pi=Ct.extend(hi,{isHidden:!0,options:null,el:null,margin:10,constructor:function(e){this.options=e||{}},show:function(){this.isHidden&&(this.el||this.render(),this.el.show(),this.position(),this.isHidden=!1,this.trigger("show"))},hide:function(){this.isHidden||(this.el.hide(),this.isHidden=!0,this.trigger("hide"))},render:function(){var t=this,i=this.options;this.el=e('<div class="fc-popover"/>').addClass(i.className||"").css({top:0,left:0}).append(i.content).appendTo(i.parentEl),this.el.on("click",".fc-close",function(){t.hide()}),i.autoHide&&this.listenTo(e(document),"mousedown",this.documentMousedown)},documentMousedown:function(t){this.el&&!e(t.target).closest(this.el).length&&this.hide()},removeElement:function(){this.hide(),this.el&&(this.el.remove(),this.el=null),this.stopListeningTo(e(document),"mousedown")},position:function(){var t,i,n,r,s,o=this.options,a=this.el.offsetParent().offset(),l=this.el.outerWidth(),c=this.el.outerHeight(),u=e(window),d=h(this.el);r=o.top||0,s=void 0!==o.left?o.left:void 0!==o.right?o.right-l:0,d.is(window)||d.is(document)?(d=u,t=0,i=0):(n=d.offset(),t=n.top,i=n.left),t+=u.scrollTop(),i+=u.scrollLeft(),o.viewportConstrain!==!1&&(r=Math.min(r,t+d.outerHeight()-c-this.margin),r=Math.max(r,t+this.margin),s=Math.min(s,i+d.outerWidth()-l-this.margin),s=Math.max(s,i+this.margin)),this.el.css({top:r-a.top,left:s-a.left})},trigger:function(e){this.options[e]&&this.options[e].apply(this,Array.prototype.slice.call(arguments,1))}}),gi=Gt.CoordCache=Ct.extend({els:null,forcedOffsetParentEl:null,origin:null,boundingRect:null,isHorizontal:!1,isVertical:!1,lefts:null,rights:null,tops:null,bottoms:null,constructor:function(t){this.els=e(t.els),this.isHorizontal=t.isHorizontal,this.isVertical=t.isVertical,this.forcedOffsetParentEl=t.offsetParent?e(t.offsetParent):null},build:function(){var e=this.forcedOffsetParentEl||this.els.eq(0).offsetParent();this.origin=e.offset(),this.boundingRect=this.queryBoundingRect(),this.isHorizontal&&this.buildElHorizontals(),this.isVertical&&this.buildElVerticals()},clear:function(){this.origin=null,this.boundingRect=null,this.lefts=null,this.rights=null,this.tops=null,this.bottoms=null},ensureBuilt:function(){this.origin||this.build()},queryBoundingRect:function(){var e=h(this.els.eq(0));return e.is(document)?void 0:p(e)},buildElHorizontals:function(){var t=[],i=[];this.els.each(function(n,r){var s=e(r),o=s.offset().left,a=s.outerWidth();t.push(o),i.push(o+a)}),this.lefts=t,this.rights=i},buildElVerticals:function(){var t=[],i=[];this.els.each(function(n,r){var s=e(r),o=s.offset().top,a=s.outerHeight();t.push(o),i.push(o+a)}),this.tops=t,this.bottoms=i},getHorizontalIndex:function(e){this.ensureBuilt();var t,i=this.boundingRect,n=this.lefts,r=this.rights,s=n.length;if(!i||e>=i.left&&e<i.right)for(t=0;s>t;t++)if(e>=n[t]&&e<r[t])return t},getVerticalIndex:function(e){this.ensureBuilt();var t,i=this.boundingRect,n=this.tops,r=this.bottoms,s=n.length;if(!i||e>=i.top&&e<i.bottom)for(t=0;s>t;t++)if(e>=n[t]&&e<r[t])return t},getLeftOffset:function(e){return this.ensureBuilt(),this.lefts[e]},getLeftPosition:function(e){return this.ensureBuilt(),this.lefts[e]-this.origin.left},getRightOffset:function(e){return this.ensureBuilt(),this.rights[e]},getRightPosition:function(e){return this.ensureBuilt(),this.rights[e]-this.origin.left},getWidth:function(e){return this.ensureBuilt(),this.rights[e]-this.lefts[e]},getTopOffset:function(e){return this.ensureBuilt(),this.tops[e]},getTopPosition:function(e){return this.ensureBuilt(),this.tops[e]-this.origin.top},getBottomOffset:function(e){return this.ensureBuilt(),this.bottoms[e]},getBottomPosition:function(e){return this.ensureBuilt(),this.bottoms[e]-this.origin.top},getHeight:function(e){return this.ensureBuilt(),this.bottoms[e]-this.tops[e]}}),mi=Gt.DragListener=Ct.extend(hi,fi,{options:null,subjectEl:null,subjectHref:null,originX:null,originY:null,scrollEl:null,isInteracting:!1,isDistanceSurpassed:!1,isDelayEnded:!1,isDragging:!1,isTouch:!1,delay:null,delayTimeoutId:null,minDistance:null,handleTouchScrollProxy:null,constructor:function(e){this.options=e||{},this.handleTouchScrollProxy=lt(this,"handleTouchScroll"),this.initMouseIgnoring(500)},startInteraction:function(t,i){var n=_(t);if("mousedown"===t.type){if(this.isIgnoringMouse)return;if(!w(t))return;t.preventDefault()}this.isInteracting||(i=i||{},this.delay=tt(i.delay,this.options.delay,0),this.minDistance=tt(i.distance,this.options.distance,0),this.subjectEl=this.options.subjectEl,this.isInteracting=!0,this.isTouch=n,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,this.originX=x(t),this.originY=k(t),this.scrollEl=h(e(t.target)),this.bindHandlers(),this.initAutoScroll(),this.handleInteractionStart(t),this.startDelay(t),this.minDistance||this.handleDistanceSurpassed(t))},handleInteractionStart:function(e){this.trigger("interactionStart",e)},endInteraction:function(e,t){this.isInteracting&&(this.endDrag(e),this.delayTimeoutId&&(clearTimeout(this.delayTimeoutId),this.delayTimeoutId=null),this.destroyAutoScroll(),this.unbindHandlers(),this.isInteracting=!1,this.handleInteractionEnd(e,t),this.isTouch&&this.tempIgnoreMouse())
},handleInteractionEnd:function(e,t){this.trigger("interactionEnd",e,t||!1)},bindHandlers:function(){var t=this,i=1;this.isTouch?(this.listenTo(e(document),{touchmove:this.handleTouchMove,touchend:this.endInteraction,touchcancel:this.endInteraction,touchstart:function(e){i?i--:t.endInteraction(e,!0)}}),!S(this.handleTouchScrollProxy)&&this.scrollEl&&this.listenTo(this.scrollEl,"scroll",this.handleTouchScroll)):this.listenTo(e(document),{mousemove:this.handleMouseMove,mouseup:this.endInteraction}),this.listenTo(e(document),{selectstart:T,contextmenu:T})},unbindHandlers:function(){this.stopListeningTo(e(document)),D(this.handleTouchScrollProxy),this.scrollEl&&this.stopListeningTo(this.scrollEl,"scroll")},startDrag:function(e,t){this.startInteraction(e,t),this.isDragging||(this.isDragging=!0,this.handleDragStart(e))},handleDragStart:function(e){this.trigger("dragStart",e),this.initHrefHack()},handleMove:function(e){var t,i=x(e)-this.originX,n=k(e)-this.originY,r=this.minDistance;this.isDistanceSurpassed||(t=i*i+n*n,t>=r*r&&this.handleDistanceSurpassed(e)),this.isDragging&&this.handleDrag(i,n,e)},handleDrag:function(e,t,i){this.trigger("drag",e,t,i),this.updateAutoScroll(i)},endDrag:function(e){this.isDragging&&(this.isDragging=!1,this.handleDragEnd(e))},handleDragEnd:function(e){this.trigger("dragEnd",e),this.destroyHrefHack()},startDelay:function(e){var t=this;this.delay?this.delayTimeoutId=setTimeout(function(){t.handleDelayEnd(e)},this.delay):this.handleDelayEnd(e)},handleDelayEnd:function(e){this.isDelayEnded=!0,this.isDistanceSurpassed&&this.startDrag(e)},handleDistanceSurpassed:function(e){this.isDistanceSurpassed=!0,this.isDelayEnded&&this.startDrag(e)},handleTouchMove:function(e){this.isDragging&&e.preventDefault(),this.handleMove(e)},handleMouseMove:function(e){this.handleMove(e)},handleTouchScroll:function(e){this.isDragging||this.endInteraction(e,!0)},initHrefHack:function(){var e=this.subjectEl;(this.subjectHref=e?e.attr("href"):null)&&e.removeAttr("href")},destroyHrefHack:function(){var e=this.subjectEl,t=this.subjectHref;setTimeout(function(){t&&e.attr("href",t)},0)},trigger:function(e){this.options[e]&&this.options[e].apply(this,Array.prototype.slice.call(arguments,1)),this["_"+e]&&this["_"+e].apply(this,Array.prototype.slice.call(arguments,1))}});mi.mixin({isAutoScroll:!1,scrollBounds:null,scrollTopVel:null,scrollLeftVel:null,scrollIntervalId:null,scrollSensitivity:30,scrollSpeed:200,scrollIntervalMs:50,initAutoScroll:function(){var e=this.scrollEl;this.isAutoScroll=this.options.scroll&&e&&!e.is(window)&&!e.is(document),this.isAutoScroll&&this.listenTo(e,"scroll",ct(this.handleDebouncedScroll,100))},destroyAutoScroll:function(){this.endAutoScroll(),this.isAutoScroll&&this.stopListeningTo(this.scrollEl,"scroll")},computeScrollBounds:function(){this.isAutoScroll&&(this.scrollBounds=f(this.scrollEl))},updateAutoScroll:function(e){var t,i,n,r,s=this.scrollSensitivity,o=this.scrollBounds,a=0,l=0;o&&(t=(s-(k(e)-o.top))/s,i=(s-(o.bottom-k(e)))/s,n=(s-(x(e)-o.left))/s,r=(s-(o.right-x(e)))/s,t>=0&&1>=t?a=t*this.scrollSpeed*-1:i>=0&&1>=i&&(a=i*this.scrollSpeed),n>=0&&1>=n?l=n*this.scrollSpeed*-1:r>=0&&1>=r&&(l=r*this.scrollSpeed)),this.setScrollVel(a,l)},setScrollVel:function(e,t){this.scrollTopVel=e,this.scrollLeftVel=t,this.constrainScrollVel(),!this.scrollTopVel&&!this.scrollLeftVel||this.scrollIntervalId||(this.scrollIntervalId=setInterval(lt(this,"scrollIntervalFunc"),this.scrollIntervalMs))},constrainScrollVel:function(){var e=this.scrollEl;this.scrollTopVel<0?e.scrollTop()<=0&&(this.scrollTopVel=0):this.scrollTopVel>0&&e.scrollTop()+e[0].clientHeight>=e[0].scrollHeight&&(this.scrollTopVel=0),this.scrollLeftVel<0?e.scrollLeft()<=0&&(this.scrollLeftVel=0):this.scrollLeftVel>0&&e.scrollLeft()+e[0].clientWidth>=e[0].scrollWidth&&(this.scrollLeftVel=0)},scrollIntervalFunc:function(){var e=this.scrollEl,t=this.scrollIntervalMs/1e3;this.scrollTopVel&&e.scrollTop(e.scrollTop()+this.scrollTopVel*t),this.scrollLeftVel&&e.scrollLeft(e.scrollLeft()+this.scrollLeftVel*t),this.constrainScrollVel(),this.scrollTopVel||this.scrollLeftVel||this.endAutoScroll()},endAutoScroll:function(){this.scrollIntervalId&&(clearInterval(this.scrollIntervalId),this.scrollIntervalId=null,this.handleScrollEnd())},handleDebouncedScroll:function(){this.scrollIntervalId||this.handleScrollEnd()},handleScrollEnd:function(){}});var vi=mi.extend({component:null,origHit:null,hit:null,coordAdjust:null,constructor:function(e,t){mi.call(this,t),this.component=e},handleInteractionStart:function(e){var t,i,n,r=this.subjectEl;this.computeCoords(),e?(i={left:x(e),top:k(e)},n=i,r&&(t=f(r),n=M(n,t)),this.origHit=this.queryHit(n.left,n.top),r&&this.options.subjectCenter&&(this.origHit&&(t=E(this.origHit,t)||t),n=A(t)),this.coordAdjust=I(n,i)):(this.origHit=null,this.coordAdjust=null),mi.prototype.handleInteractionStart.apply(this,arguments)},computeCoords:function(){this.component.prepareHits(),this.computeScrollBounds()},handleDragStart:function(e){var t;mi.prototype.handleDragStart.apply(this,arguments),t=this.queryHit(x(e),k(e)),t&&this.handleHitOver(t)},handleDrag:function(e,t,i){var n;mi.prototype.handleDrag.apply(this,arguments),n=this.queryHit(x(i),k(i)),Dt(n,this.hit)||(this.hit&&this.handleHitOut(),n&&this.handleHitOver(n))},handleDragEnd:function(){this.handleHitDone(),mi.prototype.handleDragEnd.apply(this,arguments)},handleHitOver:function(e){var t=Dt(e,this.origHit);this.hit=e,this.trigger("hitOver",this.hit,t,this.origHit)},handleHitOut:function(){this.hit&&(this.trigger("hitOut",this.hit),this.handleHitDone(),this.hit=null)},handleHitDone:function(){this.hit&&this.trigger("hitDone",this.hit)},handleInteractionEnd:function(){mi.prototype.handleInteractionEnd.apply(this,arguments),this.origHit=null,this.hit=null,this.component.releaseHits()},handleScrollEnd:function(){mi.prototype.handleScrollEnd.apply(this,arguments),this.computeCoords()},queryHit:function(e,t){return this.coordAdjust&&(e+=this.coordAdjust.left,t+=this.coordAdjust.top),this.component.queryHit(e,t)}}),yi=Ct.extend(hi,{options:null,sourceEl:null,el:null,parentEl:null,top0:null,left0:null,y0:null,x0:null,topDelta:null,leftDelta:null,isFollowing:!1,isHidden:!1,isAnimating:!1,constructor:function(t,i){this.options=i=i||{},this.sourceEl=t,this.parentEl=i.parentEl?e(i.parentEl):t.parent()},start:function(t){this.isFollowing||(this.isFollowing=!0,this.y0=k(t),this.x0=x(t),this.topDelta=0,this.leftDelta=0,this.isHidden||this.updatePosition(),_(t)?this.listenTo(e(document),"touchmove",this.handleMove):this.listenTo(e(document),"mousemove",this.handleMove))},stop:function(t,i){function n(){this.isAnimating=!1,r.removeElement(),this.top0=this.left0=null,i&&i()}var r=this,s=this.options.revertDuration;this.isFollowing&&!this.isAnimating&&(this.isFollowing=!1,this.stopListeningTo(e(document)),t&&s&&!this.isHidden?(this.isAnimating=!0,this.el.animate({top:this.top0,left:this.left0},{duration:s,complete:n})):n())},getEl:function(){var e=this.el;return e||(this.sourceEl.width(),e=this.el=this.sourceEl.clone().addClass(this.options.additionalClass||"").css({position:"absolute",visibility:"",display:this.isHidden?"none":"",margin:0,right:"auto",bottom:"auto",width:this.sourceEl.width(),height:this.sourceEl.height(),opacity:this.options.opacity||"",zIndex:this.options.zIndex}),e.addClass("fc-unselectable"),e.appendTo(this.parentEl)),e},removeElement:function(){this.el&&(this.el.remove(),this.el=null)},updatePosition:function(){var e,t;this.getEl(),null===this.top0&&(this.sourceEl.width(),e=this.sourceEl.offset(),t=this.el.offsetParent().offset(),this.top0=e.top-t.top,this.left0=e.left-t.left),this.el.css({top:this.top0+this.topDelta,left:this.left0+this.leftDelta})},handleMove:function(e){this.topDelta=k(e)-this.y0,this.leftDelta=x(e)-this.x0,this.isHidden||this.updatePosition()},hide:function(){this.isHidden||(this.isHidden=!0,this.el&&this.el.hide())},show:function(){this.isHidden&&(this.isHidden=!1,this.updatePosition(),this.getEl().show())}}),bi=Gt.Grid=Ct.extend(hi,fi,{view:null,isRTL:null,start:null,end:null,el:null,elsByFill:null,eventTimeFormat:null,displayEventTime:null,displayEventEnd:null,minResizeDuration:null,largeUnit:null,dayDragListener:null,segDragListener:null,segResizeListener:null,externalDragListener:null,constructor:function(e){this.view=e,this.isRTL=e.opt("isRTL"),this.elsByFill={},this.dayDragListener=this.buildDayDragListener(),this.initMouseIgnoring()},computeEventTimeFormat:function(){return this.view.opt("smallTimeFormat")},computeDisplayEventTime:function(){return!0},computeDisplayEventEnd:function(){return!0},setRange:function(e){this.start=e.start.clone(),this.end=e.end.clone(),this.rangeUpdated(),this.processRangeOptions()},rangeUpdated:function(){},processRangeOptions:function(){var e,t,i=this.view;this.eventTimeFormat=i.opt("eventTimeFormat")||i.opt("timeFormat")||this.computeEventTimeFormat(),e=i.opt("displayEventTime"),null==e&&(e=this.computeDisplayEventTime()),t=i.opt("displayEventEnd"),null==t&&(t=this.computeDisplayEventEnd()),this.displayEventTime=e,this.displayEventEnd=t},spanToSegs:function(){},diffDates:function(e,t){return this.largeUnit?L(e,t,this.largeUnit):z(e,t)},prepareHits:function(){},releaseHits:function(){},queryHit:function(){},getHitSpan:function(){},getHitEl:function(){},setElement:function(e){this.el=e,C(e),this.bindDayHandler("touchstart",this.dayTouchStart),this.bindDayHandler("mousedown",this.dayMousedown),this.bindSegHandlers(),this.bindGlobalHandlers()},bindDayHandler:function(t,i){var n=this;this.el.on(t,function(t){return e(t.target).is(".fc-event-container *, .fc-more")||e(t.target).closest(".fc-popover").length?void 0:i.call(n,t)})},removeElement:function(){this.unbindGlobalHandlers(),this.clearDragListeners(),this.el.remove()},renderSkeleton:function(){},renderDates:function(){},unrenderDates:function(){},bindGlobalHandlers:function(){this.listenTo(e(document),{dragstart:this.externalDragStart,sortstart:this.externalDragStart})},unbindGlobalHandlers:function(){this.stopListeningTo(e(document))},dayMousedown:function(e){this.isIgnoringMouse||this.dayDragListener.startInteraction(e,{})},dayTouchStart:function(e){var t=this.view;(t.isSelected||t.selectedEvent)&&this.tempIgnoreMouse(),this.dayDragListener.startInteraction(e,{delay:this.view.opt("longPressDelay")})},buildDayDragListener:function(){var e,t,i=this,n=this.view,r=n.opt("selectable"),s=new vi(this,{scroll:n.opt("dragScroll"),interactionStart:function(){e=s.origHit},dragStart:function(){n.unselect()},hitOver:function(n,s,a){a&&(s||(e=null),r&&(t=i.computeSelection(i.getHitSpan(a),i.getHitSpan(n)),t?i.renderSelection(t):t===!1&&o()))},hitOut:function(){e=null,t=null,i.unrenderSelection(),a()},interactionEnd:function(r,s){s||(e&&!i.isIgnoringMouse&&n.triggerDayClick(i.getHitSpan(e),i.getHitEl(e),r),t&&n.reportSelection(t,r),a())}});return s},clearDragListeners:function(){this.dayDragListener.endInteraction(),this.segDragListener&&this.segDragListener.endInteraction(),this.segResizeListener&&this.segResizeListener.endInteraction(),this.externalDragListener&&this.externalDragListener.endInteraction()},renderEventLocationHelper:function(e,t){var i=this.fabricateHelperEvent(e,t);return this.renderHelper(i,t)},fabricateHelperEvent:function(e,t){var i=t?K(t.event):{};return i.start=e.start.clone(),i.end=e.end?e.end.clone():null,i.allDay=null,this.view.calendar.normalizeEventDates(i),i.className=(i.className||[]).concat("fc-helper"),t||(i.editable=!1),i},renderHelper:function(){},unrenderHelper:function(){},renderSelection:function(e){this.renderHighlight(e)},unrenderSelection:function(){this.unrenderHighlight()},computeSelection:function(e,t){var i=this.computeSelectionSpan(e,t);return i&&!this.view.calendar.isSelectionSpanAllowed(i)?!1:i},computeSelectionSpan:function(e,t){var i=[e.start,e.end,t.start,t.end];return i.sort(ot),{start:i[0].clone(),end:i[3].clone()}},renderHighlight:function(e){this.renderFill("highlight",this.spanToSegs(e))},unrenderHighlight:function(){this.unrenderFill("highlight")},highlightSegClasses:function(){return["fc-highlight"]},renderBusinessHours:function(){},unrenderBusinessHours:function(){},getNowIndicatorUnit:function(){},renderNowIndicator:function(){},unrenderNowIndicator:function(){},renderFill:function(){},unrenderFill:function(e){var t=this.elsByFill[e];t&&(t.remove(),delete this.elsByFill[e])},renderFillSegEls:function(t,i){var n,r=this,s=this[t+"SegEl"],o="",a=[];if(i.length){for(n=0;n<i.length;n++)o+=this.fillSegHtml(t,i[n]);e(o).each(function(t,n){var o=i[t],l=e(n);s&&(l=s.call(r,o,l)),l&&(l=e(l),l.is(r.fillSegTag)&&(o.el=l,a.push(o)))})}return a},fillSegTag:"div",fillSegHtml:function(e,t){var i=this[e+"SegClasses"],n=this[e+"SegCss"],r=i?i.call(this,t):[],s=rt(n?n.call(this,t):{});return"<"+this.fillSegTag+(r.length?' class="'+r.join(" ")+'"':"")+(s?' style="'+s+'"':"")+" />"},getDayClasses:function(e){var t=this.view,i=t.calendar.getNow(),n=["fc-"+Zt[e.day()]];return 1==t.intervalDuration.as("months")&&e.month()!=t.intervalStart.month()&&n.push("fc-other-month"),e.isSame(i,"day")?n.push("fc-today",t.highlightStateClass):n.push(i>e?"fc-past":"fc-future"),n}});bi.mixin({mousedOverSeg:null,isDraggingSeg:!1,isResizingSeg:!1,isDraggingExternal:!1,segs:null,renderEvents:function(e){var t,i=[],n=[];for(t=0;t<e.length;t++)(Mt(e[t])?i:n).push(e[t]);this.segs=[].concat(this.renderBgEvents(i),this.renderFgEvents(n))},renderBgEvents:function(e){var t=this.eventsToSegs(e);return this.renderBgSegs(t)||t},renderFgEvents:function(e){var t=this.eventsToSegs(e);return this.renderFgSegs(t)||t},unrenderEvents:function(){this.handleSegMouseout(),this.clearDragListeners(),this.unrenderFgSegs(),this.unrenderBgSegs(),this.segs=null},getEventSegs:function(){return this.segs||[]},renderFgSegs:function(){},unrenderFgSegs:function(){},renderFgSegEls:function(t,i){var n,r=this.view,s="",o=[];if(t.length){for(n=0;n<t.length;n++)s+=this.fgSegHtml(t[n],i);e(s).each(function(i,n){var s=t[i],a=r.resolveEventEl(s.event,e(n));a&&(a.data("fc-seg",s),s.el=a,o.push(s))})}return o},fgSegHtml:function(){},renderBgSegs:function(e){return this.renderFill("bgEvent",e)},unrenderBgSegs:function(){this.unrenderFill("bgEvent")},bgEventSegEl:function(e,t){return this.view.resolveEventEl(e.event,t)},bgEventSegClasses:function(e){var t=e.event,i=t.source||{};return["fc-bgevent"].concat(t.className,i.className||[])},bgEventSegCss:function(e){return{"background-color":this.getSegSkinCss(e)["background-color"]}},businessHoursSegClasses:function(){return["fc-nonbusiness","fc-bgevent"]},bindSegHandlers:function(){this.bindSegHandler("touchstart",this.handleSegTouchStart),this.bindSegHandler("touchend",this.handleSegTouchEnd),this.bindSegHandler("mouseenter",this.handleSegMouseover),this.bindSegHandler("mouseleave",this.handleSegMouseout),this.bindSegHandler("mousedown",this.handleSegMousedown),this.bindSegHandler("click",this.handleSegClick)},bindSegHandler:function(t,i){var n=this;this.el.on(t,".fc-event-container > *",function(t){var r=e(this).data("fc-seg");return!r||n.isDraggingSeg||n.isResizingSeg?void 0:i.call(n,r,t)})},handleSegClick:function(e,t){return this.view.trigger("eventClick",e.el[0],e.event,t)},handleSegMouseover:function(e,t){this.isIgnoringMouse||this.mousedOverSeg||(this.mousedOverSeg=e,e.el.addClass("fc-allow-mouse-resize"),this.view.trigger("eventMouseover",e.el[0],e.event,t))},handleSegMouseout:function(e,t){t=t||{},this.mousedOverSeg&&(e=e||this.mousedOverSeg,this.mousedOverSeg=null,e.el.removeClass("fc-allow-mouse-resize"),this.view.trigger("eventMouseout",e.el[0],e.event,t))},handleSegMousedown:function(e,t){var i=this.startSegResize(e,t,{distance:5});!i&&this.view.isEventDraggable(e.event)&&this.buildSegDragListener(e).startInteraction(t,{distance:5})},handleSegTouchStart:function(e,t){var i,n=this.view,r=e.event,s=n.isEventSelected(r),o=n.isEventDraggable(r),a=n.isEventResizable(r),l=!1;s&&a&&(l=this.startSegResize(e,t)),l||!o&&!a||(i=o?this.buildSegDragListener(e):this.buildSegSelectListener(e),i.startInteraction(t,{delay:s?0:this.view.opt("longPressDelay")})),this.tempIgnoreMouse()},handleSegTouchEnd:function(){this.tempIgnoreMouse()},startSegResize:function(t,i,n){return e(i.target).is(".fc-resizer")?(this.buildSegResizeListener(t,e(i.target).is(".fc-start-resizer")).startInteraction(i,n),!0):!1},buildSegDragListener:function(e){var t,i,n,r=this,s=this.view,l=s.calendar,c=e.el,u=e.event;if(this.segDragListener)return this.segDragListener;var d=this.segDragListener=new vi(s,{scroll:s.opt("dragScroll"),subjectEl:c,subjectCenter:!0,interactionStart:function(n){t=!1,i=new yi(e.el,{additionalClass:"fc-dragging",parentEl:s.el,opacity:d.isTouch?null:s.opt("dragOpacity"),revertDuration:s.opt("dragRevertDuration"),zIndex:2}),i.hide(),i.start(n)},dragStart:function(i){d.isTouch&&!s.isEventSelected(u)&&s.selectEvent(u),t=!0,r.handleSegMouseout(e,i),r.segDragStart(e,i),s.hideEvent(u)},hitOver:function(t,a,c){var h;e.hit&&(c=e.hit),n=r.computeEventDrop(c.component.getHitSpan(c),t.component.getHitSpan(t),u),n&&!l.isEventSpanAllowed(r.eventToSpan(n),u)&&(o(),n=null),n&&(h=s.renderDrag(n,e))?(h.addClass("fc-dragging"),d.isTouch||r.applyDragOpacity(h),i.hide()):i.show(),a&&(n=null)},hitOut:function(){s.unrenderDrag(),i.show(),n=null},hitDone:function(){a()},interactionEnd:function(o){i.stop(!n,function(){t&&(s.unrenderDrag(),s.showEvent(u),r.segDragStop(e,o)),n&&s.reportEventDrop(u,n,this.largeUnit,c,o)}),r.segDragListener=null}});return d},buildSegSelectListener:function(e){var t=this,i=this.view,n=e.event;if(this.segDragListener)return this.segDragListener;var r=this.segDragListener=new mi({dragStart:function(){r.isTouch&&!i.isEventSelected(n)&&i.selectEvent(n)},interactionEnd:function(){t.segDragListener=null}});return r},segDragStart:function(e,t){this.isDraggingSeg=!0,this.view.trigger("eventDragStart",e.el[0],e.event,t,{})},segDragStop:function(e,t){this.isDraggingSeg=!1,this.view.trigger("eventDragStop",e.el[0],e.event,t,{})},computeEventDrop:function(e,t,i){var n,r,s=this.view.calendar,o=e.start,a=t.start;return o.hasTime()===a.hasTime()?(n=this.diffDates(a,o),i.allDay&&q(n)?(r={start:i.start.clone(),end:s.getEventEnd(i),allDay:!1},s.normalizeEventTimes(r)):r={start:i.start.clone(),end:i.end?i.end.clone():null,allDay:i.allDay},r.start.add(n),r.end&&r.end.add(n)):r={start:a.clone(),end:null,allDay:!a.hasTime()},r},applyDragOpacity:function(e){var t=this.view.opt("dragOpacity");null!=t&&e.each(function(e,i){i.style.opacity=t})},externalDragStart:function(t,i){var n,r,s=this.view;s.opt("droppable")&&(n=e((i?i.item:null)||t.target),r=s.opt("dropAccept"),(e.isFunction(r)?r.call(n[0],n):n.is(r))&&(this.isDraggingExternal||this.listenToExternalDrag(n,t,i)))},listenToExternalDrag:function(e,t,i){var n,r=this,s=this.view.calendar,l=Rt(e),c=r.externalDragListener=new vi(this,{interactionStart:function(){r.isDraggingExternal=!0},hitOver:function(e){n=r.computeExternalDrop(e.component.getHitSpan(e),l),n&&!s.isExternalSpanAllowed(r.eventToSpan(n),n,l.eventProps)&&(o(),n=null),n&&r.renderDrag(n)},hitOut:function(){n=null},hitDone:function(){a(),r.unrenderDrag()},interactionEnd:function(t){n&&r.view.reportExternalDrop(l,n,e,t,i),r.isDraggingExternal=!1,r.externalDragListener=null}});c.startDrag(t)},computeExternalDrop:function(e,t){var i=this.view.calendar,n={start:i.applyTimezone(e.start),end:null};return t.startTime&&!n.start.hasTime()&&n.start.time(t.startTime),t.duration&&(n.end=n.start.clone().add(t.duration)),n},renderDrag:function(){},unrenderDrag:function(){},buildSegResizeListener:function(e,t){var i,n,r=this,s=this.view,l=s.calendar,c=e.el,u=e.event,d=l.getEventEnd(u),h=this.segResizeListener=new vi(this,{scroll:s.opt("dragScroll"),subjectEl:c,interactionStart:function(){i=!1},dragStart:function(t){i=!0,r.handleSegMouseout(e,t),r.segResizeStart(e,t)},hitOver:function(i,a,c){var h=r.getHitSpan(c),f=r.getHitSpan(i);n=t?r.computeEventStartResize(h,f,u):r.computeEventEndResize(h,f,u),n&&(l.isEventSpanAllowed(r.eventToSpan(n),u)?n.start.isSame(u.start)&&n.end.isSame(d)&&(n=null):(o(),n=null)),n&&(s.hideEvent(u),r.renderEventResize(n,e))},hitOut:function(){n=null},hitDone:function(){r.unrenderEventResize(),s.showEvent(u),a()},interactionEnd:function(t){i&&r.segResizeStop(e,t),n&&s.reportEventResize(u,n,this.largeUnit,c,t),r.segResizeListener=null}});return h},segResizeStart:function(e,t){this.isResizingSeg=!0,this.view.trigger("eventResizeStart",e.el[0],e.event,t,{})},segResizeStop:function(e,t){this.isResizingSeg=!1,this.view.trigger("eventResizeStop",e.el[0],e.event,t,{})},computeEventStartResize:function(e,t,i){return this.computeEventResize("start",e,t,i)},computeEventEndResize:function(e,t,i){return this.computeEventResize("end",e,t,i)},computeEventResize:function(e,t,i,n){var r,s,o=this.view.calendar,a=this.diffDates(i[e],t[e]);return r={start:n.start.clone(),end:o.getEventEnd(n),allDay:n.allDay},r.allDay&&q(a)&&(r.allDay=!1,o.normalizeEventTimes(r)),r[e].add(a),r.start.isBefore(r.end)||(s=this.minResizeDuration||(n.allDay?o.defaultAllDayEventDuration:o.defaultTimedEventDuration),"start"==e?r.start=r.end.clone().subtract(s):r.end=r.start.clone().add(s)),r},renderEventResize:function(){},unrenderEventResize:function(){},getEventTimeText:function(e,t,i){return null==t&&(t=this.eventTimeFormat),null==i&&(i=this.displayEventEnd),this.displayEventTime&&e.start.hasTime()?i&&e.end?this.view.formatRange(e,t):e.start.format(t):""},getSegClasses:function(e,t,i){var n=this.view,r=e.event,s=["fc-event",e.isStart?"fc-start":"fc-not-start",e.isEnd?"fc-end":"fc-not-end"].concat(r.className,r.source?r.source.className:[]);return t&&s.push("fc-draggable"),i&&s.push("fc-resizable"),n.isEventSelected(r)&&s.push("fc-selected"),s},getSegSkinCss:function(e){var t=e.event,i=this.view,n=t.source||{},r=t.color,s=n.color,o=i.opt("eventColor");return{"background-color":t.backgroundColor||r||n.backgroundColor||s||i.opt("eventBackgroundColor")||o,"border-color":t.borderColor||r||n.borderColor||s||i.opt("eventBorderColor")||o,color:t.textColor||n.textColor||i.opt("eventTextColor")}},eventToSegs:function(e){return this.eventsToSegs([e])},eventToSpan:function(e){return this.eventToSpans(e)[0]},eventToSpans:function(e){var t=this.eventToRange(e);return this.eventRangeToSpans(t,e)},eventsToSegs:function(t,i){var n=this,r=Ot(t),s=[];return e.each(r,function(e,t){var r,o=[];for(r=0;r<t.length;r++)o.push(n.eventToRange(t[r]));if(At(t[0]))for(o=n.invertRanges(o),r=0;r<o.length;r++)s.push.apply(s,n.eventRangeToSegs(o[r],t[0],i));else for(r=0;r<o.length;r++)s.push.apply(s,n.eventRangeToSegs(o[r],t[r],i))}),s},eventToRange:function(e){return{start:e.start.clone().stripZone(),end:(e.end?e.end.clone():this.view.calendar.getDefaultEventEnd(null!=e.allDay?e.allDay:!e.start.hasTime(),e.start)).stripZone()}},eventRangeToSegs:function(e,t,i){var n,r=this.eventRangeToSpans(e,t),s=[];for(n=0;n<r.length;n++)s.push.apply(s,this.eventSpanToSegs(r[n],t,i));return s},eventRangeToSpans:function(t){return[e.extend({},t)]},eventSpanToSegs:function(e,t,i){var n,r,s=i?i(e):this.spanToSegs(e);for(n=0;n<s.length;n++)r=s[n],r.event=t,r.eventStartMS=+e.start,r.eventDurationMS=e.end-e.start;return s},invertRanges:function(e){var t,i,n=this.view,r=n.start.clone(),s=n.end.clone(),o=[],a=r;for(e.sort($t),t=0;t<e.length;t++)i=e[t],i.start>a&&o.push({start:a,end:i.start}),a=i.end;return s>a&&o.push({start:a,end:s}),o},sortEventSegs:function(e){e.sort(lt(this,"compareEventSegs"))},compareEventSegs:function(e,t){return e.eventStartMS-t.eventStartMS||t.eventDurationMS-e.eventDurationMS||t.event.allDay-e.event.allDay||$(e.event,t.event,this.view.eventOrderSpecs)}}),Gt.isBgEvent=Mt,Gt.dataAttrPrefix="";var wi=Gt.DayTableMixin={breakOnWeeks:!1,dayDates:null,dayIndices:null,daysPerRow:null,rowCnt:null,colCnt:null,colHeadFormat:null,updateDayTable:function(){for(var e,t,i,n=this.view,r=this.start.clone(),s=-1,o=[],a=[];r.isBefore(this.end);)n.isHiddenDay(r)?o.push(s+.5):(s++,o.push(s),a.push(r.clone())),r.add(1,"days");if(this.breakOnWeeks){for(t=a[0].day(),e=1;e<a.length&&a[e].day()!=t;e++);i=Math.ceil(a.length/e)}else i=1,e=a.length;this.dayDates=a,this.dayIndices=o,this.daysPerRow=e,this.rowCnt=i,this.updateDayTableCols()},updateDayTableCols:function(){this.colCnt=this.computeColCnt(),this.colHeadFormat=this.view.opt("columnFormat")||this.computeColHeadFormat()},computeColCnt:function(){return this.daysPerRow},getCellDate:function(e,t){return this.dayDates[this.getCellDayIndex(e,t)].clone()},getCellRange:function(e,t){var i=this.getCellDate(e,t),n=i.clone().add(1,"days");return{start:i,end:n}},getCellDayIndex:function(e,t){return e*this.daysPerRow+this.getColDayIndex(t)},getColDayIndex:function(e){return this.isRTL?this.colCnt-1-e:e},getDateDayIndex:function(e){var t=this.dayIndices,i=e.diff(this.start,"days");return 0>i?t[0]-1:i>=t.length?t[t.length-1]+1:t[i]},computeColHeadFormat:function(){return this.rowCnt>1||this.colCnt>10?"ddd":this.colCnt>1?this.view.opt("dayOfMonthFormat"):"dddd"},sliceRangeByRow:function(e){var t,i,n,r,s,o=this.daysPerRow,a=this.view.computeDayRange(e),l=this.getDateDayIndex(a.start),c=this.getDateDayIndex(a.end.clone().subtract(1,"days")),u=[];for(t=0;t<this.rowCnt;t++)i=t*o,n=i+o-1,r=Math.max(l,i),s=Math.min(c,n),r=Math.ceil(r),s=Math.floor(s),s>=r&&u.push({row:t,firstRowDayIndex:r-i,lastRowDayIndex:s-i,isStart:r===l,isEnd:s===c});return u},sliceRangeByDay:function(e){var t,i,n,r,s,o,a=this.daysPerRow,l=this.view.computeDayRange(e),c=this.getDateDayIndex(l.start),u=this.getDateDayIndex(l.end.clone().subtract(1,"days")),d=[];for(t=0;t<this.rowCnt;t++)for(i=t*a,n=i+a-1,r=i;n>=r;r++)s=Math.max(c,r),o=Math.min(u,r),s=Math.ceil(s),o=Math.floor(o),o>=s&&d.push({row:t,firstRowDayIndex:s-i,lastRowDayIndex:o-i,isStart:s===c,isEnd:o===u});return d},renderHeadHtml:function(){var e=this.view;return'<div class="fc-row '+e.widgetHeaderClass+'"><table><thead>'+this.renderHeadTrHtml()+"</thead></table></div>"},renderHeadIntroHtml:function(){return this.renderIntroHtml()},renderHeadTrHtml:function(){return"<tr>"+(this.isRTL?"":this.renderHeadIntroHtml())+this.renderHeadDateCellsHtml()+(this.isRTL?this.renderHeadIntroHtml():"")+"</tr>"},renderHeadDateCellsHtml:function(){var e,t,i=[];for(e=0;e<this.colCnt;e++)t=this.getCellDate(0,e),i.push(this.renderHeadDateCellHtml(t));return i.join("")},renderHeadDateCellHtml:function(e,t,i){var n=this.view;return'<th class="fc-day-header '+n.widgetHeaderClass+" fc-"+Zt[e.day()]+'"'+(1==this.rowCnt?' data-date="'+e.format("YYYY-MM-DD")+'"':"")+(t>1?' colspan="'+t+'"':"")+(i?" "+i:"")+">"+it(e.format(this.colHeadFormat))+"</th>"},renderBgTrHtml:function(e){return"<tr>"+(this.isRTL?"":this.renderBgIntroHtml(e))+this.renderBgCellsHtml(e)+(this.isRTL?this.renderBgIntroHtml(e):"")+"</tr>"},renderBgIntroHtml:function(){return this.renderIntroHtml()},renderBgCellsHtml:function(e){var t,i,n=[];for(t=0;t<this.colCnt;t++)i=this.getCellDate(e,t),n.push(this.renderBgCellHtml(i));return n.join("")},renderBgCellHtml:function(e,t){var i=this.view,n=this.getDayClasses(e);return n.unshift("fc-day",i.widgetContentClass),'<td class="'+n.join(" ")+'" data-date="'+e.format("YYYY-MM-DD")+'"'+(t?" "+t:"")+"></td>"},renderIntroHtml:function(){},bookendCells:function(e){var t=this.renderIntroHtml();t&&(this.isRTL?e.append(t):e.prepend(t))}},xi=Gt.DayGrid=bi.extend(wi,{numbersVisible:!1,bottomCoordPadding:0,rowEls:null,cellEls:null,helperEls:null,rowCoordCache:null,colCoordCache:null,renderDates:function(e){var t,i,n=this.view,r=this.rowCnt,s=this.colCnt,o="";for(t=0;r>t;t++)o+=this.renderDayRowHtml(t,e);for(this.el.html(o),this.rowEls=this.el.find(".fc-row"),this.cellEls=this.el.find(".fc-day"),this.rowCoordCache=new gi({els:this.rowEls,isVertical:!0}),this.colCoordCache=new gi({els:this.cellEls.slice(0,this.colCnt),isHorizontal:!0}),t=0;r>t;t++)for(i=0;s>i;i++)n.trigger("dayRender",null,this.getCellDate(t,i),this.getCellEl(t,i))},unrenderDates:function(){this.removeSegPopover()},renderBusinessHours:function(){var e=this.view.calendar.getBusinessHoursEvents(!0),t=this.eventsToSegs(e);this.renderFill("businessHours",t,"bgevent")},renderDayRowHtml:function(e,t){var i=this.view,n=["fc-row","fc-week",i.widgetContentClass];return t&&n.push("fc-rigid"),'<div class="'+n.join(" ")+'"><div class="fc-bg"><table>'+this.renderBgTrHtml(e)+'</table></div><div class="fc-content-skeleton"><table>'+(this.numbersVisible?"<thead>"+this.renderNumberTrHtml(e)+"</thead>":"")+"</table></div></div>"},renderNumberTrHtml:function(e){return"<tr>"+(this.isRTL?"":this.renderNumberIntroHtml(e))+this.renderNumberCellsHtml(e)+(this.isRTL?this.renderNumberIntroHtml(e):"")+"</tr>"},renderNumberIntroHtml:function(){return this.renderIntroHtml()},renderNumberCellsHtml:function(e){var t,i,n=[];for(t=0;t<this.colCnt;t++)i=this.getCellDate(e,t),n.push(this.renderNumberCellHtml(i));return n.join("")},renderNumberCellHtml:function(e){var t;return this.view.dayNumbersVisible?(t=this.getDayClasses(e),t.unshift("fc-day-number"),'<td class="'+t.join(" ")+'" data-date="'+e.format()+'">'+e.date()+"</td>"):"<td/>"},computeEventTimeFormat:function(){return this.view.opt("extraSmallTimeFormat")},computeDisplayEventEnd:function(){return 1==this.colCnt},rangeUpdated:function(){this.updateDayTable()},spanToSegs:function(e){var t,i,n=this.sliceRangeByRow(e);for(t=0;t<n.length;t++)i=n[t],this.isRTL?(i.leftCol=this.daysPerRow-1-i.lastRowDayIndex,i.rightCol=this.daysPerRow-1-i.firstRowDayIndex):(i.leftCol=i.firstRowDayIndex,i.rightCol=i.lastRowDayIndex);return n},prepareHits:function(){this.colCoordCache.build(),this.rowCoordCache.build(),this.rowCoordCache.bottoms[this.rowCnt-1]+=this.bottomCoordPadding},releaseHits:function(){this.colCoordCache.clear(),this.rowCoordCache.clear()},queryHit:function(e,t){var i=this.colCoordCache.getHorizontalIndex(e),n=this.rowCoordCache.getVerticalIndex(t);return null!=n&&null!=i?this.getCellHit(n,i):void 0},getHitSpan:function(e){return this.getCellRange(e.row,e.col)},getHitEl:function(e){return this.getCellEl(e.row,e.col)},getCellHit:function(e,t){return{row:e,col:t,component:this,left:this.colCoordCache.getLeftOffset(t),right:this.colCoordCache.getRightOffset(t),top:this.rowCoordCache.getTopOffset(e),bottom:this.rowCoordCache.getBottomOffset(e)}},getCellEl:function(e,t){return this.cellEls.eq(e*this.colCnt+t)},renderDrag:function(e,t){return this.renderHighlight(this.eventToSpan(e)),t&&!t.el.closest(this.el).length?this.renderEventLocationHelper(e,t):void 0},unrenderDrag:function(){this.unrenderHighlight(),this.unrenderHelper()},renderEventResize:function(e,t){return this.renderHighlight(this.eventToSpan(e)),this.renderEventLocationHelper(e,t)},unrenderEventResize:function(){this.unrenderHighlight(),this.unrenderHelper()},renderHelper:function(t,i){var n,r=[],s=this.eventToSegs(t);return s=this.renderFgSegEls(s),n=this.renderSegRows(s),this.rowEls.each(function(t,s){var o,a=e(s),l=e('<div class="fc-helper-skeleton"><table/></div>');o=i&&i.row===t?i.el.position().top:a.find(".fc-content-skeleton tbody").position().top,l.css("top",o).find("table").append(n[t].tbodyEl),a.append(l),r.push(l[0])}),this.helperEls=e(r)},unrenderHelper:function(){this.helperEls&&(this.helperEls.remove(),this.helperEls=null)},fillSegTag:"td",renderFill:function(t,i,n){var r,s,o,a=[];for(i=this.renderFillSegEls(t,i),r=0;r<i.length;r++)s=i[r],o=this.renderFillRow(t,s,n),this.rowEls.eq(s.row).append(o),a.push(o[0]);return this.elsByFill[t]=e(a),i},renderFillRow:function(t,i,n){var r,s,o=this.colCnt,a=i.leftCol,l=i.rightCol+1;return n=n||t.toLowerCase(),r=e('<div class="fc-'+n+'-skeleton"><table><tr/></table></div>'),s=r.find("tr"),a>0&&s.append('<td colspan="'+a+'"/>'),s.append(i.el.attr("colspan",l-a)),o>l&&s.append('<td colspan="'+(o-l)+'"/>'),this.bookendCells(s),r}});xi.mixin({rowStructs:null,unrenderEvents:function(){this.removeSegPopover(),bi.prototype.unrenderEvents.apply(this,arguments)},getEventSegs:function(){return bi.prototype.getEventSegs.call(this).concat(this.popoverSegs||[])},renderBgSegs:function(t){var i=e.grep(t,function(e){return e.event.allDay});return bi.prototype.renderBgSegs.call(this,i)},renderFgSegs:function(t){var i;return t=this.renderFgSegEls(t),i=this.rowStructs=this.renderSegRows(t),this.rowEls.each(function(t,n){e(n).find(".fc-content-skeleton > table").append(i[t].tbodyEl)}),t},unrenderFgSegs:function(){for(var e,t=this.rowStructs||[];e=t.pop();)e.tbodyEl.remove();this.rowStructs=null},renderSegRows:function(e){var t,i,n=[];for(t=this.groupSegRows(e),i=0;i<t.length;i++)n.push(this.renderSegRow(i,t[i]));return n},fgSegHtml:function(e,t){var i,n,r=this.view,s=e.event,o=r.isEventDraggable(s),a=!t&&s.allDay&&e.isStart&&r.isEventResizableFromStart(s),l=!t&&s.allDay&&e.isEnd&&r.isEventResizableFromEnd(s),c=this.getSegClasses(e,o,a||l),u=rt(this.getSegSkinCss(e)),d="";
return c.unshift("fc-day-grid-event","fc-h-event"),e.isStart&&(i=this.getEventTimeText(s),i&&(d='<span class="fc-time">'+it(i)+"</span>")),n='<span class="fc-title">'+(it(s.title||"")||"&nbsp;")+"</span>",'<a class="'+c.join(" ")+'"'+(s.url?' href="'+it(s.url)+'"':"")+(u?' style="'+u+'"':"")+'><div class="fc-content">'+(this.isRTL?n+" "+d:d+" "+n)+"</div>"+(a?'<div class="fc-resizer fc-start-resizer" />':"")+(l?'<div class="fc-resizer fc-end-resizer" />':"")+"</a>"},renderSegRow:function(t,i){function n(t){for(;t>o;)u=(v[r-1]||[])[o],u?u.attr("rowspan",parseInt(u.attr("rowspan")||1,10)+1):(u=e("<td/>"),a.append(u)),m[r][o]=u,v[r][o]=u,o++}var r,s,o,a,l,c,u,d=this.colCnt,h=this.buildSegLevels(i),f=Math.max(1,h.length),p=e("<tbody/>"),g=[],m=[],v=[];for(r=0;f>r;r++){if(s=h[r],o=0,a=e("<tr/>"),g.push([]),m.push([]),v.push([]),s)for(l=0;l<s.length;l++){for(c=s[l],n(c.leftCol),u=e('<td class="fc-event-container"/>').append(c.el),c.leftCol!=c.rightCol?u.attr("colspan",c.rightCol-c.leftCol+1):v[r][o]=u;o<=c.rightCol;)m[r][o]=u,g[r][o]=c,o++;a.append(u)}n(d),this.bookendCells(a),p.append(a)}return{row:t,tbodyEl:p,cellMatrix:m,segMatrix:g,segLevels:h,segs:i}},buildSegLevels:function(e){var t,i,n,r=[];for(this.sortEventSegs(e),t=0;t<e.length;t++){for(i=e[t],n=0;n<r.length&&Ht(i,r[n]);n++);i.level=n,(r[n]||(r[n]=[])).push(i)}for(n=0;n<r.length;n++)r[n].sort(Pt);return r},groupSegRows:function(e){var t,i=[];for(t=0;t<this.rowCnt;t++)i.push([]);for(t=0;t<e.length;t++)i[e[t].row].push(e[t]);return i}}),xi.mixin({segPopover:null,popoverSegs:null,removeSegPopover:function(){this.segPopover&&this.segPopover.hide()},limitRows:function(e){var t,i,n=this.rowStructs||[];for(t=0;t<n.length;t++)this.unlimitRow(t),i=e?"number"==typeof e?e:this.computeRowLevelLimit(t):!1,i!==!1&&this.limitRow(t,i)},computeRowLevelLimit:function(t){function i(t,i){s=Math.max(s,e(i).outerHeight())}var n,r,s,o=this.rowEls.eq(t),a=o.height(),l=this.rowStructs[t].tbodyEl.children();for(n=0;n<l.length;n++)if(r=l.eq(n).removeClass("fc-limited"),s=0,r.find("> td > :first-child").each(i),r.position().top+s>a)return n;return!1},limitRow:function(t,i){function n(n){for(;n>k;)c=b.getCellSegs(t,k,i),c.length&&(h=s[i-1][k],y=b.renderMoreLink(t,k,c),v=e("<div/>").append(y),h.append(v),x.push(v[0])),k++}var r,s,o,a,l,c,u,d,h,f,p,g,m,v,y,b=this,w=this.rowStructs[t],x=[],k=0;if(i&&i<w.segLevels.length){for(r=w.segLevels[i-1],s=w.cellMatrix,o=w.tbodyEl.children().slice(i).addClass("fc-limited").get(),a=0;a<r.length;a++){for(l=r[a],n(l.leftCol),d=[],u=0;k<=l.rightCol;)c=this.getCellSegs(t,k,i),d.push(c),u+=c.length,k++;if(u){for(h=s[i-1][l.leftCol],f=h.attr("rowspan")||1,p=[],g=0;g<d.length;g++)m=e('<td class="fc-more-cell"/>').attr("rowspan",f),c=d[g],y=this.renderMoreLink(t,l.leftCol+g,[l].concat(c)),v=e("<div/>").append(y),m.append(v),p.push(m[0]),x.push(m[0]);h.addClass("fc-limited").after(e(p)),o.push(h[0])}}n(this.colCnt),w.moreEls=e(x),w.limitedEls=e(o)}},unlimitRow:function(e){var t=this.rowStructs[e];t.moreEls&&(t.moreEls.remove(),t.moreEls=null),t.limitedEls&&(t.limitedEls.removeClass("fc-limited"),t.limitedEls=null)},renderMoreLink:function(t,i,n){var r=this,s=this.view;return e('<a class="fc-more"/>').text(this.getMoreLinkText(n.length)).on("click",function(o){var a=s.opt("eventLimitClick"),l=r.getCellDate(t,i),c=e(this),u=r.getCellEl(t,i),d=r.getCellSegs(t,i),h=r.resliceDaySegs(d,l),f=r.resliceDaySegs(n,l);"function"==typeof a&&(a=s.trigger("eventLimitClick",null,{date:l,dayEl:u,moreEl:c,segs:h,hiddenSegs:f},o)),"popover"===a?r.showSegPopover(t,i,c,h):"string"==typeof a&&s.calendar.zoomTo(l,a)})},showSegPopover:function(e,t,i,n){var r,s,o=this,a=this.view,l=i.parent();r=1==this.rowCnt?a.el:this.rowEls.eq(e),s={className:"fc-more-popover",content:this.renderSegPopoverContent(e,t,n),parentEl:this.el,top:r.offset().top,autoHide:!0,viewportConstrain:a.opt("popoverViewportConstrain"),hide:function(){o.segPopover.removeElement(),o.segPopover=null,o.popoverSegs=null}},this.isRTL?s.right=l.offset().left+l.outerWidth()+1:s.left=l.offset().left-1,this.segPopover=new pi(s),this.segPopover.show()},renderSegPopoverContent:function(t,i,n){var r,s=this.view,o=s.opt("theme"),a=this.getCellDate(t,i).format(s.opt("dayPopoverFormat")),l=e('<div class="fc-header '+s.widgetHeaderClass+'"><span class="fc-close '+(o?"ui-icon ui-icon-closethick":"fc-icon fc-icon-x")+'"></span><span class="fc-title">'+it(a)+'</span><div class="fc-clear"/></div><div class="fc-body '+s.widgetContentClass+'"><div class="fc-event-container"></div></div>'),c=l.find(".fc-event-container");for(n=this.renderFgSegEls(n,!0),this.popoverSegs=n,r=0;r<n.length;r++)this.prepareHits(),n[r].hit=this.getCellHit(t,i),this.releaseHits(),c.append(n[r].el);return l},resliceDaySegs:function(t,i){var n=e.map(t,function(e){return e.event}),r=i.clone(),s=r.clone().add(1,"days"),o={start:r,end:s};return t=this.eventsToSegs(n,function(e){var t=P(e,o);return t?[t]:[]}),this.sortEventSegs(t),t},getMoreLinkText:function(e){var t=this.view.opt("eventLimitText");return"function"==typeof t?t(e):"+"+e+" "+t},getCellSegs:function(e,t,i){for(var n,r=this.rowStructs[e].segMatrix,s=i||0,o=[];s<r.length;)n=r[s][t],n&&o.push(n),s++;return o}});var ki=Gt.TimeGrid=bi.extend(wi,{slotDuration:null,snapDuration:null,snapsPerSlot:null,minTime:null,maxTime:null,labelFormat:null,labelInterval:null,colEls:null,slatContainerEl:null,slatEls:null,nowIndicatorEls:null,colCoordCache:null,slatCoordCache:null,constructor:function(){bi.apply(this,arguments),this.processOptions()},renderDates:function(){this.el.html(this.renderHtml()),this.colEls=this.el.find(".fc-day"),this.slatContainerEl=this.el.find(".fc-slats"),this.slatEls=this.slatContainerEl.find("tr"),this.colCoordCache=new gi({els:this.colEls,isHorizontal:!0}),this.slatCoordCache=new gi({els:this.slatEls,isVertical:!0}),this.renderContentSkeleton()},renderHtml:function(){return'<div class="fc-bg"><table>'+this.renderBgTrHtml(0)+'</table></div><div class="fc-slats"><table>'+this.renderSlatRowHtml()+"</table></div>"},renderSlatRowHtml:function(){for(var e,i,n,r=this.view,s=this.isRTL,o="",a=t.duration(+this.minTime);a<this.maxTime;)e=this.start.clone().time(a),i=at(B(a,this.labelInterval)),n='<td class="fc-axis fc-time '+r.widgetContentClass+'" '+r.axisStyleAttr()+">"+(i?"<span>"+it(e.format(this.labelFormat))+"</span>":"")+"</td>",o+='<tr data-time="'+e.format("HH:mm:ss")+'"'+(i?"":' class="fc-minor"')+">"+(s?"":n)+'<td class="'+r.widgetContentClass+'"/>'+(s?n:"")+"</tr>",a.add(this.slotDuration);return o},processOptions:function(){var i,n=this.view,r=n.opt("slotDuration"),s=n.opt("snapDuration");r=t.duration(r),s=s?t.duration(s):r,this.slotDuration=r,this.snapDuration=s,this.snapsPerSlot=r/s,this.minResizeDuration=s,this.minTime=t.duration(n.opt("minTime")),this.maxTime=t.duration(n.opt("maxTime")),i=n.opt("slotLabelFormat"),e.isArray(i)&&(i=i[i.length-1]),this.labelFormat=i||n.opt("axisFormat")||n.opt("smallTimeFormat"),i=n.opt("slotLabelInterval"),this.labelInterval=i?t.duration(i):this.computeLabelInterval(r)},computeLabelInterval:function(e){var i,n,r;for(i=Li.length-1;i>=0;i--)if(n=t.duration(Li[i]),r=B(n,e),at(r)&&r>1)return n;return t.duration(e)},computeEventTimeFormat:function(){return this.view.opt("noMeridiemTimeFormat")},computeDisplayEventEnd:function(){return!0},prepareHits:function(){this.colCoordCache.build(),this.slatCoordCache.build()},releaseHits:function(){this.colCoordCache.clear()},queryHit:function(e,t){var i=this.snapsPerSlot,n=this.colCoordCache,r=this.slatCoordCache,s=n.getHorizontalIndex(e),o=r.getVerticalIndex(t);if(null!=s&&null!=o){var a=r.getTopOffset(o),l=r.getHeight(o),c=(t-a)/l,u=Math.floor(c*i),d=o*i+u,h=a+u/i*l,f=a+(u+1)/i*l;return{col:s,snap:d,component:this,left:n.getLeftOffset(s),right:n.getRightOffset(s),top:h,bottom:f}}},getHitSpan:function(e){var t,i=this.getCellDate(0,e.col),n=this.computeSnapTime(e.snap);return i.time(n),t=i.clone().add(this.snapDuration),{start:i,end:t}},getHitEl:function(e){return this.colEls.eq(e.col)},rangeUpdated:function(){this.updateDayTable()},computeSnapTime:function(e){return t.duration(this.minTime+this.snapDuration*e)},spanToSegs:function(e){var t,i=this.sliceRangeByTimes(e);for(t=0;t<i.length;t++)i[t].col=this.isRTL?this.daysPerRow-1-i[t].dayIndex:i[t].dayIndex;return i},sliceRangeByTimes:function(e){var t,i,n,r,s=[];for(i=0;i<this.daysPerRow;i++)n=this.dayDates[i].clone(),r={start:n.clone().time(this.minTime),end:n.clone().time(this.maxTime)},t=P(e,r),t&&(t.dayIndex=i,s.push(t));return s},updateSize:function(e){this.slatCoordCache.build(),e&&this.updateSegVerticals([].concat(this.fgSegs||[],this.bgSegs||[],this.businessSegs||[]))},getTotalSlatHeight:function(){return this.slatContainerEl.outerHeight()},computeDateTop:function(e,i){return this.computeTimeTop(t.duration(e-i.clone().stripTime()))},computeTimeTop:function(e){var t,i,n=this.slatEls.length,r=(e-this.minTime)/this.slotDuration;return r=Math.max(0,r),r=Math.min(n,r),t=Math.floor(r),t=Math.min(t,n-1),i=r-t,this.slatCoordCache.getTopPosition(t)+this.slatCoordCache.getHeight(t)*i},renderDrag:function(e,t){return t?this.renderEventLocationHelper(e,t):void this.renderHighlight(this.eventToSpan(e))},unrenderDrag:function(){this.unrenderHelper(),this.unrenderHighlight()},renderEventResize:function(e,t){return this.renderEventLocationHelper(e,t)},unrenderEventResize:function(){this.unrenderHelper()},renderHelper:function(e,t){return this.renderHelperSegs(this.eventToSegs(e),t)},unrenderHelper:function(){this.unrenderHelperSegs()},renderBusinessHours:function(){var e=this.view.calendar.getBusinessHoursEvents(),t=this.eventsToSegs(e);this.renderBusinessSegs(t)},unrenderBusinessHours:function(){this.unrenderBusinessSegs()},getNowIndicatorUnit:function(){return"minute"},renderNowIndicator:function(t){var i,n=this.spanToSegs({start:t,end:t}),r=this.computeDateTop(t,t),s=[];for(i=0;i<n.length;i++)s.push(e('<div class="fc-now-indicator fc-now-indicator-line"></div>').css("top",r).appendTo(this.colContainerEls.eq(n[i].col))[0]);n.length>0&&s.push(e('<div class="fc-now-indicator fc-now-indicator-arrow"></div>').css("top",r).appendTo(this.el.find(".fc-content-skeleton"))[0]),this.nowIndicatorEls=e(s)},unrenderNowIndicator:function(){this.nowIndicatorEls&&(this.nowIndicatorEls.remove(),this.nowIndicatorEls=null)},renderSelection:function(e){this.view.opt("selectHelper")?this.renderEventLocationHelper(e):this.renderHighlight(e)},unrenderSelection:function(){this.unrenderHelper(),this.unrenderHighlight()},renderHighlight:function(e){this.renderHighlightSegs(this.spanToSegs(e))},unrenderHighlight:function(){this.unrenderHighlightSegs()}});ki.mixin({colContainerEls:null,fgContainerEls:null,bgContainerEls:null,helperContainerEls:null,highlightContainerEls:null,businessContainerEls:null,fgSegs:null,bgSegs:null,helperSegs:null,highlightSegs:null,businessSegs:null,renderContentSkeleton:function(){var t,i,n="";for(t=0;t<this.colCnt;t++)n+='<td><div class="fc-content-col"><div class="fc-event-container fc-helper-container"></div><div class="fc-event-container"></div><div class="fc-highlight-container"></div><div class="fc-bgevent-container"></div><div class="fc-business-container"></div></div></td>';i=e('<div class="fc-content-skeleton"><table><tr>'+n+"</tr></table></div>"),this.colContainerEls=i.find(".fc-content-col"),this.helperContainerEls=i.find(".fc-helper-container"),this.fgContainerEls=i.find(".fc-event-container:not(.fc-helper-container)"),this.bgContainerEls=i.find(".fc-bgevent-container"),this.highlightContainerEls=i.find(".fc-highlight-container"),this.businessContainerEls=i.find(".fc-business-container"),this.bookendCells(i.find("tr")),this.el.append(i)},renderFgSegs:function(e){return e=this.renderFgSegsIntoContainers(e,this.fgContainerEls),this.fgSegs=e,e},unrenderFgSegs:function(){this.unrenderNamedSegs("fgSegs")},renderHelperSegs:function(t,i){var n,r,s,o=[];for(t=this.renderFgSegsIntoContainers(t,this.helperContainerEls),n=0;n<t.length;n++)r=t[n],i&&i.col===r.col&&(s=i.el,r.el.css({left:s.css("left"),right:s.css("right"),"margin-left":s.css("margin-left"),"margin-right":s.css("margin-right")})),o.push(r.el[0]);return this.helperSegs=t,e(o)},unrenderHelperSegs:function(){this.unrenderNamedSegs("helperSegs")},renderBgSegs:function(e){return e=this.renderFillSegEls("bgEvent",e),this.updateSegVerticals(e),this.attachSegsByCol(this.groupSegsByCol(e),this.bgContainerEls),this.bgSegs=e,e},unrenderBgSegs:function(){this.unrenderNamedSegs("bgSegs")},renderHighlightSegs:function(e){e=this.renderFillSegEls("highlight",e),this.updateSegVerticals(e),this.attachSegsByCol(this.groupSegsByCol(e),this.highlightContainerEls),this.highlightSegs=e},unrenderHighlightSegs:function(){this.unrenderNamedSegs("highlightSegs")},renderBusinessSegs:function(e){e=this.renderFillSegEls("businessHours",e),this.updateSegVerticals(e),this.attachSegsByCol(this.groupSegsByCol(e),this.businessContainerEls),this.businessSegs=e},unrenderBusinessSegs:function(){this.unrenderNamedSegs("businessSegs")},groupSegsByCol:function(e){var t,i=[];for(t=0;t<this.colCnt;t++)i.push([]);for(t=0;t<e.length;t++)i[e[t].col].push(e[t]);return i},attachSegsByCol:function(e,t){var i,n,r;for(i=0;i<this.colCnt;i++)for(n=e[i],r=0;r<n.length;r++)t.eq(i).append(n[r].el)},unrenderNamedSegs:function(e){var t,i=this[e];if(i){for(t=0;t<i.length;t++)i[t].el.remove();this[e]=null}},renderFgSegsIntoContainers:function(e,t){var i,n;for(e=this.renderFgSegEls(e),i=this.groupSegsByCol(e),n=0;n<this.colCnt;n++)this.updateFgSegCoords(i[n]);return this.attachSegsByCol(i,t),e},fgSegHtml:function(e,t){var i,n,r,s=this.view,o=e.event,a=s.isEventDraggable(o),l=!t&&e.isStart&&s.isEventResizableFromStart(o),c=!t&&e.isEnd&&s.isEventResizableFromEnd(o),u=this.getSegClasses(e,a,l||c),d=rt(this.getSegSkinCss(e));return u.unshift("fc-time-grid-event","fc-v-event"),s.isMultiDayEvent(o)?(e.isStart||e.isEnd)&&(i=this.getEventTimeText(e),n=this.getEventTimeText(e,"LT"),r=this.getEventTimeText(e,null,!1)):(i=this.getEventTimeText(o),n=this.getEventTimeText(o,"LT"),r=this.getEventTimeText(o,null,!1)),'<a class="'+u.join(" ")+'"'+(o.url?' href="'+it(o.url)+'"':"")+(d?' style="'+d+'"':"")+'><div class="fc-content">'+(i?'<div class="fc-time" data-start="'+it(r)+'" data-full="'+it(n)+'"><span>'+it(i)+"</span></div>":"")+(o.title?'<div class="fc-title">'+it(o.title)+"</div>":"")+'</div><div class="fc-bg"/>'+(c?'<div class="fc-resizer fc-end-resizer" />':"")+"</a>"},updateSegVerticals:function(e){this.computeSegVerticals(e),this.assignSegVerticals(e)},computeSegVerticals:function(e){var t,i;for(t=0;t<e.length;t++)i=e[t],i.top=this.computeDateTop(i.start,i.start),i.bottom=this.computeDateTop(i.end,i.start)},assignSegVerticals:function(e){var t,i;for(t=0;t<e.length;t++)i=e[t],i.el.css(this.generateSegVerticalCss(i))},generateSegVerticalCss:function(e){return{top:e.top,bottom:-e.bottom}},updateFgSegCoords:function(e){this.computeSegVerticals(e),this.computeFgSegHorizontals(e),this.assignSegVerticals(e),this.assignFgSegHorizontals(e)},computeFgSegHorizontals:function(e){var t,i,n;if(this.sortEventSegs(e),t=zt(e),Nt(t),i=t[0]){for(n=0;n<i.length;n++)Lt(i[n]);for(n=0;n<i.length;n++)this.computeFgSegForwardBack(i[n],0,0)}},computeFgSegForwardBack:function(e,t,i){var n,r=e.forwardSegs;if(void 0===e.forwardCoord)for(r.length?(this.sortForwardSegs(r),this.computeFgSegForwardBack(r[0],t+1,i),e.forwardCoord=r[0].backwardCoord):e.forwardCoord=1,e.backwardCoord=e.forwardCoord-(e.forwardCoord-i)/(t+1),n=0;n<r.length;n++)this.computeFgSegForwardBack(r[n],0,e.forwardCoord)},sortForwardSegs:function(e){e.sort(lt(this,"compareForwardSegs"))},compareForwardSegs:function(e,t){return t.forwardPressure-e.forwardPressure||(e.backwardCoord||0)-(t.backwardCoord||0)||this.compareEventSegs(e,t)},assignFgSegHorizontals:function(e){var t,i;for(t=0;t<e.length;t++)i=e[t],i.el.css(this.generateFgSegHorizontalCss(i)),i.bottom-i.top<30&&i.el.addClass("fc-short")},generateFgSegHorizontalCss:function(e){var t,i,n=this.view.opt("slotEventOverlap"),r=e.backwardCoord,s=e.forwardCoord,o=this.generateSegVerticalCss(e);return n&&(s=Math.min(1,r+2*(s-r))),this.isRTL?(t=1-s,i=r):(t=r,i=1-s),o.zIndex=e.level+1,o.left=100*t+"%",o.right=100*i+"%",n&&e.forwardPressure&&(o[this.isRTL?"marginLeft":"marginRight"]=20),o}});var _i=Gt.View=Ct.extend(di,hi,{type:null,name:null,title:null,calendar:null,options:null,el:null,displaying:null,isSkeletonRendered:!1,isEventsRendered:!1,start:null,end:null,intervalStart:null,intervalEnd:null,intervalDuration:null,intervalUnit:null,isRTL:!1,isSelected:!1,selectedEvent:null,eventOrderSpecs:null,widgetHeaderClass:null,widgetContentClass:null,highlightStateClass:null,nextDayThreshold:null,isHiddenDayHash:null,isNowIndicatorRendered:null,initialNowDate:null,initialNowQueriedMs:null,nowIndicatorTimeoutID:null,nowIndicatorIntervalID:null,constructor:function(e,i,n,r){this.calendar=e,this.type=this.name=i,this.options=n,this.intervalDuration=r||t.duration(1,"day"),this.nextDayThreshold=t.duration(this.opt("nextDayThreshold")),this.initThemingProps(),this.initHiddenDays(),this.isRTL=this.opt("isRTL"),this.eventOrderSpecs=O(this.opt("eventOrder")),this.initialize()},initialize:function(){},opt:function(e){return this.options[e]},trigger:function(e,t){var i=this.calendar;return i.trigger.apply(i,[e,t||this].concat(Array.prototype.slice.call(arguments,2),[this]))},setDate:function(e){this.setRange(this.computeRange(e))},setRange:function(t){e.extend(this,t),this.updateTitle()},computeRange:function(e){var t,i,n=F(this.intervalDuration),r=e.clone().startOf(n),s=r.clone().add(this.intervalDuration);return/year|month|week|day/.test(n)?(r.stripTime(),s.stripTime()):(r.hasTime()||(r=this.calendar.time(0)),s.hasTime()||(s=this.calendar.time(0))),t=r.clone(),t=this.skipHiddenDays(t),i=s.clone(),i=this.skipHiddenDays(i,-1,!0),{intervalUnit:n,intervalStart:r,intervalEnd:s,start:t,end:i}},computePrevDate:function(e){return this.massageCurrentDate(e.clone().startOf(this.intervalUnit).subtract(this.intervalDuration),-1)},computeNextDate:function(e){return this.massageCurrentDate(e.clone().startOf(this.intervalUnit).add(this.intervalDuration))},massageCurrentDate:function(e,t){return this.intervalDuration.as("days")<=1&&this.isHiddenDay(e)&&(e=this.skipHiddenDays(e,t),e.startOf("day")),e},updateTitle:function(){this.title=this.computeTitle()},computeTitle:function(){return this.formatRange({start:this.calendar.applyTimezone(this.intervalStart),end:this.calendar.applyTimezone(this.intervalEnd)},this.opt("titleFormat")||this.computeTitleFormat(),this.opt("titleRangeSeparator"))},computeTitleFormat:function(){return"year"==this.intervalUnit?"YYYY":"month"==this.intervalUnit?this.opt("monthYearFormat"):this.intervalDuration.as("days")>1?"ll":"LL"},formatRange:function(e,t,i){var n=e.end;return n.hasTime()||(n=n.clone().subtract(1)),bt(e.start,n,t,i,this.opt("isRTL"))},setElement:function(e){this.el=e,this.bindGlobalHandlers()},removeElement:function(){this.clear(),this.isSkeletonRendered&&(this.unrenderSkeleton(),this.isSkeletonRendered=!1),this.unbindGlobalHandlers(),this.el.remove()},display:function(e){var t=this,i=null;return this.displaying&&(i=this.queryScroll()),this.calendar.freezeContentHeight(),ut(this.clear(),function(){return t.displaying=ut(t.displayView(e),function(){t.forceScroll(t.computeInitialScroll(i)),t.calendar.unfreezeContentHeight(),t.triggerRender()})})},clear:function(){var t=this,i=this.displaying;return i?ut(i,function(){return t.displaying=null,t.clearEvents(),t.clearView()}):e.when()},displayView:function(e){this.isSkeletonRendered||(this.renderSkeleton(),this.isSkeletonRendered=!0),e&&this.setDate(e),this.render&&this.render(),this.renderDates(),this.updateSize(),this.renderBusinessHours(),this.startNowIndicator()},clearView:function(){this.unselect(),this.stopNowIndicator(),this.triggerUnrender(),this.unrenderBusinessHours(),this.unrenderDates(),this.destroy&&this.destroy()},renderSkeleton:function(){},unrenderSkeleton:function(){},renderDates:function(){},unrenderDates:function(){},triggerRender:function(){this.trigger("viewRender",this,this,this.el)},triggerUnrender:function(){this.trigger("viewDestroy",this,this,this.el)},bindGlobalHandlers:function(){this.listenTo(e(document),"mousedown",this.handleDocumentMousedown),this.listenTo(e(document),"touchstart",this.processUnselect)},unbindGlobalHandlers:function(){this.stopListeningTo(e(document))},initThemingProps:function(){var e=this.opt("theme")?"ui":"fc";this.widgetHeaderClass=e+"-widget-header",this.widgetContentClass=e+"-widget-content",this.highlightStateClass=e+"-state-highlight"},renderBusinessHours:function(){},unrenderBusinessHours:function(){},startNowIndicator:function(){var e,i,n,r=this;this.opt("nowIndicator")&&(e=this.getNowIndicatorUnit(),e&&(i=lt(this,"updateNowIndicator"),this.initialNowDate=this.calendar.getNow(),this.initialNowQueriedMs=+new Date,this.renderNowIndicator(this.initialNowDate),this.isNowIndicatorRendered=!0,n=this.initialNowDate.clone().startOf(e).add(1,e)-this.initialNowDate,this.nowIndicatorTimeoutID=setTimeout(function(){r.nowIndicatorTimeoutID=null,i(),n=+t.duration(1,e),n=Math.max(100,n),r.nowIndicatorIntervalID=setInterval(i,n)},n)))},updateNowIndicator:function(){this.isNowIndicatorRendered&&(this.unrenderNowIndicator(),this.renderNowIndicator(this.initialNowDate.clone().add(new Date-this.initialNowQueriedMs)))},stopNowIndicator:function(){this.isNowIndicatorRendered&&(this.nowIndicatorTimeoutID&&(clearTimeout(this.nowIndicatorTimeoutID),this.nowIndicatorTimeoutID=null),this.nowIndicatorIntervalID&&(clearTimeout(this.nowIndicatorIntervalID),this.nowIndicatorIntervalID=null),this.unrenderNowIndicator(),this.isNowIndicatorRendered=!1)},getNowIndicatorUnit:function(){},renderNowIndicator:function(){},unrenderNowIndicator:function(){},updateSize:function(e){var t;e&&(t=this.queryScroll()),this.updateHeight(e),this.updateWidth(e),this.updateNowIndicator(),e&&this.setScroll(t)},updateWidth:function(){},updateHeight:function(){var e=this.calendar;this.setHeight(e.getSuggestedViewHeight(),e.isHeightAuto())},setHeight:function(){},computeInitialScroll:function(){return 0},queryScroll:function(){},setScroll:function(){},forceScroll:function(e){var t=this;this.setScroll(e),setTimeout(function(){t.setScroll(e)},0)},displayEvents:function(e){var t=this.queryScroll();this.clearEvents(),this.renderEvents(e),this.isEventsRendered=!0,this.setScroll(t),this.triggerEventRender()},clearEvents:function(){var e;this.isEventsRendered&&(e=this.queryScroll(),this.triggerEventUnrender(),this.destroyEvents&&this.destroyEvents(),this.unrenderEvents(),this.setScroll(e),this.isEventsRendered=!1)},renderEvents:function(){},unrenderEvents:function(){},triggerEventRender:function(){this.renderedEventSegEach(function(e){this.trigger("eventAfterRender",e.event,e.event,e.el)}),this.trigger("eventAfterAllRender")},triggerEventUnrender:function(){this.renderedEventSegEach(function(e){this.trigger("eventDestroy",e.event,e.event,e.el)})},resolveEventEl:function(t,i){var n=this.trigger("eventRender",t,t,i);return n===!1?i=null:n&&n!==!0&&(i=e(n)),i},showEvent:function(e){this.renderedEventSegEach(function(e){e.el.css("visibility","")},e)},hideEvent:function(e){this.renderedEventSegEach(function(e){e.el.css("visibility","hidden")},e)},renderedEventSegEach:function(e,t){var i,n=this.getEventSegs();for(i=0;i<n.length;i++)t&&n[i].event._id!==t._id||n[i].el&&e.call(this,n[i])},getEventSegs:function(){return[]},isEventDraggable:function(e){var t=e.source||{};return tt(e.startEditable,t.startEditable,this.opt("eventStartEditable"),e.editable,t.editable,this.opt("editable"))},reportEventDrop:function(e,t,i,n,r){var s=this.calendar,o=s.mutateEvent(e,t,i),a=function(){o.undo(),s.reportEventChange()};this.triggerEventDrop(e,o.dateDelta,a,n,r),s.reportEventChange()},triggerEventDrop:function(e,t,i,n,r){this.trigger("eventDrop",n[0],e,t,i,r,{})},reportExternalDrop:function(t,i,n,r,s){var o,a,l=t.eventProps;l&&(o=e.extend({},l,i),a=this.calendar.renderEvent(o,t.stick)[0]),this.triggerExternalDrop(a,i,n,r,s)},triggerExternalDrop:function(e,t,i,n,r){this.trigger("drop",i[0],t.start,n,r),e&&this.trigger("eventReceive",null,e)},renderDrag:function(){},unrenderDrag:function(){},isEventResizableFromStart:function(e){return this.opt("eventResizableFromStart")&&this.isEventResizable(e)},isEventResizableFromEnd:function(e){return this.isEventResizable(e)},isEventResizable:function(e){var t=e.source||{};return tt(e.durationEditable,t.durationEditable,this.opt("eventDurationEditable"),e.editable,t.editable,this.opt("editable"))},reportEventResize:function(e,t,i,n,r){var s=this.calendar,o=s.mutateEvent(e,t,i),a=function(){o.undo(),s.reportEventChange()};this.triggerEventResize(e,o.durationDelta,a,n,r),s.reportEventChange()},triggerEventResize:function(e,t,i,n,r){this.trigger("eventResize",n[0],e,t,i,r,{})},select:function(e,t){this.unselect(t),this.renderSelection(e),this.reportSelection(e,t)},renderSelection:function(){},reportSelection:function(e,t){this.isSelected=!0,this.triggerSelect(e,t)},triggerSelect:function(e,t){this.trigger("select",null,this.calendar.applyTimezone(e.start),this.calendar.applyTimezone(e.end),t)},unselect:function(e){this.isSelected&&(this.isSelected=!1,this.destroySelection&&this.destroySelection(),this.unrenderSelection(),this.trigger("unselect",null,e))},unrenderSelection:function(){},selectEvent:function(e){this.selectedEvent&&this.selectedEvent===e||(this.unselectEvent(),this.renderedEventSegEach(function(e){e.el.addClass("fc-selected")},e),this.selectedEvent=e)},unselectEvent:function(){this.selectedEvent&&(this.renderedEventSegEach(function(e){e.el.removeClass("fc-selected")},this.selectedEvent),this.selectedEvent=null)},isEventSelected:function(e){return this.selectedEvent&&this.selectedEvent._id===e._id},handleDocumentMousedown:function(e){w(e)&&this.processUnselect(e)},processUnselect:function(e){this.processRangeUnselect(e),this.processEventUnselect(e)},processRangeUnselect:function(t){var i;this.isSelected&&this.opt("unselectAuto")&&(i=this.opt("unselectCancel"),i&&e(t.target).closest(i).length||this.unselect(t))},processEventUnselect:function(t){this.selectedEvent&&(e(t.target).closest(".fc-selected").length||this.unselectEvent())},triggerDayClick:function(e,t,i){this.trigger("dayClick",t,this.calendar.applyTimezone(e.start),i)},initHiddenDays:function(){var t,i=this.opt("hiddenDays")||[],n=[],r=0;for(this.opt("weekends")===!1&&i.push(0,6),t=0;7>t;t++)(n[t]=-1!==e.inArray(t,i))||r++;if(!r)throw"invalid hiddenDays";this.isHiddenDayHash=n},isHiddenDay:function(e){return t.isMoment(e)&&(e=e.day()),this.isHiddenDayHash[e]},skipHiddenDays:function(e,t,i){var n=e.clone();for(t=t||1;this.isHiddenDayHash[(n.day()+(i?t:0)+7)%7];)n.add(t,"days");return n},computeDayRange:function(e){var t,i=e.start.clone().stripTime(),n=e.end,r=null;return n&&(r=n.clone().stripTime(),t=+n.time(),t&&t>=this.nextDayThreshold&&r.add(1,"days")),(!n||i>=r)&&(r=i.clone().add(1,"days")),{start:i,end:r}},isMultiDayEvent:function(e){var t=this.computeDayRange(e);return t.end.diff(t.start,"days")>1}}),Ci=Gt.Scroller=Ct.extend({el:null,scrollEl:null,overflowX:null,overflowY:null,constructor:function(e){e=e||{},this.overflowX=e.overflowX||e.overflow||"auto",this.overflowY=e.overflowY||e.overflow||"auto"},render:function(){this.el=this.renderEl(),this.applyOverflow()},renderEl:function(){return this.scrollEl=e('<div class="fc-scroller"></div>')},clear:function(){this.setHeight("auto"),this.applyOverflow()},destroy:function(){this.el.remove()},applyOverflow:function(){this.scrollEl.css({"overflow-x":this.overflowX,"overflow-y":this.overflowY})},lockOverflow:function(e){var t=this.overflowX,i=this.overflowY;e=e||this.getScrollbarWidths(),"auto"===t&&(t=e.top||e.bottom||this.scrollEl[0].scrollWidth-1>this.scrollEl[0].clientWidth?"scroll":"hidden"),"auto"===i&&(i=e.left||e.right||this.scrollEl[0].scrollHeight-1>this.scrollEl[0].clientHeight?"scroll":"hidden"),this.scrollEl.css({"overflow-x":t,"overflow-y":i})},setHeight:function(e){this.scrollEl.height(e)},getScrollTop:function(){return this.scrollEl.scrollTop()},setScrollTop:function(e){this.scrollEl.scrollTop(e)},getClientWidth:function(){return this.scrollEl[0].clientWidth},getClientHeight:function(){return this.scrollEl[0].clientHeight},getScrollbarWidths:function(){return m(this.scrollEl)}}),Ti=Gt.Calendar=Ct.extend({dirDefaults:null,langDefaults:null,overrides:null,options:null,viewSpecCache:null,view:null,header:null,loadingLevel:0,constructor:Wt,initialize:function(){},initOptions:function(e){var t,r,s,o;e=n(e),t=e.lang,r=Si[t],r||(t=Ti.defaults.lang,r=Si[t]||{}),s=tt(e.isRTL,r.isRTL,Ti.defaults.isRTL),o=s?Ti.rtlDefaults:{},this.dirDefaults=o,this.langDefaults=r,this.overrides=e,this.options=i([Ti.defaults,o,r,e]),Bt(this.options),this.viewSpecCache={}},getViewSpec:function(e){var t=this.viewSpecCache;return t[e]||(t[e]=this.buildViewSpec(e))},getUnitViewSpec:function(t){var i,n,r;if(-1!=e.inArray(t,Jt))for(i=this.header.getViewsWithButtons(),e.each(Gt.views,function(e){i.push(e)}),n=0;n<i.length;n++)if(r=this.getViewSpec(i[n]),r&&r.singleUnit==t)return r},buildViewSpec:function(e){for(var n,r,s,o,a=this.overrides.views||{},l=[],c=[],u=[],d=e;d;)n=Kt[d],r=a[d],d=null,"function"==typeof n&&(n={"class":n}),n&&(l.unshift(n),c.unshift(n.defaults||{}),s=s||n.duration,d=d||n.type),r&&(u.unshift(r),s=s||r.duration,d=d||r.type);return n=G(l),n.type=e,n["class"]?(s&&(s=t.duration(s),s.valueOf()&&(n.duration=s,o=F(s),1===s.as(o)&&(n.singleUnit=o,u.unshift(a[o]||{})))),n.defaults=i(c),n.overrides=i(u),this.buildViewSpecOptions(n),this.buildViewSpecButtonText(n,e),n):!1},buildViewSpecOptions:function(e){e.options=i([Ti.defaults,e.defaults,this.dirDefaults,this.langDefaults,this.overrides,e.overrides]),Bt(e.options)},buildViewSpecButtonText:function(e,t){function i(i){var n=i.buttonText||{};return n[t]||(e.singleUnit?n[e.singleUnit]:null)}e.buttonTextOverride=i(this.overrides)||e.overrides.buttonText,e.buttonTextDefault=i(this.langDefaults)||i(this.dirDefaults)||e.defaults.buttonText||i(Ti.defaults)||(e.duration?this.humanizeDuration(e.duration):null)||t},instantiateView:function(e){var t=this.getViewSpec(e);return new t["class"](this,e,t.options,t.duration)},isValidViewType:function(e){return Boolean(this.getViewSpec(e))},pushLoading:function(){this.loadingLevel++||this.trigger("loading",null,!0,this.view)},popLoading:function(){--this.loadingLevel||this.trigger("loading",null,!1,this.view)},buildSelectSpan:function(e,t){var i,n=this.moment(e).stripZone();return i=t?this.moment(t).stripZone():n.clone().add(n.hasTime()?this.defaultTimedEventDuration:this.defaultAllDayEventDuration),{start:n,end:i}}});Ti.mixin(di),Ti.defaults={titleRangeSeparator:" \u2013 ",monthYearFormat:"MMMM YYYY",defaultTimedEventDuration:"02:00:00",defaultAllDayEventDuration:{days:1},forceEventDuration:!1,nextDayThreshold:"09:00:00",defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberTitle:"W",weekNumberCalculation:"local",scrollTime:"06:00:00",lazyFetching:!0,startParam:"start",endParam:"end",timezoneParam:"timezone",timezone:!1,isRTL:!1,buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day"},buttonIcons:{prev:"left-single-arrow",next:"right-single-arrow",prevYear:"left-double-arrow",nextYear:"right-double-arrow"},theme:!1,themeButtonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e",prevYear:"seek-prev",nextYear:"seek-next"},dragOpacity:.75,dragRevertDuration:500,dragScroll:!0,unselectAuto:!0,dropAccept:"*",eventOrder:"title",eventLimit:!1,eventLimitText:"more",eventLimitClick:"popover",dayPopoverFormat:"LL",handleWindowResize:!0,windowResizeDelay:200,longPressDelay:1e3},Ti.englishDefaults={dayPopoverFormat:"dddd, MMMM D"},Ti.rtlDefaults={header:{left:"next,prev today",center:"",right:"title"},buttonIcons:{prev:"right-single-arrow",next:"left-single-arrow",prevYear:"right-double-arrow",nextYear:"left-double-arrow"},themeButtonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w",nextYear:"seek-prev",prevYear:"seek-next"}};var Si=Gt.langs={};Gt.datepickerLang=function(t,i,n){var r=Si[t]||(Si[t]={});r.isRTL=n.isRTL,r.weekNumberTitle=n.weekHeader,e.each(Di,function(e,t){r[e]=t(n)}),e.datepicker&&(e.datepicker.regional[i]=e.datepicker.regional[t]=n,e.datepicker.regional.en=e.datepicker.regional[""],e.datepicker.setDefaults(n))},Gt.lang=function(t,n){var r,s;r=Si[t]||(Si[t]={}),n&&(r=Si[t]=i([r,n])),s=Ut(t),e.each(Ei,function(e,t){null==r[e]&&(r[e]=t(s,r))}),Ti.defaults.lang=t};var Di={buttonText:function(e){return{prev:nt(e.prevText),next:nt(e.nextText),today:nt(e.currentText)}
},monthYearFormat:function(e){return e.showMonthAfterYear?"YYYY["+e.yearSuffix+"] MMMM":"MMMM YYYY["+e.yearSuffix+"]"}},Ei={dayOfMonthFormat:function(e,t){var i=e.longDateFormat("l");return i=i.replace(/^Y+[^\w\s]*|[^\w\s]*Y+$/g,""),t.isRTL?i+=" ddd":i="ddd "+i,i},mediumTimeFormat:function(e){return e.longDateFormat("LT").replace(/\s*a$/i,"a")},smallTimeFormat:function(e){return e.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"a")},extraSmallTimeFormat:function(e){return e.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"t")},hourFormat:function(e){return e.longDateFormat("LT").replace(":mm","").replace(/(\Wmm)$/,"").replace(/\s*a$/i,"a")},noMeridiemTimeFormat:function(e){return e.longDateFormat("LT").replace(/\s*a$/i,"")}},Mi={smallDayDateFormat:function(e){return e.isRTL?"D dd":"dd D"},weekFormat:function(e){return e.isRTL?"w[ "+e.weekNumberTitle+"]":"["+e.weekNumberTitle+" ]w"},smallWeekFormat:function(e){return e.isRTL?"w["+e.weekNumberTitle+"]":"["+e.weekNumberTitle+"]w"}};Gt.lang("en",Ti.englishDefaults),Gt.sourceNormalizers=[],Gt.sourceFetchers=[];var Ai={dataType:"json",cache:!1},Ii=1;Ti.prototype.normalizeEvent=function(){},Ti.prototype.getPeerEvents=function(e,t){var i,n,r=this.getEventCache(),s=[];for(i=0;i<r.length;i++)n=r[i],t&&t._id===n._id||s.push(n);return s};var Oi=Gt.BasicView=_i.extend({scroller:null,dayGridClass:xi,dayGrid:null,dayNumbersVisible:!1,weekNumbersVisible:!1,weekNumberWidth:null,headContainerEl:null,headRowEl:null,initialize:function(){this.dayGrid=this.instantiateDayGrid(),this.scroller=new Ci({overflowX:"hidden",overflowY:"auto"})},instantiateDayGrid:function(){var e=this.dayGridClass.extend($i);return new e(this)},setRange:function(e){_i.prototype.setRange.call(this,e),this.dayGrid.breakOnWeeks=/year|month|week/.test(this.intervalUnit),this.dayGrid.setRange(e)},computeRange:function(e){var t=_i.prototype.computeRange.call(this,e);return/year|month/.test(t.intervalUnit)&&(t.start.startOf("week"),t.start=this.skipHiddenDays(t.start),t.end.weekday()&&(t.end.add(1,"week").startOf("week"),t.end=this.skipHiddenDays(t.end,-1,!0))),t},renderDates:function(){this.dayNumbersVisible=this.dayGrid.rowCnt>1,this.weekNumbersVisible=this.opt("weekNumbers"),this.dayGrid.numbersVisible=this.dayNumbersVisible||this.weekNumbersVisible,this.el.addClass("fc-basic-view").html(this.renderSkeletonHtml()),this.renderHead(),this.scroller.render();var t=this.scroller.el.addClass("fc-day-grid-container"),i=e('<div class="fc-day-grid" />').appendTo(t);this.el.find(".fc-body > tr > td").append(t),this.dayGrid.setElement(i),this.dayGrid.renderDates(this.hasRigidRows())},renderHead:function(){this.headContainerEl=this.el.find(".fc-head-container").html(this.dayGrid.renderHeadHtml()),this.headRowEl=this.headContainerEl.find(".fc-row")},unrenderDates:function(){this.dayGrid.unrenderDates(),this.dayGrid.removeElement(),this.scroller.destroy()},renderBusinessHours:function(){this.dayGrid.renderBusinessHours()},renderSkeletonHtml:function(){return'<table><thead class="fc-head"><tr><td class="fc-head-container '+this.widgetHeaderClass+'"></td></tr></thead><tbody class="fc-body"><tr><td class="'+this.widgetContentClass+'"></td></tr></tbody></table>'},weekNumberStyleAttr:function(){return null!==this.weekNumberWidth?'style="width:'+this.weekNumberWidth+'px"':""},hasRigidRows:function(){var e=this.opt("eventLimit");return e&&"number"!=typeof e},updateWidth:function(){this.weekNumbersVisible&&(this.weekNumberWidth=u(this.el.find(".fc-week-number")))},setHeight:function(e,t){var i,n,o=this.opt("eventLimit");this.scroller.clear(),s(this.headRowEl),this.dayGrid.removeSegPopover(),o&&"number"==typeof o&&this.dayGrid.limitRows(o),i=this.computeScrollerHeight(e),this.setGridHeight(i,t),o&&"number"!=typeof o&&this.dayGrid.limitRows(o),t||(this.scroller.setHeight(i),n=this.scroller.getScrollbarWidths(),(n.left||n.right)&&(r(this.headRowEl,n),i=this.computeScrollerHeight(e),this.scroller.setHeight(i)),this.scroller.lockOverflow(n))},computeScrollerHeight:function(e){return e-d(this.el,this.scroller.el)},setGridHeight:function(e,t){t?c(this.dayGrid.rowEls):l(this.dayGrid.rowEls,e,!0)},queryScroll:function(){return this.scroller.getScrollTop()},setScroll:function(e){this.scroller.setScrollTop(e)},prepareHits:function(){this.dayGrid.prepareHits()},releaseHits:function(){this.dayGrid.releaseHits()},queryHit:function(e,t){return this.dayGrid.queryHit(e,t)},getHitSpan:function(e){return this.dayGrid.getHitSpan(e)},getHitEl:function(e){return this.dayGrid.getHitEl(e)},renderEvents:function(e){this.dayGrid.renderEvents(e),this.updateHeight()},getEventSegs:function(){return this.dayGrid.getEventSegs()},unrenderEvents:function(){this.dayGrid.unrenderEvents()},renderDrag:function(e,t){return this.dayGrid.renderDrag(e,t)},unrenderDrag:function(){this.dayGrid.unrenderDrag()},renderSelection:function(e){this.dayGrid.renderSelection(e)},unrenderSelection:function(){this.dayGrid.unrenderSelection()}}),$i={renderHeadIntroHtml:function(){var e=this.view;return e.weekNumbersVisible?'<th class="fc-week-number '+e.widgetHeaderClass+'" '+e.weekNumberStyleAttr()+"><span>"+it(e.opt("weekNumberTitle"))+"</span></th>":""},renderNumberIntroHtml:function(e){var t=this.view;return t.weekNumbersVisible?'<td class="fc-week-number" '+t.weekNumberStyleAttr()+"><span>"+this.getCellDate(e,0).format("w")+"</span></td>":""},renderBgIntroHtml:function(){var e=this.view;return e.weekNumbersVisible?'<td class="fc-week-number '+e.widgetContentClass+'" '+e.weekNumberStyleAttr()+"></td>":""},renderIntroHtml:function(){var e=this.view;return e.weekNumbersVisible?'<td class="fc-week-number" '+e.weekNumberStyleAttr()+"></td>":""}},Ri=Gt.MonthView=Oi.extend({computeRange:function(e){var t,i=Oi.prototype.computeRange.call(this,e);return this.isFixedWeeks()&&(t=Math.ceil(i.end.diff(i.start,"weeks",!0)),i.end.add(6-t,"weeks")),i},setGridHeight:function(e,t){t=t||"variable"===this.opt("weekMode"),t&&(e*=this.rowCnt/6),l(this.dayGrid.rowEls,e,!t)},isFixedWeeks:function(){var e=this.opt("weekMode");return e?"fixed"===e:this.opt("fixedWeekCount")}});Kt.basic={"class":Oi},Kt.basicDay={type:"basic",duration:{days:1}},Kt.basicWeek={type:"basic",duration:{weeks:1}},Kt.month={"class":Ri,duration:{months:1},defaults:{fixedWeekCount:!0}};var Hi=Gt.AgendaView=_i.extend({scroller:null,timeGridClass:ki,timeGrid:null,dayGridClass:xi,dayGrid:null,axisWidth:null,headContainerEl:null,noScrollRowEls:null,bottomRuleEl:null,initialize:function(){this.timeGrid=this.instantiateTimeGrid(),this.opt("allDaySlot")&&(this.dayGrid=this.instantiateDayGrid()),this.scroller=new Ci({overflowX:"hidden",overflowY:"auto"})},instantiateTimeGrid:function(){var e=this.timeGridClass.extend(Pi);return new e(this)},instantiateDayGrid:function(){var e=this.dayGridClass.extend(zi);return new e(this)},setRange:function(e){_i.prototype.setRange.call(this,e),this.timeGrid.setRange(e),this.dayGrid&&this.dayGrid.setRange(e)},renderDates:function(){this.el.addClass("fc-agenda-view").html(this.renderSkeletonHtml()),this.renderHead(),this.scroller.render();var t=this.scroller.el.addClass("fc-time-grid-container"),i=e('<div class="fc-time-grid" />').appendTo(t);this.el.find(".fc-body > tr > td").append(t),this.timeGrid.setElement(i),this.timeGrid.renderDates(),this.bottomRuleEl=e('<hr class="fc-divider '+this.widgetHeaderClass+'"/>').appendTo(this.timeGrid.el),this.dayGrid&&(this.dayGrid.setElement(this.el.find(".fc-day-grid")),this.dayGrid.renderDates(),this.dayGrid.bottomCoordPadding=this.dayGrid.el.next("hr").outerHeight()),this.noScrollRowEls=this.el.find(".fc-row:not(.fc-scroller *)")},renderHead:function(){this.headContainerEl=this.el.find(".fc-head-container").html(this.timeGrid.renderHeadHtml())},unrenderDates:function(){this.timeGrid.unrenderDates(),this.timeGrid.removeElement(),this.dayGrid&&(this.dayGrid.unrenderDates(),this.dayGrid.removeElement()),this.scroller.destroy()},renderSkeletonHtml:function(){return'<table><thead class="fc-head"><tr><td class="fc-head-container '+this.widgetHeaderClass+'"></td></tr></thead><tbody class="fc-body"><tr><td class="'+this.widgetContentClass+'">'+(this.dayGrid?'<div class="fc-day-grid"/><hr class="fc-divider '+this.widgetHeaderClass+'"/>':"")+"</td></tr></tbody></table>"},axisStyleAttr:function(){return null!==this.axisWidth?'style="width:'+this.axisWidth+'px"':""},renderBusinessHours:function(){this.timeGrid.renderBusinessHours(),this.dayGrid&&this.dayGrid.renderBusinessHours()},unrenderBusinessHours:function(){this.timeGrid.unrenderBusinessHours(),this.dayGrid&&this.dayGrid.unrenderBusinessHours()},getNowIndicatorUnit:function(){return this.timeGrid.getNowIndicatorUnit()},renderNowIndicator:function(e){this.timeGrid.renderNowIndicator(e)},unrenderNowIndicator:function(){this.timeGrid.unrenderNowIndicator()},updateSize:function(e){this.timeGrid.updateSize(e),_i.prototype.updateSize.call(this,e)},updateWidth:function(){this.axisWidth=u(this.el.find(".fc-axis"))},setHeight:function(e,t){var i,n,o;this.bottomRuleEl.hide(),this.scroller.clear(),s(this.noScrollRowEls),this.dayGrid&&(this.dayGrid.removeSegPopover(),i=this.opt("eventLimit"),i&&"number"!=typeof i&&(i=Ni),i&&this.dayGrid.limitRows(i)),t||(n=this.computeScrollerHeight(e),this.scroller.setHeight(n),o=this.scroller.getScrollbarWidths(),(o.left||o.right)&&(r(this.noScrollRowEls,o),n=this.computeScrollerHeight(e),this.scroller.setHeight(n)),this.scroller.lockOverflow(o),this.timeGrid.getTotalSlatHeight()<n&&this.bottomRuleEl.show())},computeScrollerHeight:function(e){return e-d(this.el,this.scroller.el)},computeInitialScroll:function(){var e=t.duration(this.opt("scrollTime")),i=this.timeGrid.computeTimeTop(e);return i=Math.ceil(i),i&&i++,i},queryScroll:function(){return this.scroller.getScrollTop()},setScroll:function(e){this.scroller.setScrollTop(e)},prepareHits:function(){this.timeGrid.prepareHits(),this.dayGrid&&this.dayGrid.prepareHits()},releaseHits:function(){this.timeGrid.releaseHits(),this.dayGrid&&this.dayGrid.releaseHits()},queryHit:function(e,t){var i=this.timeGrid.queryHit(e,t);return!i&&this.dayGrid&&(i=this.dayGrid.queryHit(e,t)),i},getHitSpan:function(e){return e.component.getHitSpan(e)},getHitEl:function(e){return e.component.getHitEl(e)},renderEvents:function(e){var t,i,n=[],r=[],s=[];for(i=0;i<e.length;i++)e[i].allDay?n.push(e[i]):r.push(e[i]);t=this.timeGrid.renderEvents(r),this.dayGrid&&(s=this.dayGrid.renderEvents(n)),this.updateHeight()},getEventSegs:function(){return this.timeGrid.getEventSegs().concat(this.dayGrid?this.dayGrid.getEventSegs():[])},unrenderEvents:function(){this.timeGrid.unrenderEvents(),this.dayGrid&&this.dayGrid.unrenderEvents()},renderDrag:function(e,t){return e.start.hasTime()?this.timeGrid.renderDrag(e,t):this.dayGrid?this.dayGrid.renderDrag(e,t):void 0},unrenderDrag:function(){this.timeGrid.unrenderDrag(),this.dayGrid&&this.dayGrid.unrenderDrag()},renderSelection:function(e){e.start.hasTime()||e.end.hasTime()?this.timeGrid.renderSelection(e):this.dayGrid&&this.dayGrid.renderSelection(e)},unrenderSelection:function(){this.timeGrid.unrenderSelection(),this.dayGrid&&this.dayGrid.unrenderSelection()}}),Pi={renderHeadIntroHtml:function(){var e,t=this.view;return t.opt("weekNumbers")?(e=this.start.format(t.opt("smallWeekFormat")),'<th class="fc-axis fc-week-number '+t.widgetHeaderClass+'" '+t.axisStyleAttr()+"><span>"+it(e)+"</span></th>"):'<th class="fc-axis '+t.widgetHeaderClass+'" '+t.axisStyleAttr()+"></th>"},renderBgIntroHtml:function(){var e=this.view;return'<td class="fc-axis '+e.widgetContentClass+'" '+e.axisStyleAttr()+"></td>"},renderIntroHtml:function(){var e=this.view;return'<td class="fc-axis" '+e.axisStyleAttr()+"></td>"}},zi={renderBgIntroHtml:function(){var e=this.view;return'<td class="fc-axis '+e.widgetContentClass+'" '+e.axisStyleAttr()+"><span>"+(e.opt("allDayHtml")||it(e.opt("allDayText")))+"</span></td>"},renderIntroHtml:function(){var e=this.view;return'<td class="fc-axis" '+e.axisStyleAttr()+"></td>"}},Ni=5,Li=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}];return Kt.agenda={"class":Hi,defaults:{allDaySlot:!0,allDayText:"all-day",slotDuration:"00:30:00",minTime:"00:00:00",maxTime:"24:00:00",slotEventOverlap:!0}},Kt.agendaDay={type:"agenda",duration:{days:1}},Kt.agendaWeek={type:"agenda",duration:{weeks:1}},Gt}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(function(e){function t(t,o,a,l,c){function u(i,n){var s=n||[{message:i}];(t.googleCalendarError||e.noop).apply(c,s),(c.options.googleCalendarError||e.noop).apply(c,s),r.warn.apply(null,[i].concat(n||[]))}var d,h,f=n+"/"+encodeURIComponent(t.googleCalendarId)+"/events?callback=?",p=t.googleCalendarApiKey||c.options.googleCalendarApiKey,g=t.success;return p?(o.hasZone()||(o=o.clone().utc().add(-1,"day")),a.hasZone()||(a=a.clone().utc().add(1,"day")),l&&"local"!=l&&(h=l.replace(" ","_")),d=e.extend({},t.data||{},{key:p,timeMin:o.format(),timeMax:a.format(),timeZone:h,singleEvents:!0,maxResults:9999}),e.extend({},t,{googleCalendarId:null,url:f,data:d,startParam:!1,endParam:!1,timezoneParam:!1,success:function(t){var n,r,o=[];if(t.error)u("Google Calendar API: "+t.error.message,t.error.errors);else if(t.items&&(e.each(t.items,function(e,t){var n=t.htmlLink||null;h&&null!==n&&(n=i(n,"ctz="+h)),o.push({id:t.id,title:t.summary,start:t.start.dateTime||t.start.date,end:t.end.dateTime||t.end.date,url:n,location:t.location,description:t.description})}),n=[o].concat(Array.prototype.slice.call(arguments,1)),r=s(g,this,n),e.isArray(r)))return r;return o}})):(u("Specify a googleCalendarApiKey. See http://fullcalendar.io/docs/google_calendar/"),{})}function i(e,t){return e.replace(/(\?.*?)?(#|$)/,function(e,i,n){return(i?i+"&":"?")+t+n})}var n="https://www.googleapis.com/calendar/v3/calendars",r=e.fullCalendar,s=r.applyAll;r.sourceNormalizers.push(function(e){var t,i=e.googleCalendarId,n=e.url;!i&&n&&(/^[^\/]+@([^\/\.]+\.)*(google|googlemail|gmail)\.com$/.test(n)?i=n:((t=/^https:\/\/www.googleapis.com\/calendar\/v3\/calendars\/([^\/]*)/.exec(n))||(t=/^https?:\/\/www.google.com\/calendar\/feeds\/([^\/]*)/.exec(n)))&&(i=decodeURIComponent(t[1])),i&&(e.googleCalendarId=i)),i&&(null==e.editable&&(e.editable=!1),e.url=i)}),r.sourceFetchers.push(function(e,i,n,r){return e.googleCalendarId?t(e,i,n,r,this):void 0})}),function(e){"use strict";var t={i18n:{ar:{months:["\u0643\u0627\u0646\u0648\u0646 \u0627\u0644\u062b\u0627\u0646\u064a","\u0634\u0628\u0627\u0637","\u0622\u0630\u0627\u0631","\u0646\u064a\u0633\u0627\u0646","\u0645\u0627\u064a\u0648","\u062d\u0632\u064a\u0631\u0627\u0646","\u062a\u0645\u0648\u0632","\u0622\u0628","\u0623\u064a\u0644\u0648\u0644","\u062a\u0634\u0631\u064a\u0646 \u0627\u0644\u0623\u0648\u0644","\u062a\u0634\u0631\u064a\u0646 \u0627\u0644\u062b\u0627\u0646\u064a","\u0643\u0627\u0646\u0648\u0646 \u0627\u0644\u0623\u0648\u0644"],dayOfWeek:["\u0646","\u062b","\u0639","\u062e","\u062c","\u0633","\u062d"]},ro:{months:["ianuarie","februarie","martie","aprilie","mai","iunie","iulie","august","septembrie","octombrie","noiembrie","decembrie"],dayOfWeek:["l","ma","mi","j","v","s","d"]},id:{months:["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],dayOfWeek:["Sen","Sel","Rab","Kam","Jum","Sab","Min"]},bg:{months:["\u042f\u043d\u0443\u0430\u0440\u0438","\u0424\u0435\u0432\u0440\u0443\u0430\u0440\u0438","\u041c\u0430\u0440\u0442","\u0410\u043f\u0440\u0438\u043b","\u041c\u0430\u0439","\u042e\u043d\u0438","\u042e\u043b\u0438","\u0410\u0432\u0433\u0443\u0441\u0442","\u0421\u0435\u043f\u0442\u0435\u043c\u0432\u0440\u0438","\u041e\u043a\u0442\u043e\u043c\u0432\u0440\u0438","\u041d\u043e\u0435\u043c\u0432\u0440\u0438","\u0414\u0435\u043a\u0435\u043c\u0432\u0440\u0438"],dayOfWeek:["\u041d\u0434","\u041f\u043d","\u0412\u0442","\u0421\u0440","\u0427\u0442","\u041f\u0442","\u0421\u0431"]},fa:{months:["\u0641\u0631\u0648\u0631\u062f\u06cc\u0646","\u0627\u0631\u062f\u06cc\u0628\u0647\u0634\u062a","\u062e\u0631\u062f\u0627\u062f","\u062a\u06cc\u0631","\u0645\u0631\u062f\u0627\u062f","\u0634\u0647\u0631\u06cc\u0648\u0631","\u0645\u0647\u0631","\u0622\u0628\u0627\u0646","\u0622\u0630\u0631","\u062f\u06cc","\u0628\u0647\u0645\u0646","\u0627\u0633\u0641\u0646\u062f"],dayOfWeek:["\u06cc\u06a9\u0634\u0646\u0628\u0647","\u062f\u0648\u0634\u0646\u0628\u0647","\u0633\u0647 \u0634\u0646\u0628\u0647","\u0686\u0647\u0627\u0631\u0634\u0646\u0628\u0647","\u067e\u0646\u062c\u0634\u0646\u0628\u0647","\u062c\u0645\u0639\u0647","\u0634\u0646\u0628\u0647"]},ru:{months:["\u042f\u043d\u0432\u0430\u0440\u044c","\u0424\u0435\u0432\u0440\u0430\u043b\u044c","\u041c\u0430\u0440\u0442","\u0410\u043f\u0440\u0435\u043b\u044c","\u041c\u0430\u0439","\u0418\u044e\u043d\u044c","\u0418\u044e\u043b\u044c","\u0410\u0432\u0433\u0443\u0441\u0442","\u0421\u0435\u043d\u0442\u044f\u0431\u0440\u044c","\u041e\u043a\u0442\u044f\u0431\u0440\u044c","\u041d\u043e\u044f\u0431\u0440\u044c","\u0414\u0435\u043a\u0430\u0431\u0440\u044c"],dayOfWeek:["\u0412\u0441\u043a","\u041f\u043d","\u0412\u0442","\u0421\u0440","\u0427\u0442","\u041f\u0442","\u0421\u0431"]},uk:{months:["\u0421\u0456\u0447\u0435\u043d\u044c","\u041b\u044e\u0442\u0438\u0439","\u0411\u0435\u0440\u0435\u0437\u0435\u043d\u044c","\u041a\u0432\u0456\u0442\u0435\u043d\u044c","\u0422\u0440\u0430\u0432\u0435\u043d\u044c","\u0427\u0435\u0440\u0432\u0435\u043d\u044c","\u041b\u0438\u043f\u0435\u043d\u044c","\u0421\u0435\u0440\u043f\u0435\u043d\u044c","\u0412\u0435\u0440\u0435\u0441\u0435\u043d\u044c","\u0416\u043e\u0432\u0442\u0435\u043d\u044c","\u041b\u0438\u0441\u0442\u043e\u043f\u0430\u0434","\u0413\u0440\u0443\u0434\u0435\u043d\u044c"],dayOfWeek:["\u041d\u0434\u043b","\u041f\u043d\u0434","\u0412\u0442\u0440","\u0421\u0440\u0434","\u0427\u0442\u0432","\u041f\u0442\u043d","\u0421\u0431\u0442"]},en:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],dayOfWeek:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},el:{months:["\u0399\u03b1\u03bd\u03bf\u03c5\u03ac\u03c1\u03b9\u03bf\u03c2","\u03a6\u03b5\u03b2\u03c1\u03bf\u03c5\u03ac\u03c1\u03b9\u03bf\u03c2","\u039c\u03ac\u03c1\u03c4\u03b9\u03bf\u03c2","\u0391\u03c0\u03c1\u03af\u03bb\u03b9\u03bf\u03c2","\u039c\u03ac\u03b9\u03bf\u03c2","\u0399\u03bf\u03cd\u03bd\u03b9\u03bf\u03c2","\u0399\u03bf\u03cd\u03bb\u03b9\u03bf\u03c2","\u0391\u03cd\u03b3\u03bf\u03c5\u03c3\u03c4\u03bf\u03c2","\u03a3\u03b5\u03c0\u03c4\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2","\u039f\u03ba\u03c4\u03ce\u03b2\u03c1\u03b9\u03bf\u03c2","\u039d\u03bf\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2","\u0394\u03b5\u03ba\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2"],dayOfWeek:["\u039a\u03c5\u03c1","\u0394\u03b5\u03c5","\u03a4\u03c1\u03b9","\u03a4\u03b5\u03c4","\u03a0\u03b5\u03bc","\u03a0\u03b1\u03c1","\u03a3\u03b1\u03b2"]},de:{months:["Januar","Februar","M\xe4rz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],dayOfWeek:["So","Mo","Di","Mi","Do","Fr","Sa"]},nl:{months:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],dayOfWeek:["zo","ma","di","wo","do","vr","za"]},tr:{months:["Ocak","\u015eubat","Mart","Nisan","May\u0131s","Haziran","Temmuz","A\u011fustos","Eyl\xfcl","Ekim","Kas\u0131m","Aral\u0131k"],dayOfWeek:["Paz","Pts","Sal","\xc7ar","Per","Cum","Cts"]},fr:{months:["Janvier","F\xe9vrier","Mars","Avril","Mai","Juin","Juillet","Ao\xfbt","Septembre","Octobre","Novembre","D\xe9cembre"],dayOfWeek:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"]},es:{months:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],dayOfWeek:["Dom","Lun","Mar","Mi\xe9","Jue","Vie","S\xe1b"]},th:{months:["\u0e21\u0e01\u0e23\u0e32\u0e04\u0e21","\u0e01\u0e38\u0e21\u0e20\u0e32\u0e1e\u0e31\u0e19\u0e18\u0e4c","\u0e21\u0e35\u0e19\u0e32\u0e04\u0e21","\u0e40\u0e21\u0e29\u0e32\u0e22\u0e19","\u0e1e\u0e24\u0e29\u0e20\u0e32\u0e04\u0e21","\u0e21\u0e34\u0e16\u0e38\u0e19\u0e32\u0e22\u0e19","\u0e01\u0e23\u0e01\u0e0e\u0e32\u0e04\u0e21","\u0e2a\u0e34\u0e07\u0e2b\u0e32\u0e04\u0e21","\u0e01\u0e31\u0e19\u0e22\u0e32\u0e22\u0e19","\u0e15\u0e38\u0e25\u0e32\u0e04\u0e21","\u0e1e\u0e24\u0e28\u0e08\u0e34\u0e01\u0e32\u0e22\u0e19","\u0e18\u0e31\u0e19\u0e27\u0e32\u0e04\u0e21"],dayOfWeek:["\u0e2d\u0e32.","\u0e08.","\u0e2d.","\u0e1e.","\u0e1e\u0e24.","\u0e28.","\u0e2a."]},pl:{months:["stycze\u0144","luty","marzec","kwiecie\u0144","maj","czerwiec","lipiec","sierpie\u0144","wrzesie\u0144","pa\u017adziernik","listopad","grudzie\u0144"],dayOfWeek:["nd","pn","wt","\u015br","cz","pt","sb"]},pt:{months:["Janeiro","Fevereiro","Mar\xe7o","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],dayOfWeek:["Dom","Seg","Ter","Qua","Qui","Sex","Sab"]},ch:{months:["\u4e00\u6708","\u4e8c\u6708","\u4e09\u6708","\u56db\u6708","\u4e94\u6708","\u516d\u6708","\u4e03\u6708","\u516b\u6708","\u4e5d\u6708","\u5341\u6708","\u5341\u4e00\u6708","\u5341\u4e8c\u6708"],dayOfWeek:["\u65e5","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d"]},se:{months:["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","September","Oktober","November","December"],dayOfWeek:["S\xf6n","M\xe5n","Tis","Ons","Tor","Fre","L\xf6r"]},kr:{months:["1\uc6d4","2\uc6d4","3\uc6d4","4\uc6d4","5\uc6d4","6\uc6d4","7\uc6d4","8\uc6d4","9\uc6d4","10\uc6d4","11\uc6d4","12\uc6d4"],dayOfWeek:["\uc77c","\uc6d4","\ud654","\uc218","\ubaa9","\uae08","\ud1a0"]},it:{months:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],dayOfWeek:["Dom","Lun","Mar","Mer","Gio","Ven","Sab"]},da:{months:["January","Februar","Marts","April","Maj","Juni","July","August","September","Oktober","November","December"],dayOfWeek:["S\xf8n","Man","Tir","Ons","Tor","Fre","L\xf8r"]},no:{months:["Januar","Februar","Mars","April","Mai","Juni","Juli","August","September","Oktober","November","Desember"],dayOfWeek:["S\xf8n","Man","Tir","Ons","Tor","Fre","L\xf8r"]},ja:{months:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],dayOfWeek:["\u65e5","\u6708","\u706b","\u6c34","\u6728","\u91d1","\u571f"]},vi:{months:["Th\xe1ng 1","Th\xe1ng 2","Th\xe1ng 3","Th\xe1ng 4","Th\xe1ng 5","Th\xe1ng 6","Th\xe1ng 7","Th\xe1ng 8","Th\xe1ng 9","Th\xe1ng 10","Th\xe1ng 11","Th\xe1ng 12"],dayOfWeek:["CN","T2","T3","T4","T5","T6","T7"]},sl:{months:["Januar","Februar","Marec","April","Maj","Junij","Julij","Avgust","September","Oktober","November","December"],dayOfWeek:["Ned","Pon","Tor","Sre","\u010cet","Pet","Sob"]},cs:{months:["Leden","\xdanor","B\u0159ezen","Duben","Kv\u011bten","\u010cerven","\u010cervenec","Srpen","Z\xe1\u0159\xed","\u0158\xedjen","Listopad","Prosinec"],dayOfWeek:["Ne","Po","\xdat","St","\u010ct","P\xe1","So"]},hu:{months:["Janu\xe1r","Febru\xe1r","M\xe1rcius","\xc1prilis","M\xe1jus","J\xfanius","J\xfalius","Augusztus","Szeptember","Okt\xf3ber","November","December"],dayOfWeek:["Va","H\xe9","Ke","Sze","Cs","P\xe9","Szo"]},az:{months:["Yanvar","Fevral","Mart","Aprel","May","Iyun","Iyul","Avqust","Sentyabr","Oktyabr","Noyabr","Dekabr"],dayOfWeek:["B","Be","\xc7a","\xc7","Ca","C","\u015e"]},bs:{months:["Januar","Februar","Mart","April","Maj","Jun","Jul","Avgust","Septembar","Oktobar","Novembar","Decembar"],dayOfWeek:["Ned","Pon","Uto","Sri","\u010cet","Pet","Sub"]},ca:{months:["Gener","Febrer","Mar\xe7","Abril","Maig","Juny","Juliol","Agost","Setembre","Octubre","Novembre","Desembre"],dayOfWeek:["Dg","Dl","Dt","Dc","Dj","Dv","Ds"]},"en-GB":{months:["January","February","March","April","May","June","July","August","September","October","November","December"],dayOfWeek:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},et:{months:["Jaanuar","Veebruar","M\xe4rts","Aprill","Mai","Juuni","Juuli","August","September","Oktoober","November","Detsember"],dayOfWeek:["P","E","T","K","N","R","L"]},eu:{months:["Urtarrila","Otsaila","Martxoa","Apirila","Maiatza","Ekaina","Uztaila","Abuztua","Iraila","Urria","Azaroa","Abendua"],dayOfWeek:["Ig.","Al.","Ar.","Az.","Og.","Or.","La."]},fi:{months:["Tammikuu","Helmikuu","Maaliskuu","Huhtikuu","Toukokuu","Kes\xe4kuu","Hein\xe4kuu","Elokuu","Syyskuu","Lokakuu","Marraskuu","Joulukuu"],dayOfWeek:["Su","Ma","Ti","Ke","To","Pe","La"]},gl:{months:["Xan","Feb","Maz","Abr","Mai","Xun","Xul","Ago","Set","Out","Nov","Dec"],dayOfWeek:["Dom","Lun","Mar","Mer","Xov","Ven","Sab"]},hr:{months:["Sije\u010danj","Velja\u010da","O\u017eujak","Travanj","Svibanj","Lipanj","Srpanj","Kolovoz","Rujan","Listopad","Studeni","Prosinac"],dayOfWeek:["Ned","Pon","Uto","Sri","\u010cet","Pet","Sub"]},ko:{months:["1\uc6d4","2\uc6d4","3\uc6d4","4\uc6d4","5\uc6d4","6\uc6d4","7\uc6d4","8\uc6d4","9\uc6d4","10\uc6d4","11\uc6d4","12\uc6d4"],dayOfWeek:["\uc77c","\uc6d4","\ud654","\uc218","\ubaa9","\uae08","\ud1a0"]},lt:{months:["Sausio","Vasario","Kovo","Baland\u017eio","Gegu\u017e\u0117s","Bir\u017eelio","Liepos","Rugpj\u016b\u010dio","Rugs\u0117jo","Spalio","Lapkri\u010dio","Gruod\u017eio"],dayOfWeek:["Sek","Pir","Ant","Tre","Ket","Pen","\u0160e\u0161"]},lv:{months:["Janv\u0101ris","Febru\u0101ris","Marts","Apr\u012blis ","Maijs","J\u016bnijs","J\u016blijs","Augusts","Septembris","Oktobris","Novembris","Decembris"],dayOfWeek:["Sv","Pr","Ot","Tr","Ct","Pk","St"]},mk:{months:["\u0458\u0430\u043d\u0443\u0430\u0440\u0438","\u0444\u0435\u0432\u0440\u0443\u0430\u0440\u0438","\u043c\u0430\u0440\u0442","\u0430\u043f\u0440\u0438\u043b","\u043c\u0430\u0458","\u0458\u0443\u043d\u0438","\u0458\u0443\u043b\u0438","\u0430\u0432\u0433\u0443\u0441\u0442","\u0441\u0435\u043f\u0442\u0435\u043c\u0432\u0440\u0438","\u043e\u043a\u0442\u043e\u043c\u0432\u0440\u0438","\u043d\u043e\u0435\u043c\u0432\u0440\u0438","\u0434\u0435\u043a\u0435\u043c\u0432\u0440\u0438"],dayOfWeek:["\u043d\u0435\u0434","\u043f\u043e\u043d","\u0432\u0442\u043e","\u0441\u0440\u0435","\u0447\u0435\u0442","\u043f\u0435\u0442","\u0441\u0430\u0431"]},mn:{months:["1-\u0440 \u0441\u0430\u0440","2-\u0440 \u0441\u0430\u0440","3-\u0440 \u0441\u0430\u0440","4-\u0440 \u0441\u0430\u0440","5-\u0440 \u0441\u0430\u0440","6-\u0440 \u0441\u0430\u0440","7-\u0440 \u0441\u0430\u0440","8-\u0440 \u0441\u0430\u0440","9-\u0440 \u0441\u0430\u0440","10-\u0440 \u0441\u0430\u0440","11-\u0440 \u0441\u0430\u0440","12-\u0440 \u0441\u0430\u0440"],dayOfWeek:["\u0414\u0430\u0432","\u041c\u044f\u0433","\u041b\u0445\u0430","\u041f\u04af\u0440","\u0411\u0441\u043d","\u0411\u044f\u043c","\u041d\u044f\u043c"]},"pt-BR":{months:["Janeiro","Fevereiro","Mar\xe7o","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],dayOfWeek:["Dom","Seg","Ter","Qua","Qui","Sex","S\xe1b"]},sk:{months:["Janu\xe1r","Febru\xe1r","Marec","Apr\xedl","M\xe1j","J\xfan","J\xfal","August","September","Okt\xf3ber","November","December"],dayOfWeek:["Ne","Po","Ut","St","\u0160t","Pi","So"]},sq:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],dayOfWeek:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},"sr-YU":{months:["Januar","Februar","Mart","April","Maj","Jun","Jul","Avgust","Septembar","Oktobar","Novembar","Decembar"],dayOfWeek:["Ned","Pon","Uto","Sre","\u010det","Pet","Sub"]},sr:{months:["\u0458\u0430\u043d\u0443\u0430\u0440","\u0444\u0435\u0431\u0440\u0443\u0430\u0440","\u043c\u0430\u0440\u0442","\u0430\u043f\u0440\u0438\u043b","\u043c\u0430\u0458","\u0458\u0443\u043d","\u0458\u0443\u043b","\u0430\u0432\u0433\u0443\u0441\u0442","\u0441\u0435\u043f\u0442\u0435\u043c\u0431\u0430\u0440","\u043e\u043a\u0442\u043e\u0431\u0430\u0440","\u043d\u043e\u0432\u0435\u043c\u0431\u0430\u0440","\u0434\u0435\u0446\u0435\u043c\u0431\u0430\u0440"],dayOfWeek:["\u043d\u0435\u0434","\u043f\u043e\u043d","\u0443\u0442\u043e","\u0441\u0440\u0435","\u0447\u0435\u0442","\u043f\u0435\u0442","\u0441\u0443\u0431"]},sv:{months:["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","September","Oktober","November","December"],dayOfWeek:["S\xf6n","M\xe5n","Tis","Ons","Tor","Fre","L\xf6r"]},"zh-TW":{months:["\u4e00\u6708","\u4e8c\u6708","\u4e09\u6708","\u56db\u6708","\u4e94\u6708","\u516d\u6708","\u4e03\u6708","\u516b\u6708","\u4e5d\u6708","\u5341\u6708","\u5341\u4e00\u6708","\u5341\u4e8c\u6708"],dayOfWeek:["\u65e5","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d"]},zh:{months:["\u4e00\u6708","\u4e8c\u6708","\u4e09\u6708","\u56db\u6708","\u4e94\u6708","\u516d\u6708","\u4e03\u6708","\u516b\u6708","\u4e5d\u6708","\u5341\u6708","\u5341\u4e00\u6708","\u5341\u4e8c\u6708"],dayOfWeek:["\u65e5","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d"]},he:{months:["\u05d9\u05e0\u05d5\u05d0\u05e8","\u05e4\u05d1\u05e8\u05d5\u05d0\u05e8","\u05de\u05e8\u05e5","\u05d0\u05e4\u05e8\u05d9\u05dc","\u05de\u05d0\u05d9","\u05d9\u05d5\u05e0\u05d9","\u05d9\u05d5\u05dc\u05d9","\u05d0\u05d5\u05d2\u05d5\u05e1\u05d8","\u05e1\u05e4\u05d8\u05de\u05d1\u05e8","\u05d0\u05d5\u05e7\u05d8\u05d5\u05d1\u05e8","\u05e0\u05d5\u05d1\u05de\u05d1\u05e8","\u05d3\u05e6\u05de\u05d1\u05e8"],dayOfWeek:["\u05d0'","\u05d1'","\u05d2'","\u05d3'","\u05d4'","\u05d5'","\u05e9\u05d1\u05ea"]}},value:"",lang:"en",format:"Y/m/d H:i",formatTime:"H:i",formatDate:"Y/m/d",startDate:!1,step:60,monthChangeSpinner:!0,closeOnDateSelect:!1,closeOnWithoutClick:!0,closeOnInputClick:!0,timepicker:!0,datepicker:!0,weeks:!1,defaultTime:!1,defaultDate:!1,minDate:!1,maxDate:!1,minTime:!1,maxTime:!1,allowTimes:[],opened:!1,initTime:!0,inline:!1,theme:"",onSelectDate:function(){},onSelectTime:function(){},onChangeMonth:function(){},onChangeYear:function(){},onChangeDateTime:function(){},onShow:function(){},onClose:function(){},onGenerate:function(){},withoutCopyright:!0,inverseButton:!1,hours12:!1,next:"xdsoft_next",prev:"xdsoft_prev",dayOfWeekStart:0,parentID:"body",timeHeightInTimePicker:25,timepickerScrollbar:!0,todayButton:!0,defaultSelect:!0,scrollMonth:!0,scrollTime:!0,scrollInput:!0,lazyInit:!1,mask:!1,validateOnBlur:!0,allowBlank:!0,yearStart:1950,yearEnd:2050,style:"",id:"",fixed:!1,roundTime:"round",className:"",weekends:[],disabledDates:[],yearOffset:0,beforeShowDay:null,enterLikeTab:!0};Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){var i,n;for(i=t||0,n=this.length;n>i;i+=1)if(this[i]===e)return i;return-1}),Date.prototype.countDaysInMonth=function(){return new Date(this.getFullYear(),this.getMonth()+1,0).getDate()},e.fn.xdsoftScroller=function(t){return this.each(function(){var i,n,r,s,o,a=e(this),l=function(e){var t,i={x:0,y:0};return"touchstart"===e.type||"touchmove"===e.type||"touchend"===e.type||"touchcancel"===e.type?(t=e.originalEvent.touches[0]||e.originalEvent.changedTouches[0],i.x=t.clientX,i.y=t.clientY):("mousedown"===e.type||"mouseup"===e.type||"mousemove"===e.type||"mouseover"===e.type||"mouseout"===e.type||"mouseenter"===e.type||"mouseleave"===e.type)&&(i.x=e.clientX,i.y=e.clientY),i},c=100,u=!1,d=0,h=0,f=0,p=!1,g=0,m=function(){};return"hide"===t?void a.find(".xdsoft_scrollbar").hide():(e(this).hasClass("xdsoft_scroller_box")||(i=a.children().eq(0),n=a[0].clientHeight,r=i[0].offsetHeight,s=e('<div class="xdsoft_scrollbar"></div>'),o=e('<div class="xdsoft_scroller"></div>'),s.append(o),a.addClass("xdsoft_scroller_box").append(s),m=function(e){var t=l(e).y-d+g;0>t&&(t=0),t+o[0].offsetHeight>f&&(t=f-o[0].offsetHeight),a.trigger("scroll_element.xdsoft_scroller",[c?t/c:0])},o.on("touchstart.xdsoft_scroller mousedown.xdsoft_scroller",function(i){n||a.trigger("resize_scroll.xdsoft_scroller",[t]),d=l(i).y,g=parseInt(o.css("margin-top"),10),f=s[0].offsetHeight,"mousedown"===i.type?(document&&e(document.body).addClass("xdsoft_noselect"),e([document.body,window]).on("mouseup.xdsoft_scroller",function r(){e([document.body,window]).off("mouseup.xdsoft_scroller",r).off("mousemove.xdsoft_scroller",m).removeClass("xdsoft_noselect")}),e(document.body).on("mousemove.xdsoft_scroller",m)):(p=!0,i.stopPropagation(),i.preventDefault())}).on("touchmove",function(e){p&&(e.preventDefault(),m(e))}).on("touchend touchcancel",function(){p=!1,g=0}),a.on("scroll_element.xdsoft_scroller",function(e,t){n||a.trigger("resize_scroll.xdsoft_scroller",[t,!0]),t=t>1?1:0>t||isNaN(t)?0:t,o.css("margin-top",c*t),setTimeout(function(){i.css("marginTop",-parseInt((i[0].offsetHeight-n)*t,10))},10)}).on("resize_scroll.xdsoft_scroller",function(e,t,l){var u,d;n=a[0].clientHeight,r=i[0].offsetHeight,u=n/r,d=u*s[0].offsetHeight,u>1?o.hide():(o.show(),o.css("height",parseInt(d>10?d:10,10)),c=s[0].offsetHeight-o[0].offsetHeight,l!==!0&&a.trigger("scroll_element.xdsoft_scroller",[t||Math.abs(parseInt(i.css("marginTop"),10))/(r-n)]))
}),a.on("mousewheel",function(e){var t=Math.abs(parseInt(i.css("marginTop"),10));return t-=20*e.deltaY,0>t&&(t=0),a.trigger("scroll_element.xdsoft_scroller",[t/(r-n)]),e.stopPropagation(),!1}),a.on("touchstart",function(e){u=l(e),h=Math.abs(parseInt(i.css("marginTop"),10))}),a.on("touchmove",function(e){if(u){e.preventDefault();var t=l(e);a.trigger("scroll_element.xdsoft_scroller",[(h-(t.y-u.y))/(r-n)])}}),a.on("touchend touchcancel",function(){u=!1,h=0})),void a.trigger("resize_scroll.xdsoft_scroller",[t]))})},e.fn.datetimepicker=function(i){var n,r,s,o=48,a=57,l=96,c=105,u=17,d=46,h=13,f=27,p=8,g=37,m=38,v=39,y=40,b=9,w=116,x=65,k=67,_=86,C=90,T=89,S=!1,D=e.isPlainObject(i)||!i?e.extend(!0,{},t,i):e.extend(!0,{},t),E=0,M=function(e){e.on("open.xdsoft focusin.xdsoft mousedown.xdsoft",function t(){e.is(":disabled")||e.is(":hidden")||!e.is(":visible")||e.data("xdsoft_datetimepicker")||(clearTimeout(E),E=setTimeout(function(){e.data("xdsoft_datetimepicker")||n(e),e.off("open.xdsoft focusin.xdsoft mousedown.xdsoft",t).trigger("open.xdsoft")},100))})};return n=function(t){function n(){var e,i=!1;return D.startDate?i=s.strToDate(D.startDate):(i=D.value||(t&&t.val&&t.val()?t.val():""),i?i=s.strToDateTime(i):D.defaultDate&&(i=s.strToDate(D.defaultDate),D.defaultTime&&(e=s.strtotime(D.defaultTime),i.setHours(e.getHours()),i.setMinutes(e.getMinutes())))),i&&s.isValidDate(i)?O.data("changed",!0):i="",i||0}var r,E,M,A,I,O=e("<div "+(D.id?'id="'+D.id+'"':"")+" "+(D.style?'style="'+D.style+'"':"")+' class="xdsoft_datetimepicker xdsoft_'+D.theme+" xdsoft_noselect "+(D.weeks?" xdsoft_showweeks":"")+D.className+'"></div>'),$=e('<div class="xdsoft_copyright"><a target="_blank" href="http://xdsoft.net/jqplugins/datetimepicker/">xdsoft.net</a></div>'),R=e('<div class="xdsoft_datepicker active"></div>'),H=e('<div class="xdsoft_mounthpicker"><button type="button" class="xdsoft_prev"></button><button type="button" class="xdsoft_today_button"></button><div class="xdsoft_label xdsoft_month"><span></span><i></i></div><div class="xdsoft_label xdsoft_year"><span></span><i></i></div><button type="button" class="xdsoft_next"></button></div>'),P=e('<div class="xdsoft_calendar"></div>'),z=e('<div class="xdsoft_timepicker active"><button type="button" class="xdsoft_prev"></button><div class="xdsoft_time_box"></div><button type="button" class="xdsoft_next"></button></div>'),N=z.find(".xdsoft_time_box").eq(0),L=e('<div class="xdsoft_time_variant"></div>'),F=e('<div class="xdsoft_select xdsoft_monthselect"><div></div></div>'),j=e('<div class="xdsoft_select xdsoft_yearselect"><div></div></div>'),W=!1,B=0,U=0;H.find(".xdsoft_month span").after(F),H.find(".xdsoft_year span").after(j),H.find(".xdsoft_month,.xdsoft_year").on("mousedown.xdsoft",function(t){var i,n,r=e(this).find(".xdsoft_select").eq(0),o=0,a=0,l=r.is(":visible");for(H.find(".xdsoft_select").hide(),s.currentTime&&(o=s.currentTime[e(this).hasClass("xdsoft_month")?"getMonth":"getFullYear"]()),r[l?"hide":"show"](),i=r.find("div.xdsoft_option"),n=0;n<i.length&&i.eq(n).data("value")!==o;n+=1)a+=i[0].offsetHeight;return r.xdsoftScroller(a/(r.children()[0].offsetHeight-r[0].clientHeight)),t.stopPropagation(),!1}),H.find(".xdsoft_select").xdsoftScroller().on("mousedown.xdsoft",function(e){e.stopPropagation(),e.preventDefault()}).on("mousedown.xdsoft",".xdsoft_option",function(){var t=s.currentTime.getFullYear();s&&s.currentTime&&s.currentTime[e(this).parent().parent().hasClass("xdsoft_monthselect")?"setMonth":"setFullYear"](e(this).data("value")),e(this).parent().parent().hide(),O.trigger("xchange.xdsoft"),D.onChangeMonth&&e.isFunction(D.onChangeMonth)&&D.onChangeMonth.call(O,s.currentTime,O.data("input")),t!==s.currentTime.getFullYear()&&e.isFunction(D.onChangeYear)&&D.onChangeYear.call(O,s.currentTime,O.data("input"))}),O.setOptions=function(i){if(D=e.extend(!0,{},D,i),i.allowTimes&&e.isArray(i.allowTimes)&&i.allowTimes.length&&(D.allowTimes=e.extend(!0,[],i.allowTimes)),i.weekends&&e.isArray(i.weekends)&&i.weekends.length&&(D.weekends=e.extend(!0,[],i.weekends)),i.disabledDates&&e.isArray(i.disabledDates)&&i.disabledDates.length&&(D.disabledDates=e.extend(!0,[],i.disabledDates)),!D.open&&!D.opened||D.inline||t.trigger("open.xdsoft"),D.inline&&(W=!0,O.addClass("xdsoft_inline"),t.after(O).hide()),D.inverseButton&&(D.next="xdsoft_prev",D.prev="xdsoft_next"),D.datepicker?R.addClass("active"):R.removeClass("active"),D.timepicker?z.addClass("active"):z.removeClass("active"),D.value&&(t&&t.val&&t.val(D.value),s.setCurrentTime(D.value)),D.dayOfWeekStart=isNaN(D.dayOfWeekStart)?0:parseInt(D.dayOfWeekStart,10)%7,D.timepickerScrollbar||N.xdsoftScroller("hide"),D.minDate&&/^-(.*)$/.test(D.minDate)&&(D.minDate=s.strToDateTime(D.minDate).dateFormat(D.formatDate)),D.maxDate&&/^\+(.*)$/.test(D.maxDate)&&(D.maxDate=s.strToDateTime(D.maxDate).dateFormat(D.formatDate)),H.find(".xdsoft_today_button").css("visibility",D.todayButton?"visible":"hidden"),D.mask){var n=function(e){try{if(document.selection&&document.selection.createRange){var t=document.selection.createRange();return t.getBookmark().charCodeAt(2)-2}if(e.setSelectionRange)return e.selectionStart}catch(i){return 0}},r=function(e,t){if(e="string"==typeof e||e instanceof String?document.getElementById(e):e,!e)return!1;if(e.createTextRange){var i=e.createTextRange();return i.collapse(!0),i.moveEnd("character",t),i.moveStart("character",t),i.select(),!0}return e.setSelectionRange?(e.setSelectionRange(t,t),!0):!1},E=function(e,t){var i=e.replace(/([\[\]\/\{\}\(\)\-\.\+]{1})/g,"\\$1").replace(/_/g,"{digit+}").replace(/([0-9]{1})/g,"{digit$1}").replace(/\{digit([0-9]{1})\}/g,"[0-$1_]{1}").replace(/\{digit[\+]\}/g,"[0-9_]{1}");return new RegExp(i).test(t)};t.off("keydown.xdsoft"),D.mask===!0&&(D.mask=D.format.replace(/Y/g,"9999").replace(/F/g,"9999").replace(/m/g,"19").replace(/d/g,"39").replace(/H/g,"29").replace(/i/g,"59").replace(/s/g,"59")),"string"===e.type(D.mask)&&(E(D.mask,t.val())||t.val(D.mask.replace(/[0-9]/g,"_")),t.on("keydown.xdsoft",function(i){var s,M,A=this.value,I=i.which;if(I>=o&&a>=I||I>=l&&c>=I||I===p||I===d){for(s=n(this),M=I!==p&&I!==d?String.fromCharCode(I>=l&&c>=I?I-o:I):"_",I!==p&&I!==d||!s||(s-=1,M="_");/[^0-9_]/.test(D.mask.substr(s,1))&&s<D.mask.length&&s>0;)s+=I===p||I===d?-1:1;if(A=A.substr(0,s)+M+A.substr(s+1),""===e.trim(A))A=D.mask.replace(/[0-9]/g,"_");else if(s===D.mask.length)return i.preventDefault(),!1;for(s+=I===p||I===d?0:1;/[^0-9_]/.test(D.mask.substr(s,1))&&s<D.mask.length&&s>0;)s+=I===p||I===d?-1:1;E(D.mask,A)?(this.value=A,r(this,s)):""===e.trim(A)?this.value=D.mask.replace(/[0-9]/g,"_"):t.trigger("error_input.xdsoft")}else if(-1!==[x,k,_,C,T].indexOf(I)&&S||-1!==[f,m,y,g,v,w,u,b,h].indexOf(I))return!0;return i.preventDefault(),!1}))}D.validateOnBlur&&t.off("blur.xdsoft").on("blur.xdsoft",function(){D.allowBlank&&!e.trim(e(this).val()).length?(e(this).val(null),O.data("xdsoft_datetime").empty()):Date.parseDate(e(this).val(),D.format)?O.data("xdsoft_datetime").setCurrentTime(e(this).val()):(e(this).val(s.now().dateFormat(D.format)),O.data("xdsoft_datetime").setCurrentTime(e(this).val())),O.trigger("changedatetime.xdsoft")}),D.dayOfWeekStartPrev=0===D.dayOfWeekStart?6:D.dayOfWeekStart-1,O.trigger("xchange.xdsoft").trigger("afterOpen.xdsoft")},O.data("options",D).on("mousedown.xdsoft",function(e){return e.stopPropagation(),e.preventDefault(),j.hide(),F.hide(),!1}),N.append(L),N.xdsoftScroller(),O.on("afterOpen.xdsoft",function(){N.xdsoftScroller()}),O.append(R).append(z),D.withoutCopyright!==!0&&O.append($),R.append(H).append(P),e(D.parentID).append(O),r=function(){var t=this;t.now=function(e){var i,n,r=new Date;return!e&&D.defaultDate&&(i=t.strToDate(D.defaultDate),r.setFullYear(i.getFullYear()),r.setMonth(i.getMonth()),r.setDate(i.getDate())),D.yearOffset&&r.setFullYear(r.getFullYear()+D.yearOffset),!e&&D.defaultTime&&(n=t.strtotime(D.defaultTime),r.setHours(n.getHours()),r.setMinutes(n.getMinutes())),r},t.isValidDate=function(e){return"[object Date]"!==Object.prototype.toString.call(e)?!1:!isNaN(e.getTime())},t.setCurrentTime=function(e){t.currentTime="string"==typeof e?t.strToDateTime(e):t.isValidDate(e)?e:t.now(),O.trigger("xchange.xdsoft")},t.empty=function(){t.currentTime=null},t.getCurrentTime=function(){return t.currentTime},t.nextMonth=function(){var i,n=t.currentTime.getMonth()+1;return 12===n&&(t.currentTime.setFullYear(t.currentTime.getFullYear()+1),n=0),i=t.currentTime.getFullYear(),t.currentTime.setDate(Math.min(new Date(t.currentTime.getFullYear(),n+1,0).getDate(),t.currentTime.getDate())),t.currentTime.setMonth(n),D.onChangeMonth&&e.isFunction(D.onChangeMonth)&&D.onChangeMonth.call(O,s.currentTime,O.data("input")),i!==t.currentTime.getFullYear()&&e.isFunction(D.onChangeYear)&&D.onChangeYear.call(O,s.currentTime,O.data("input")),O.trigger("xchange.xdsoft"),n},t.prevMonth=function(){var i=t.currentTime.getMonth()-1;return-1===i&&(t.currentTime.setFullYear(t.currentTime.getFullYear()-1),i=11),t.currentTime.setDate(Math.min(new Date(t.currentTime.getFullYear(),i+1,0).getDate(),t.currentTime.getDate())),t.currentTime.setMonth(i),D.onChangeMonth&&e.isFunction(D.onChangeMonth)&&D.onChangeMonth.call(O,s.currentTime,O.data("input")),O.trigger("xchange.xdsoft"),i},t.getWeekOfYear=function(e){var t=new Date(e.getFullYear(),0,1);return Math.ceil(((e-t)/864e5+t.getDay()+1)/7)},t.strToDateTime=function(e){var i,n,r=[];return e&&e instanceof Date&&t.isValidDate(e)?e:(r=/^(\+|\-)(.*)$/.exec(e),r&&(r[2]=Date.parseDate(r[2],D.formatDate)),r&&r[2]?(i=r[2].getTime()-6e4*r[2].getTimezoneOffset(),n=new Date(s.now().getTime()+parseInt(r[1]+"1",10)*i)):n=e?Date.parseDate(e,D.format):t.now(),t.isValidDate(n)||(n=t.now()),n)},t.strToDate=function(e){if(e&&e instanceof Date&&t.isValidDate(e))return e;var i=e?Date.parseDate(e,D.formatDate):t.now(!0);return t.isValidDate(i)||(i=t.now(!0)),i},t.strtotime=function(e){if(e&&e instanceof Date&&t.isValidDate(e))return e;var i=e?Date.parseDate(e,D.formatTime):t.now(!0);return t.isValidDate(i)||(i=t.now(!0)),i},t.str=function(){return t.currentTime.dateFormat(D.format)},t.currentTime=this.now()},s=new r,H.find(".xdsoft_today_button").on("mousedown.xdsoft",function(){O.data("changed",!0),s.setCurrentTime(0),O.trigger("afterOpen.xdsoft")}).on("dblclick.xdsoft",function(){t.val(s.str()),O.trigger("close.xdsoft")}),H.find(".xdsoft_prev,.xdsoft_next").on("mousedown.xdsoft",function(){var t=e(this),i=0,n=!1;!function r(e){s.currentTime.getMonth();t.hasClass(D.next)?s.nextMonth():t.hasClass(D.prev)&&s.prevMonth(),D.monthChangeSpinner&&(n||(i=setTimeout(r,e||100)))}(500),e([document.body,window]).on("mouseup.xdsoft",function o(){clearTimeout(i),n=!0,e([document.body,window]).off("mouseup.xdsoft",o)})}),z.find(".xdsoft_prev,.xdsoft_next").on("mousedown.xdsoft",function(){var t=e(this),i=0,n=!1,r=110;!function s(e){var o=N[0].clientHeight,a=L[0].offsetHeight,l=Math.abs(parseInt(L.css("marginTop"),10));t.hasClass(D.next)&&a-o-D.timeHeightInTimePicker>=l?L.css("marginTop","-"+(l+D.timeHeightInTimePicker)+"px"):t.hasClass(D.prev)&&l-D.timeHeightInTimePicker>=0&&L.css("marginTop","-"+(l-D.timeHeightInTimePicker)+"px"),N.trigger("scroll_element.xdsoft_scroller",[Math.abs(parseInt(L.css("marginTop"),10)/(a-o))]),r=r>10?10:r-10,n||(i=setTimeout(s,e||r))}(500),e([document.body,window]).on("mouseup.xdsoft",function o(){clearTimeout(i),n=!0,e([document.body,window]).off("mouseup.xdsoft",o)})}),E=0,O.on("xchange.xdsoft",function(t){clearTimeout(E),E=setTimeout(function(){for(var t,n,r,o,a,l,c,u="",d=new Date(s.currentTime.getFullYear(),s.currentTime.getMonth(),1,12,0,0),h=0,f=s.now(),p=!1,g=!1,m=[],v=!0,y="",b="";d.getDay()!==D.dayOfWeekStart;)d.setDate(d.getDate()-1);for(u+="<table><thead><tr>",D.weeks&&(u+="<th></th>"),t=0;7>t;t+=1)u+="<th>"+D.i18n[D.lang].dayOfWeek[(t+D.dayOfWeekStart)%7]+"</th>";for(u+="</tr></thead>",u+="<tbody>",D.maxDate!==!1&&(p=s.strToDate(D.maxDate),p=new Date(p.getFullYear(),p.getMonth(),p.getDate(),23,59,59,999)),D.minDate!==!1&&(g=s.strToDate(D.minDate),g=new Date(g.getFullYear(),g.getMonth(),g.getDate()));h<s.currentTime.countDaysInMonth()||d.getDay()!==D.dayOfWeekStart||s.currentTime.getMonth()===d.getMonth();)m=[],h+=1,n=d.getDate(),r=d.getFullYear(),o=d.getMonth(),a=s.getWeekOfYear(d),m.push("xdsoft_date"),l=D.beforeShowDay&&e.isFunction(D.beforeShowDay.call)?D.beforeShowDay.call(O,d):null,p!==!1&&d>p||g!==!1&&g>d||l&&l[0]===!1?m.push("xdsoft_disabled"):-1!==D.disabledDates.indexOf(d.dateFormat(D.formatDate))&&m.push("xdsoft_disabled"),l&&""!==l[1]&&m.push(l[1]),s.currentTime.getMonth()!==o&&m.push("xdsoft_other_month"),(D.defaultSelect||O.data("changed"))&&s.currentTime.dateFormat(D.formatDate)===d.dateFormat(D.formatDate)&&m.push("xdsoft_current"),f.dateFormat(D.formatDate)===d.dateFormat(D.formatDate)&&m.push("xdsoft_today"),(0===d.getDay()||6===d.getDay()||-1===D.weekends.indexOf(d.dateFormat(D.formatDate)))&&m.push("xdsoft_weekend"),D.beforeShowDay&&e.isFunction(D.beforeShowDay)&&m.push(D.beforeShowDay(d)),v&&(u+="<tr>",v=!1,D.weeks&&(u+="<th>"+a+"</th>")),u+='<td data-date="'+n+'" data-month="'+o+'" data-year="'+r+'" class="xdsoft_date xdsoft_day_of_week'+d.getDay()+" "+m.join(" ")+'"><div>'+n+"</div></td>",d.getDay()===D.dayOfWeekStartPrev&&(u+="</tr>",v=!0),d.setDate(n+1);if(u+="</tbody></table>",P.html(u),H.find(".xdsoft_label span").eq(0).text(D.i18n[D.lang].months[s.currentTime.getMonth()]),H.find(".xdsoft_label span").eq(1).text(s.currentTime.getFullYear()),y="",b="",o="",c=function(e,t){var i=s.now();i.setHours(e),e=parseInt(i.getHours(),10),i.setMinutes(t),t=parseInt(i.getMinutes(),10),m=[],(D.maxTime!==!1&&s.strtotime(D.maxTime).getTime()<i.getTime()||D.minTime!==!1&&s.strtotime(D.minTime).getTime()>i.getTime())&&m.push("xdsoft_disabled"),(D.initTime||D.defaultSelect||O.data("changed"))&&parseInt(s.currentTime.getHours(),10)===parseInt(e,10)&&(D.step>59||Math[D.roundTime](s.currentTime.getMinutes()/D.step)*D.step===parseInt(t,10))&&(D.defaultSelect||O.data("changed")?m.push("xdsoft_current"):D.initTime&&m.push("xdsoft_init_time")),parseInt(f.getHours(),10)===parseInt(e,10)&&parseInt(f.getMinutes(),10)===parseInt(t,10)&&m.push("xdsoft_today"),y+='<div class="xdsoft_time '+m.join(" ")+'" data-hour="'+e+'" data-minute="'+t+'">'+i.dateFormat(D.formatTime)+"</div>"},D.allowTimes&&e.isArray(D.allowTimes)&&D.allowTimes.length)for(h=0;h<D.allowTimes.length;h+=1)b=s.strtotime(D.allowTimes[h]).getHours(),o=s.strtotime(D.allowTimes[h]).getMinutes(),c(b,o);else for(h=0,t=0;h<(D.hours12?12:24);h+=1)for(t=0;60>t;t+=D.step)b=(10>h?"0":"")+h,o=(10>t?"0":"")+t,c(b,o);for(L.html(y),i="",h=0,h=parseInt(D.yearStart,10)+D.yearOffset;h<=parseInt(D.yearEnd,10)+D.yearOffset;h+=1)i+='<div class="xdsoft_option '+(s.currentTime.getFullYear()===h?"xdsoft_current":"")+'" data-value="'+h+'">'+h+"</div>";for(j.children().eq(0).html(i),h=0,i="";11>=h;h+=1)i+='<div class="xdsoft_option '+(s.currentTime.getMonth()===h?"xdsoft_current":"")+'" data-value="'+h+'">'+D.i18n[D.lang].months[h]+"</div>";F.children().eq(0).html(i),e(O).trigger("generate.xdsoft")},10),t.stopPropagation()}).on("afterOpen.xdsoft",function(){if(D.timepicker){var e,t,i,n;L.find(".xdsoft_current").length?e=".xdsoft_current":L.find(".xdsoft_init_time").length&&(e=".xdsoft_init_time"),e?(t=N[0].clientHeight,i=L[0].offsetHeight,n=L.find(e).index()*D.timeHeightInTimePicker+1,n>i-t&&(n=i-t),N.trigger("scroll_element.xdsoft_scroller",[parseInt(n,10)/(i-t)])):N.trigger("scroll_element.xdsoft_scroller",[0])}}),M=0,P.on("click.xdsoft","td",function(i){i.stopPropagation(),M+=1;var n=e(this),r=s.currentTime;return(void 0===r||null===r)&&(s.currentTime=s.now(),r=s.currentTime),n.hasClass("xdsoft_disabled")?!1:(r.setDate(1),r.setFullYear(n.data("year")),r.setMonth(n.data("month")),r.setDate(n.data("date")),O.trigger("select.xdsoft",[r]),t.val(s.str()),(M>1||D.closeOnDateSelect===!0||0===D.closeOnDateSelect&&!D.timepicker)&&!D.inline&&O.trigger("close.xdsoft"),D.onSelectDate&&e.isFunction(D.onSelectDate)&&D.onSelectDate.call(O,s.currentTime,O.data("input"),i),O.data("changed",!0),O.trigger("xchange.xdsoft"),O.trigger("changedatetime.xdsoft"),void setTimeout(function(){M=0},200))}),L.on("click.xdsoft","div",function(t){t.stopPropagation();var i=e(this),n=s.currentTime;return(void 0===n||null===n)&&(s.currentTime=s.now(),n=s.currentTime),i.hasClass("xdsoft_disabled")?!1:(n.setHours(i.data("hour")),n.setMinutes(i.data("minute")),O.trigger("select.xdsoft",[n]),O.data("input").val(s.str()),D.inline||O.trigger("close.xdsoft"),D.onSelectTime&&e.isFunction(D.onSelectTime)&&D.onSelectTime.call(O,s.currentTime,O.data("input"),t),O.data("changed",!0),O.trigger("xchange.xdsoft"),void O.trigger("changedatetime.xdsoft"))}),R.on("mousewheel.xdsoft",function(e){return D.scrollMonth?(e.deltaY<0?s.nextMonth():s.prevMonth(),!1):!0}),t.on("mousewheel.xdsoft",function(e){return D.scrollInput?!D.datepicker&&D.timepicker?(A=L.find(".xdsoft_current").length?L.find(".xdsoft_current").eq(0).index():0,A+e.deltaY>=0&&A+e.deltaY<L.children().length&&(A+=e.deltaY),L.children().eq(A).length&&L.children().eq(A).trigger("mousedown"),!1):D.datepicker&&!D.timepicker?(R.trigger(e,[e.deltaY,e.deltaX,e.deltaY]),t.val&&t.val(s.str()),O.trigger("changedatetime.xdsoft"),!1):void 0:!0}),O.on("changedatetime.xdsoft",function(t){if(D.onChangeDateTime&&e.isFunction(D.onChangeDateTime)){var i=O.data("input");D.onChangeDateTime.call(O,s.currentTime,i,t),delete D.value,i.trigger("change")}}).on("generate.xdsoft",function(){D.onGenerate&&e.isFunction(D.onGenerate)&&D.onGenerate.call(O,s.currentTime,O.data("input")),W&&(O.trigger("afterOpen.xdsoft"),W=!1)}).on("click.xdsoft",function(e){e.stopPropagation()}),A=0,I=function(){var t=O.data("input").offset(),i=t.top+O.data("input")[0].offsetHeight-1,n=t.left,r="absolute";D.fixed?(i-=e(window).scrollTop(),n-=e(window).scrollLeft(),r="fixed"):(i+O[0].offsetHeight>e(window).height()+e(window).scrollTop()&&(i=t.top-O[0].offsetHeight+1),0>i&&(i=0),n+O[0].offsetWidth>e(window).width()&&(n=e(window).width()-O[0].offsetWidth)),O.css({left:n,top:i,position:r})},O.on("open.xdsoft",function(t){var i=!0;D.onShow&&e.isFunction(D.onShow)&&(i=D.onShow.call(O,s.currentTime,O.data("input"),t)),i!==!1&&(O.show(),I(),e(window).off("resize.xdsoft",I).on("resize.xdsoft",I),D.closeOnWithoutClick&&e([document.body,window]).on("mousedown.xdsoft",function n(){O.trigger("close.xdsoft"),e([document.body,window]).off("mousedown.xdsoft",n)}))}).on("close.xdsoft",function(t){var i=!0;H.find(".xdsoft_month,.xdsoft_year").find(".xdsoft_select").hide(),D.onClose&&e.isFunction(D.onClose)&&(i=D.onClose.call(O,s.currentTime,O.data("input"),t)),i===!1||D.opened||D.inline||O.hide(),t.stopPropagation()}).on("toggle.xdsoft",function(){O.trigger(O.is(":visible")?"close.xdsoft":"open.xdsoft")}).data("input",t),B=0,U=0,O.data("xdsoft_datetime",s),O.setOptions(D),s.setCurrentTime(n()),t.data("xdsoft_datetimepicker",O).on("open.xdsoft focusin.xdsoft mousedown.xdsoft",function(){t.is(":disabled")||t.is(":hidden")||!t.is(":visible")||t.data("xdsoft_datetimepicker").is(":visible")&&D.closeOnInputClick||(clearTimeout(B),B=setTimeout(function(){t.is(":disabled")||t.is(":hidden")||!t.is(":visible")||(W=!0,s.setCurrentTime(n()),O.trigger("open.xdsoft"))},100))}).on("keydown.xdsoft",function(t){var i,n=(this.value,t.which);return-1!==[h].indexOf(n)&&D.enterLikeTab?(i=e("input:visible,textarea:visible"),O.trigger("close.xdsoft"),i.eq(i.index(this)+1).focus(),!1):-1!==[b].indexOf(n)?(O.trigger("close.xdsoft"),!0):void 0})},r=function(t){var i=t.data("xdsoft_datetimepicker");i&&(i.data("xdsoft_datetime",null),i.remove(),t.data("xdsoft_datetimepicker",null).off(".xdsoft"),e(window).off("resize.xdsoft"),e([window,document.body]).off("mousedown.xdsoft"),t.unmousewheel&&t.unmousewheel())},e(document).off("keydown.xdsoftctrl keyup.xdsoftctrl").on("keydown.xdsoftctrl",function(e){e.keyCode===u&&(S=!0)}).on("keyup.xdsoftctrl",function(e){e.keyCode===u&&(S=!1)}),this.each(function(){var t=e(this).data("xdsoft_datetimepicker");if(t){if("string"===e.type(i))switch(i){case"show":e(this).select().focus(),t.trigger("open.xdsoft");break;case"hide":t.trigger("close.xdsoft");break;case"toggle":t.trigger("toggle.xdsoft");break;case"destroy":r(e(this));break;case"reset":this.value=this.defaultValue,this.value&&t.data("xdsoft_datetime").isValidDate(Date.parseDate(this.value,D.format))||t.data("changed",!1),t.data("xdsoft_datetime").setCurrentTime(this.value)}else t.setOptions(i);return 0}"string"!==e.type(i)&&(!D.lazyInit||D.open||D.inline?n(e(this)):M(e(this)))})},e.fn.datetimepicker.defaults=t}(jQuery),function(){!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e:e(jQuery)}(function(e){function t(t){var o=t||window.event,a=l.call(arguments,1),c=0,d=0,h=0,f=0,p=0,g=0;if(t=e.event.fix(o),t.type="mousewheel","detail"in o&&(h=-1*o.detail),"wheelDelta"in o&&(h=o.wheelDelta),"wheelDeltaY"in o&&(h=o.wheelDeltaY),"wheelDeltaX"in o&&(d=-1*o.wheelDeltaX),"axis"in o&&o.axis===o.HORIZONTAL_AXIS&&(d=-1*h,h=0),c=0===h?d:h,"deltaY"in o&&(h=-1*o.deltaY,c=h),"deltaX"in o&&(d=o.deltaX,0===h&&(c=-1*d)),0!==h||0!==d){if(1===o.deltaMode){var m=e.data(this,"mousewheel-line-height");c*=m,h*=m,d*=m}else if(2===o.deltaMode){var v=e.data(this,"mousewheel-page-height");c*=v,h*=v,d*=v}if(f=Math.max(Math.abs(h),Math.abs(d)),(!s||s>f)&&(s=f,n(o,f)&&(s/=40)),n(o,f)&&(c/=40,d/=40,h/=40),c=Math[c>=1?"floor":"ceil"](c/s),d=Math[d>=1?"floor":"ceil"](d/s),h=Math[h>=1?"floor":"ceil"](h/s),u.settings.normalizeOffset&&this.getBoundingClientRect){var y=this.getBoundingClientRect();p=t.clientX-y.left,g=t.clientY-y.top}return t.deltaX=d,t.deltaY=h,t.deltaFactor=s,t.offsetX=p,t.offsetY=g,t.deltaMode=0,a.unshift(t,c,d,h),r&&clearTimeout(r),r=setTimeout(i,200),(e.event.dispatch||e.event.handle).apply(this,a)}}function i(){s=null}function n(e,t){return u.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120===0}var r,s,o=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],a="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],l=Array.prototype.slice;if(e.event.fixHooks)for(var c=o.length;c;)e.event.fixHooks[o[--c]]=e.event.mouseHooks;var u=e.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var i=a.length;i;)this.addEventListener(a[--i],t,!1);else this.onmousewheel=t;e.data(this,"mousewheel-line-height",u.getLineHeight(this)),e.data(this,"mousewheel-page-height",u.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var i=a.length;i;)this.removeEventListener(a[--i],t,!1);else this.onmousewheel=null;e.removeData(this,"mousewheel-line-height"),e.removeData(this,"mousewheel-page-height")},getLineHeight:function(t){var i=e(t),n=i["offsetParent"in e.fn?"offsetParent":"parent"]();return n.length||(n=e("body")),parseInt(n.css("fontSize"),10)||parseInt(i.css("fontSize"),10)||16},getPageHeight:function(t){return e(t).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}),Date.parseFunctions={count:0},Date.parseRegexes=[],Date.formatFunctions={count:0},Date.prototype.dateFormat=function(e){if("unixtime"==e)return parseInt(this.getTime()/1e3);null==Date.formatFunctions[e]&&Date.createNewFormat(e);var t=Date.formatFunctions[e];return this[t]()},Date.createNewFormat=function(format){var funcName="format"+Date.formatFunctions.count++;Date.formatFunctions[format]=funcName;for(var code="Date.prototype."+funcName+" = function() {return ",special=!1,ch="",i=0;i<format.length;++i)ch=format.charAt(i),special||"\\"!=ch?special?(special=!1,code+="'"+String.escape(ch)+"' + "):code+=Date.getFormatCode(ch):special=!0;eval(code.substring(0,code.length-3)+";}")},Date.getFormatCode=function(e){switch(e){case"d":return"String.leftPad(this.getDate(), 2, '0') + ";case"D":return"Date.dayNames[this.getDay()].substring(0, 3) + ";case"j":return"this.getDate() + ";case"l":return"Date.dayNames[this.getDay()] + ";case"S":return"this.getSuffix() + ";case"w":return"this.getDay() + ";case"z":return"this.getDayOfYear() + ";case"W":return"this.getWeekOfYear() + ";case"F":return"Date.monthNames[this.getMonth()] + ";case"m":return"String.leftPad(this.getMonth() + 1, 2, '0') + ";case"M":return"Date.monthNames[this.getMonth()].substring(0, 3) + ";case"n":return"(this.getMonth() + 1) + ";case"t":return"this.getDaysInMonth() + ";case"L":return"(this.isLeapYear() ? 1 : 0) + ";case"Y":return"this.getFullYear() + ";case"y":return"('' + this.getFullYear()).substring(2, 4) + ";case"a":return"(this.getHours() < 12 ? 'am' : 'pm') + ";case"A":return"(this.getHours() < 12 ? 'AM' : 'PM') + ";case"g":return"((this.getHours() %12) ? this.getHours() % 12 : 12) + ";case"G":return"this.getHours() + ";case"h":return"String.leftPad((this.getHours() %12) ? this.getHours() % 12 : 12, 2, '0') + ";case"H":return"String.leftPad(this.getHours(), 2, '0') + ";case"i":return"String.leftPad(this.getMinutes(), 2, '0') + ";case"s":return"String.leftPad(this.getSeconds(), 2, '0') + ";case"O":return"this.getGMTOffset() + ";case"T":return"this.getTimezone() + ";case"Z":return"(this.getTimezoneOffset() * -60) + ";default:return"'"+String.escape(e)+"' + "}},Date.parseDate=function(e,t){if("unixtime"==t)return new Date(isNaN(parseInt(e))?0:1e3*parseInt(e));null==Date.parseFunctions[t]&&Date.createParser(t);var i=Date.parseFunctions[t];return Date[i](e)},Date.createParser=function(format){var funcName="parse"+Date.parseFunctions.count++,regexNum=Date.parseRegexes.length,currentGroup=1;Date.parseFunctions[format]=funcName;for(var code="Date."+funcName+" = function(input) {\nvar y = -1, m = -1, d = -1, h = -1, i = -1, s = -1, z = -1;\nvar d = new Date();\ny = d.getFullYear();\nm = d.getMonth();\nd = d.getDate();\nvar results = input.match(Date.parseRegexes["+regexNum+"]);\nif (results && results.length > 0) {",regex="",special=!1,ch="",i=0;i<format.length;++i)ch=format.charAt(i),special||"\\"!=ch?special?(special=!1,regex+=String.escape(ch)):(obj=Date.formatCodeToRegex(ch,currentGroup),currentGroup+=obj.g,regex+=obj.s,obj.g&&obj.c&&(code+=obj.c)):special=!0;code+="if (y > 0 && z > 0){\nvar doyDate = new Date(y,0);\ndoyDate.setDate(z);\nm = doyDate.getMonth();\nd = doyDate.getDate();\n}",code+="if (y > 0 && m >= 0 && d > 0 && h >= 0 && i >= 0 && s >= 0)\n{return new Date(y, m, d, h, i, s);}\nelse if (y > 0 && m >= 0 && d > 0 && h >= 0 && i >= 0)\n{return new Date(y, m, d, h, i);}\nelse if (y > 0 && m >= 0 && d > 0 && h >= 0)\n{return new Date(y, m, d, h);}\nelse if (y > 0 && m >= 0 && d > 0)\n{return new Date(y, m, d);}\nelse if (y > 0 && m >= 0)\n{return new Date(y, m);}\nelse if (y > 0)\n{return new Date(y);}\n}return null;}",Date.parseRegexes[regexNum]=new RegExp("^"+regex+"$"),eval(code)},Date.formatCodeToRegex=function(e,t){switch(e){case"D":return{g:0,c:null,s:"(?:Sun|Mon|Tue|Wed|Thu|Fri|Sat)"};case"j":case"d":return{g:1,c:"d = parseInt(results["+t+"], 10);\n",s:"(\\d{1,2})"};case"l":return{g:0,c:null,s:"(?:"+Date.dayNames.join("|")+")"};case"S":return{g:0,c:null,s:"(?:st|nd|rd|th)"};case"w":return{g:0,c:null,s:"\\d"};case"z":return{g:1,c:"z = parseInt(results["+t+"], 10);\n",s:"(\\d{1,3})"};case"W":return{g:0,c:null,s:"(?:\\d{2})"};case"F":return{g:1,c:"m = parseInt(Date.monthNumbers[results["+t+"].substring(0, 3)], 10);\n",s:"("+Date.monthNames.join("|")+")"};case"M":return{g:1,c:"m = parseInt(Date.monthNumbers[results["+t+"]], 10);\n",s:"(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)"};case"n":case"m":return{g:1,c:"m = parseInt(results["+t+"], 10) - 1;\n",s:"(\\d{1,2})"};case"t":return{g:0,c:null,s:"\\d{1,2}"};case"L":return{g:0,c:null,s:"(?:1|0)"};case"Y":return{g:1,c:"y = parseInt(results["+t+"], 10);\n",s:"(\\d{4})"};case"y":return{g:1,c:"var ty = parseInt(results["+t+"], 10);\ny = ty > Date.y2kYear ? 1900 + ty : 2000 + ty;\n",s:"(\\d{1,2})"};case"a":return{g:1,c:"if (results["+t+"] == 'am') {\nif (h == 12) { h = 0; }\n} else { if (h < 12) { h += 12; }}",s:"(am|pm)"};case"A":return{g:1,c:"if (results["+t+"] == 'AM') {\nif (h == 12) { h = 0; }\n} else { if (h < 12) { h += 12; }}",s:"(AM|PM)"};case"g":case"G":case"h":case"H":return{g:1,c:"h = parseInt(results["+t+"], 10);\n",s:"(\\d{1,2})"};case"i":return{g:1,c:"i = parseInt(results["+t+"], 10);\n",s:"(\\d{2})"};case"s":return{g:1,c:"s = parseInt(results["+t+"], 10);\n",s:"(\\d{2})"};case"O":return{g:0,c:null,s:"[+-]\\d{4}"};case"T":return{g:0,c:null,s:"[A-Z]{3}"};case"Z":return{g:0,c:null,s:"[+-]\\d{1,5}"};default:return{g:0,c:null,s:String.escape(e)}}},Date.prototype.getTimezone=function(){return this.toString().replace(/^.*? ([A-Z]{3}) [0-9]{4}.*$/,"$1").replace(/^.*?\(([A-Z])[a-z]+ ([A-Z])[a-z]+ ([A-Z])[a-z]+\)$/,"$1$2$3")},Date.prototype.getGMTOffset=function(){return(this.getTimezoneOffset()>0?"-":"+")+String.leftPad(Math.floor(Math.abs(this.getTimezoneOffset())/60),2,"0")+String.leftPad(Math.abs(this.getTimezoneOffset())%60,2,"0")},Date.prototype.getDayOfYear=function(){var e=0;Date.daysInMonth[1]=this.isLeapYear()?29:28;for(var t=0;t<this.getMonth();++t)e+=Date.daysInMonth[t];return e+this.getDate()},Date.prototype.getWeekOfYear=function(){var e=this.getDayOfYear()+(4-this.getDay()),t=new Date(this.getFullYear(),0,1),i=7-t.getDay()+4;return String.leftPad(Math.ceil((e-i)/7)+1,2,"0")},Date.prototype.isLeapYear=function(){var e=this.getFullYear();return 0==(3&e)&&(e%100||e%400==0&&e)},Date.prototype.getFirstDayOfMonth=function(){var e=(this.getDay()-(this.getDate()-1))%7;return 0>e?e+7:e},Date.prototype.getLastDayOfMonth=function(){var e=(this.getDay()+(Date.daysInMonth[this.getMonth()]-this.getDate()))%7;return 0>e?e+7:e},Date.prototype.getDaysInMonth=function(){return Date.daysInMonth[1]=this.isLeapYear()?29:28,Date.daysInMonth[this.getMonth()]},Date.prototype.getSuffix=function(){switch(this.getDate()){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}},String.escape=function(e){return e.replace(/('|\\)/g,"\\$1")},String.leftPad=function(e,t,i){var n=new String(e);for(null==i&&(i=" ");n.length<t;)n=i+n;return n},Date.daysInMonth=[31,28,31,30,31,30,31,31,30,31,30,31],Date.monthNames=["January","February","March","April","May","June","July","August","September","October","November","December"],Date.dayNames=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Date.y2kYear=50,Date.monthNumbers={Jan:0,Feb:1,Mar:2,Apr:3,May:4,Jun:5,Jul:6,Aug:7,Sep:8,Oct:9,Nov:10,Dec:11},Date.patterns={ISO8601LongPattern:"Y-m-d H:i:s",ISO8601ShortPattern:"Y-m-d",ShortDatePattern:"n/j/Y",LongDatePattern:"l, F d, Y",FullDateTimePattern:"l, F d, Y g:i:s A",MonthDayPattern:"F d",ShortTimePattern:"g:i A",LongTimePattern:"g:i:s A",SortableDateTimePattern:"Y-m-d\\TH:i:s",UniversalSortableDateTimePattern:"Y-m-d H:i:sO",YearMonthPattern:"F, Y"}}(),function(e){function t(t){var i="https://api.instagram.com/v1",n={};if(null==t.accessToken&&null==t.clientId)throw"You must provide an access token or a client id";if(n=e.extend(n,{access_token:t.accessToken||"",client_id:t.clientId||"",count:t.count||""}),null!=t.url)i=t.url;else if(null!=t.hash)i+="/tags/"+t.hash+"/media/recent";else if(null!=t.search)i+="/media/search",n=e.extend(n,t.search);else if(null!=t.userId){if(null==t.accessToken)throw"You must provide an access token";i+="/users/"+t.userId+"/media/recent"}else null!=t.location?(i+="/locations/"+t.location.id+"/media/recent",delete t.location.id,n=e.extend(n,t.location)):i+="/media/popular";return{url:i,data:n}}e.fn.instagram=function(i){var n=this;i=e.extend({},e.fn.instagram.defaults,i);var r=t(i);return e.ajax({dataType:"jsonp",url:r.url,data:r.data,success:function(e){n.trigger("didLoadInstagram",e)}}),this.trigger("willLoadInstagram",i),this},e.fn.instagram.defaults={accessToken:null,clientId:null,count:null,url:null,hash:null,userId:null,location:null,search:null}}(jQuery),function(e){function t(e){return"object"==typeof e?e:{top:e,left:e}}var i=e.scrollTo=function(t,i,n){e(window).scrollTo(t,i,n)};i.defaults={axis:"xy",duration:parseFloat(e.fn.jquery)>=1.3?0:1,limit:!0},i.window=function(){return e(window)._scrollable()},e.fn._scrollable=function(){return this.map(function(){var t=this,i=!t.nodeName||-1!=e.inArray(t.nodeName.toLowerCase(),["iframe","#document","html","body"]);if(!i)return t;var n=(t.contentWindow||t).document||t.ownerDocument||t;return/webkit/i.test(navigator.userAgent)||"BackCompat"==n.compatMode?n.body:n.documentElement})},e.fn.scrollTo=function(n,r,s){return"object"==typeof r&&(s=r,r=0),"function"==typeof s&&(s={onAfter:s}),"max"==n&&(n=9e9),s=e.extend({},i.defaults,s),r=r||s.duration,s.queue=s.queue&&s.axis.length>1,s.queue&&(r/=2),s.offset=t(s.offset),s.over=t(s.over),this._scrollable().each(function(){function o(e){c.animate(d,r,s.easing,e&&function(){e.call(this,n,s)
})}if(null!=n){var a,l=this,c=e(l),u=n,d={},h=c.is("html,body");switch(typeof u){case"number":case"string":if(/^([+-]=)?\d+(\.\d+)?(px|%)?$/.test(u)){u=t(u);break}if(u=e(u,this),!u.length)return;case"object":(u.is||u.style)&&(a=(u=e(u)).offset())}e.each(s.axis.split(""),function(e,t){var n="x"==t?"Left":"Top",r=n.toLowerCase(),f="scroll"+n,p=l[f],g=i.max(l,t);if(a)d[f]=a[r]+(h?0:p-c.offset()[r]),s.margin&&(d[f]-=parseInt(u.css("margin"+n))||0,d[f]-=parseInt(u.css("border"+n+"Width"))||0),d[f]+=s.offset[r]||0,s.over[r]&&(d[f]+=u["x"==t?"width":"height"]()*s.over[r]);else{var m=u[r];d[f]=m.slice&&"%"==m.slice(-1)?parseFloat(m)/100*g:m}s.limit&&/^\d+$/.test(d[f])&&(d[f]=d[f]<=0?0:Math.min(d[f],g)),!e&&s.queue&&(p!=d[f]&&o(s.onAfterFirst),delete d[f])}),o(s.onAfter)}}).end()},i.max=function(t,i){var n="x"==i?"Width":"Height",r="scroll"+n;if(!e(t).is("html,body"))return t[r]-e(t)[n.toLowerCase()]();var s="client"+n,o=t.ownerDocument.documentElement,a=t.ownerDocument.body;return Math.max(o[r],a[r])-Math.min(o[s],a[s])}}(jQuery),function(e,t){"use strict";var i,n=t.event;n.special.smartresize={setup:function(){t(this).bind("resize",n.special.smartresize.handler)},teardown:function(){t(this).unbind("resize",n.special.smartresize.handler)},handler:function(e,t){var r=this,s=arguments;e.type="smartresize",i&&clearTimeout(i),i=setTimeout(function(){n.dispatch.apply(r,s)},"execAsap"===t?0:100)}},t.fn.smartresize=function(e){return e?this.bind("smartresize",e):this.trigger("smartresize",["execAsap"])},t.Mason=function(e,i){this.element=t(i),this._create(e),this._init()},t.Mason.settings={isResizable:!0,isAnimated:!1,animationOptions:{queue:!1,duration:500},gutterWidth:0,isRTL:!1,isFitWidth:!1,containerStyle:{position:"relative"}},t.Mason.prototype={_filterFindBricks:function(e){var t=this.options.itemSelector;return t?e.filter(t).add(e.find(t)):e},_getBricks:function(e){var t=this._filterFindBricks(e).css({position:"absolute"}).addClass("masonry-brick");return t},_create:function(i){this.options=t.extend(!0,{},t.Mason.settings,i),this.styleQueue=[];var n=this.element[0].style;this.originalStyle={height:n.height||""};var r=this.options.containerStyle;for(var s in r)this.originalStyle[s]=n[s]||"";this.element.css(r),this.horizontalDirection=this.options.isRTL?"right":"left";var o=this.element.css("padding-"+this.horizontalDirection),a=this.element.css("padding-top");this.offset={x:o?parseInt(o,10):0,y:a?parseInt(a,10):0},this.isFluid=this.options.columnWidth&&"function"==typeof this.options.columnWidth;var l=this;setTimeout(function(){l.element.addClass("masonry")},0),this.options.isResizable&&t(e).bind("smartresize.masonry",function(){l.resize()}),this.reloadItems()},_init:function(e){this._getColumns(),this._reLayout(e)},option:function(e){t.isPlainObject(e)&&(this.options=t.extend(!0,this.options,e))},layout:function(e,t){for(var i=0,n=e.length;n>i;i++)this._placeBrick(e[i]);var r={};if(r.height=Math.max.apply(Math,this.colYs),this.options.isFitWidth){var s=0;for(i=this.cols;--i&&0===this.colYs[i];)s++;r.width=(this.cols-s)*this.columnWidth-this.options.gutterWidth}this.styleQueue.push({$el:this.element,style:r});var o,a=this.isLaidOut&&this.options.isAnimated?"animate":"css",l=this.options.animationOptions;for(i=0,n=this.styleQueue.length;n>i;i++)o=this.styleQueue[i],o.$el[a](o.style,l);this.styleQueue=[],t&&t.call(e),this.isLaidOut=!0},_getColumns:function(){var e=this.options.isFitWidth?this.element.parent():this.element,t=e.width();this.columnWidth=this.isFluid?this.options.columnWidth(t):this.options.columnWidth||this.$bricks.outerWidth(!0)||t,this.columnWidth+=this.options.gutterWidth,this.cols=Math.floor((t+this.options.gutterWidth)/this.columnWidth),this.cols=Math.max(this.cols,1)},_placeBrick:function(e){var i,n,r,s,o,a=t(e);if(i=Math.ceil(a.outerWidth(!0)/this.columnWidth),i=Math.min(i,this.cols),1===i)r=this.colYs;else for(n=this.cols+1-i,r=[],o=0;n>o;o++)s=this.colYs.slice(o,o+i),r[o]=Math.max.apply(Math,s);for(var l=Math.min.apply(Math,r),c=0,u=0,d=r.length;d>u;u++)if(r[u]===l){c=u;break}var h={top:l+this.offset.y};h[this.horizontalDirection]=this.columnWidth*c+this.offset.x,this.styleQueue.push({$el:a,style:h});var f=l+a.outerHeight(!0),p=this.cols+1-d;for(u=0;p>u;u++)this.colYs[c+u]=f},resize:function(){var e=this.cols;this._getColumns(),(this.isFluid||this.cols!==e)&&this._reLayout()},_reLayout:function(e){var t=this.cols;for(this.colYs=[];t--;)this.colYs.push(0);this.layout(this.$bricks,e)},reloadItems:function(){this.$bricks=this._getBricks(this.element.children())},reload:function(e){this.reloadItems(),this._init(e)},appended:function(e,t,i){if(t){this._filterFindBricks(e).css({top:this.element.height()});var n=this;setTimeout(function(){n._appended(e,i)},1)}else this._appended(e,i)},_appended:function(e,t){var i=this._getBricks(e);this.$bricks=this.$bricks.add(i),this.layout(i,t)},remove:function(e){this.$bricks=this.$bricks.not(e),e.remove()},destroy:function(){this.$bricks.removeClass("masonry-brick").each(function(){this.style.position="",this.style.top="",this.style.left=""});var i=this.element[0].style;for(var n in this.originalStyle)i[n]=this.originalStyle[n];this.element.unbind(".masonry").removeClass("masonry").removeData("masonry"),t(e).unbind(".masonry")}},t.fn.imagesLoaded=function(e){function i(){e.call(r,s)}function n(e){var r=e.target;r.src!==a&&-1===t.inArray(r,l)&&(l.push(r),--o<=0&&(setTimeout(i),s.unbind(".imagesLoaded",n)))}var r=this,s=r.find("img").add(r.filter("img")),o=s.length,a="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",l=[];return o||i(),s.bind("load.imagesLoaded error.imagesLoaded",n).each(function(){var e=this.src;this.src=a,this.src=e}),r};var r=function(t){e.console&&e.console.error(t)};t.fn.masonry=function(e){if("string"==typeof e){var i=Array.prototype.slice.call(arguments,1);this.each(function(){var n=t.data(this,"masonry");return n?t.isFunction(n[e])&&"_"!==e.charAt(0)?void n[e].apply(n,i):void r("no such method '"+e+"' for masonry instance"):void r("cannot call methods on masonry prior to initialization; attempted to call method '"+e+"'")})}else this.each(function(){var i=t.data(this,"masonry");i?(i.option(e||{}),i._init()):t.data(this,"masonry",new t.Mason(e,this))});return this}}(window,jQuery);var boxMaker={};if(boxMaker.lorem="Lorem ipsum dolor sit amet, consectetur adipiscing elit. Phasellus eu interdum odio. Cras lobortis mauris vitae tellus consectetur sit amet cursus ipsum vestibulum. Duis facilisis sodales tristique. Vivamus aliquet, est a rhoncus dapibus, velit tortor tempor turpis, a pharetra diam lacus a metus. Donec gravida faucibus magna, nec laoreet nibh placerat et. Cras magna lorem, faucibus vitae rhoncus ac, tincidunt vel velit. Mauris aliquam, risus vel sodales laoreet, mi nulla faucibus nunc, eu tincidunt nisi leo sed orci. Curabitur sagittis libero eu augue luctus ullamcorper. Phasellus sed tortor sed nunc elementum rutrum. Maecenas eu enim a nulla faucibus commodo iaculis tempor orci. Integer at ligula id mauris semper bibendum at eu erat. Integer vestibulum sem nec risus iaculis eu rhoncus tellus tempor. Suspendisse potenti. Sed bibendum nibh non velit blandit eu adipiscing ligula consectetur. Vivamus turpis quam, fringilla a elementum a, condimentum non purus. Pellentesque sed bibendum ante. Fusce elit mauris, pulvinar sed rutrum eget, malesuada in nisi. Etiam sagittis pretium ligula. Aliquam a metus orci, a molestie lacus. Suspendisse potenti. Mauris vel volutpat nunc. In condimentum imperdiet scelerisque. Cras aliquam tristique velit non iaculis. Aliquam pulvinar sagittis sodales. Aenean risus orci, elementum quis accumsan eget, elementum cursus tellus. Nunc vel laoreet odio. Maecenas sollicitudin, tellus vel bibendum ornare, tellus nibh hendrerit lorem, quis volutpat turpis odio ac ligula. Etiam tempus neque id libero feugiat fringilla. Nullam posuere consequat vehicula. Mauris in lorem eget sem tempor condimentum. Integer rhoncus accumsan elit eu gravida. Donec dictum ante ac nisl adipiscing vel tempor libero luctus. Praesent bibendum augue at erat semper rutrum. Fusce vel orci nulla. Vivamus condimentum, odio vel condimentum tempus, mauris ipsum gravida odio, sed viverra dolor velit sit amet magna. Donec aliquam malesuada ipsum ut suscipit. Vivamus porttitor posuere iaculis. Vestibulum lectus lorem, tincidunt at sodales et, euismod vel quam. Sed eget urna nunc. In quis felis nunc. Aliquam erat volutpat. Cras ut dui ac leo aliquet placerat faucibus in nulla. Mauris pharetra ligula et tortor ultricies eget elementum libero blandit. Praesent tincidunt, mi quis aliquam faucibus, leo risus placerat odio, ac adipiscing ante urna at tortor.".split("."),boxMaker.loremLen=boxMaker.lorem.length,boxMaker.randoLoremText=function(){for(var e="",t=5*Math.random(),i=0;t>i;i++){var n=Math.floor(Math.random()*boxMaker.loremLen);e+=boxMaker.lorem[n]+". "}return e},boxMaker.makeBoxes=function(){for(var e=[],t=4*Math.random(),i=0;t>i;i++){var n=document.createElement("div"),r=document.createTextNode(boxMaker.randoLoremText());n.className="box col"+Math.ceil(3*Math.random()),n.appendChild(r),e.push(n)}return e},function(e){e.fn.loremImages=function(t,i,n){var r=e.extend({},e.fn.loremImages.defaults,n);return this.each(function(n,s){var o=e(s),a="";for(n=0;n<r.count;n++){var l=t+Math.round(Math.random()*r.randomWidth),c=i+Math.round(Math.random()*r.randomHeight);a+=r.itemBuilder.call(o,n,"//lorempixel.com/"+(r.grey?"g/":"")+l+"/"+c+"/"+(r.category?r.category+"/":"")+"?"+Math.round(1e3*Math.random()),l,c)}o.append(a)})},e.fn.loremImages.defaults={count:10,grey:0,randomWidth:0,randomHeight:0,category:0,itemBuilder:function(e,t){return'<img src="'+t+'" alt="Lorempixel">'}}}(jQuery),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"undefined"!=typeof exports?module.exports=e(require("jquery")):e(jQuery)}(function(e){"use strict";var t=window.Slick||{};t=function(){function t(t,n){var r,s=this;s.defaults={accessibility:!0,adaptiveHeight:!1,appendArrows:e(t),appendDots:e(t),arrows:!0,asNavFor:null,prevArrow:'<button type="button" data-role="none" class="slick-prev" aria-label="Previous" tabindex="0" role="button">Previous</button>',nextArrow:'<button type="button" data-role="none" class="slick-next" aria-label="Next" tabindex="0" role="button">Next</button>',autoplay:!1,autoplaySpeed:3e3,centerMode:!1,centerPadding:"50px",cssEase:"ease",customPaging:function(t,i){return e('<button type="button" data-role="none" role="button" tabindex="0" />').text(i+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:"ondemand",mobileFirst:!1,pauseOnHover:!0,pauseOnFocus:!0,pauseOnDotsHover:!1,respondTo:"window",responsive:null,rows:1,rtl:!1,slide:"",slidesPerRow:1,slidesToShow:1,slidesToScroll:1,speed:500,swipe:!0,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,verticalSwiping:!1,waitForAnimate:!0,zIndex:1e3},s.initials={animating:!1,dragging:!1,autoPlayTimer:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,$dots:null,listWidth:null,listHeight:null,loadIndex:0,$nextArrow:null,$prevArrow:null,slideCount:null,slideWidth:null,$slideTrack:null,$slides:null,sliding:!1,slideOffset:0,swipeLeft:null,$list:null,touchObject:{},transformsEnabled:!1,unslicked:!1},e.extend(s,s.initials),s.activeBreakpoint=null,s.animType=null,s.animProp=null,s.breakpoints=[],s.breakpointSettings=[],s.cssTransitions=!1,s.focussed=!1,s.interrupted=!1,s.hidden="hidden",s.paused=!0,s.positionProp=null,s.respondTo=null,s.rowCount=1,s.shouldClick=!0,s.$slider=e(t),s.$slidesCache=null,s.transformType=null,s.transitionType=null,s.visibilityChange="visibilitychange",s.windowWidth=0,s.windowTimer=null,r=e(t).data("slick")||{},s.options=e.extend({},s.defaults,n,r),s.currentSlide=s.options.initialSlide,s.originalSettings=s.options,"undefined"!=typeof document.mozHidden?(s.hidden="mozHidden",s.visibilityChange="mozvisibilitychange"):"undefined"!=typeof document.webkitHidden&&(s.hidden="webkitHidden",s.visibilityChange="webkitvisibilitychange"),s.autoPlay=e.proxy(s.autoPlay,s),s.autoPlayClear=e.proxy(s.autoPlayClear,s),s.autoPlayIterator=e.proxy(s.autoPlayIterator,s),s.changeSlide=e.proxy(s.changeSlide,s),s.clickHandler=e.proxy(s.clickHandler,s),s.selectHandler=e.proxy(s.selectHandler,s),s.setPosition=e.proxy(s.setPosition,s),s.swipeHandler=e.proxy(s.swipeHandler,s),s.dragHandler=e.proxy(s.dragHandler,s),s.keyHandler=e.proxy(s.keyHandler,s),s.instanceUid=i++,s.htmlExpr=/^(?:\s*(<[\w\W]+>)[^>]*)$/,s.registerBreakpoints(),s.init(!0)}var i=0;return t}(),t.prototype.activateADA=function(){var e=this;e.$slideTrack.find(".slick-active").attr({"aria-hidden":"false"}).find("a, input, button, select").attr({tabindex:"0"})},t.prototype.addSlide=t.prototype.slickAdd=function(t,i,n){var r=this;if("boolean"==typeof i)n=i,i=null;else if(0>i||i>=r.slideCount)return!1;r.unload(),"number"==typeof i?0===i&&0===r.$slides.length?e(t).appendTo(r.$slideTrack):n?e(t).insertBefore(r.$slides.eq(i)):e(t).insertAfter(r.$slides.eq(i)):n===!0?e(t).prependTo(r.$slideTrack):e(t).appendTo(r.$slideTrack),r.$slides=r.$slideTrack.children(this.options.slide),r.$slideTrack.children(this.options.slide).detach(),r.$slideTrack.append(r.$slides),r.$slides.each(function(t,i){e(i).attr("data-slick-index",t)}),r.$slidesCache=r.$slides,r.reinit()},t.prototype.animateHeight=function(){var e=this;if(1===e.options.slidesToShow&&e.options.adaptiveHeight===!0&&e.options.vertical===!1){var t=e.$slides.eq(e.currentSlide).outerHeight(!0);e.$list.animate({height:t},e.options.speed)}},t.prototype.animateSlide=function(t,i){var n={},r=this;r.animateHeight(),r.options.rtl===!0&&r.options.vertical===!1&&(t=-t),r.transformsEnabled===!1?r.options.vertical===!1?r.$slideTrack.animate({left:t},r.options.speed,r.options.easing,i):r.$slideTrack.animate({top:t},r.options.speed,r.options.easing,i):r.cssTransitions===!1?(r.options.rtl===!0&&(r.currentLeft=-r.currentLeft),e({animStart:r.currentLeft}).animate({animStart:t},{duration:r.options.speed,easing:r.options.easing,step:function(e){e=Math.ceil(e),r.options.vertical===!1?(n[r.animType]="translate("+e+"px, 0px)",r.$slideTrack.css(n)):(n[r.animType]="translate(0px,"+e+"px)",r.$slideTrack.css(n))},complete:function(){i&&i.call()}})):(r.applyTransition(),t=Math.ceil(t),n[r.animType]=r.options.vertical===!1?"translate3d("+t+"px, 0px, 0px)":"translate3d(0px,"+t+"px, 0px)",r.$slideTrack.css(n),i&&setTimeout(function(){r.disableTransition(),i.call()},r.options.speed))},t.prototype.getNavTarget=function(){var t=this,i=t.options.asNavFor;return i&&null!==i&&(i=e(i).not(t.$slider)),i},t.prototype.asNavFor=function(t){var i=this,n=i.getNavTarget();null!==n&&"object"==typeof n&&n.each(function(){var i=e(this).slick("getSlick");i.unslicked||i.slideHandler(t,!0)})},t.prototype.applyTransition=function(e){var t=this,i={};i[t.transitionType]=t.options.fade===!1?t.transformType+" "+t.options.speed+"ms "+t.options.cssEase:"opacity "+t.options.speed+"ms "+t.options.cssEase,t.options.fade===!1?t.$slideTrack.css(i):t.$slides.eq(e).css(i)},t.prototype.autoPlay=function(){var e=this;e.autoPlayClear(),e.slideCount>e.options.slidesToShow&&(e.autoPlayTimer=setInterval(e.autoPlayIterator,e.options.autoplaySpeed))},t.prototype.autoPlayClear=function(){var e=this;e.autoPlayTimer&&clearInterval(e.autoPlayTimer)},t.prototype.autoPlayIterator=function(){var e=this,t=e.currentSlide+e.options.slidesToScroll;e.paused||e.interrupted||e.focussed||(e.options.infinite===!1&&(1===e.direction&&e.currentSlide+1===e.slideCount-1?e.direction=0:0===e.direction&&(t=e.currentSlide-e.options.slidesToScroll,e.currentSlide-1===0&&(e.direction=1))),e.slideHandler(t))},t.prototype.buildArrows=function(){var t=this;t.options.arrows===!0&&(t.$prevArrow=e(t.options.prevArrow).addClass("slick-arrow"),t.$nextArrow=e(t.options.nextArrow).addClass("slick-arrow"),t.slideCount>t.options.slidesToShow?(t.$prevArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),t.$nextArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),t.htmlExpr.test(t.options.prevArrow)&&t.$prevArrow.prependTo(t.options.appendArrows),t.htmlExpr.test(t.options.nextArrow)&&t.$nextArrow.appendTo(t.options.appendArrows),t.options.infinite!==!0&&t.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true")):t.$prevArrow.add(t.$nextArrow).addClass("slick-hidden").attr({"aria-disabled":"true",tabindex:"-1"}))},t.prototype.buildDots=function(){var t,i,n=this;if(n.options.dots===!0&&n.slideCount>n.options.slidesToShow){for(n.$slider.addClass("slick-dotted"),i=e("<ul />").addClass(n.options.dotsClass),t=0;t<=n.getDotCount();t+=1)i.append(e("<li />").append(n.options.customPaging.call(this,n,t)));n.$dots=i.appendTo(n.options.appendDots),n.$dots.find("li").first().addClass("slick-active").attr("aria-hidden","false")}},t.prototype.buildOut=function(){var t=this;t.$slides=t.$slider.children(t.options.slide+":not(.slick-cloned)").addClass("slick-slide"),t.slideCount=t.$slides.length,t.$slides.each(function(t,i){e(i).attr("data-slick-index",t).data("originalStyling",e(i).attr("style")||"")}),t.$slider.addClass("slick-slider"),t.$slideTrack=0===t.slideCount?e('<div class="slick-track"/>').appendTo(t.$slider):t.$slides.wrapAll('<div class="slick-track"/>').parent(),t.$list=t.$slideTrack.wrap('<div aria-live="polite" class="slick-list"/>').parent(),t.$slideTrack.css("opacity",0),(t.options.centerMode===!0||t.options.swipeToSlide===!0)&&(t.options.slidesToScroll=1),e("img[data-lazy]",t.$slider).not("[src]").addClass("slick-loading"),t.setupInfinite(),t.buildArrows(),t.buildDots(),t.updateDots(),t.setSlideClasses("number"==typeof t.currentSlide?t.currentSlide:0),t.options.draggable===!0&&t.$list.addClass("draggable")},t.prototype.buildRows=function(){var e,t,i,n,r,s,o,a=this;if(n=document.createDocumentFragment(),s=a.$slider.children(),a.options.rows>1){for(o=a.options.slidesPerRow*a.options.rows,r=Math.ceil(s.length/o),e=0;r>e;e++){var l=document.createElement("div");for(t=0;t<a.options.rows;t++){var c=document.createElement("div");for(i=0;i<a.options.slidesPerRow;i++){var u=e*o+(t*a.options.slidesPerRow+i);s.get(u)&&c.appendChild(s.get(u))}l.appendChild(c)}n.appendChild(l)}a.$slider.empty().append(n),a.$slider.children().children().children().css({width:100/a.options.slidesPerRow+"%",display:"inline-block"})}},t.prototype.checkResponsive=function(t,i){var n,r,s,o=this,a=!1,l=o.$slider.width(),c=window.innerWidth||e(window).width();if("window"===o.respondTo?s=c:"slider"===o.respondTo?s=l:"min"===o.respondTo&&(s=Math.min(c,l)),o.options.responsive&&o.options.responsive.length&&null!==o.options.responsive){r=null;for(n in o.breakpoints)o.breakpoints.hasOwnProperty(n)&&(o.originalSettings.mobileFirst===!1?s<o.breakpoints[n]&&(r=o.breakpoints[n]):s>o.breakpoints[n]&&(r=o.breakpoints[n]));null!==r?null!==o.activeBreakpoint?(r!==o.activeBreakpoint||i)&&(o.activeBreakpoint=r,"unslick"===o.breakpointSettings[r]?o.unslick(r):(o.options=e.extend({},o.originalSettings,o.breakpointSettings[r]),t===!0&&(o.currentSlide=o.options.initialSlide),o.refresh(t)),a=r):(o.activeBreakpoint=r,"unslick"===o.breakpointSettings[r]?o.unslick(r):(o.options=e.extend({},o.originalSettings,o.breakpointSettings[r]),t===!0&&(o.currentSlide=o.options.initialSlide),o.refresh(t)),a=r):null!==o.activeBreakpoint&&(o.activeBreakpoint=null,o.options=o.originalSettings,t===!0&&(o.currentSlide=o.options.initialSlide),o.refresh(t),a=r),t||a===!1||o.$slider.trigger("breakpoint",[o,a])}},t.prototype.changeSlide=function(t,i){var n,r,s,o=this,a=e(t.currentTarget);switch(a.is("a")&&t.preventDefault(),a.is("li")||(a=a.closest("li")),s=o.slideCount%o.options.slidesToScroll!==0,n=s?0:(o.slideCount-o.currentSlide)%o.options.slidesToScroll,t.data.message){case"previous":r=0===n?o.options.slidesToScroll:o.options.slidesToShow-n,o.slideCount>o.options.slidesToShow&&o.slideHandler(o.currentSlide-r,!1,i);break;case"next":r=0===n?o.options.slidesToScroll:n,o.slideCount>o.options.slidesToShow&&o.slideHandler(o.currentSlide+r,!1,i);break;case"index":var l=0===t.data.index?0:t.data.index||a.index()*o.options.slidesToScroll;o.slideHandler(o.checkNavigable(l),!1,i),a.children().trigger("focus");break;default:return}},t.prototype.checkNavigable=function(e){var t,i,n=this;if(t=n.getNavigableIndexes(),i=0,e>t[t.length-1])e=t[t.length-1];else for(var r in t){if(e<t[r]){e=i;break}i=t[r]}return e},t.prototype.cleanUpEvents=function(){var t=this;t.options.dots&&null!==t.$dots&&e("li",t.$dots).off("click.slick",t.changeSlide).off("mouseenter.slick",e.proxy(t.interrupt,t,!0)).off("mouseleave.slick",e.proxy(t.interrupt,t,!1)),t.$slider.off("focus.slick blur.slick"),t.options.arrows===!0&&t.slideCount>t.options.slidesToShow&&(t.$prevArrow&&t.$prevArrow.off("click.slick",t.changeSlide),t.$nextArrow&&t.$nextArrow.off("click.slick",t.changeSlide)),t.$list.off("touchstart.slick mousedown.slick",t.swipeHandler),t.$list.off("touchmove.slick mousemove.slick",t.swipeHandler),t.$list.off("touchend.slick mouseup.slick",t.swipeHandler),t.$list.off("touchcancel.slick mouseleave.slick",t.swipeHandler),t.$list.off("click.slick",t.clickHandler),e(document).off(t.visibilityChange,t.visibility),t.cleanUpSlideEvents(),t.options.accessibility===!0&&t.$list.off("keydown.slick",t.keyHandler),t.options.focusOnSelect===!0&&e(t.$slideTrack).children().off("click.slick",t.selectHandler),e(window).off("orientationchange.slick.slick-"+t.instanceUid,t.orientationChange),e(window).off("resize.slick.slick-"+t.instanceUid,t.resize),e("[draggable!=true]",t.$slideTrack).off("dragstart",t.preventDefault),e(window).off("load.slick.slick-"+t.instanceUid,t.setPosition),e(document).off("ready.slick.slick-"+t.instanceUid,t.setPosition)},t.prototype.cleanUpSlideEvents=function(){var t=this;t.$list.off("mouseenter.slick",e.proxy(t.interrupt,t,!0)),t.$list.off("mouseleave.slick",e.proxy(t.interrupt,t,!1))},t.prototype.cleanUpRows=function(){var e,t=this;t.options.rows>1&&(e=t.$slides.children().children(),e.removeAttr("style"),t.$slider.empty().append(e))},t.prototype.clickHandler=function(e){var t=this;t.shouldClick===!1&&(e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault())},t.prototype.destroy=function(t){var i=this;i.autoPlayClear(),i.touchObject={},i.cleanUpEvents(),e(".slick-cloned",i.$slider).detach(),i.$dots&&i.$dots.remove(),i.$prevArrow&&i.$prevArrow.length&&(i.$prevArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),i.htmlExpr.test(i.options.prevArrow)&&i.$prevArrow.remove()),i.$nextArrow&&i.$nextArrow.length&&(i.$nextArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),i.htmlExpr.test(i.options.nextArrow)&&i.$nextArrow.remove()),i.$slides&&(i.$slides.removeClass("slick-slide slick-active slick-center slick-visible slick-current").removeAttr("aria-hidden").removeAttr("data-slick-index").each(function(){e(this).attr("style",e(this).data("originalStyling"))}),i.$slideTrack.children(this.options.slide).detach(),i.$slideTrack.detach(),i.$list.detach(),i.$slider.append(i.$slides)),i.cleanUpRows(),i.$slider.removeClass("slick-slider"),i.$slider.removeClass("slick-initialized"),i.$slider.removeClass("slick-dotted"),i.unslicked=!0,t||i.$slider.trigger("destroy",[i])},t.prototype.disableTransition=function(e){var t=this,i={};i[t.transitionType]="",t.options.fade===!1?t.$slideTrack.css(i):t.$slides.eq(e).css(i)},t.prototype.fadeSlide=function(e,t){var i=this;i.cssTransitions===!1?(i.$slides.eq(e).css({zIndex:i.options.zIndex}),i.$slides.eq(e).animate({opacity:1},i.options.speed,i.options.easing,t)):(i.applyTransition(e),i.$slides.eq(e).css({opacity:1,zIndex:i.options.zIndex}),t&&setTimeout(function(){i.disableTransition(e),t.call()},i.options.speed))},t.prototype.fadeSlideOut=function(e){var t=this;t.cssTransitions===!1?t.$slides.eq(e).animate({opacity:0,zIndex:t.options.zIndex-2},t.options.speed,t.options.easing):(t.applyTransition(e),t.$slides.eq(e).css({opacity:0,zIndex:t.options.zIndex-2}))},t.prototype.filterSlides=t.prototype.slickFilter=function(e){var t=this;null!==e&&(t.$slidesCache=t.$slides,t.unload(),t.$slideTrack.children(this.options.slide).detach(),t.$slidesCache.filter(e).appendTo(t.$slideTrack),t.reinit())},t.prototype.focusHandler=function(){var t=this;t.$slider.off("focus.slick blur.slick").on("focus.slick blur.slick","*:not(.slick-arrow)",function(i){i.stopImmediatePropagation();var n=e(this);setTimeout(function(){t.options.pauseOnFocus&&(t.focussed=n.is(":focus"),t.autoPlay())},0)})},t.prototype.getCurrent=t.prototype.slickCurrentSlide=function(){var e=this;return e.currentSlide},t.prototype.getDotCount=function(){var e=this,t=0,i=0,n=0;if(e.options.infinite===!0)for(;t<e.slideCount;)++n,t=i+e.options.slidesToScroll,i+=e.options.slidesToScroll<=e.options.slidesToShow?e.options.slidesToScroll:e.options.slidesToShow;else if(e.options.centerMode===!0)n=e.slideCount;else if(e.options.asNavFor)for(;t<e.slideCount;)++n,t=i+e.options.slidesToScroll,i+=e.options.slidesToScroll<=e.options.slidesToShow?e.options.slidesToScroll:e.options.slidesToShow;else n=1+Math.ceil((e.slideCount-e.options.slidesToShow)/e.options.slidesToScroll);return n-1},t.prototype.getLeft=function(e){var t,i,n,r=this,s=0;return r.slideOffset=0,i=r.$slides.first().outerHeight(!0),r.options.infinite===!0?(r.slideCount>r.options.slidesToShow&&(r.slideOffset=r.slideWidth*r.options.slidesToShow*-1,s=i*r.options.slidesToShow*-1),r.slideCount%r.options.slidesToScroll!==0&&e+r.options.slidesToScroll>r.slideCount&&r.slideCount>r.options.slidesToShow&&(e>r.slideCount?(r.slideOffset=(r.options.slidesToShow-(e-r.slideCount))*r.slideWidth*-1,s=(r.options.slidesToShow-(e-r.slideCount))*i*-1):(r.slideOffset=r.slideCount%r.options.slidesToScroll*r.slideWidth*-1,s=r.slideCount%r.options.slidesToScroll*i*-1))):e+r.options.slidesToShow>r.slideCount&&(r.slideOffset=(e+r.options.slidesToShow-r.slideCount)*r.slideWidth,s=(e+r.options.slidesToShow-r.slideCount)*i),r.slideCount<=r.options.slidesToShow&&(r.slideOffset=0,s=0),r.options.centerMode===!0&&r.options.infinite===!0?r.slideOffset+=r.slideWidth*Math.floor(r.options.slidesToShow/2)-r.slideWidth:r.options.centerMode===!0&&(r.slideOffset=0,r.slideOffset+=r.slideWidth*Math.floor(r.options.slidesToShow/2)),t=r.options.vertical===!1?e*r.slideWidth*-1+r.slideOffset:e*i*-1+s,r.options.variableWidth===!0&&(n=r.$slideTrack.children(".slick-slide").eq(r.slideCount<=r.options.slidesToShow||r.options.infinite===!1?e:e+r.options.slidesToShow),t=r.options.rtl===!0?n[0]?-1*(r.$slideTrack.width()-n[0].offsetLeft-n.width()):0:n[0]?-1*n[0].offsetLeft:0,r.options.centerMode===!0&&(n=r.$slideTrack.children(".slick-slide").eq(r.slideCount<=r.options.slidesToShow||r.options.infinite===!1?e:e+r.options.slidesToShow+1),t=r.options.rtl===!0?n[0]?-1*(r.$slideTrack.width()-n[0].offsetLeft-n.width()):0:n[0]?-1*n[0].offsetLeft:0,t+=(r.$list.width()-n.outerWidth())/2)),t},t.prototype.getOption=t.prototype.slickGetOption=function(e){var t=this;return t.options[e]},t.prototype.getNavigableIndexes=function(){var e,t=this,i=0,n=0,r=[];for(t.options.infinite===!1?e=t.slideCount:(i=-1*t.options.slidesToScroll,n=-1*t.options.slidesToScroll,e=2*t.slideCount);e>i;)r.push(i),i=n+t.options.slidesToScroll,n+=t.options.slidesToScroll<=t.options.slidesToShow?t.options.slidesToScroll:t.options.slidesToShow;return r},t.prototype.getSlick=function(){return this},t.prototype.getSlideCount=function(){var t,i,n,r=this;return n=r.options.centerMode===!0?r.slideWidth*Math.floor(r.options.slidesToShow/2):0,r.options.swipeToSlide===!0?(r.$slideTrack.find(".slick-slide").each(function(t,s){return s.offsetLeft-n+e(s).outerWidth()/2>-1*r.swipeLeft?(i=s,!1):void 0}),t=Math.abs(e(i).attr("data-slick-index")-r.currentSlide)||1):r.options.slidesToScroll},t.prototype.goTo=t.prototype.slickGoTo=function(e,t){var i=this;i.changeSlide({data:{message:"index",index:parseInt(e)}},t)},t.prototype.init=function(t){var i=this;e(i.$slider).hasClass("slick-initialized")||(e(i.$slider).addClass("slick-initialized"),i.buildRows(),i.buildOut(),i.setProps(),i.startLoad(),i.loadSlider(),i.initializeEvents(),i.updateArrows(),i.updateDots(),i.checkResponsive(!0),i.focusHandler()),t&&i.$slider.trigger("init",[i]),i.options.accessibility===!0&&i.initADA(),i.options.autoplay&&(i.paused=!1,i.autoPlay())},t.prototype.initADA=function(){var t=this;t.$slides.add(t.$slideTrack.find(".slick-cloned")).attr({"aria-hidden":"true",tabindex:"-1"}).find("a, input, button, select").attr({tabindex:"-1"}),t.$slideTrack.attr("role","listbox"),t.$slides.not(t.$slideTrack.find(".slick-cloned")).each(function(i){e(this).attr({role:"option","aria-describedby":"slick-slide"+t.instanceUid+i})}),null!==t.$dots&&t.$dots.attr("role","tablist").find("li").each(function(i){e(this).attr({role:"presentation","aria-selected":"false","aria-controls":"navigation"+t.instanceUid+i,id:"slick-slide"+t.instanceUid+i})}).first().attr("aria-selected","true").end().find("button").attr("role","button").end().closest("div").attr("role","toolbar"),t.activateADA()},t.prototype.initArrowEvents=function(){var e=this;e.options.arrows===!0&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow.off("click.slick").on("click.slick",{message:"previous"},e.changeSlide),e.$nextArrow.off("click.slick").on("click.slick",{message:"next"},e.changeSlide))},t.prototype.initDotEvents=function(){var t=this;t.options.dots===!0&&t.slideCount>t.options.slidesToShow&&e("li",t.$dots).on("click.slick",{message:"index"},t.changeSlide),t.options.dots===!0&&t.options.pauseOnDotsHover===!0&&e("li",t.$dots).on("mouseenter.slick",e.proxy(t.interrupt,t,!0)).on("mouseleave.slick",e.proxy(t.interrupt,t,!1))},t.prototype.initSlideEvents=function(){var t=this;t.options.pauseOnHover&&(t.$list.on("mouseenter.slick",e.proxy(t.interrupt,t,!0)),t.$list.on("mouseleave.slick",e.proxy(t.interrupt,t,!1)))},t.prototype.initializeEvents=function(){var t=this;t.initArrowEvents(),t.initDotEvents(),t.initSlideEvents(),t.$list.on("touchstart.slick mousedown.slick",{action:"start"},t.swipeHandler),t.$list.on("touchmove.slick mousemove.slick",{action:"move"},t.swipeHandler),t.$list.on("touchend.slick mouseup.slick",{action:"end"},t.swipeHandler),t.$list.on("touchcancel.slick mouseleave.slick",{action:"end"},t.swipeHandler),t.$list.on("click.slick",t.clickHandler),e(document).on(t.visibilityChange,e.proxy(t.visibility,t)),t.options.accessibility===!0&&t.$list.on("keydown.slick",t.keyHandler),t.options.focusOnSelect===!0&&e(t.$slideTrack).children().on("click.slick",t.selectHandler),e(window).on("orientationchange.slick.slick-"+t.instanceUid,e.proxy(t.orientationChange,t)),e(window).on("resize.slick.slick-"+t.instanceUid,e.proxy(t.resize,t)),e("[draggable!=true]",t.$slideTrack).on("dragstart",t.preventDefault),e(window).on("load.slick.slick-"+t.instanceUid,t.setPosition),e(document).on("ready.slick.slick-"+t.instanceUid,t.setPosition)},t.prototype.initUI=function(){var e=this;e.options.arrows===!0&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow.show(),e.$nextArrow.show()),e.options.dots===!0&&e.slideCount>e.options.slidesToShow&&e.$dots.show()},t.prototype.keyHandler=function(e){var t=this;e.target.tagName.match("TEXTAREA|INPUT|SELECT")||(37===e.keyCode&&t.options.accessibility===!0?t.changeSlide({data:{message:t.options.rtl===!0?"next":"previous"}}):39===e.keyCode&&t.options.accessibility===!0&&t.changeSlide({data:{message:t.options.rtl===!0?"previous":"next"}}))},t.prototype.lazyLoad=function(){function t(t){e("img[data-lazy]",t).each(function(){var t=e(this),i=e(this).attr("data-lazy"),n=document.createElement("img");n.onload=function(){t.animate({opacity:0},100,function(){t.attr("src",i).animate({opacity:1},200,function(){t.removeAttr("data-lazy").removeClass("slick-loading")}),o.$slider.trigger("lazyLoaded",[o,t,i])})},n.onerror=function(){t.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"),o.$slider.trigger("lazyLoadError",[o,t,i])},n.src=i})}var i,n,r,s,o=this;o.options.centerMode===!0?o.options.infinite===!0?(r=o.currentSlide+(o.options.slidesToShow/2+1),s=r+o.options.slidesToShow+2):(r=Math.max(0,o.currentSlide-(o.options.slidesToShow/2+1)),s=2+(o.options.slidesToShow/2+1)+o.currentSlide):(r=o.options.infinite?o.options.slidesToShow+o.currentSlide:o.currentSlide,s=Math.ceil(r+o.options.slidesToShow),o.options.fade===!0&&(r>0&&r--,s<=o.slideCount&&s++)),i=o.$slider.find(".slick-slide").slice(r,s),t(i),o.slideCount<=o.options.slidesToShow?(n=o.$slider.find(".slick-slide"),t(n)):o.currentSlide>=o.slideCount-o.options.slidesToShow?(n=o.$slider.find(".slick-cloned").slice(0,o.options.slidesToShow),t(n)):0===o.currentSlide&&(n=o.$slider.find(".slick-cloned").slice(-1*o.options.slidesToShow),t(n))
},t.prototype.loadSlider=function(){var e=this;e.setPosition(),e.$slideTrack.css({opacity:1}),e.$slider.removeClass("slick-loading"),e.initUI(),"progressive"===e.options.lazyLoad&&e.progressiveLazyLoad()},t.prototype.next=t.prototype.slickNext=function(){var e=this;e.changeSlide({data:{message:"next"}})},t.prototype.orientationChange=function(){var e=this;e.checkResponsive(),e.setPosition()},t.prototype.pause=t.prototype.slickPause=function(){var e=this;e.autoPlayClear(),e.paused=!0},t.prototype.play=t.prototype.slickPlay=function(){var e=this;e.autoPlay(),e.options.autoplay=!0,e.paused=!1,e.focussed=!1,e.interrupted=!1},t.prototype.postSlide=function(e){var t=this;t.unslicked||(t.$slider.trigger("afterChange",[t,e]),t.animating=!1,t.setPosition(),t.swipeLeft=null,t.options.autoplay&&t.autoPlay(),t.options.accessibility===!0&&t.initADA())},t.prototype.prev=t.prototype.slickPrev=function(){var e=this;e.changeSlide({data:{message:"previous"}})},t.prototype.preventDefault=function(e){e.preventDefault()},t.prototype.progressiveLazyLoad=function(t){t=t||1;var i,n,r,s=this,o=e("img[data-lazy]",s.$slider);o.length?(i=o.first(),n=i.attr("data-lazy"),r=document.createElement("img"),r.onload=function(){i.attr("src",n).removeAttr("data-lazy").removeClass("slick-loading"),s.options.adaptiveHeight===!0&&s.setPosition(),s.$slider.trigger("lazyLoaded",[s,i,n]),s.progressiveLazyLoad()},r.onerror=function(){3>t?setTimeout(function(){s.progressiveLazyLoad(t+1)},500):(i.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"),s.$slider.trigger("lazyLoadError",[s,i,n]),s.progressiveLazyLoad())},r.src=n):s.$slider.trigger("allImagesLoaded",[s])},t.prototype.refresh=function(t){var i,n,r=this;n=r.slideCount-r.options.slidesToShow,!r.options.infinite&&r.currentSlide>n&&(r.currentSlide=n),r.slideCount<=r.options.slidesToShow&&(r.currentSlide=0),i=r.currentSlide,r.destroy(!0),e.extend(r,r.initials,{currentSlide:i}),r.init(),t||r.changeSlide({data:{message:"index",index:i}},!1)},t.prototype.registerBreakpoints=function(){var t,i,n,r=this,s=r.options.responsive||null;if("array"===e.type(s)&&s.length){r.respondTo=r.options.respondTo||"window";for(t in s)if(n=r.breakpoints.length-1,i=s[t].breakpoint,s.hasOwnProperty(t)){for(;n>=0;)r.breakpoints[n]&&r.breakpoints[n]===i&&r.breakpoints.splice(n,1),n--;r.breakpoints.push(i),r.breakpointSettings[i]=s[t].settings}r.breakpoints.sort(function(e,t){return r.options.mobileFirst?e-t:t-e})}},t.prototype.reinit=function(){var t=this;t.$slides=t.$slideTrack.children(t.options.slide).addClass("slick-slide"),t.slideCount=t.$slides.length,t.currentSlide>=t.slideCount&&0!==t.currentSlide&&(t.currentSlide=t.currentSlide-t.options.slidesToScroll),t.slideCount<=t.options.slidesToShow&&(t.currentSlide=0),t.registerBreakpoints(),t.setProps(),t.setupInfinite(),t.buildArrows(),t.updateArrows(),t.initArrowEvents(),t.buildDots(),t.updateDots(),t.initDotEvents(),t.cleanUpSlideEvents(),t.initSlideEvents(),t.checkResponsive(!1,!0),t.options.focusOnSelect===!0&&e(t.$slideTrack).children().on("click.slick",t.selectHandler),t.setSlideClasses("number"==typeof t.currentSlide?t.currentSlide:0),t.setPosition(),t.focusHandler(),t.paused=!t.options.autoplay,t.autoPlay(),t.$slider.trigger("reInit",[t])},t.prototype.resize=function(){var t=this;e(window).width()!==t.windowWidth&&(clearTimeout(t.windowDelay),t.windowDelay=window.setTimeout(function(){t.windowWidth=e(window).width(),t.checkResponsive(),t.unslicked||t.setPosition()},50))},t.prototype.removeSlide=t.prototype.slickRemove=function(e,t,i){var n=this;return"boolean"==typeof e?(t=e,e=t===!0?0:n.slideCount-1):e=t===!0?--e:e,n.slideCount<1||0>e||e>n.slideCount-1?!1:(n.unload(),i===!0?n.$slideTrack.children().remove():n.$slideTrack.children(this.options.slide).eq(e).remove(),n.$slides=n.$slideTrack.children(this.options.slide),n.$slideTrack.children(this.options.slide).detach(),n.$slideTrack.append(n.$slides),n.$slidesCache=n.$slides,void n.reinit())},t.prototype.setCSS=function(e){var t,i,n=this,r={};n.options.rtl===!0&&(e=-e),t="left"==n.positionProp?Math.ceil(e)+"px":"0px",i="top"==n.positionProp?Math.ceil(e)+"px":"0px",r[n.positionProp]=e,n.transformsEnabled===!1?n.$slideTrack.css(r):(r={},n.cssTransitions===!1?(r[n.animType]="translate("+t+", "+i+")",n.$slideTrack.css(r)):(r[n.animType]="translate3d("+t+", "+i+", 0px)",n.$slideTrack.css(r)))},t.prototype.setDimensions=function(){var e=this;e.options.vertical===!1?e.options.centerMode===!0&&e.$list.css({padding:"0px "+e.options.centerPadding}):(e.$list.height(e.$slides.first().outerHeight(!0)*e.options.slidesToShow),e.options.centerMode===!0&&e.$list.css({padding:e.options.centerPadding+" 0px"})),e.listWidth=e.$list.width(),e.listHeight=e.$list.height(),e.options.vertical===!1&&e.options.variableWidth===!1?(e.slideWidth=Math.ceil(e.listWidth/e.options.slidesToShow),e.$slideTrack.width(Math.ceil(e.slideWidth*e.$slideTrack.children(".slick-slide").length))):e.options.variableWidth===!0?e.$slideTrack.width(5e3*e.slideCount):(e.slideWidth=Math.ceil(e.listWidth),e.$slideTrack.height(Math.ceil(e.$slides.first().outerHeight(!0)*e.$slideTrack.children(".slick-slide").length)));var t=e.$slides.first().outerWidth(!0)-e.$slides.first().width();e.options.variableWidth===!1&&e.$slideTrack.children(".slick-slide").width(e.slideWidth-t)},t.prototype.setFade=function(){var t,i=this;i.$slides.each(function(n,r){t=i.slideWidth*n*-1,e(r).css(i.options.rtl===!0?{position:"relative",right:t,top:0,zIndex:i.options.zIndex-2,opacity:0}:{position:"relative",left:t,top:0,zIndex:i.options.zIndex-2,opacity:0})}),i.$slides.eq(i.currentSlide).css({zIndex:i.options.zIndex-1,opacity:1})},t.prototype.setHeight=function(){var e=this;if(1===e.options.slidesToShow&&e.options.adaptiveHeight===!0&&e.options.vertical===!1){var t=e.$slides.eq(e.currentSlide).outerHeight(!0);e.$list.css("height",t)}},t.prototype.setOption=t.prototype.slickSetOption=function(){var t,i,n,r,s,o=this,a=!1;if("object"===e.type(arguments[0])?(n=arguments[0],a=arguments[1],s="multiple"):"string"===e.type(arguments[0])&&(n=arguments[0],r=arguments[1],a=arguments[2],"responsive"===arguments[0]&&"array"===e.type(arguments[1])?s="responsive":"undefined"!=typeof arguments[1]&&(s="single")),"single"===s)o.options[n]=r;else if("multiple"===s)e.each(n,function(e,t){o.options[e]=t});else if("responsive"===s)for(i in r)if("array"!==e.type(o.options.responsive))o.options.responsive=[r[i]];else{for(t=o.options.responsive.length-1;t>=0;)o.options.responsive[t].breakpoint===r[i].breakpoint&&o.options.responsive.splice(t,1),t--;o.options.responsive.push(r[i])}a&&(o.unload(),o.reinit())},t.prototype.setPosition=function(){var e=this;e.setDimensions(),e.setHeight(),e.options.fade===!1?e.setCSS(e.getLeft(e.currentSlide)):e.setFade(),e.$slider.trigger("setPosition",[e])},t.prototype.setProps=function(){var e=this,t=document.body.style;e.positionProp=e.options.vertical===!0?"top":"left","top"===e.positionProp?e.$slider.addClass("slick-vertical"):e.$slider.removeClass("slick-vertical"),(void 0!==t.WebkitTransition||void 0!==t.MozTransition||void 0!==t.msTransition)&&e.options.useCSS===!0&&(e.cssTransitions=!0),e.options.fade&&("number"==typeof e.options.zIndex?e.options.zIndex<3&&(e.options.zIndex=3):e.options.zIndex=e.defaults.zIndex),void 0!==t.OTransform&&(e.animType="OTransform",e.transformType="-o-transform",e.transitionType="OTransition",void 0===t.perspectiveProperty&&void 0===t.webkitPerspective&&(e.animType=!1)),void 0!==t.MozTransform&&(e.animType="MozTransform",e.transformType="-moz-transform",e.transitionType="MozTransition",void 0===t.perspectiveProperty&&void 0===t.MozPerspective&&(e.animType=!1)),void 0!==t.webkitTransform&&(e.animType="webkitTransform",e.transformType="-webkit-transform",e.transitionType="webkitTransition",void 0===t.perspectiveProperty&&void 0===t.webkitPerspective&&(e.animType=!1)),void 0!==t.msTransform&&(e.animType="msTransform",e.transformType="-ms-transform",e.transitionType="msTransition",void 0===t.msTransform&&(e.animType=!1)),void 0!==t.transform&&e.animType!==!1&&(e.animType="transform",e.transformType="transform",e.transitionType="transition"),e.transformsEnabled=e.options.useTransform&&null!==e.animType&&e.animType!==!1},t.prototype.setSlideClasses=function(e){var t,i,n,r,s=this;i=s.$slider.find(".slick-slide").removeClass("slick-active slick-center slick-current").attr("aria-hidden","true"),s.$slides.eq(e).addClass("slick-current"),s.options.centerMode===!0?(t=Math.floor(s.options.slidesToShow/2),s.options.infinite===!0&&(e>=t&&e<=s.slideCount-1-t?s.$slides.slice(e-t,e+t+1).addClass("slick-active").attr("aria-hidden","false"):(n=s.options.slidesToShow+e,i.slice(n-t+1,n+t+2).addClass("slick-active").attr("aria-hidden","false")),0===e?i.eq(i.length-1-s.options.slidesToShow).addClass("slick-center"):e===s.slideCount-1&&i.eq(s.options.slidesToShow).addClass("slick-center")),s.$slides.eq(e).addClass("slick-center")):e>=0&&e<=s.slideCount-s.options.slidesToShow?s.$slides.slice(e,e+s.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false"):i.length<=s.options.slidesToShow?i.addClass("slick-active").attr("aria-hidden","false"):(r=s.slideCount%s.options.slidesToShow,n=s.options.infinite===!0?s.options.slidesToShow+e:e,s.options.slidesToShow==s.options.slidesToScroll&&s.slideCount-e<s.options.slidesToShow?i.slice(n-(s.options.slidesToShow-r),n+r).addClass("slick-active").attr("aria-hidden","false"):i.slice(n,n+s.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false")),"ondemand"===s.options.lazyLoad&&s.lazyLoad()},t.prototype.setupInfinite=function(){var t,i,n,r=this;if(r.options.fade===!0&&(r.options.centerMode=!1),r.options.infinite===!0&&r.options.fade===!1&&(i=null,r.slideCount>r.options.slidesToShow)){for(n=r.options.centerMode===!0?r.options.slidesToShow+1:r.options.slidesToShow,t=r.slideCount;t>r.slideCount-n;t-=1)i=t-1,e(r.$slides[i]).clone(!0).attr("id","").attr("data-slick-index",i-r.slideCount).prependTo(r.$slideTrack).addClass("slick-cloned");for(t=0;n>t;t+=1)i=t,e(r.$slides[i]).clone(!0).attr("id","").attr("data-slick-index",i+r.slideCount).appendTo(r.$slideTrack).addClass("slick-cloned");r.$slideTrack.find(".slick-cloned").find("[id]").each(function(){e(this).attr("id","")})}},t.prototype.interrupt=function(e){var t=this;e||t.autoPlay(),t.interrupted=e},t.prototype.selectHandler=function(t){var i=this,n=e(t.target).is(".slick-slide")?e(t.target):e(t.target).parents(".slick-slide"),r=parseInt(n.attr("data-slick-index"));return r||(r=0),i.slideCount<=i.options.slidesToShow?(i.setSlideClasses(r),void i.asNavFor(r)):void i.slideHandler(r)},t.prototype.slideHandler=function(e,t,i){var n,r,s,o,a,l=null,c=this;return t=t||!1,c.animating===!0&&c.options.waitForAnimate===!0||c.options.fade===!0&&c.currentSlide===e||c.slideCount<=c.options.slidesToShow?void 0:(t===!1&&c.asNavFor(e),n=e,l=c.getLeft(n),o=c.getLeft(c.currentSlide),c.currentLeft=null===c.swipeLeft?o:c.swipeLeft,c.options.infinite===!1&&c.options.centerMode===!1&&(0>e||e>c.getDotCount()*c.options.slidesToScroll)?void(c.options.fade===!1&&(n=c.currentSlide,i!==!0?c.animateSlide(o,function(){c.postSlide(n)}):c.postSlide(n))):c.options.infinite===!1&&c.options.centerMode===!0&&(0>e||e>c.slideCount-c.options.slidesToScroll)?void(c.options.fade===!1&&(n=c.currentSlide,i!==!0?c.animateSlide(o,function(){c.postSlide(n)}):c.postSlide(n))):(c.options.autoplay&&clearInterval(c.autoPlayTimer),r=0>n?c.slideCount%c.options.slidesToScroll!==0?c.slideCount-c.slideCount%c.options.slidesToScroll:c.slideCount+n:n>=c.slideCount?c.slideCount%c.options.slidesToScroll!==0?0:n-c.slideCount:n,c.animating=!0,c.$slider.trigger("beforeChange",[c,c.currentSlide,r]),s=c.currentSlide,c.currentSlide=r,c.setSlideClasses(c.currentSlide),c.options.asNavFor&&(a=c.getNavTarget(),a=a.slick("getSlick"),a.slideCount<=a.options.slidesToShow&&a.setSlideClasses(c.currentSlide)),c.updateDots(),c.updateArrows(),c.options.fade===!0?(i!==!0?(c.fadeSlideOut(s),c.fadeSlide(r,function(){c.postSlide(r)})):c.postSlide(r),void c.animateHeight()):void(i!==!0?c.animateSlide(l,function(){c.postSlide(r)}):c.postSlide(r))))},t.prototype.startLoad=function(){var e=this;e.options.arrows===!0&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow.hide(),e.$nextArrow.hide()),e.options.dots===!0&&e.slideCount>e.options.slidesToShow&&e.$dots.hide(),e.$slider.addClass("slick-loading")},t.prototype.swipeDirection=function(){var e,t,i,n,r=this;return e=r.touchObject.startX-r.touchObject.curX,t=r.touchObject.startY-r.touchObject.curY,i=Math.atan2(t,e),n=Math.round(180*i/Math.PI),0>n&&(n=360-Math.abs(n)),45>=n&&n>=0?r.options.rtl===!1?"left":"right":360>=n&&n>=315?r.options.rtl===!1?"left":"right":n>=135&&225>=n?r.options.rtl===!1?"right":"left":r.options.verticalSwiping===!0?n>=35&&135>=n?"down":"up":"vertical"},t.prototype.swipeEnd=function(){var e,t,i=this;if(i.dragging=!1,i.interrupted=!1,i.shouldClick=i.touchObject.swipeLength>10?!1:!0,void 0===i.touchObject.curX)return!1;if(i.touchObject.edgeHit===!0&&i.$slider.trigger("edge",[i,i.swipeDirection()]),i.touchObject.swipeLength>=i.touchObject.minSwipe){switch(t=i.swipeDirection()){case"left":case"down":e=i.options.swipeToSlide?i.checkNavigable(i.currentSlide+i.getSlideCount()):i.currentSlide+i.getSlideCount(),i.currentDirection=0;break;case"right":case"up":e=i.options.swipeToSlide?i.checkNavigable(i.currentSlide-i.getSlideCount()):i.currentSlide-i.getSlideCount(),i.currentDirection=1}"vertical"!=t&&(i.slideHandler(e),i.touchObject={},i.$slider.trigger("swipe",[i,t]))}else i.touchObject.startX!==i.touchObject.curX&&(i.slideHandler(i.currentSlide),i.touchObject={})},t.prototype.swipeHandler=function(e){var t=this;if(!(t.options.swipe===!1||"ontouchend"in document&&t.options.swipe===!1||t.options.draggable===!1&&-1!==e.type.indexOf("mouse")))switch(t.touchObject.fingerCount=e.originalEvent&&void 0!==e.originalEvent.touches?e.originalEvent.touches.length:1,t.touchObject.minSwipe=t.listWidth/t.options.touchThreshold,t.options.verticalSwiping===!0&&(t.touchObject.minSwipe=t.listHeight/t.options.touchThreshold),e.data.action){case"start":t.swipeStart(e);break;case"move":t.swipeMove(e);break;case"end":t.swipeEnd(e)}},t.prototype.swipeMove=function(e){var t,i,n,r,s,o=this;return s=void 0!==e.originalEvent?e.originalEvent.touches:null,!o.dragging||s&&1!==s.length?!1:(t=o.getLeft(o.currentSlide),o.touchObject.curX=void 0!==s?s[0].pageX:e.clientX,o.touchObject.curY=void 0!==s?s[0].pageY:e.clientY,o.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(o.touchObject.curX-o.touchObject.startX,2))),o.options.verticalSwiping===!0&&(o.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(o.touchObject.curY-o.touchObject.startY,2)))),i=o.swipeDirection(),"vertical"!==i?(void 0!==e.originalEvent&&o.touchObject.swipeLength>4&&e.preventDefault(),r=(o.options.rtl===!1?1:-1)*(o.touchObject.curX>o.touchObject.startX?1:-1),o.options.verticalSwiping===!0&&(r=o.touchObject.curY>o.touchObject.startY?1:-1),n=o.touchObject.swipeLength,o.touchObject.edgeHit=!1,o.options.infinite===!1&&(0===o.currentSlide&&"right"===i||o.currentSlide>=o.getDotCount()&&"left"===i)&&(n=o.touchObject.swipeLength*o.options.edgeFriction,o.touchObject.edgeHit=!0),o.swipeLeft=o.options.vertical===!1?t+n*r:t+n*(o.$list.height()/o.listWidth)*r,o.options.verticalSwiping===!0&&(o.swipeLeft=t+n*r),o.options.fade===!0||o.options.touchMove===!1?!1:o.animating===!0?(o.swipeLeft=null,!1):void o.setCSS(o.swipeLeft)):void 0)},t.prototype.swipeStart=function(e){var t,i=this;return i.interrupted=!0,1!==i.touchObject.fingerCount||i.slideCount<=i.options.slidesToShow?(i.touchObject={},!1):(void 0!==e.originalEvent&&void 0!==e.originalEvent.touches&&(t=e.originalEvent.touches[0]),i.touchObject.startX=i.touchObject.curX=void 0!==t?t.pageX:e.clientX,i.touchObject.startY=i.touchObject.curY=void 0!==t?t.pageY:e.clientY,void(i.dragging=!0))},t.prototype.unfilterSlides=t.prototype.slickUnfilter=function(){var e=this;null!==e.$slidesCache&&(e.unload(),e.$slideTrack.children(this.options.slide).detach(),e.$slidesCache.appendTo(e.$slideTrack),e.reinit())},t.prototype.unload=function(){var t=this;e(".slick-cloned",t.$slider).remove(),t.$dots&&t.$dots.remove(),t.$prevArrow&&t.htmlExpr.test(t.options.prevArrow)&&t.$prevArrow.remove(),t.$nextArrow&&t.htmlExpr.test(t.options.nextArrow)&&t.$nextArrow.remove(),t.$slides.removeClass("slick-slide slick-active slick-visible slick-current").attr("aria-hidden","true").css("width","")},t.prototype.unslick=function(e){var t=this;t.$slider.trigger("unslick",[t,e]),t.destroy()},t.prototype.updateArrows=function(){var e,t=this;e=Math.floor(t.options.slidesToShow/2),t.options.arrows===!0&&t.slideCount>t.options.slidesToShow&&!t.options.infinite&&(t.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false"),t.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false"),0===t.currentSlide?(t.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true"),t.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false")):t.currentSlide>=t.slideCount-t.options.slidesToShow&&t.options.centerMode===!1?(t.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),t.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")):t.currentSlide>=t.slideCount-1&&t.options.centerMode===!0&&(t.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),t.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")))},t.prototype.updateDots=function(){var e=this;null!==e.$dots&&(e.$dots.find("li").removeClass("slick-active").attr("aria-hidden","true"),e.$dots.find("li").eq(Math.floor(e.currentSlide/e.options.slidesToScroll)).addClass("slick-active").attr("aria-hidden","false"))},t.prototype.visibility=function(){var e=this;e.options.autoplay&&(e.interrupted=document[e.hidden]?!0:!1)},e.fn.slick=function(){var e,i,n=this,r=arguments[0],s=Array.prototype.slice.call(arguments,1),o=n.length;for(e=0;o>e;e++)if("object"==typeof r||"undefined"==typeof r?n[e].slick=new t(n[e],r):i=n[e].slick[r].apply(n[e].slick,s),"undefined"!=typeof i)return i;return n}}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(function(e){e.fn.jScrollPane=function(t){function i(t,i){function n(i){var s,a,c,u,d,p,g=!1,m=!1;if(L=i,void 0===F)d=t.scrollTop(),p=t.scrollLeft(),t.css({overflow:"hidden",padding:0}),j=t.innerWidth()+vt,W=t.innerHeight(),t.width(j),F=e('<div class="jspPane" />').css("padding",mt).append(t.children()),B=e('<div class="jspContainer" />').css({width:j+"px",height:W+"px"}).append(F).appendTo(t);else{if(t.css("width",""),g=L.stickToBottom&&S(),m=L.stickToRight&&D(),u=t.innerWidth()+vt!=j||t.outerHeight()!=W,u&&(j=t.innerWidth()+vt,W=t.innerHeight(),B.css({width:j+"px",height:W+"px"})),!u&&yt==U&&F.outerHeight()==q)return void t.width(j);yt=U,F.css("width",""),t.width(j),B.find(">.jspVerticalBar,>.jspHorizontalBar").remove().end()}F.css("overflow","auto"),U=i.contentWidth?i.contentWidth:F[0].scrollWidth,q=F[0].scrollHeight,F.css("overflow",""),Y=U/j,V=q/W,G=V>1,K=Y>1,K||G?(t.addClass("jspScrollable"),s=L.maintainPosition&&(Z||tt),s&&(a=C(),c=T()),r(),o(),l(),s&&(k(m?U-j:a,!1),x(g?q-W:c,!1)),I(),E(),z(),L.enableKeyboardNavigation&&$(),L.clickOnTrack&&h(),H(),L.hijackInternalLinks&&P()):(t.removeClass("jspScrollable"),F.css({top:0,left:0,width:B.width()-vt}),M(),O(),R(),f()),L.autoReinitialise&&!gt?gt=setInterval(function(){n(L)},L.autoReinitialiseDelay):!L.autoReinitialise&&gt&&clearInterval(gt),d&&t.scrollTop(0)&&x(d,!1),p&&t.scrollLeft(0)&&k(p,!1),t.trigger("jsp-initialised",[K||G])}function r(){G&&(B.append(e('<div class="jspVerticalBar" />').append(e('<div class="jspCap jspCapTop" />'),e('<div class="jspTrack" />').append(e('<div class="jspDrag" />').append(e('<div class="jspDragTop" />'),e('<div class="jspDragBottom" />'))),e('<div class="jspCap jspCapBottom" />'))),it=B.find(">.jspVerticalBar"),nt=it.find(">.jspTrack"),X=nt.find(">.jspDrag"),L.showArrows&&(at=e('<a class="jspArrow jspArrowUp" />').bind("mousedown.jsp",u(0,-1)).bind("click.jsp",A),lt=e('<a class="jspArrow jspArrowDown" />').bind("mousedown.jsp",u(0,1)).bind("click.jsp",A),L.arrowScrollOnHover&&(at.bind("mouseover.jsp",u(0,-1,at)),lt.bind("mouseover.jsp",u(0,1,lt))),c(nt,L.verticalArrowPositions,at,lt)),st=W,B.find(">.jspVerticalBar>.jspCap:visible,>.jspVerticalBar>.jspArrow").each(function(){st-=e(this).outerHeight()}),X.hover(function(){X.addClass("jspHover")},function(){X.removeClass("jspHover")}).bind("mousedown.jsp",function(t){e("html").bind("dragstart.jsp selectstart.jsp",A),X.addClass("jspActive");var i=t.pageY-X.position().top;return e("html").bind("mousemove.jsp",function(e){g(e.pageY-i,!1)}).bind("mouseup.jsp mouseleave.jsp",p),!1}),s())}function s(){nt.height(st+"px"),Z=0,rt=L.verticalGutter+nt.outerWidth(),F.width(j-rt-vt);try{0===it.position().left&&F.css("margin-left",rt+"px")}catch(e){}}function o(){K&&(B.append(e('<div class="jspHorizontalBar" />').append(e('<div class="jspCap jspCapLeft" />'),e('<div class="jspTrack" />').append(e('<div class="jspDrag" />').append(e('<div class="jspDragLeft" />'),e('<div class="jspDragRight" />'))),e('<div class="jspCap jspCapRight" />'))),ct=B.find(">.jspHorizontalBar"),ut=ct.find(">.jspTrack"),J=ut.find(">.jspDrag"),L.showArrows&&(ft=e('<a class="jspArrow jspArrowLeft" />').bind("mousedown.jsp",u(-1,0)).bind("click.jsp",A),pt=e('<a class="jspArrow jspArrowRight" />').bind("mousedown.jsp",u(1,0)).bind("click.jsp",A),L.arrowScrollOnHover&&(ft.bind("mouseover.jsp",u(-1,0,ft)),pt.bind("mouseover.jsp",u(1,0,pt))),c(ut,L.horizontalArrowPositions,ft,pt)),J.hover(function(){J.addClass("jspHover")},function(){J.removeClass("jspHover")}).bind("mousedown.jsp",function(t){e("html").bind("dragstart.jsp selectstart.jsp",A),J.addClass("jspActive");var i=t.pageX-J.position().left;return e("html").bind("mousemove.jsp",function(e){v(e.pageX-i,!1)}).bind("mouseup.jsp mouseleave.jsp",p),!1}),dt=B.innerWidth(),a())}function a(){B.find(">.jspHorizontalBar>.jspCap:visible,>.jspHorizontalBar>.jspArrow").each(function(){dt-=e(this).outerWidth()}),ut.width(dt+"px"),tt=0}function l(){if(K&&G){var t=ut.outerHeight(),i=nt.outerWidth();st-=t,e(ct).find(">.jspCap:visible,>.jspArrow").each(function(){dt+=e(this).outerWidth()}),dt-=i,W-=i,j-=t,ut.parent().append(e('<div class="jspCorner" />').css("width",t+"px")),s(),a()}K&&F.width(B.outerWidth()-vt+"px"),q=F.outerHeight(),V=q/W,K&&(ht=Math.ceil(1/Y*dt),ht>L.horizontalDragMaxWidth?ht=L.horizontalDragMaxWidth:ht<L.horizontalDragMinWidth&&(ht=L.horizontalDragMinWidth),J.width(ht+"px"),et=dt-ht,y(tt)),G&&(ot=Math.ceil(1/V*st),ot>L.verticalDragMaxHeight?ot=L.verticalDragMaxHeight:ot<L.verticalDragMinHeight&&(ot=L.verticalDragMinHeight),X.height(ot+"px"),Q=st-ot,m(Z))}function c(e,t,i,n){var r,s="before",o="after";"os"==t&&(t=/Mac/.test(navigator.platform)?"after":"split"),t==s?o=t:t==o&&(s=t,r=i,i=n,n=r),e[s](i)[o](n)}function u(e,t,i){return function(){return d(e,t,this,i),this.blur(),!1}}function d(t,i,n,r){n=e(n).addClass("jspActive");var s,o,a=!0,l=function(){0!==t&&bt.scrollByX(t*L.arrowButtonSpeed),0!==i&&bt.scrollByY(i*L.arrowButtonSpeed),o=setTimeout(l,a?L.initialDelay:L.arrowRepeatFreq),a=!1};l(),s=r?"mouseout.jsp":"mouseup.jsp",r=r||e("html"),r.bind(s,function(){n.removeClass("jspActive"),o&&clearTimeout(o),o=null,r.unbind(s)})}function h(){f(),G&&nt.bind("mousedown.jsp",function(t){if(void 0===t.originalTarget||t.originalTarget==t.currentTarget){var i,n=e(this),r=n.offset(),s=t.pageY-r.top-Z,o=!0,a=function(){var e=n.offset(),r=t.pageY-e.top-ot/2,c=W*L.scrollPagePercent,u=Q*c/(q-W);if(0>s)Z-u>r?bt.scrollByY(-c):g(r);else{if(!(s>0))return void l();r>Z+u?bt.scrollByY(c):g(r)}i=setTimeout(a,o?L.initialDelay:L.trackClickRepeatFreq),o=!1},l=function(){i&&clearTimeout(i),i=null,e(document).unbind("mouseup.jsp",l)};return a(),e(document).bind("mouseup.jsp",l),!1}}),K&&ut.bind("mousedown.jsp",function(t){if(void 0===t.originalTarget||t.originalTarget==t.currentTarget){var i,n=e(this),r=n.offset(),s=t.pageX-r.left-tt,o=!0,a=function(){var e=n.offset(),r=t.pageX-e.left-ht/2,c=j*L.scrollPagePercent,u=et*c/(U-j);if(0>s)tt-u>r?bt.scrollByX(-c):v(r);else{if(!(s>0))return void l();r>tt+u?bt.scrollByX(c):v(r)}i=setTimeout(a,o?L.initialDelay:L.trackClickRepeatFreq),o=!1},l=function(){i&&clearTimeout(i),i=null,e(document).unbind("mouseup.jsp",l)};return a(),e(document).bind("mouseup.jsp",l),!1}})}function f(){ut&&ut.unbind("mousedown.jsp"),nt&&nt.unbind("mousedown.jsp")}function p(){e("html").unbind("dragstart.jsp selectstart.jsp mousemove.jsp mouseup.jsp mouseleave.jsp"),X&&X.removeClass("jspActive"),J&&J.removeClass("jspActive")}function g(i,n){if(G){0>i?i=0:i>Q&&(i=Q);var r=new e.Event("jsp-will-scroll-y");if(t.trigger(r,[i]),!r.isDefaultPrevented()){var s=i||0,o=0===s,a=s==Q,l=i/Q,c=-l*(q-W);void 0===n&&(n=L.animateScroll),n?bt.animate(X,"top",i,m,function(){t.trigger("jsp-user-scroll-y",[-c,o,a])}):(X.css("top",i),m(i),t.trigger("jsp-user-scroll-y",[-c,o,a]))}}}function m(e){void 0===e&&(e=X.position().top),B.scrollTop(0),Z=e||0;var i=0===Z,n=Z==Q,r=e/Q,s=-r*(q-W);(wt!=i||kt!=n)&&(wt=i,kt=n,t.trigger("jsp-arrow-change",[wt,kt,xt,_t])),b(i,n),F.css("top",s),t.trigger("jsp-scroll-y",[-s,i,n]).trigger("scroll")}function v(i,n){if(K){0>i?i=0:i>et&&(i=et);var r=new e.Event("jsp-will-scroll-x");if(t.trigger(r,[i]),!r.isDefaultPrevented()){var s=i||0,o=0===s,a=s==et,l=i/et,c=-l*(U-j);void 0===n&&(n=L.animateScroll),n?bt.animate(J,"left",i,y,function(){t.trigger("jsp-user-scroll-x",[-c,o,a])}):(J.css("left",i),y(i),t.trigger("jsp-user-scroll-x",[-c,o,a]))}}}function y(e){void 0===e&&(e=J.position().left),B.scrollTop(0),tt=e||0;var i=0===tt,n=tt==et,r=e/et,s=-r*(U-j);(xt!=i||_t!=n)&&(xt=i,_t=n,t.trigger("jsp-arrow-change",[wt,kt,xt,_t])),w(i,n),F.css("left",s),t.trigger("jsp-scroll-x",[-s,i,n]).trigger("scroll")}function b(e,t){L.showArrows&&(at[e?"addClass":"removeClass"]("jspDisabled"),lt[t?"addClass":"removeClass"]("jspDisabled"))}function w(e,t){L.showArrows&&(ft[e?"addClass":"removeClass"]("jspDisabled"),pt[t?"addClass":"removeClass"]("jspDisabled"))}function x(e,t){var i=e/(q-W);g(i*Q,t)}function k(e,t){var i=e/(U-j);v(i*et,t)}function _(t,i,n){var r,s,o,a,l,c,u,d,h,f=0,p=0;try{r=e(t)}catch(g){return}for(s=r.outerHeight(),o=r.outerWidth(),B.scrollTop(0),B.scrollLeft(0);!r.is(".jspPane");)if(f+=r.position().top,p+=r.position().left,r=r.offsetParent(),/^body|html$/i.test(r[0].nodeName))return;a=T(),c=a+W,a>f||i?d=f-L.horizontalGutter:f+s>c&&(d=f-W+s+L.horizontalGutter),isNaN(d)||x(d,n),l=C(),u=l+j,l>p||i?h=p-L.horizontalGutter:p+o>u&&(h=p-j+o+L.horizontalGutter),isNaN(h)||k(h,n)}function C(){return-F.position().left}function T(){return-F.position().top}function S(){var e=q-W;return e>20&&e-T()<10}function D(){var e=U-j;return e>20&&e-C()<10}function E(){B.unbind(Tt).bind(Tt,function(e,t,i,n){tt||(tt=0),Z||(Z=0);var r=tt,s=Z,o=e.deltaFactor||L.mouseWheelSpeed;return bt.scrollBy(i*o,-n*o,!1),r==tt&&s==Z})}function M(){B.unbind(Tt)}function A(){return!1}function I(){F.find(":input,a").unbind("focus.jsp").bind("focus.jsp",function(e){_(e.target,!1)})}function O(){F.find(":input,a").unbind("focus.jsp")}function $(){function i(){var e=tt,t=Z;switch(n){case 40:bt.scrollByY(L.keyboardSpeed,!1);break;case 38:bt.scrollByY(-L.keyboardSpeed,!1);break;case 34:case 32:bt.scrollByY(W*L.scrollPagePercent,!1);break;case 33:bt.scrollByY(-W*L.scrollPagePercent,!1);break;case 39:bt.scrollByX(L.keyboardSpeed,!1);break;case 37:bt.scrollByX(-L.keyboardSpeed,!1)}return r=e!=tt||t!=Z}var n,r,s=[];K&&s.push(ct[0]),G&&s.push(it[0]),F.bind("focus.jsp",function(){t.focus()}),t.attr("tabindex",0).unbind("keydown.jsp keypress.jsp").bind("keydown.jsp",function(t){if(t.target===this||s.length&&e(t.target).closest(s).length){var o=tt,a=Z;switch(t.keyCode){case 40:case 38:case 34:case 32:case 33:case 39:case 37:n=t.keyCode,i();break;case 35:x(q-W),n=null;break;case 36:x(0),n=null}return r=t.keyCode==n&&o!=tt||a!=Z,!r}}).bind("keypress.jsp",function(t){return t.keyCode==n&&i(),t.target===this||s.length&&e(t.target).closest(s).length?!r:void 0}),L.hideFocus?(t.css("outline","none"),"hideFocus"in B[0]&&t.attr("hideFocus",!0)):(t.css("outline",""),"hideFocus"in B[0]&&t.attr("hideFocus",!1))}function R(){t.attr("tabindex","-1").removeAttr("tabindex").unbind("keydown.jsp keypress.jsp"),F.unbind(".jsp")}function H(){if(location.hash&&location.hash.length>1){var t,i,n=escape(location.hash.substr(1));try{t=e("#"+n+', a[name="'+n+'"]')}catch(r){return}t.length&&F.find(n)&&(0===B.scrollTop()?i=setInterval(function(){B.scrollTop()>0&&(_(t,!0),e(document).scrollTop(B.position().top),clearInterval(i))},50):(_(t,!0),e(document).scrollTop(B.position().top)))}}function P(){e(document.body).data("jspHijack")||(e(document.body).data("jspHijack",!0),e(document.body).delegate('a[href*="#"]',"click",function(t){var i,n,r,s,o,a,l=this.href.substr(0,this.href.indexOf("#")),c=location.href;if(-1!==location.href.indexOf("#")&&(c=location.href.substr(0,location.href.indexOf("#"))),l===c){i=escape(this.href.substr(this.href.indexOf("#")+1));try{n=e("#"+i+', a[name="'+i+'"]')}catch(u){return}n.length&&(r=n.closest(".jspScrollable"),s=r.data("jsp"),s.scrollToElement(n,!0),r[0].scrollIntoView&&(o=e(window).scrollTop(),a=n.offset().top,(o>a||a>o+e(window).height())&&r[0].scrollIntoView()),t.preventDefault())}}))}function z(){var e,t,i,n,r,s=!1;B.unbind("touchstart.jsp touchmove.jsp touchend.jsp click.jsp-touchclick").bind("touchstart.jsp",function(o){var a=o.originalEvent.touches[0];e=C(),t=T(),i=a.pageX,n=a.pageY,r=!1,s=!0}).bind("touchmove.jsp",function(o){if(s){var a=o.originalEvent.touches[0],l=tt,c=Z;return bt.scrollTo(e+i-a.pageX,t+n-a.pageY),r=r||Math.abs(i-a.pageX)>5||Math.abs(n-a.pageY)>5,l==tt&&c==Z}}).bind("touchend.jsp",function(){s=!1}).bind("click.jsp-touchclick",function(){return r?(r=!1,!1):void 0})}function N(){var e=T(),i=C();t.removeClass("jspScrollable").unbind(".jsp"),F.unbind(".jsp"),t.replaceWith(Ct.append(F.children())),Ct.scrollTop(e),Ct.scrollLeft(i),gt&&clearInterval(gt)}var L,F,j,W,B,U,q,Y,V,G,K,X,Q,Z,J,et,tt,it,nt,rt,st,ot,at,lt,ct,ut,dt,ht,ft,pt,gt,mt,vt,yt,bt=this,wt=!0,xt=!0,kt=!1,_t=!1,Ct=t.clone(!1,!1).empty(),Tt=e.fn.mwheelIntent?"mwheelIntent.jsp":"mousewheel.jsp";"border-box"===t.css("box-sizing")?(mt=0,vt=0):(mt=t.css("paddingTop")+" "+t.css("paddingRight")+" "+t.css("paddingBottom")+" "+t.css("paddingLeft"),vt=(parseInt(t.css("paddingLeft"),10)||0)+(parseInt(t.css("paddingRight"),10)||0)),e.extend(bt,{reinitialise:function(t){t=e.extend({},L,t),n(t)},scrollToElement:function(e,t,i){_(e,t,i)},scrollTo:function(e,t,i){k(e,i),x(t,i)},scrollToX:function(e,t){k(e,t)},scrollToY:function(e,t){x(e,t)},scrollToPercentX:function(e,t){k(e*(U-j),t)},scrollToPercentY:function(e,t){x(e*(q-W),t)},scrollBy:function(e,t,i){bt.scrollByX(e,i),bt.scrollByY(t,i)},scrollByX:function(e,t){var i=C()+Math[0>e?"floor":"ceil"](e),n=i/(U-j);v(n*et,t)},scrollByY:function(e,t){var i=T()+Math[0>e?"floor":"ceil"](e),n=i/(q-W);g(n*Q,t)},positionDragX:function(e,t){v(e,t)},positionDragY:function(e,t){g(e,t)},animate:function(e,t,i,n,r){var s={};s[t]=i,e.animate(s,{duration:L.animateDuration,easing:L.animateEase,queue:!1,step:n,complete:r})},getContentPositionX:function(){return C()},getContentPositionY:function(){return T()},getContentWidth:function(){return U},getContentHeight:function(){return q},getPercentScrolledX:function(){return C()/(U-j)},getPercentScrolledY:function(){return T()/(q-W)},getIsScrollableH:function(){return K},getIsScrollableV:function(){return G},getContentPane:function(){return F},scrollToBottom:function(e){g(Q,e)},hijackInternalLinks:e.noop,destroy:function(){N()}}),n(i)}return t=e.extend({},e.fn.jScrollPane.defaults,t),e.each(["arrowButtonSpeed","trackClickSpeed","keyboardSpeed"],function(){t[this]=t[this]||t.speed}),this.each(function(){var n=e(this),r=n.data("jsp");r?r.reinitialise(t):(e("script",n).filter('[type="text/javascript"],:not([type])').remove(),r=new i(n,t),n.data("jsp",r))})},e.fn.jScrollPane.defaults={showArrows:!1,maintainPosition:!0,stickToBottom:!1,stickToRight:!1,clickOnTrack:!0,autoReinitialise:!1,autoReinitialiseDelay:500,verticalDragMinHeight:0,verticalDragMaxHeight:99999,horizontalDragMinWidth:0,horizontalDragMaxWidth:99999,contentWidth:void 0,animateScroll:!1,animateDuration:300,animateEase:"linear",hijackInternalLinks:!1,verticalGutter:4,horizontalGutter:4,mouseWheelSpeed:3,arrowButtonSpeed:0,arrowRepeatFreq:50,arrowScrollOnHover:!1,trackClickSpeed:0,trackClickRepeatFreq:70,verticalArrowPositions:"split",horizontalArrowPositions:"split",enableKeyboardNavigation:!0,hideFocus:!1,keyboardSpeed:0,initialDelay:300,speed:30,scrollPagePercent:.8}
}),$(function(){$(document).foundation()}),$(document).ready(function(){function e(e){var t="#"+e;return t}function t(t){var i=e(t)+"-title";return i}function i(i,n){function r(){$(a).hide(),$(a).removeClass("selected"),console.log($(a)),$(o).hide()}function s(){$(a).show(),$(a).addClass("selected"),$(o).show();var e=$(o).siblings(),t=$(o).children().children("#activity-main-box");t.toggleClass("show-type"),e.each(function(){$(this).hasClass("show-type")&&$(this).toggleClass("show-type")})}var o=e(n),a=t(n);"hide"==i?r():"show"==i&&s()}function n(e){i("hide",e)}function r(){n("all"),n("prep"),n("station"),n("teardown")}function s(e){i("show",e)}function o(e){r(),s(e)}$(function(e){e(".shifts-link").on("click",function(){var t=e(this).parent();e(this).addClass("success"),t.siblings("li").children("a").removeClass("success"),e("#all-link").removeClass("success")})}),$("#all-link").on("click",function(){$(this).addClass("success");var e=$("ul#category-selection").children("li").children("a");e.each(function(){$(this).removeClass("success")})}),$(".activity-target").hide(),$(".activity-toggle").on("click",function(){{var e=$(this).next(".activity-target");0-e.height()}}),$(function(e){e(".friend-field").hide(),e(".add-friend-btn").on("click",function(){e(this).hide(),e(this).siblings("div").show()})}),r(),$("#prep-link").on("click",function(){o("prep"),$("#primary-element").scrollTo("#activities-main")}),$("#teardown-link").on("click",function(){o("teardown"),$("#primary-element").scrollTo("#activities-main")}),$("#station-link").on("click",function(){o("station"),$("#primary-element").scrollTo("#activities-main")}),$("#all-link").on("click",function(){o("all"),$("#primary-element").scrollTo("#activities-main")}),$(".category-title").on("click",function(){$("#primary-element").scrollTo(0)}),$("#guest-signup-trigger").on("click",function(){$$("#guest-signup-toggle").toggle("slow")}),$("#calendar").fullCalendar({eventSources:[{url:"/shifts.json"}],eventColor:"#3f8000",header:{center:"agendaThreeDay,agendaDay"},defaultView:"agendaThreeDay",aspectRatio:2,defaultDate:moment("2015-10-02"),minTime:"09:00:00",maxTime:"21:00:00",views:{agendaDay:{buttonText:"Day"},agendaFourDay:{type:"agenda",duration:{days:4},buttonText:"4 day"},agendaThreeDay:{type:"agenda",duration:{days:2},buttonText:"Main"}}}),$("div.shifts-toggle").hide(),$('a[href="#"]').click(function(e){e.preventDefault()}),$("tr.open").hide(),$("button#open").text("Show Open"),$("button#open").bind("click",function(){$(this).toggleClass("success"),$(this).toggleClass("open"),$(this).text("Show Open"===$(this).text()?"Hide Open":"Show Open"),$("tr.open").toggleClass("show"),$("tr.shift-time").css("background-color","red")});var a=$("div#primary-element"),l=a.width(),c=a.height(),u=a.css("top"),d=$(window).width(),h=($(window).height(),$("div#dashboard-element")),f=h.width(),p=(h.height(),h.css("left")),g=($("div#ccf-info").height(),$("div#ccf-info")),m=(g.height(),g.width()),v=g.css("top"),y=g.css("background-color"),b=g.css("position"),w=$("div#shifts-numbers").height(),x=$("div#category-tabs").height(),k=w+x;$("#retract-button").hide(),$(function(){$("#expand-button").on("click",function(){$(this).hide(),$("#retract-button").show(),$("div#header").fadeOut("slow"),$("div#ph-title").fadeOut("slow"),$("#footer-buttons").fadeOut(),$("div#welcome-element").hide(),$("div#category-info").fadeOut(),$("div#tabs-open-close").fadeOut(),h.hide(),h.animate({width:d-160,left:0},2e3,"easeOutCirc"),a.animate({top:k+40,width:d-150,height:"80%"},1e3,"easeOutCubic"),a.css("border-radius","50px"),$("div.category-title").animate({"margin-top":"15px"}),g.css("position","fixed"),g.css("background","transparent"),g.toggleClass("bottom-shadow"),g.animate({top:0,width:d-160}),h.fadeIn("slow")})}),$("#retract-button").on("click",function(){$(this).hide(),$("#expand-button").show(),a.css("border-radius","0"),a.animate({top:u,width:l+35,height:c+5},1e3),$("div#header").fadeIn("slow"),$("div#ph-title").fadeIn("slow"),$("#footer-buttons").fadeIn(),$("div#category-info").fadeIn(),$("div#welcome-element").fadeIn(1500),$("div#tabs-open-close").fadeIn(),h.hide(),h.animate({width:f,left:p},345),g.css("position",b),g.css("background",y),g.toggleClass("bottom-shadow"),g.animate({top:v,width:m+37}),h.fadeIn("slow")}),$(function(){})}),$(document).ready(function(){$(".ccf-slide").wrapInner("<a href='/activities'></a>")}),function(e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else{if("function"==typeof define&&define.amd)return define([],e);(this||window).CodeMirror=e()}}(function(){"use strict";function e(i,n){if(!(this instanceof e))return new e(i,n);this.options=n=n?zs(n):{},zs(ea,n,!1),f(n);var r=n.value;"string"==typeof r&&(r=new Ca(r,n.mode,null,n.lineSeparator)),this.doc=r;var s=new e.inputStyles[n.inputStyle](this),o=this.display=new t(i,r,s);o.wrapper.CodeMirror=this,c(this),a(this),n.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),n.autofocus&&!Mo&&o.input.focus(),v(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,selectingText:!1,draggingText:!1,highlight:new As,keySeq:null,specialChars:null};var l=this;bo&&11>wo&&setTimeout(function(){l.display.input.reset(!0)},20),Wi(this),Ks(),wi(this),this.curOp.forceUpdate=!0,Xr(this,r),n.autofocus&&!Mo||l.hasFocus()?setTimeout(Ns(vn,this),20):yn(this);for(var u in ta)ta.hasOwnProperty(u)&&ta[u](this,n[u],ia);k(this),n.finishInit&&n.finishInit(this);for(var d=0;d<oa.length;++d)oa[d](this);ki(this),xo&&n.lineWrapping&&"optimizelegibility"==getComputedStyle(o.lineDiv).textRendering&&(o.lineDiv.style.textRendering="auto")}function t(e,t,i){var n=this;this.input=i,n.scrollbarFiller=Ws("div",null,"CodeMirror-scrollbar-filler"),n.scrollbarFiller.setAttribute("cm-not-content","true"),n.gutterFiller=Ws("div",null,"CodeMirror-gutter-filler"),n.gutterFiller.setAttribute("cm-not-content","true"),n.lineDiv=Ws("div",null,"CodeMirror-code"),n.selectionDiv=Ws("div",null,null,"position: relative; z-index: 1"),n.cursorDiv=Ws("div",null,"CodeMirror-cursors"),n.measure=Ws("div",null,"CodeMirror-measure"),n.lineMeasure=Ws("div",null,"CodeMirror-measure"),n.lineSpace=Ws("div",[n.measure,n.lineMeasure,n.selectionDiv,n.cursorDiv,n.lineDiv],null,"position: relative; outline: none"),n.mover=Ws("div",[Ws("div",[n.lineSpace],"CodeMirror-lines")],null,"position: relative"),n.sizer=Ws("div",[n.mover],"CodeMirror-sizer"),n.sizerWidth=null,n.heightForcer=Ws("div",null,null,"position: absolute; height: "+Ha+"px; width: 1px;"),n.gutters=Ws("div",null,"CodeMirror-gutters"),n.lineGutter=null,n.scroller=Ws("div",[n.sizer,n.heightForcer,n.gutters],"CodeMirror-scroll"),n.scroller.setAttribute("tabIndex","-1"),n.wrapper=Ws("div",[n.scrollbarFiller,n.gutterFiller,n.scroller],"CodeMirror"),bo&&8>wo&&(n.gutters.style.zIndex=-1,n.scroller.style.paddingRight=0),xo||mo&&Mo||(n.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(n.wrapper):e(n.wrapper)),n.viewFrom=n.viewTo=t.first,n.reportedViewFrom=n.reportedViewTo=t.first,n.view=[],n.renderedView=null,n.externalMeasured=null,n.viewOffset=0,n.lastWrapHeight=n.lastWrapWidth=0,n.updateLineNumbers=null,n.nativeBarWidth=n.barHeight=n.barWidth=0,n.scrollbarsClipped=!1,n.lineNumWidth=n.lineNumInnerWidth=n.lineNumChars=null,n.alignWidgets=!1,n.cachedCharWidth=n.cachedTextHeight=n.cachedPaddingH=null,n.maxLine=null,n.maxLineLength=0,n.maxLineChanged=!1,n.wheelDX=n.wheelDY=n.wheelStartX=n.wheelStartY=null,n.shift=!1,n.selForContextMenu=null,n.activeTouch=null,i.init(n)}function i(t){t.doc.mode=e.getMode(t.options,t.doc.modeOption),n(t)}function n(e){e.doc.iter(function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)}),e.doc.frontier=e.doc.first,Lt(e,100),e.state.modeGen++,e.curOp&&Hi(e)}function r(e){e.options.lineWrapping?(Za(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(Qa(e.display.wrapper,"CodeMirror-wrap"),h(e)),o(e),Hi(e),ai(e),setTimeout(function(){y(e)},100)}function s(e){var t=yi(e.display),i=e.options.lineWrapping,n=i&&Math.max(5,e.display.scroller.clientWidth/bi(e.display)-3);return function(r){if(kr(e.doc,r))return 0;var s=0;if(r.widgets)for(var o=0;o<r.widgets.length;o++)r.widgets[o].height&&(s+=r.widgets[o].height);return i?s+(Math.ceil(r.text.length/n)||1)*t:s+t}}function o(e){var t=e.doc,i=s(e);t.iter(function(e){var t=i(e);t!=e.height&&es(e,t)})}function a(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),ai(e)}function l(e){c(e),Hi(e),setTimeout(function(){x(e)},20)}function c(e){var t=e.display.gutters,i=e.options.gutters;Bs(t);for(var n=0;n<i.length;++n){var r=i[n],s=t.appendChild(Ws("div",null,"CodeMirror-gutter "+r));"CodeMirror-linenumbers"==r&&(e.display.lineGutter=s,s.style.width=(e.display.lineNumWidth||1)+"px")}t.style.display=n?"":"none",u(e)}function u(e){var t=e.display.gutters.offsetWidth;e.display.sizer.style.marginLeft=t+"px"}function d(e){if(0==e.height)return 0;for(var t,i=e.text.length,n=e;t=gr(n);){var r=t.find(0,!0);n=r.from.line,i+=r.from.ch-r.to.ch}for(n=e;t=mr(n);){var r=t.find(0,!0);i-=n.text.length-r.from.ch,n=r.to.line,i+=n.text.length-r.to.ch}return i}function h(e){var t=e.display,i=e.doc;t.maxLine=Qr(i,i.first),t.maxLineLength=d(t.maxLine),t.maxLineChanged=!0,i.iter(function(e){var i=d(e);i>t.maxLineLength&&(t.maxLineLength=i,t.maxLine=e)})}function f(e){var t=$s(e.gutters,"CodeMirror-linenumbers");-1==t&&e.lineNumbers?e.gutters=e.gutters.concat(["CodeMirror-linenumbers"]):t>-1&&!e.lineNumbers&&(e.gutters=e.gutters.slice(0),e.gutters.splice(t,1))}function p(e){var t=e.display,i=t.gutters.offsetWidth,n=Math.round(e.doc.height+Ut(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?i:0,docHeight:n,scrollHeight:n+Yt(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:i}}function g(e,t,i){this.cm=i;var n=this.vert=Ws("div",[Ws("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),r=this.horiz=Ws("div",[Ws("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");e(n),e(r),Aa(n,"scroll",function(){n.clientHeight&&t(n.scrollTop,"vertical")}),Aa(r,"scroll",function(){r.clientWidth&&t(r.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,bo&&8>wo&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")}function m(){}function v(t){t.display.scrollbars&&(t.display.scrollbars.clear(),t.display.scrollbars.addClass&&Qa(t.display.wrapper,t.display.scrollbars.addClass)),t.display.scrollbars=new e.scrollbarModel[t.options.scrollbarStyle](function(e){t.display.wrapper.insertBefore(e,t.display.scrollbarFiller),Aa(e,"mousedown",function(){t.state.focused&&setTimeout(function(){t.display.input.focus()},0)}),e.setAttribute("cm-not-content","true")},function(e,i){"horizontal"==i?sn(t,e):rn(t,e)},t),t.display.scrollbars.addClass&&Za(t.display.wrapper,t.display.scrollbars.addClass)}function y(e,t){t||(t=p(e));var i=e.display.barWidth,n=e.display.barHeight;b(e,t);for(var r=0;4>r&&i!=e.display.barWidth||n!=e.display.barHeight;r++)i!=e.display.barWidth&&e.options.lineWrapping&&I(e),b(e,p(e)),i=e.display.barWidth,n=e.display.barHeight}function b(e,t){var i=e.display,n=i.scrollbars.update(t);i.sizer.style.paddingRight=(i.barWidth=n.right)+"px",i.sizer.style.paddingBottom=(i.barHeight=n.bottom)+"px",i.heightForcer.style.borderBottom=n.bottom+"px solid transparent",n.right&&n.bottom?(i.scrollbarFiller.style.display="block",i.scrollbarFiller.style.height=n.bottom+"px",i.scrollbarFiller.style.width=n.right+"px"):i.scrollbarFiller.style.display="",n.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(i.gutterFiller.style.display="block",i.gutterFiller.style.height=n.bottom+"px",i.gutterFiller.style.width=t.gutterWidth+"px"):i.gutterFiller.style.display=""}function w(e,t,i){var n=i&&null!=i.top?Math.max(0,i.top):e.scroller.scrollTop;n=Math.floor(n-Bt(e));var r=i&&null!=i.bottom?i.bottom:n+e.wrapper.clientHeight,s=is(t,n),o=is(t,r);if(i&&i.ensure){var a=i.ensure.from.line,l=i.ensure.to.line;s>a?(s=a,o=is(t,ns(Qr(t,a))+e.wrapper.clientHeight)):Math.min(l,t.lastLine())>=o&&(s=is(t,ns(Qr(t,l))-e.wrapper.clientHeight),o=l)}return{from:s,to:Math.max(o,s+1)}}function x(e){var t=e.display,i=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var n=C(t)-t.scroller.scrollLeft+e.doc.scrollLeft,r=t.gutters.offsetWidth,s=n+"px",o=0;o<i.length;o++)if(!i[o].hidden){e.options.fixedGutter&&i[o].gutter&&(i[o].gutter.style.left=s);var a=i[o].alignable;if(a)for(var l=0;l<a.length;l++)a[l].style.left=s}e.options.fixedGutter&&(t.gutters.style.left=n+r+"px")}}function k(e){if(!e.options.lineNumbers)return!1;var t=e.doc,i=_(e.options,t.first+t.size-1),n=e.display;if(i.length!=n.lineNumChars){var r=n.measure.appendChild(Ws("div",[Ws("div",i)],"CodeMirror-linenumber CodeMirror-gutter-elt")),s=r.firstChild.offsetWidth,o=r.offsetWidth-s;return n.lineGutter.style.width="",n.lineNumInnerWidth=Math.max(s,n.lineGutter.offsetWidth-o)+1,n.lineNumWidth=n.lineNumInnerWidth+o,n.lineNumChars=n.lineNumInnerWidth?i.length:-1,n.lineGutter.style.width=n.lineNumWidth+"px",u(e),!0}return!1}function _(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function C(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function T(e,t,i){var n=e.display;this.viewport=t,this.visible=w(n,e.doc,t),this.editorIsHidden=!n.wrapper.offsetWidth,this.wrapperHeight=n.wrapper.clientHeight,this.wrapperWidth=n.wrapper.clientWidth,this.oldDisplayWidth=Vt(e),this.force=i,this.dims=$(e),this.events=[]}function S(e){var t=e.display;!t.scrollbarsClipped&&t.scroller.offsetWidth&&(t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth,t.heightForcer.style.height=Yt(e)+"px",t.sizer.style.marginBottom=-t.nativeBarWidth+"px",t.sizer.style.borderRightWidth=Yt(e)+"px",t.scrollbarsClipped=!0)}function D(e,t){var i=e.display,n=e.doc;if(t.editorIsHidden)return zi(e),!1;if(!t.force&&t.visible.from>=i.viewFrom&&t.visible.to<=i.viewTo&&(null==i.updateLineNumbers||i.updateLineNumbers>=i.viewTo)&&i.renderedView==i.view&&0==ji(e))return!1;k(e)&&(zi(e),t.dims=$(e));var r=n.first+n.size,s=Math.max(t.visible.from-e.options.viewportMargin,n.first),o=Math.min(r,t.visible.to+e.options.viewportMargin);i.viewFrom<s&&s-i.viewFrom<20&&(s=Math.max(n.first,i.viewFrom)),i.viewTo>o&&i.viewTo-o<20&&(o=Math.min(r,i.viewTo)),zo&&(s=wr(e.doc,s),o=xr(e.doc,o));var a=s!=i.viewFrom||o!=i.viewTo||i.lastWrapHeight!=t.wrapperHeight||i.lastWrapWidth!=t.wrapperWidth;Fi(e,s,o),i.viewOffset=ns(Qr(e.doc,i.viewFrom)),e.display.mover.style.top=i.viewOffset+"px";var l=ji(e);if(!a&&0==l&&!t.force&&i.renderedView==i.view&&(null==i.updateLineNumbers||i.updateLineNumbers>=i.viewTo))return!1;var c=qs();return l>4&&(i.lineDiv.style.display="none"),R(e,i.updateLineNumbers,t.dims),l>4&&(i.lineDiv.style.display=""),i.renderedView=i.view,c&&qs()!=c&&c.offsetHeight&&c.focus(),Bs(i.cursorDiv),Bs(i.selectionDiv),i.gutters.style.height=i.sizer.style.minHeight=0,a&&(i.lastWrapHeight=t.wrapperHeight,i.lastWrapWidth=t.wrapperWidth,Lt(e,400)),i.updateLineNumbers=null,!0}function E(e,t){for(var i=t.viewport,n=!0;(n&&e.options.lineWrapping&&t.oldDisplayWidth!=Vt(e)||(i&&null!=i.top&&(i={top:Math.min(e.doc.height+Ut(e.display)-Gt(e),i.top)}),t.visible=w(e.display,e.doc,i),!(t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)))&&D(e,t);n=!1){I(e);var r=p(e);Rt(e),y(e,r),A(e,r)}t.signal(e,"update",e),(e.display.viewFrom!=e.display.reportedViewFrom||e.display.viewTo!=e.display.reportedViewTo)&&(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function M(e,t){var i=new T(e,t);if(D(e,i)){I(e),E(e,i);var n=p(e);Rt(e),y(e,n),A(e,n),i.finish()}}function A(e,t){e.display.sizer.style.minHeight=t.docHeight+"px",e.display.heightForcer.style.top=t.docHeight+"px",e.display.gutters.style.height=t.docHeight+e.display.barHeight+Yt(e)+"px"}function I(e){for(var t=e.display,i=t.lineDiv.offsetTop,n=0;n<t.view.length;n++){var r,s=t.view[n];if(!s.hidden){if(bo&&8>wo){var o=s.node.offsetTop+s.node.offsetHeight;r=o-i,i=o}else{var a=s.node.getBoundingClientRect();r=a.bottom-a.top}var l=s.line.height-r;if(2>r&&(r=yi(t)),(l>.001||-.001>l)&&(es(s.line,r),O(s.line),s.rest))for(var c=0;c<s.rest.length;c++)O(s.rest[c])}}}function O(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t)e.widgets[t].height=e.widgets[t].node.parentNode.offsetHeight}function $(e){for(var t=e.display,i={},n={},r=t.gutters.clientLeft,s=t.gutters.firstChild,o=0;s;s=s.nextSibling,++o)i[e.options.gutters[o]]=s.offsetLeft+s.clientLeft+r,n[e.options.gutters[o]]=s.clientWidth;return{fixedPos:C(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:i,gutterWidth:n,wrapperWidth:t.wrapper.clientWidth}}function R(e,t,i){function n(t){var i=t.nextSibling;return xo&&Ao&&e.display.currentWheelTarget==t?t.style.display="none":t.parentNode.removeChild(t),i}for(var r=e.display,s=e.options.lineNumbers,o=r.lineDiv,a=o.firstChild,l=r.view,c=r.viewFrom,u=0;u<l.length;u++){var d=l[u];if(d.hidden);else if(d.node&&d.node.parentNode==o){for(;a!=d.node;)a=n(a);var h=s&&null!=t&&c>=t&&d.lineNumber;d.changes&&($s(d.changes,"gutter")>-1&&(h=!1),H(e,d,c,i)),h&&(Bs(d.lineNumber),d.lineNumber.appendChild(document.createTextNode(_(e.options,c)))),a=d.node.nextSibling}else{var f=B(e,d,c,i);o.insertBefore(f,a)}c+=d.size}for(;a;)a=n(a)}function H(e,t,i,n){for(var r=0;r<t.changes.length;r++){var s=t.changes[r];"text"==s?L(e,t):"gutter"==s?j(e,t,i,n):"class"==s?F(t):"widget"==s&&W(e,t,n)}t.changes=null}function P(e){return e.node==e.text&&(e.node=Ws("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),bo&&8>wo&&(e.node.style.zIndex=2)),e.node}function z(e){var t=e.bgClass?e.bgClass+" "+(e.line.bgClass||""):e.line.bgClass;if(t&&(t+=" CodeMirror-linebackground"),e.background)t?e.background.className=t:(e.background.parentNode.removeChild(e.background),e.background=null);else if(t){var i=P(e);e.background=i.insertBefore(Ws("div",null,t),i.firstChild)}}function N(e,t){var i=e.display.externalMeasured;return i&&i.line==t.line?(e.display.externalMeasured=null,t.measure=i.measure,i.built):Nr(e,t)}function L(e,t){var i=t.text.className,n=N(e,t);t.text==t.node&&(t.node=n.pre),t.text.parentNode.replaceChild(n.pre,t.text),t.text=n.pre,n.bgClass!=t.bgClass||n.textClass!=t.textClass?(t.bgClass=n.bgClass,t.textClass=n.textClass,F(t)):i&&(t.text.className=i)}function F(e){z(e),e.line.wrapClass?P(e).className=e.line.wrapClass:e.node!=e.text&&(e.node.className="");var t=e.textClass?e.textClass+" "+(e.line.textClass||""):e.line.textClass;e.text.className=t||""}function j(e,t,i,n){if(t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass){var r=P(t);t.gutterBackground=Ws("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(e.options.fixedGutter?n.fixedPos:-n.gutterTotalWidth)+"px; width: "+n.gutterTotalWidth+"px"),r.insertBefore(t.gutterBackground,t.text)}var s=t.line.gutterMarkers;if(e.options.lineNumbers||s){var r=P(t),o=t.gutter=Ws("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?n.fixedPos:-n.gutterTotalWidth)+"px");if(e.display.input.setUneditable(o),r.insertBefore(o,t.text),t.line.gutterClass&&(o.className+=" "+t.line.gutterClass),!e.options.lineNumbers||s&&s["CodeMirror-linenumbers"]||(t.lineNumber=o.appendChild(Ws("div",_(e.options,i),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+n.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),s)for(var a=0;a<e.options.gutters.length;++a){var l=e.options.gutters[a],c=s.hasOwnProperty(l)&&s[l];c&&o.appendChild(Ws("div",[c],"CodeMirror-gutter-elt","left: "+n.gutterLeft[l]+"px; width: "+n.gutterWidth[l]+"px"))}}}function W(e,t,i){t.alignable&&(t.alignable=null);for(var n,r=t.node.firstChild;r;r=n){var n=r.nextSibling;"CodeMirror-linewidget"==r.className&&t.node.removeChild(r)}U(e,t,i)}function B(e,t,i,n){var r=N(e,t);return t.text=t.node=r.pre,r.bgClass&&(t.bgClass=r.bgClass),r.textClass&&(t.textClass=r.textClass),F(t),j(e,t,i,n),U(e,t,n),t.node}function U(e,t,i){if(q(e,t.line,t,i,!0),t.rest)for(var n=0;n<t.rest.length;n++)q(e,t.rest[n],t,i,!1)}function q(e,t,i,n,r){if(t.widgets)for(var s=P(i),o=0,a=t.widgets;o<a.length;++o){var l=a[o],c=Ws("div",[l.node],"CodeMirror-linewidget");l.handleMouseEvents||c.setAttribute("cm-ignore-events","true"),Y(l,c,i,n),e.display.input.setUneditable(c),r&&l.above?s.insertBefore(c,i.gutter||i.text):s.appendChild(c),Cs(l,"redraw")}}function Y(e,t,i,n){if(e.noHScroll){(i.alignable||(i.alignable=[])).push(t);var r=n.wrapperWidth;t.style.left=n.fixedPos+"px",e.coverGutter||(r-=n.gutterTotalWidth,t.style.paddingLeft=n.gutterTotalWidth+"px"),t.style.width=r+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-n.gutterTotalWidth+"px"))}function V(e){return No(e.line,e.ch)}function G(e,t){return Lo(e,t)<0?t:e}function K(e,t){return Lo(e,t)<0?e:t}function X(e){e.state.focused||(e.display.input.focus(),vn(e))}function Q(e,t,i,n,r){var s=e.doc;e.display.shift=!1,n||(n=s.sel);var o=e.state.pasteIncoming||"paste"==r,a=s.splitLines(t),l=null;if(o&&n.ranges.length>1)if(Fo&&Fo.text.join("\n")==t){if(n.ranges.length%Fo.text.length==0){l=[];for(var c=0;c<Fo.text.length;c++)l.push(s.splitLines(Fo.text[c]))}}else a.length==n.ranges.length&&(l=Rs(a,function(e){return[e]}));for(var c=n.ranges.length-1;c>=0;c--){var u=n.ranges[c],d=u.from(),h=u.to();u.empty()&&(i&&i>0?d=No(d.line,d.ch-i):e.state.overwrite&&!o?h=No(h.line,Math.min(Qr(s,h.line).text.length,h.ch+Os(a).length)):Fo&&Fo.lineWise&&Fo.text.join("\n")==t&&(d=h=No(d.line,0)));var f=e.curOp.updateInput,p={from:d,to:h,text:l?l[c%l.length]:a,origin:r||(o?"paste":e.state.cutIncoming?"cut":"+input")};Sn(e.doc,p),Cs(e,"inputRead",e,p)}t&&!o&&J(e,t),Nn(e),e.curOp.updateInput=f,e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=!1}function Z(e,t){var i=e.clipboardData&&e.clipboardData.getData("text/plain");return i?(e.preventDefault(),t.isReadOnly()||t.options.disableInput||Mi(t,function(){Q(t,i,0,null,"paste")}),!0):void 0}function J(e,t){if(e.options.electricChars&&e.options.smartIndent)for(var i=e.doc.sel,n=i.ranges.length-1;n>=0;n--){var r=i.ranges[n];if(!(r.head.ch>100||n&&i.ranges[n-1].head.line==r.head.line)){var s=e.getModeAt(r.head),o=!1;if(s.electricChars){for(var a=0;a<s.electricChars.length;a++)if(t.indexOf(s.electricChars.charAt(a))>-1){o=Fn(e,r.head.line,"smart");break}}else s.electricInput&&s.electricInput.test(Qr(e.doc,r.head.line).text.slice(0,r.head.ch))&&(o=Fn(e,r.head.line,"smart"));o&&Cs(e,"electricInput",e,r.head.line)}}}function et(e){for(var t=[],i=[],n=0;n<e.doc.sel.ranges.length;n++){var r=e.doc.sel.ranges[n].head.line,s={anchor:No(r,0),head:No(r+1,0)};i.push(s),t.push(e.getRange(s.anchor,s.head))}return{text:t,ranges:i}}function tt(e){e.setAttribute("autocorrect","off"),e.setAttribute("autocapitalize","off"),e.setAttribute("spellcheck","false")}function it(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new As,this.inaccurateSelection=!1,this.hasSelection=!1,this.composing=null}function nt(){var e=Ws("textarea",null,null,"position: absolute; padding: 0; width: 1px; height: 1em; outline: none"),t=Ws("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return xo?e.style.width="1000px":e.setAttribute("wrap","off"),Eo&&(e.style.border="1px solid black"),tt(e),t}function rt(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new As,this.gracePeriod=!1}function st(e,t){var i=Jt(e,t.line);if(!i||i.hidden)return null;var n=Qr(e.doc,t.line),r=Xt(i,n,t.line),s=rs(n),o="left";if(s){var a=co(s,t.ch);o=a%2?"right":"left"}var l=ii(r.map,t.ch,o);return l.offset="right"==l.collapse?l.end:l.start,l}function ot(e,t){return t&&(e.bad=!0),e}function at(e,t,i){var n;if(t==e.display.lineDiv){if(n=e.display.lineDiv.childNodes[i],!n)return ot(e.clipPos(No(e.display.viewTo-1)),!0);t=null,i=0}else for(n=t;;n=n.parentNode){if(!n||n==e.display.lineDiv)return null;if(n.parentNode&&n.parentNode==e.display.lineDiv)break}for(var r=0;r<e.display.view.length;r++){var s=e.display.view[r];if(s.node==n)return lt(s,t,i)}}function lt(e,t,i){function n(t,i,n){for(var r=-1;r<(u?u.length:0);r++)for(var s=0>r?c.map:u[r],o=0;o<s.length;o+=3){var a=s[o+2];if(a==t||a==i){var l=ts(0>r?e.line:e.rest[r]),d=s[o]+n;return(0>n||a!=t)&&(d=s[o+(n?1:0)]),No(l,d)}}}var r=e.text.firstChild,s=!1;if(!t||!Ga(r,t))return ot(No(ts(e.line),0),!0);if(t==r&&(s=!0,t=r.childNodes[i],i=0,!t)){var o=e.rest?Os(e.rest):e.line;return ot(No(ts(o),o.text.length),s)}var a=3==t.nodeType?t:null,l=t;for(a||1!=t.childNodes.length||3!=t.firstChild.nodeType||(a=t.firstChild,i&&(i=a.nodeValue.length));l.parentNode!=r;)l=l.parentNode;var c=e.measure,u=c.maps,d=n(a,l,i);if(d)return ot(d,s);for(var h=l.nextSibling,f=a?a.nodeValue.length-i:0;h;h=h.nextSibling){if(d=n(h,h.firstChild,0))return ot(No(d.line,d.ch-f),s);f+=h.textContent.length}for(var p=l.previousSibling,f=i;p;p=p.previousSibling){if(d=n(p,p.firstChild,-1))return ot(No(d.line,d.ch+f),s);f+=h.textContent.length}}function ct(e,t,i,n,r){function s(e){return function(t){return t.id==e}}function o(t){if(1==t.nodeType){var i=t.getAttribute("cm-text");if(null!=i)return""==i&&(i=t.textContent.replace(/\u200b/g,"")),void(a+=i);var u,d=t.getAttribute("cm-marker");if(d){var h=e.findMarks(No(n,0),No(r+1,0),s(+d));return void(h.length&&(u=h[0].find())&&(a+=Zr(e.doc,u.from,u.to).join(c)))}if("false"==t.getAttribute("contenteditable"))return;for(var f=0;f<t.childNodes.length;f++)o(t.childNodes[f]);/^(pre|div|p)$/i.test(t.nodeName)&&(l=!0)}else if(3==t.nodeType){var p=t.nodeValue;if(!p)return;l&&(a+=c,l=!1),a+=p}}for(var a="",l=!1,c=e.doc.lineSeparator();o(t),t!=i;)t=t.nextSibling;return a}function ut(e,t){this.ranges=e,this.primIndex=t}function dt(e,t){this.anchor=e,this.head=t}function ht(e,t){var i=e[t];e.sort(function(e,t){return Lo(e.from(),t.from())}),t=$s(e,i);for(var n=1;n<e.length;n++){var r=e[n],s=e[n-1];if(Lo(s.to(),r.from())>=0){var o=K(s.from(),r.from()),a=G(s.to(),r.to()),l=s.empty()?r.from()==r.head:s.from()==s.head;t>=n&&--t,e.splice(--n,2,new dt(l?a:o,l?o:a))}}return new ut(e,t)}function ft(e,t){return new ut([new dt(e,t||e)],0)}function pt(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function gt(e,t){if(t.line<e.first)return No(e.first,0);var i=e.first+e.size-1;return t.line>i?No(i,Qr(e,i).text.length):mt(t,Qr(e,t.line).text.length)}function mt(e,t){var i=e.ch;return null==i||i>t?No(e.line,t):0>i?No(e.line,0):e}function vt(e,t){return t>=e.first&&t<e.first+e.size}function yt(e,t){for(var i=[],n=0;n<t.length;n++)i[n]=gt(e,t[n]);return i}function bt(e,t,i,n){if(e.cm&&e.cm.display.shift||e.extend){var r=t.anchor;if(n){var s=Lo(i,r)<0;s!=Lo(n,r)<0?(r=i,i=n):s!=Lo(i,n)<0&&(i=n)}return new dt(r,i)}return new dt(n||i,i)}function wt(e,t,i,n){St(e,new ut([bt(e,e.sel.primary(),t,i)],0),n)}function xt(e,t,i){for(var n=[],r=0;r<e.sel.ranges.length;r++)n[r]=bt(e,e.sel.ranges[r],t[r],null);var s=ht(n,e.sel.primIndex);St(e,s,i)}function kt(e,t,i,n){var r=e.sel.ranges.slice(0);r[t]=i,St(e,ht(r,e.sel.primIndex),n)}function _t(e,t,i,n){St(e,ft(t,i),n)}function Ct(e,t,i){var n={ranges:t.ranges,update:function(t){this.ranges=[];for(var i=0;i<t.length;i++)this.ranges[i]=new dt(gt(e,t[i].anchor),gt(e,t[i].head))},origin:i&&i.origin};return $a(e,"beforeSelectionChange",e,n),e.cm&&$a(e.cm,"beforeSelectionChange",e.cm,n),n.ranges!=t.ranges?ht(n.ranges,n.ranges.length-1):t}function Tt(e,t,i){var n=e.history.done,r=Os(n);r&&r.ranges?(n[n.length-1]=t,Dt(e,t,i)):St(e,t,i)}function St(e,t,i){Dt(e,t,i),ds(e,e.sel,e.cm?e.cm.curOp.id:0/0,i)}function Dt(e,t,i){(Es(e,"beforeSelectionChange")||e.cm&&Es(e.cm,"beforeSelectionChange"))&&(t=Ct(e,t,i));var n=i&&i.bias||(Lo(t.primary().head,e.sel.primary().head)<0?-1:1);Et(e,At(e,t,n,!0)),i&&i.scroll===!1||!e.cm||Nn(e.cm)}function Et(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=e.cm.curOp.selectionChanged=!0,Ds(e.cm)),Cs(e,"cursorActivity",e))}function Mt(e){Et(e,At(e,e.sel,null,!1),za)}function At(e,t,i,n){for(var r,s=0;s<t.ranges.length;s++){var o=t.ranges[s],a=t.ranges.length==e.sel.ranges.length&&e.sel.ranges[s],l=Ot(e,o.anchor,a&&a.anchor,i,n),c=Ot(e,o.head,a&&a.head,i,n);(r||l!=o.anchor||c!=o.head)&&(r||(r=t.ranges.slice(0,s)),r[s]=new dt(l,c))}return r?ht(r,t.primIndex):t}function It(e,t,i,n,r){var s=Qr(e,t.line);if(s.markedSpans)for(var o=0;o<s.markedSpans.length;++o){var a=s.markedSpans[o],l=a.marker;if((null==a.from||(l.inclusiveLeft?a.from<=t.ch:a.from<t.ch))&&(null==a.to||(l.inclusiveRight?a.to>=t.ch:a.to>t.ch))){if(r&&($a(l,"beforeCursorEnter"),l.explicitlyCleared)){if(s.markedSpans){--o;continue}break}if(!l.atomic)continue;if(i){var c,u=l.find(0>n?1:-1);if((0>n?l.inclusiveRight:l.inclusiveLeft)&&(u=$t(e,u,-n,u&&u.line==t.line?s:null)),u&&u.line==t.line&&(c=Lo(u,i))&&(0>n?0>c:c>0))return It(e,u,t,n,r)}var d=l.find(0>n?-1:1);return(0>n?l.inclusiveLeft:l.inclusiveRight)&&(d=$t(e,d,n,d.line==t.line?s:null)),d?It(e,d,t,n,r):null}}return t}function Ot(e,t,i,n,r){var s=n||1,o=It(e,t,i,s,r)||!r&&It(e,t,i,s,!0)||It(e,t,i,-s,r)||!r&&It(e,t,i,-s,!0);return o?o:(e.cantEdit=!0,No(e.first,0))}function $t(e,t,i,n){return 0>i&&0==t.ch?t.line>e.first?gt(e,No(t.line-1)):null:i>0&&t.ch==(n||Qr(e,t.line)).text.length?t.line<e.first+e.size-1?No(t.line+1,0):null:new No(t.line,t.ch+i)}function Rt(e){e.display.input.showSelection(e.display.input.prepareSelection())}function Ht(e,t){for(var i=e.doc,n={},r=n.cursors=document.createDocumentFragment(),s=n.selection=document.createDocumentFragment(),o=0;o<i.sel.ranges.length;o++)if(t!==!1||o!=i.sel.primIndex){var a=i.sel.ranges[o];if(!(a.from().line>=e.display.viewTo||a.to().line<e.display.viewFrom)){var l=a.empty();(l||e.options.showCursorWhenSelecting)&&Pt(e,a.head,r),l||zt(e,a,s)}}return n}function Pt(e,t,i){var n=fi(e,t,"div",null,null,!e.options.singleCursorHeightPerLine),r=i.appendChild(Ws("div","\xa0","CodeMirror-cursor"));if(r.style.left=n.left+"px",r.style.top=n.top+"px",r.style.height=Math.max(0,n.bottom-n.top)*e.options.cursorHeight+"px",n.other){var s=i.appendChild(Ws("div","\xa0","CodeMirror-cursor CodeMirror-secondarycursor"));s.style.display="",s.style.left=n.other.left+"px",s.style.top=n.other.top+"px",s.style.height=.85*(n.other.bottom-n.other.top)+"px"}}function zt(e,t,i){function n(e,t,i,n){0>t&&(t=0),t=Math.round(t),n=Math.round(n),a.appendChild(Ws("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px; top: "+t+"px; width: "+(null==i?u-e:i)+"px; height: "+(n-t)+"px"))}function r(t,i,r){function s(i,n){return hi(e,No(t,i),"div",d,n)}var a,l,d=Qr(o,t),h=d.text.length;return eo(rs(d),i||0,null==r?h:r,function(e,t,o){var d,f,p,g=s(e,"left");if(e==t)d=g,f=p=g.left;else{if(d=s(t-1,"right"),"rtl"==o){var m=g;g=d,d=m}f=g.left,p=d.right}null==i&&0==e&&(f=c),d.top-g.top>3&&(n(f,g.top,null,g.bottom),f=c,g.bottom<d.top&&n(f,g.bottom,null,d.top)),null==r&&t==h&&(p=u),(!a||g.top<a.top||g.top==a.top&&g.left<a.left)&&(a=g),(!l||d.bottom>l.bottom||d.bottom==l.bottom&&d.right>l.right)&&(l=d),c+1>f&&(f=c),n(f,d.top,p-f,d.bottom)}),{start:a,end:l}}var s=e.display,o=e.doc,a=document.createDocumentFragment(),l=qt(e.display),c=l.left,u=Math.max(s.sizerWidth,Vt(e)-s.sizer.offsetLeft)-l.right,d=t.from(),h=t.to();if(d.line==h.line)r(d.line,d.ch,h.ch);else{var f=Qr(o,d.line),p=Qr(o,h.line),g=yr(f)==yr(p),m=r(d.line,d.ch,g?f.text.length+1:null).end,v=r(h.line,g?0:null,h.ch).start;g&&(m.top<v.top-2?(n(m.right,m.top,null,m.bottom),n(c,v.top,v.left,v.bottom)):n(m.right,m.top,v.left-m.right,m.bottom)),m.bottom<v.top&&n(c,m.bottom,null,v.top)}i.appendChild(a)}function Nt(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var i=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?t.blinker=setInterval(function(){t.cursorDiv.style.visibility=(i=!i)?"":"hidden"},e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function Lt(e,t){e.doc.mode.startState&&e.doc.frontier<e.display.viewTo&&e.state.highlight.set(t,Ns(Ft,e))}function Ft(e){var t=e.doc;if(t.frontier<t.first&&(t.frontier=t.first),!(t.frontier>=e.display.viewTo)){var i=+new Date+e.options.workTime,n=la(t.mode,Wt(e,t.frontier)),r=[];
t.iter(t.frontier,Math.min(t.first+t.size,e.display.viewTo+500),function(s){if(t.frontier>=e.display.viewFrom){var o=s.styles,a=s.text.length>e.options.maxHighlightLength,l=Rr(e,s,a?la(t.mode,n):n,!0);s.styles=l.styles;var c=s.styleClasses,u=l.classes;u?s.styleClasses=u:c&&(s.styleClasses=null);for(var d=!o||o.length!=s.styles.length||c!=u&&(!c||!u||c.bgClass!=u.bgClass||c.textClass!=u.textClass),h=0;!d&&h<o.length;++h)d=o[h]!=s.styles[h];d&&r.push(t.frontier),s.stateAfter=a?n:la(t.mode,n)}else s.text.length<=e.options.maxHighlightLength&&Pr(e,s.text,n),s.stateAfter=t.frontier%5==0?la(t.mode,n):null;return++t.frontier,+new Date>i?(Lt(e,e.options.workDelay),!0):void 0}),r.length&&Mi(e,function(){for(var t=0;t<r.length;t++)Pi(e,r[t],"text")})}}function jt(e,t,i){for(var n,r,s=e.doc,o=i?-1:t-(e.doc.mode.innerMode?1e3:100),a=t;a>o;--a){if(a<=s.first)return s.first;var l=Qr(s,a-1);if(l.stateAfter&&(!i||a<=s.frontier))return a;var c=Fa(l.text,null,e.options.tabSize);(null==r||n>c)&&(r=a-1,n=c)}return r}function Wt(e,t,i){var n=e.doc,r=e.display;if(!n.mode.startState)return!0;var s=jt(e,t,i),o=s>n.first&&Qr(n,s-1).stateAfter;return o=o?la(n.mode,o):ca(n.mode),n.iter(s,t,function(i){Pr(e,i.text,o);var a=s==t-1||s%5==0||s>=r.viewFrom&&s<r.viewTo;i.stateAfter=a?la(n.mode,o):null,++s}),i&&(n.frontier=s),o}function Bt(e){return e.lineSpace.offsetTop}function Ut(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function qt(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=Us(e.measure,Ws("pre","x")),i=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,n={left:parseInt(i.paddingLeft),right:parseInt(i.paddingRight)};return isNaN(n.left)||isNaN(n.right)||(e.cachedPaddingH=n),n}function Yt(e){return Ha-e.display.nativeBarWidth}function Vt(e){return e.display.scroller.clientWidth-Yt(e)-e.display.barWidth}function Gt(e){return e.display.scroller.clientHeight-Yt(e)-e.display.barHeight}function Kt(e,t,i){var n=e.options.lineWrapping,r=n&&Vt(e);if(!t.measure.heights||n&&t.measure.width!=r){var s=t.measure.heights=[];if(n){t.measure.width=r;for(var o=t.text.firstChild.getClientRects(),a=0;a<o.length-1;a++){var l=o[a],c=o[a+1];Math.abs(l.bottom-c.bottom)>2&&s.push((l.bottom+c.top)/2-i.top)}}s.push(i.bottom-i.top)}}function Xt(e,t,i){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};for(var n=0;n<e.rest.length;n++)if(e.rest[n]==t)return{map:e.measure.maps[n],cache:e.measure.caches[n]};for(var n=0;n<e.rest.length;n++)if(ts(e.rest[n])>i)return{map:e.measure.maps[n],cache:e.measure.caches[n],before:!0}}function Qt(e,t){t=yr(t);var i=ts(t),n=e.display.externalMeasured=new $i(e.doc,t,i);n.lineN=i;var r=n.built=Nr(e,n);return n.text=r.pre,Us(e.display.lineMeasure,r.pre),n}function Zt(e,t,i,n){return ti(e,ei(e,t),i,n)}function Jt(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[Ni(e,t)];var i=e.display.externalMeasured;return i&&t>=i.lineN&&t<i.lineN+i.size?i:void 0}function ei(e,t){var i=ts(t),n=Jt(e,i);n&&!n.text?n=null:n&&n.changes&&(H(e,n,i,$(e)),e.curOp.forceUpdate=!0),n||(n=Qt(e,t));var r=Xt(n,t,i);return{line:t,view:n,rect:null,map:r.map,cache:r.cache,before:r.before,hasHeights:!1}}function ti(e,t,i,n,r){t.before&&(i=-1);var s,o=i+(n||"");return t.cache.hasOwnProperty(o)?s=t.cache[o]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(Kt(e,t.view,t.rect),t.hasHeights=!0),s=ni(e,t,i,n),s.bogus||(t.cache[o]=s)),{left:s.left,right:s.right,top:r?s.rtop:s.top,bottom:r?s.rbottom:s.bottom}}function ii(e,t,i){for(var n,r,s,o,a=0;a<e.length;a+=3){var l=e[a],c=e[a+1];if(l>t?(r=0,s=1,o="left"):c>t?(r=t-l,s=r+1):(a==e.length-3||t==c&&e[a+3]>t)&&(s=c-l,r=s-1,t>=c&&(o="right")),null!=r){if(n=e[a+2],l==c&&i==(n.insertLeft?"left":"right")&&(o=i),"left"==i&&0==r)for(;a&&e[a-2]==e[a-3]&&e[a-1].insertLeft;)n=e[(a-=3)+2],o="left";if("right"==i&&r==c-l)for(;a<e.length-3&&e[a+3]==e[a+4]&&!e[a+5].insertLeft;)n=e[(a+=3)+2],o="right";break}}return{node:n,start:r,end:s,collapse:o,coverStart:l,coverEnd:c}}function ni(e,t,i,n){var r,s=ii(t.map,i,n),o=s.node,a=s.start,l=s.end,c=s.collapse;if(3==o.nodeType){for(var u=0;4>u;u++){for(;a&&js(t.line.text.charAt(s.coverStart+a));)--a;for(;s.coverStart+l<s.coverEnd&&js(t.line.text.charAt(s.coverStart+l));)++l;if(bo&&9>wo&&0==a&&l==s.coverEnd-s.coverStart)r=o.parentNode.getBoundingClientRect();else if(bo&&e.options.lineWrapping){var d=Ua(o,a,l).getClientRects();r=d.length?d["right"==n?d.length-1:0]:Uo}else r=Ua(o,a,l).getBoundingClientRect()||Uo;if(r.left||r.right||0==a)break;l=a,a-=1,c="right"}bo&&11>wo&&(r=ri(e.display.measure,r))}else{a>0&&(c=n="right");var d;r=e.options.lineWrapping&&(d=o.getClientRects()).length>1?d["right"==n?d.length-1:0]:o.getBoundingClientRect()}if(bo&&9>wo&&!a&&(!r||!r.left&&!r.right)){var h=o.parentNode.getClientRects()[0];r=h?{left:h.left,right:h.left+bi(e.display),top:h.top,bottom:h.bottom}:Uo}for(var f=r.top-t.rect.top,p=r.bottom-t.rect.top,g=(f+p)/2,m=t.view.measure.heights,u=0;u<m.length-1&&!(g<m[u]);u++);var v=u?m[u-1]:0,y=m[u],b={left:("right"==c?r.right:r.left)-t.rect.left,right:("left"==c?r.left:r.right)-t.rect.left,top:v,bottom:y};return r.left||r.right||(b.bogus=!0),e.options.singleCursorHeightPerLine||(b.rtop=f,b.rbottom=p),b}function ri(e,t){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!Js(e))return t;var i=screen.logicalXDPI/screen.deviceXDPI,n=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*i,right:t.right*i,top:t.top*n,bottom:t.bottom*n}}function si(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function oi(e){e.display.externalMeasure=null,Bs(e.display.lineMeasure);for(var t=0;t<e.display.view.length;t++)si(e.display.view[t])}function ai(e){oi(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function li(){return window.pageXOffset||(document.documentElement||document.body).scrollLeft}function ci(){return window.pageYOffset||(document.documentElement||document.body).scrollTop}function ui(e,t,i,n){if(t.widgets)for(var r=0;r<t.widgets.length;++r)if(t.widgets[r].above){var s=Tr(t.widgets[r]);i.top+=s,i.bottom+=s}if("line"==n)return i;n||(n="local");var o=ns(t);if("local"==n?o+=Bt(e.display):o-=e.display.viewOffset,"page"==n||"window"==n){var a=e.display.lineSpace.getBoundingClientRect();o+=a.top+("window"==n?0:ci());var l=a.left+("window"==n?0:li());i.left+=l,i.right+=l}return i.top+=o,i.bottom+=o,i}function di(e,t,i){if("div"==i)return t;var n=t.left,r=t.top;if("page"==i)n-=li(),r-=ci();else if("local"==i||!i){var s=e.display.sizer.getBoundingClientRect();n+=s.left,r+=s.top}var o=e.display.lineSpace.getBoundingClientRect();return{left:n-o.left,top:r-o.top}}function hi(e,t,i,n,r){return n||(n=Qr(e.doc,t.line)),ui(e,n,Zt(e,n,t.ch,r),i)}function fi(e,t,i,n,r,s){function o(t,o){var a=ti(e,r,t,o?"right":"left",s);return o?a.left=a.right:a.right=a.left,ui(e,n,a,i)}function a(e,t){var i=l[t],n=i.level%2;return e==to(i)&&t&&i.level<l[t-1].level?(i=l[--t],e=io(i)-(i.level%2?0:1),n=!0):e==io(i)&&t<l.length-1&&i.level<l[t+1].level&&(i=l[++t],e=to(i)-i.level%2,n=!1),n&&e==i.to&&e>i.from?o(e-1):o(e,n)}n=n||Qr(e.doc,t.line),r||(r=ei(e,n));var l=rs(n),c=t.ch;if(!l)return o(c);var u=co(l,c),d=a(c,u);return null!=ol&&(d.other=a(c,ol)),d}function pi(e,t){var i=0,t=gt(e.doc,t);e.options.lineWrapping||(i=bi(e.display)*t.ch);var n=Qr(e.doc,t.line),r=ns(n)+Bt(e.display);return{left:i,right:i,top:r,bottom:r+n.height}}function gi(e,t,i,n){var r=No(e,t);return r.xRel=n,i&&(r.outside=!0),r}function mi(e,t,i){var n=e.doc;if(i+=e.display.viewOffset,0>i)return gi(n.first,0,!0,-1);var r=is(n,i),s=n.first+n.size-1;if(r>s)return gi(n.first+n.size-1,Qr(n,s).text.length,!0,1);0>t&&(t=0);for(var o=Qr(n,r);;){var a=vi(e,o,r,t,i),l=mr(o),c=l&&l.find(0,!0);if(!l||!(a.ch>c.from.ch||a.ch==c.from.ch&&a.xRel>0))return a;r=ts(o=c.to.line)}}function vi(e,t,i,n,r){function s(n){var r=fi(e,No(i,n),"line",t,c);return a=!0,o>r.bottom?r.left-l:o<r.top?r.left+l:(a=!1,r.left)}var o=r-ns(t),a=!1,l=2*e.display.wrapper.clientWidth,c=ei(e,t),u=rs(t),d=t.text.length,h=no(t),f=ro(t),p=s(h),g=a,m=s(f),v=a;if(n>m)return gi(i,f,v,1);for(;;){if(u?f==h||f==ho(t,h,1):1>=f-h){var y=p>n||m-n>=n-p?h:f,b=y==h?g:v,w=n-(y==h?p:m);if(v&&!u&&!/\s/.test(t.text.charAt(y))&&w>0&&y<t.text.length&&c.view.measure.heights.length>1){var x=ti(e,c,y,"right");o<=x.bottom&&o>=x.top&&Math.abs(n-x.right)<w&&(b=!1,y++,w=n-x.right)}for(;js(t.text.charAt(y));)++y;var k=gi(i,y,b,-1>w?-1:w>1?1:0);return k}var _=Math.ceil(d/2),C=h+_;if(u){C=h;for(var T=0;_>T;++T)C=ho(t,C,1)}var S=s(C);S>n?(f=C,m=S,(v=a)&&(m+=1e3),d=_):(h=C,p=S,g=a,d-=_)}}function yi(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==jo){jo=Ws("pre");for(var t=0;49>t;++t)jo.appendChild(document.createTextNode("x")),jo.appendChild(Ws("br"));jo.appendChild(document.createTextNode("x"))}Us(e.measure,jo);var i=jo.offsetHeight/50;return i>3&&(e.cachedTextHeight=i),Bs(e.measure),i||1}function bi(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=Ws("span","xxxxxxxxxx"),i=Ws("pre",[t]);Us(e.measure,i);var n=t.getBoundingClientRect(),r=(n.right-n.left)/10;return r>2&&(e.cachedCharWidth=r),r||10}function wi(e){e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:null,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Yo},qo?qo.ops.push(e.curOp):e.curOp.ownsGroup=qo={ops:[e.curOp],delayedCallbacks:[]}}function xi(e){var t=e.delayedCallbacks,i=0;do{for(;i<t.length;i++)t[i].call(null);for(var n=0;n<e.ops.length;n++){var r=e.ops[n];if(r.cursorActivityHandlers)for(;r.cursorActivityCalled<r.cursorActivityHandlers.length;)r.cursorActivityHandlers[r.cursorActivityCalled++].call(null,r.cm)}}while(i<t.length)}function ki(e){var t=e.curOp,i=t.ownsGroup;if(i)try{xi(i)}finally{qo=null;for(var n=0;n<i.ops.length;n++)i.ops[n].cm.curOp=null;_i(i)}}function _i(e){for(var t=e.ops,i=0;i<t.length;i++)Ci(t[i]);for(var i=0;i<t.length;i++)Ti(t[i]);for(var i=0;i<t.length;i++)Si(t[i]);for(var i=0;i<t.length;i++)Di(t[i]);for(var i=0;i<t.length;i++)Ei(t[i])}function Ci(e){var t=e.cm,i=t.display;S(t),e.updateMaxLine&&h(t),e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<i.viewFrom||e.scrollToPos.to.line>=i.viewTo)||i.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new T(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function Ti(e){e.updatedDisplay=e.mustUpdate&&D(e.cm,e.update)}function Si(e){var t=e.cm,i=t.display;e.updatedDisplay&&I(t),e.barMeasure=p(t),i.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=Zt(t,i.maxLine,i.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(i.scroller.clientWidth,i.sizer.offsetLeft+e.adjustWidthTo+Yt(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,i.sizer.offsetLeft+e.adjustWidthTo-Vt(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=i.input.prepareSelection(e.focus))}function Di(e){var t=e.cm;null!=e.adjustWidthTo&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&sn(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1);var i=e.focus&&e.focus==qs()&&(!document.hasFocus||document.hasFocus());e.preparedSelection&&t.display.input.showSelection(e.preparedSelection,i),(e.updatedDisplay||e.startHeight!=t.doc.height)&&y(t,e.barMeasure),e.updatedDisplay&&A(t,e.barMeasure),e.selectionChanged&&Nt(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),i&&X(e.cm)}function Ei(e){var t=e.cm,i=t.display,n=t.doc;if(e.updatedDisplay&&E(t,e.update),null==i.wheelStartX||null==e.scrollTop&&null==e.scrollLeft&&!e.scrollToPos||(i.wheelStartX=i.wheelStartY=null),null==e.scrollTop||i.scroller.scrollTop==e.scrollTop&&!e.forceScroll||(n.scrollTop=Math.max(0,Math.min(i.scroller.scrollHeight-i.scroller.clientHeight,e.scrollTop)),i.scrollbars.setScrollTop(n.scrollTop),i.scroller.scrollTop=n.scrollTop),null==e.scrollLeft||i.scroller.scrollLeft==e.scrollLeft&&!e.forceScroll||(n.scrollLeft=Math.max(0,Math.min(i.scroller.scrollWidth-i.scroller.clientWidth,e.scrollLeft)),i.scrollbars.setScrollLeft(n.scrollLeft),i.scroller.scrollLeft=n.scrollLeft,x(t)),e.scrollToPos){var r=Rn(t,gt(n,e.scrollToPos.from),gt(n,e.scrollToPos.to),e.scrollToPos.margin);e.scrollToPos.isCursor&&t.state.focused&&$n(t,r)}var s=e.maybeHiddenMarkers,o=e.maybeUnhiddenMarkers;if(s)for(var a=0;a<s.length;++a)s[a].lines.length||$a(s[a],"hide");if(o)for(var a=0;a<o.length;++a)o[a].lines.length&&$a(o[a],"unhide");i.wrapper.offsetHeight&&(n.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&$a(t,"changes",t,e.changeObjs),e.update&&e.update.finish()}function Mi(e,t){if(e.curOp)return t();wi(e);try{return t()}finally{ki(e)}}function Ai(e,t){return function(){if(e.curOp)return t.apply(e,arguments);wi(e);try{return t.apply(e,arguments)}finally{ki(e)}}}function Ii(e){return function(){if(this.curOp)return e.apply(this,arguments);wi(this);try{return e.apply(this,arguments)}finally{ki(this)}}}function Oi(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);wi(t);try{return e.apply(this,arguments)}finally{ki(t)}}}function $i(e,t,i){this.line=t,this.rest=br(t),this.size=this.rest?ts(Os(this.rest))-i+1:1,this.node=this.text=null,this.hidden=kr(e,t)}function Ri(e,t,i){for(var n,r=[],s=t;i>s;s=n){var o=new $i(e.doc,Qr(e.doc,s),s);n=s+o.size,r.push(o)}return r}function Hi(e,t,i,n){null==t&&(t=e.doc.first),null==i&&(i=e.doc.first+e.doc.size),n||(n=0);var r=e.display;if(n&&i<r.viewTo&&(null==r.updateLineNumbers||r.updateLineNumbers>t)&&(r.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=r.viewTo)zo&&wr(e.doc,t)<r.viewTo&&zi(e);else if(i<=r.viewFrom)zo&&xr(e.doc,i+n)>r.viewFrom?zi(e):(r.viewFrom+=n,r.viewTo+=n);else if(t<=r.viewFrom&&i>=r.viewTo)zi(e);else if(t<=r.viewFrom){var s=Li(e,i,i+n,1);s?(r.view=r.view.slice(s.index),r.viewFrom=s.lineN,r.viewTo+=n):zi(e)}else if(i>=r.viewTo){var s=Li(e,t,t,-1);s?(r.view=r.view.slice(0,s.index),r.viewTo=s.lineN):zi(e)}else{var o=Li(e,t,t,-1),a=Li(e,i,i+n,1);o&&a?(r.view=r.view.slice(0,o.index).concat(Ri(e,o.lineN,a.lineN)).concat(r.view.slice(a.index)),r.viewTo+=n):zi(e)}var l=r.externalMeasured;l&&(i<l.lineN?l.lineN+=n:t<l.lineN+l.size&&(r.externalMeasured=null))}function Pi(e,t,i){e.curOp.viewChanged=!0;var n=e.display,r=e.display.externalMeasured;if(r&&t>=r.lineN&&t<r.lineN+r.size&&(n.externalMeasured=null),!(t<n.viewFrom||t>=n.viewTo)){var s=n.view[Ni(e,t)];if(null!=s.node){var o=s.changes||(s.changes=[]);-1==$s(o,i)&&o.push(i)}}}function zi(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function Ni(e,t){if(t>=e.display.viewTo)return null;if(t-=e.display.viewFrom,0>t)return null;for(var i=e.display.view,n=0;n<i.length;n++)if(t-=i[n].size,0>t)return n}function Li(e,t,i,n){var r,s=Ni(e,t),o=e.display.view;if(!zo||i==e.doc.first+e.doc.size)return{index:s,lineN:i};for(var a=0,l=e.display.viewFrom;s>a;a++)l+=o[a].size;if(l!=t){if(n>0){if(s==o.length-1)return null;r=l+o[s].size-t,s++}else r=l-t;t+=r,i+=r}for(;wr(e.doc,i)!=i;){if(s==(0>n?0:o.length-1))return null;i+=n*o[s-(0>n?1:0)].size,s+=n}return{index:s,lineN:i}}function Fi(e,t,i){var n=e.display,r=n.view;0==r.length||t>=n.viewTo||i<=n.viewFrom?(n.view=Ri(e,t,i),n.viewFrom=t):(n.viewFrom>t?n.view=Ri(e,t,n.viewFrom).concat(n.view):n.viewFrom<t&&(n.view=n.view.slice(Ni(e,t))),n.viewFrom=t,n.viewTo<i?n.view=n.view.concat(Ri(e,n.viewTo,i)):n.viewTo>i&&(n.view=n.view.slice(0,Ni(e,i)))),n.viewTo=i}function ji(e){for(var t=e.display.view,i=0,n=0;n<t.length;n++){var r=t[n];r.hidden||r.node&&!r.changes||++i}return i}function Wi(e){function t(){r.activeTouch&&(s=setTimeout(function(){r.activeTouch=null},1e3),o=r.activeTouch,o.end=+new Date)}function i(e){if(1!=e.touches.length)return!1;var t=e.touches[0];return t.radiusX<=1&&t.radiusY<=1}function n(e,t){if(null==t.left)return!0;var i=t.left-e.left,n=t.top-e.top;return i*i+n*n>400}var r=e.display;Aa(r.scroller,"mousedown",Ai(e,Vi)),bo&&11>wo?Aa(r.scroller,"dblclick",Ai(e,function(t){if(!Ss(e,t)){var i=Yi(e,t);if(i&&!Zi(e,t)&&!qi(e.display,t)){Da(t);var n=e.findWordAt(i);wt(e.doc,n.anchor,n.head)}}})):Aa(r.scroller,"dblclick",function(t){Ss(e,t)||Da(t)}),Ho||Aa(r.scroller,"contextmenu",function(t){bn(e,t)});var s,o={end:0};Aa(r.scroller,"touchstart",function(t){if(!Ss(e,t)&&!i(t)){clearTimeout(s);var n=+new Date;r.activeTouch={start:n,moved:!1,prev:n-o.end<=300?o:null},1==t.touches.length&&(r.activeTouch.left=t.touches[0].pageX,r.activeTouch.top=t.touches[0].pageY)}}),Aa(r.scroller,"touchmove",function(){r.activeTouch&&(r.activeTouch.moved=!0)}),Aa(r.scroller,"touchend",function(i){var s=r.activeTouch;if(s&&!qi(r,i)&&null!=s.left&&!s.moved&&new Date-s.start<300){var o,a=e.coordsChar(r.activeTouch,"page");o=!s.prev||n(s,s.prev)?new dt(a,a):!s.prev.prev||n(s,s.prev.prev)?e.findWordAt(a):new dt(No(a.line,0),gt(e.doc,No(a.line+1,0))),e.setSelection(o.anchor,o.head),e.focus(),Da(i)}t()}),Aa(r.scroller,"touchcancel",t),Aa(r.scroller,"scroll",function(){r.scroller.clientHeight&&(rn(e,r.scroller.scrollTop),sn(e,r.scroller.scrollLeft,!0),$a(e,"scroll",e))}),Aa(r.scroller,"mousewheel",function(t){on(e,t)}),Aa(r.scroller,"DOMMouseScroll",function(t){on(e,t)}),Aa(r.wrapper,"scroll",function(){r.wrapper.scrollTop=r.wrapper.scrollLeft=0}),r.dragFunctions={enter:function(t){Ss(e,t)||Ma(t)},over:function(t){Ss(e,t)||(tn(e,t),Ma(t))},start:function(t){en(e,t)},drop:Ai(e,Ji),leave:function(t){Ss(e,t)||nn(e)}};var a=r.input.getField();Aa(a,"keyup",function(t){pn.call(e,t)}),Aa(a,"keydown",Ai(e,hn)),Aa(a,"keypress",Ai(e,gn)),Aa(a,"focus",Ns(vn,e)),Aa(a,"blur",Ns(yn,e))}function Bi(t,i,n){var r=n&&n!=e.Init;if(!i!=!r){var s=t.display.dragFunctions,o=i?Aa:Oa;o(t.display.scroller,"dragstart",s.start),o(t.display.scroller,"dragenter",s.enter),o(t.display.scroller,"dragover",s.over),o(t.display.scroller,"dragleave",s.leave),o(t.display.scroller,"drop",s.drop)}}function Ui(e){var t=e.display;(t.lastWrapHeight!=t.wrapper.clientHeight||t.lastWrapWidth!=t.wrapper.clientWidth)&&(t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize())}function qi(e,t){for(var i=xs(t);i!=e.wrapper;i=i.parentNode)if(!i||1==i.nodeType&&"true"==i.getAttribute("cm-ignore-events")||i.parentNode==e.sizer&&i!=e.mover)return!0}function Yi(e,t,i,n){var r=e.display;if(!i&&"true"==xs(t).getAttribute("cm-not-content"))return null;var s,o,a=r.lineSpace.getBoundingClientRect();try{s=t.clientX-a.left,o=t.clientY-a.top}catch(t){return null}var l,c=mi(e,s,o);if(n&&1==c.xRel&&(l=Qr(e.doc,c.line).text).length==c.ch){var u=Fa(l,l.length,e.options.tabSize)-l.length;c=No(c.line,Math.max(0,Math.round((s-qt(e.display).left)/bi(e.display))-u))}return c}function Vi(e){var t=this,i=t.display;if(!(Ss(t,e)||i.activeTouch&&i.input.supportsTouch())){if(i.shift=e.shiftKey,qi(i,e))return void(xo||(i.scroller.draggable=!1,setTimeout(function(){i.scroller.draggable=!0},100)));if(!Zi(t,e)){var n=Yi(t,e);switch(window.focus(),ks(e)){case 1:t.state.selectingText?t.state.selectingText(e):n?Gi(t,e,n):xs(e)==i.scroller&&Da(e);break;case 2:xo&&(t.state.lastMiddleDown=+new Date),n&&wt(t.doc,n),setTimeout(function(){i.input.focus()},20),Da(e);break;case 3:Ho?bn(t,e):mn(t)}}}}function Gi(e,t,i){bo?setTimeout(Ns(X,e),0):e.curOp.focus=qs();var n,r=+new Date;Bo&&Bo.time>r-400&&0==Lo(Bo.pos,i)?n="triple":Wo&&Wo.time>r-400&&0==Lo(Wo.pos,i)?(n="double",Bo={time:r,pos:i}):(n="single",Wo={time:r,pos:i});var s,o=e.doc.sel,a=Ao?t.metaKey:t.ctrlKey;e.options.dragDrop&&el&&!e.isReadOnly()&&"single"==n&&(s=o.contains(i))>-1&&(Lo((s=o.ranges[s]).from(),i)<0||i.xRel>0)&&(Lo(s.to(),i)>0||i.xRel<0)?Ki(e,t,i,a):Xi(e,t,i,n,a)}function Ki(e,t,i,n){var r=e.display,s=+new Date,o=Ai(e,function(a){xo&&(r.scroller.draggable=!1),e.state.draggingText=!1,Oa(document,"mouseup",o),Oa(r.scroller,"drop",o),Math.abs(t.clientX-a.clientX)+Math.abs(t.clientY-a.clientY)<10&&(Da(a),!n&&+new Date-200<s&&wt(e.doc,i),xo||bo&&9==wo?setTimeout(function(){document.body.focus(),r.input.focus()},20):r.input.focus())});xo&&(r.scroller.draggable=!0),e.state.draggingText=o,o.copy=Ao?t.altKey:t.ctrlKey,r.scroller.dragDrop&&r.scroller.dragDrop(),Aa(document,"mouseup",o),Aa(r.scroller,"drop",o)}function Xi(e,t,i,n,r){function s(t){if(0!=Lo(m,t))if(m=t,"rect"==n){for(var r=[],s=e.options.tabSize,o=Fa(Qr(c,i.line).text,i.ch,s),a=Fa(Qr(c,t.line).text,t.ch,s),l=Math.min(o,a),f=Math.max(o,a),p=Math.min(i.line,t.line),g=Math.min(e.lastLine(),Math.max(i.line,t.line));g>=p;p++){var v=Qr(c,p).text,y=ja(v,l,s);l==f?r.push(new dt(No(p,y),No(p,y))):v.length>y&&r.push(new dt(No(p,y),No(p,ja(v,f,s))))}r.length||r.push(new dt(i,i)),St(c,ht(h.ranges.slice(0,d).concat(r),d),{origin:"*mouse",scroll:!1}),e.scrollIntoView(t)}else{var b=u,w=b.anchor,x=t;if("single"!=n){if("double"==n)var k=e.findWordAt(t);else var k=new dt(No(t.line,0),gt(c,No(t.line+1,0)));Lo(k.anchor,w)>0?(x=k.head,w=K(b.from(),k.anchor)):(x=k.anchor,w=G(b.to(),k.head))}var r=h.ranges.slice(0);r[d]=new dt(gt(c,w),x),St(c,ht(r,d),Na)}}function o(t){var i=++y,r=Yi(e,t,!0,"rect"==n);if(r)if(0!=Lo(r,m)){e.curOp.focus=qs(),s(r);var a=w(l,c);(r.line>=a.to||r.line<a.from)&&setTimeout(Ai(e,function(){y==i&&o(t)}),150)}else{var u=t.clientY<v.top?-20:t.clientY>v.bottom?20:0;u&&setTimeout(Ai(e,function(){y==i&&(l.scroller.scrollTop+=u,o(t))}),50)}}function a(t){e.state.selectingText=!1,y=1/0,Da(t),l.input.focus(),Oa(document,"mousemove",b),Oa(document,"mouseup",x),c.history.lastSelOrigin=null}var l=e.display,c=e.doc;Da(t);var u,d,h=c.sel,f=h.ranges;if(r&&!t.shiftKey?(d=c.sel.contains(i),u=d>-1?f[d]:new dt(i,i)):(u=c.sel.primary(),d=c.sel.primIndex),Io?t.shiftKey&&t.metaKey:t.altKey)n="rect",r||(u=new dt(i,i)),i=Yi(e,t,!0,!0),d=-1;else if("double"==n){var p=e.findWordAt(i);u=e.display.shift||c.extend?bt(c,u,p.anchor,p.head):p}else if("triple"==n){var g=new dt(No(i.line,0),gt(c,No(i.line+1,0)));u=e.display.shift||c.extend?bt(c,u,g.anchor,g.head):g}else u=bt(c,u,i);r?-1==d?(d=f.length,St(c,ht(f.concat([u]),d),{scroll:!1,origin:"*mouse"})):f.length>1&&f[d].empty()&&"single"==n&&!t.shiftKey?(St(c,ht(f.slice(0,d).concat(f.slice(d+1)),0),{scroll:!1,origin:"*mouse"}),h=c.sel):kt(c,d,u,Na):(d=0,St(c,new ut([u],0),Na),h=c.sel);var m=i,v=l.wrapper.getBoundingClientRect(),y=0,b=Ai(e,function(e){ks(e)?o(e):a(e)}),x=Ai(e,a);e.state.selectingText=x,Aa(document,"mousemove",b),Aa(document,"mouseup",x)}function Qi(e,t,i,n){try{var r=t.clientX,s=t.clientY}catch(t){return!1}if(r>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;n&&Da(t);var o=e.display,a=o.lineDiv.getBoundingClientRect();if(s>a.bottom||!Es(e,i))return ws(t);s-=a.top-o.viewOffset;for(var l=0;l<e.options.gutters.length;++l){var c=o.gutters.childNodes[l];if(c&&c.getBoundingClientRect().right>=r){var u=is(e.doc,s),d=e.options.gutters[l];return $a(e,i,e,u,d,t),ws(t)}}}function Zi(e,t){return Qi(e,t,"gutterClick",!0)}function Ji(e){var t=this;if(nn(t),!Ss(t,e)&&!qi(t.display,e)){Da(e),bo&&(Vo=+new Date);var i=Yi(t,e,!0),n=e.dataTransfer.files;if(i&&!t.isReadOnly())if(n&&n.length&&window.FileReader&&window.File)for(var r=n.length,s=Array(r),o=0,a=function(e,n){if(!t.options.allowDropFileTypes||-1!=$s(t.options.allowDropFileTypes,e.type)){var a=new FileReader;a.onload=Ai(t,function(){var e=a.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(e)&&(e=""),s[n]=e,++o==r){i=gt(t.doc,i);var l={from:i,to:i,text:t.doc.splitLines(s.join(t.doc.lineSeparator())),origin:"paste"};Sn(t.doc,l),Tt(t.doc,ft(i,Jo(l)))}}),a.readAsText(e)}},l=0;r>l;++l)a(n[l],l);else{if(t.state.draggingText&&t.doc.sel.contains(i)>-1)return t.state.draggingText(e),void setTimeout(function(){t.display.input.focus()},20);try{var s=e.dataTransfer.getData("Text");if(s){if(t.state.draggingText&&!t.state.draggingText.copy)var c=t.listSelections();if(Dt(t.doc,ft(i,i)),c)for(var l=0;l<c.length;++l)On(t.doc,"",c[l].anchor,c[l].head,"drag");t.replaceSelection(s,"around","paste"),t.display.input.focus()}}catch(e){}}}}function en(e,t){if(bo&&(!e.state.draggingText||+new Date-Vo<100))return void Ma(t);if(!Ss(e,t)&&!qi(e.display,t)&&(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.effectAllowed="copyMove",t.dataTransfer.setDragImage&&!To)){var i=Ws("img",null,null,"position: fixed; left: 0; top: 0;");i.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",Co&&(i.width=i.height=1,e.display.wrapper.appendChild(i),i._top=i.offsetTop),t.dataTransfer.setDragImage(i,0,0),Co&&i.parentNode.removeChild(i)}}function tn(e,t){var i=Yi(e,t);if(i){var n=document.createDocumentFragment();Pt(e,i,n),e.display.dragCursor||(e.display.dragCursor=Ws("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)),Us(e.display.dragCursor,n)}}function nn(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function rn(e,t){Math.abs(e.doc.scrollTop-t)<2||(e.doc.scrollTop=t,mo||M(e,{top:t}),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t),e.display.scrollbars.setScrollTop(t),mo&&M(e),Lt(e,100))}function sn(e,t,i){(i?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)||(t=Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth),e.doc.scrollLeft=t,x(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function on(e,t){var i=Xo(t),n=i.x,r=i.y,s=e.display,o=s.scroller,a=o.scrollWidth>o.clientWidth,l=o.scrollHeight>o.clientHeight;if(n&&a||r&&l){if(r&&Ao&&xo)e:for(var c=t.target,u=s.view;c!=o;c=c.parentNode)for(var d=0;d<u.length;d++)if(u[d].node==c){e.display.currentWheelTarget=c;break e}if(n&&!mo&&!Co&&null!=Ko)return r&&l&&rn(e,Math.max(0,Math.min(o.scrollTop+r*Ko,o.scrollHeight-o.clientHeight))),sn(e,Math.max(0,Math.min(o.scrollLeft+n*Ko,o.scrollWidth-o.clientWidth))),(!r||r&&l)&&Da(t),void(s.wheelStartX=null);if(r&&null!=Ko){var h=r*Ko,f=e.doc.scrollTop,p=f+s.wrapper.clientHeight;0>h?f=Math.max(0,f+h-50):p=Math.min(e.doc.height,p+h+50),M(e,{top:f,bottom:p})}20>Go&&(null==s.wheelStartX?(s.wheelStartX=o.scrollLeft,s.wheelStartY=o.scrollTop,s.wheelDX=n,s.wheelDY=r,setTimeout(function(){if(null!=s.wheelStartX){var e=o.scrollLeft-s.wheelStartX,t=o.scrollTop-s.wheelStartY,i=t&&s.wheelDY&&t/s.wheelDY||e&&s.wheelDX&&e/s.wheelDX;s.wheelStartX=s.wheelStartY=null,i&&(Ko=(Ko*Go+i)/(Go+1),++Go)}},200)):(s.wheelDX+=n,s.wheelDY+=r))}}function an(e,t,i){if("string"==typeof t&&(t=ua[t],!t))return!1;e.display.input.ensurePolled();var n=e.display.shift,r=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),i&&(e.display.shift=!1),r=t(e)!=Pa}finally{e.display.shift=n,e.state.suppressEdits=!1}return r}function ln(e,t,i){for(var n=0;n<e.state.keyMaps.length;n++){var r=ha(t,e.state.keyMaps[n],i,e);if(r)return r}return e.options.extraKeys&&ha(t,e.options.extraKeys,i,e)||ha(t,e.options.keyMap,i,e)}function cn(e,t,i,n){var r=e.state.keySeq;if(r){if(fa(t))return"handled";Qo.set(50,function(){e.state.keySeq==r&&(e.state.keySeq=null,e.display.input.reset())}),t=r+" "+t}var s=ln(e,t,n);return"multi"==s&&(e.state.keySeq=t),"handled"==s&&Cs(e,"keyHandled",e,t,i),("handled"==s||"multi"==s)&&(Da(i),Nt(e)),r&&!s&&/\'$/.test(t)?(Da(i),!0):!!s}function un(e,t){var i=pa(t,!0);return i?t.shiftKey&&!e.state.keySeq?cn(e,"Shift-"+i,t,function(t){return an(e,t,!0)})||cn(e,i,t,function(t){return("string"==typeof t?/^go[A-Z]/.test(t):t.motion)?an(e,t):void 0}):cn(e,i,t,function(t){return an(e,t)}):!1}function dn(e,t,i){return cn(e,"'"+i+"'",t,function(t){return an(e,t,!0)})}function hn(e){var t=this;if(t.curOp.focus=qs(),!Ss(t,e)){bo&&11>wo&&27==e.keyCode&&(e.returnValue=!1);var i=e.keyCode;t.display.shift=16==i||e.shiftKey;var n=un(t,e);Co&&(Zo=n?i:null,!n&&88==i&&!nl&&(Ao?e.metaKey:e.ctrlKey)&&t.replaceSelection("",null,"cut")),18!=i||/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)||fn(t)}}function fn(e){function t(e){18!=e.keyCode&&e.altKey||(Qa(i,"CodeMirror-crosshair"),Oa(document,"keyup",t),Oa(document,"mouseover",t))}var i=e.display.lineDiv;Za(i,"CodeMirror-crosshair"),Aa(document,"keyup",t),Aa(document,"mouseover",t)}function pn(e){16==e.keyCode&&(this.doc.sel.shift=!1),Ss(this,e)}function gn(e){var t=this;if(!(qi(t.display,e)||Ss(t,e)||e.ctrlKey&&!e.altKey||Ao&&e.metaKey)){var i=e.keyCode,n=e.charCode;if(Co&&i==Zo)return Zo=null,void Da(e);if(!Co||e.which&&!(e.which<10)||!un(t,e)){var r=String.fromCharCode(null==n?i:n);dn(t,e,r)||t.display.input.onKeyPress(e)}}}function mn(e){e.state.delayingBlurEvent=!0,setTimeout(function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,yn(e))},100)}function vn(e){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1),"nocursor"!=e.options.readOnly&&(e.state.focused||($a(e,"focus",e),e.state.focused=!0,Za(e.display.wrapper,"CodeMirror-focused"),e.curOp||e.display.selForContextMenu==e.doc.sel||(e.display.input.reset(),xo&&setTimeout(function(){e.display.input.reset(!0)},20)),e.display.input.receivedFocus()),Nt(e))}function yn(e){e.state.delayingBlurEvent||(e.state.focused&&($a(e,"blur",e),e.state.focused=!1,Qa(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout(function(){e.state.focused||(e.display.shift=!1)},150))}function bn(e,t){qi(e.display,t)||wn(e,t)||Ss(e,t,"contextmenu")||e.display.input.onContextMenu(t)}function wn(e,t){return Es(e,"gutterContextMenu")?Qi(e,t,"gutterContextMenu",!1):!1}function xn(e,t){if(Lo(e,t.from)<0)return e;if(Lo(e,t.to)<=0)return Jo(t);var i=e.line+t.text.length-(t.to.line-t.from.line)-1,n=e.ch;return e.line==t.to.line&&(n+=Jo(t).ch-t.to.ch),No(i,n)}function kn(e,t){for(var i=[],n=0;n<e.sel.ranges.length;n++){var r=e.sel.ranges[n];i.push(new dt(xn(r.anchor,t),xn(r.head,t)))}return ht(i,e.sel.primIndex)}function _n(e,t,i){return e.line==t.line?No(i.line,e.ch-t.ch+i.ch):No(i.line+(e.line-t.line),e.ch)}function Cn(e,t,i){for(var n=[],r=No(e.first,0),s=r,o=0;o<t.length;o++){var a=t[o],l=_n(a.from,r,s),c=_n(Jo(a),r,s);if(r=a.to,s=c,"around"==i){var u=e.sel.ranges[o],d=Lo(u.head,u.anchor)<0;n[o]=new dt(d?c:l,d?l:c)}else n[o]=new dt(l,l)}return new ut(n,e.sel.primIndex)}function Tn(e,t,i){var n={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){this.canceled=!0}};return i&&(n.update=function(t,i,n,r){t&&(this.from=gt(e,t)),i&&(this.to=gt(e,i)),n&&(this.text=n),void 0!==r&&(this.origin=r)}),$a(e,"beforeChange",e,n),e.cm&&$a(e.cm,"beforeChange",e.cm,n),n.canceled?null:{from:n.from,to:n.to,text:n.text,origin:n.origin}}function Sn(e,t,i){if(e.cm){if(!e.cm.curOp)return Ai(e.cm,Sn)(e,t,i);if(e.cm.state.suppressEdits)return}if(!(Es(e,"beforeChange")||e.cm&&Es(e.cm,"beforeChange"))||(t=Tn(e,t,!0))){var n=Po&&!i&&lr(e,t.from,t.to);if(n)for(var r=n.length-1;r>=0;--r)Dn(e,{from:n[r].from,to:n[r].to,text:r?[""]:t.text});else Dn(e,t)}}function Dn(e,t){if(1!=t.text.length||""!=t.text[0]||0!=Lo(t.from,t.to)){var i=kn(e,t);cs(e,t,i,e.cm?e.cm.curOp.id:0/0),An(e,t,i,sr(e,t));var n=[];Kr(e,function(e,i){i||-1!=$s(n,e.history)||(bs(e.history,t),n.push(e.history)),An(e,t,null,sr(e,t))})}}function En(e,t,i){if(!e.cm||!e.cm.state.suppressEdits){for(var n,r=e.history,s=e.sel,o="undo"==t?r.done:r.undone,a="undo"==t?r.undone:r.done,l=0;l<o.length&&(n=o[l],i?!n.ranges||n.equals(e.sel):n.ranges);l++);if(l!=o.length){for(r.lastOrigin=r.lastSelOrigin=null;n=o.pop(),n.ranges;){if(hs(n,a),i&&!n.equals(e.sel))return void St(e,n,{clearRedo:!1});s=n}var c=[];hs(s,a),a.push({changes:c,generation:r.generation}),r.generation=n.generation||++r.maxGeneration;for(var u=Es(e,"beforeChange")||e.cm&&Es(e.cm,"beforeChange"),l=n.changes.length-1;l>=0;--l){var d=n.changes[l];if(d.origin=t,u&&!Tn(e,d,!1))return void(o.length=0);c.push(os(e,d));var h=l?kn(e,d):Os(o);An(e,d,h,ar(e,d)),!l&&e.cm&&e.cm.scrollIntoView({from:d.from,to:Jo(d)});var f=[];Kr(e,function(e,t){t||-1!=$s(f,e.history)||(bs(e.history,d),f.push(e.history)),An(e,d,null,ar(e,d))})}}}}function Mn(e,t){if(0!=t&&(e.first+=t,e.sel=new ut(Rs(e.sel.ranges,function(e){return new dt(No(e.anchor.line+t,e.anchor.ch),No(e.head.line+t,e.head.ch))}),e.sel.primIndex),e.cm)){Hi(e.cm,e.first,e.first-t,t);for(var i=e.cm.display,n=i.viewFrom;n<i.viewTo;n++)Pi(e.cm,n,"gutter")}}function An(e,t,i,n){if(e.cm&&!e.cm.curOp)return Ai(e.cm,An)(e,t,i,n);if(t.to.line<e.first)return void Mn(e,t.text.length-1-(t.to.line-t.from.line));if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var r=t.text.length-1-(e.first-t.from.line);
Mn(e,r),t={from:No(e.first,0),to:No(t.to.line+r,t.to.ch),text:[Os(t.text)],origin:t.origin}}var s=e.lastLine();t.to.line>s&&(t={from:t.from,to:No(s,Qr(e,s).text.length),text:[t.text[0]],origin:t.origin}),t.removed=Zr(e,t.from,t.to),i||(i=kn(e,t)),e.cm?In(e.cm,t,n):Yr(e,t,n),Dt(e,i,za)}}function In(e,t,i){var n=e.doc,r=e.display,o=t.from,a=t.to,l=!1,c=o.line;e.options.lineWrapping||(c=ts(yr(Qr(n,o.line))),n.iter(c,a.line+1,function(e){return e==r.maxLine?(l=!0,!0):void 0})),n.sel.contains(t.from,t.to)>-1&&Ds(e),Yr(n,t,i,s(e)),e.options.lineWrapping||(n.iter(c,o.line+t.text.length,function(e){var t=d(e);t>r.maxLineLength&&(r.maxLine=e,r.maxLineLength=t,r.maxLineChanged=!0,l=!1)}),l&&(e.curOp.updateMaxLine=!0)),n.frontier=Math.min(n.frontier,o.line),Lt(e,400);var u=t.text.length-(a.line-o.line)-1;t.full?Hi(e):o.line!=a.line||1!=t.text.length||qr(e.doc,t)?Hi(e,o.line,a.line+1,u):Pi(e,o.line,"text");var h=Es(e,"changes"),f=Es(e,"change");if(f||h){var p={from:o,to:a,text:t.text,removed:t.removed,origin:t.origin};f&&Cs(e,"change",e,p),h&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(p)}e.display.selForContextMenu=null}function On(e,t,i,n,r){if(n||(n=i),Lo(n,i)<0){var s=n;n=i,i=s}"string"==typeof t&&(t=e.splitLines(t)),Sn(e,{from:i,to:n,text:t,origin:r})}function $n(e,t){if(!Ss(e,"scrollCursorIntoView")){var i=e.display,n=i.sizer.getBoundingClientRect(),r=null;if(t.top+n.top<0?r=!0:t.bottom+n.top>(window.innerHeight||document.documentElement.clientHeight)&&(r=!1),null!=r&&!Do){var s=Ws("div","\u200b",null,"position: absolute; top: "+(t.top-i.viewOffset-Bt(e.display))+"px; height: "+(t.bottom-t.top+Yt(e)+i.barHeight)+"px; left: "+t.left+"px; width: 2px;");e.display.lineSpace.appendChild(s),s.scrollIntoView(r),e.display.lineSpace.removeChild(s)}}}function Rn(e,t,i,n){null==n&&(n=0);for(var r=0;5>r;r++){var s=!1,o=fi(e,t),a=i&&i!=t?fi(e,i):o,l=Pn(e,Math.min(o.left,a.left),Math.min(o.top,a.top)-n,Math.max(o.left,a.left),Math.max(o.bottom,a.bottom)+n),c=e.doc.scrollTop,u=e.doc.scrollLeft;if(null!=l.scrollTop&&(rn(e,l.scrollTop),Math.abs(e.doc.scrollTop-c)>1&&(s=!0)),null!=l.scrollLeft&&(sn(e,l.scrollLeft),Math.abs(e.doc.scrollLeft-u)>1&&(s=!0)),!s)break}return o}function Hn(e,t,i,n,r){var s=Pn(e,t,i,n,r);null!=s.scrollTop&&rn(e,s.scrollTop),null!=s.scrollLeft&&sn(e,s.scrollLeft)}function Pn(e,t,i,n,r){var s=e.display,o=yi(e.display);0>i&&(i=0);var a=e.curOp&&null!=e.curOp.scrollTop?e.curOp.scrollTop:s.scroller.scrollTop,l=Gt(e),c={};r-i>l&&(r=i+l);var u=e.doc.height+Ut(s),d=o>i,h=r>u-o;if(a>i)c.scrollTop=d?0:i;else if(r>a+l){var f=Math.min(i,(h?u:r)-l);f!=a&&(c.scrollTop=f)}var p=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:s.scroller.scrollLeft,g=Vt(e)-(e.options.fixedGutter?s.gutters.offsetWidth:0),m=n-t>g;return m&&(n=t+g),10>t?c.scrollLeft=0:p>t?c.scrollLeft=Math.max(0,t-(m?0:10)):n>g+p-3&&(c.scrollLeft=n+(m?0:10)-g),c}function zn(e,t,i){(null!=t||null!=i)&&Ln(e),null!=t&&(e.curOp.scrollLeft=(null==e.curOp.scrollLeft?e.doc.scrollLeft:e.curOp.scrollLeft)+t),null!=i&&(e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc.scrollTop:e.curOp.scrollTop)+i)}function Nn(e){Ln(e);var t=e.getCursor(),i=t,n=t;e.options.lineWrapping||(i=t.ch?No(t.line,t.ch-1):t,n=No(t.line,t.ch+1)),e.curOp.scrollToPos={from:i,to:n,margin:e.options.cursorScrollMargin,isCursor:!0}}function Ln(e){var t=e.curOp.scrollToPos;if(t){e.curOp.scrollToPos=null;var i=pi(e,t.from),n=pi(e,t.to),r=Pn(e,Math.min(i.left,n.left),Math.min(i.top,n.top)-t.margin,Math.max(i.right,n.right),Math.max(i.bottom,n.bottom)+t.margin);e.scrollTo(r.scrollLeft,r.scrollTop)}}function Fn(e,t,i,n){var r,s=e.doc;null==i&&(i="add"),"smart"==i&&(s.mode.indent?r=Wt(e,t):i="prev");var o=e.options.tabSize,a=Qr(s,t),l=Fa(a.text,null,o);a.stateAfter&&(a.stateAfter=null);var c,u=a.text.match(/^\s*/)[0];if(n||/\S/.test(a.text)){if("smart"==i&&(c=s.mode.indent(r,a.text.slice(u.length),a.text),c==Pa||c>150)){if(!n)return;i="prev"}}else c=0,i="not";"prev"==i?c=t>s.first?Fa(Qr(s,t-1).text,null,o):0:"add"==i?c=l+e.options.indentUnit:"subtract"==i?c=l-e.options.indentUnit:"number"==typeof i&&(c=l+i),c=Math.max(0,c);var d="",h=0;if(e.options.indentWithTabs)for(var f=Math.floor(c/o);f;--f)h+=o,d+="	";if(c>h&&(d+=Is(c-h)),d!=u)return On(s,d,No(t,0),No(t,u.length),"+input"),a.stateAfter=null,!0;for(var f=0;f<s.sel.ranges.length;f++){var p=s.sel.ranges[f];if(p.head.line==t&&p.head.ch<u.length){var h=No(t,u.length);kt(s,f,new dt(h,h));break}}}function jn(e,t,i,n){var r=t,s=t;return"number"==typeof t?s=Qr(e,pt(e,t)):r=ts(t),null==r?null:(n(s,r)&&e.cm&&Pi(e.cm,r,i),s)}function Wn(e,t){for(var i=e.doc.sel.ranges,n=[],r=0;r<i.length;r++){for(var s=t(i[r]);n.length&&Lo(s.from,Os(n).to)<=0;){var o=n.pop();if(Lo(o.from,s.from)<0){s.from=o.from;break}}n.push(s)}Mi(e,function(){for(var t=n.length-1;t>=0;t--)On(e.doc,"",n[t].from,n[t].to,"+delete");Nn(e)})}function Bn(e,t,i,n,r){function s(){var t=a+i;return t<e.first||t>=e.first+e.size?!1:(a=t,u=Qr(e,t))}function o(e){var t=(r?ho:fo)(u,l,i,!0);if(null==t){if(e||!s())return!1;l=r?(0>i?ro:no)(u):0>i?u.text.length:0}else l=t;return!0}var a=t.line,l=t.ch,c=i,u=Qr(e,a);if("char"==n)o();else if("column"==n)o(!0);else if("word"==n||"group"==n)for(var d=null,h="group"==n,f=e.cm&&e.cm.getHelper(t,"wordChars"),p=!0;!(0>i)||o(!p);p=!1){var g=u.text.charAt(l)||"\n",m=Ls(g,f)?"w":h&&"\n"==g?"n":!h||/\s/.test(g)?null:"p";if(!h||p||m||(m="s"),d&&d!=m){0>i&&(i=1,o());break}if(m&&(d=m),i>0&&!o(!p))break}var v=Ot(e,No(a,l),t,c,!0);return Lo(t,v)||(v.hitSide=!0),v}function Un(e,t,i,n){var r,s=e.doc,o=t.left;if("page"==n){var a=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight);r=t.top+i*(a-(0>i?1.5:.5)*yi(e.display))}else"line"==n&&(r=i>0?t.bottom+3:t.top-3);for(;;){var l=mi(e,o,r);if(!l.outside)break;if(0>i?0>=r:r>=s.height){l.hitSide=!0;break}r+=5*i}return l}function qn(t,i,n,r){e.defaults[t]=i,n&&(ta[t]=r?function(e,t,i){i!=ia&&n(e,t,i)}:n)}function Yn(e){for(var t,i,n,r,s=e.split(/-(?!$)/),e=s[s.length-1],o=0;o<s.length-1;o++){var a=s[o];if(/^(cmd|meta|m)$/i.test(a))r=!0;else if(/^a(lt)?$/i.test(a))t=!0;else if(/^(c|ctrl|control)$/i.test(a))i=!0;else{if(!/^s(hift)$/i.test(a))throw new Error("Unrecognized modifier name: "+a);n=!0}}return t&&(e="Alt-"+e),i&&(e="Ctrl-"+e),r&&(e="Cmd-"+e),n&&(e="Shift-"+e),e}function Vn(e){return"string"==typeof e?da[e]:e}function Gn(e,t,i,n,r){if(n&&n.shared)return Kn(e,t,i,n,r);if(e.cm&&!e.cm.curOp)return Ai(e.cm,Gn)(e,t,i,n,r);var s=new va(e,r),o=Lo(t,i);if(n&&zs(n,s,!1),o>0||0==o&&s.clearWhenEmpty!==!1)return s;if(s.replacedWith&&(s.collapsed=!0,s.widgetNode=Ws("span",[s.replacedWith],"CodeMirror-widget"),n.handleMouseEvents||s.widgetNode.setAttribute("cm-ignore-events","true"),n.insertLeft&&(s.widgetNode.insertLeft=!0)),s.collapsed){if(vr(e,t.line,t,i,s)||t.line!=i.line&&vr(e,i.line,t,i,s))throw new Error("Inserting collapsed marker partially overlapping an existing one");zo=!0}s.addToHistory&&cs(e,{from:t,to:i,origin:"markText"},e.sel,0/0);var a,l=t.line,c=e.cm;if(e.iter(l,i.line+1,function(e){c&&s.collapsed&&!c.options.lineWrapping&&yr(e)==c.display.maxLine&&(a=!0),s.collapsed&&l!=t.line&&es(e,0),ir(e,new Jn(s,l==t.line?t.ch:null,l==i.line?i.ch:null)),++l}),s.collapsed&&e.iter(t.line,i.line+1,function(t){kr(e,t)&&es(t,0)}),s.clearOnEnter&&Aa(s,"beforeCursorEnter",function(){s.clear()}),s.readOnly&&(Po=!0,(e.history.done.length||e.history.undone.length)&&e.clearHistory()),s.collapsed&&(s.id=++ma,s.atomic=!0),c){if(a&&(c.curOp.updateMaxLine=!0),s.collapsed)Hi(c,t.line,i.line+1);else if(s.className||s.title||s.startStyle||s.endStyle||s.css)for(var u=t.line;u<=i.line;u++)Pi(c,u,"text");s.atomic&&Mt(c.doc),Cs(c,"markerAdded",c,s)}return s}function Kn(e,t,i,n,r){n=zs(n),n.shared=!1;var s=[Gn(e,t,i,n,r)],o=s[0],a=n.widgetNode;return Kr(e,function(e){a&&(n.widgetNode=a.cloneNode(!0)),s.push(Gn(e,gt(e,t),gt(e,i),n,r));for(var l=0;l<e.linked.length;++l)if(e.linked[l].isParent)return;o=Os(s)}),new ya(s,o)}function Xn(e){return e.findMarks(No(e.first,0),e.clipPos(No(e.lastLine())),function(e){return e.parent})}function Qn(e,t){for(var i=0;i<t.length;i++){var n=t[i],r=n.find(),s=e.clipPos(r.from),o=e.clipPos(r.to);if(Lo(s,o)){var a=Gn(e,s,o,n.primary,n.primary.type);n.markers.push(a),a.parent=n}}}function Zn(e){for(var t=0;t<e.length;t++){var i=e[t],n=[i.primary.doc];Kr(i.primary.doc,function(e){n.push(e)});for(var r=0;r<i.markers.length;r++){var s=i.markers[r];-1==$s(n,s.doc)&&(s.parent=null,i.markers.splice(r--,1))}}}function Jn(e,t,i){this.marker=e,this.from=t,this.to=i}function er(e,t){if(e)for(var i=0;i<e.length;++i){var n=e[i];if(n.marker==t)return n}}function tr(e,t){for(var i,n=0;n<e.length;++n)e[n]!=t&&(i||(i=[])).push(e[n]);return i}function ir(e,t){e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],t.marker.attachLine(e)}function nr(e,t,i){if(e)for(var n,r=0;r<e.length;++r){var s=e[r],o=s.marker,a=null==s.from||(o.inclusiveLeft?s.from<=t:s.from<t);if(a||s.from==t&&"bookmark"==o.type&&(!i||!s.marker.insertLeft)){var l=null==s.to||(o.inclusiveRight?s.to>=t:s.to>t);(n||(n=[])).push(new Jn(o,s.from,l?null:s.to))}}return n}function rr(e,t,i){if(e)for(var n,r=0;r<e.length;++r){var s=e[r],o=s.marker,a=null==s.to||(o.inclusiveRight?s.to>=t:s.to>t);if(a||s.from==t&&"bookmark"==o.type&&(!i||s.marker.insertLeft)){var l=null==s.from||(o.inclusiveLeft?s.from<=t:s.from<t);(n||(n=[])).push(new Jn(o,l?null:s.from-t,null==s.to?null:s.to-t))}}return n}function sr(e,t){if(t.full)return null;var i=vt(e,t.from.line)&&Qr(e,t.from.line).markedSpans,n=vt(e,t.to.line)&&Qr(e,t.to.line).markedSpans;if(!i&&!n)return null;var r=t.from.ch,s=t.to.ch,o=0==Lo(t.from,t.to),a=nr(i,r,o),l=rr(n,s,o),c=1==t.text.length,u=Os(t.text).length+(c?r:0);if(a)for(var d=0;d<a.length;++d){var h=a[d];if(null==h.to){var f=er(l,h.marker);f?c&&(h.to=null==f.to?null:f.to+u):h.to=r}}if(l)for(var d=0;d<l.length;++d){var h=l[d];if(null!=h.to&&(h.to+=u),null==h.from){var f=er(a,h.marker);f||(h.from=u,c&&(a||(a=[])).push(h))}else h.from+=u,c&&(a||(a=[])).push(h)}a&&(a=or(a)),l&&l!=a&&(l=or(l));var p=[a];if(!c){var g,m=t.text.length-2;if(m>0&&a)for(var d=0;d<a.length;++d)null==a[d].to&&(g||(g=[])).push(new Jn(a[d].marker,null,null));for(var d=0;m>d;++d)p.push(g);p.push(l)}return p}function or(e){for(var t=0;t<e.length;++t){var i=e[t];null!=i.from&&i.from==i.to&&i.marker.clearWhenEmpty!==!1&&e.splice(t--,1)}return e.length?e:null}function ar(e,t){var i=gs(e,t),n=sr(e,t);if(!i)return n;if(!n)return i;for(var r=0;r<i.length;++r){var s=i[r],o=n[r];if(s&&o)e:for(var a=0;a<o.length;++a){for(var l=o[a],c=0;c<s.length;++c)if(s[c].marker==l.marker)continue e;s.push(l)}else o&&(i[r]=o)}return i}function lr(e,t,i){var n=null;if(e.iter(t.line,i.line+1,function(e){if(e.markedSpans)for(var t=0;t<e.markedSpans.length;++t){var i=e.markedSpans[t].marker;!i.readOnly||n&&-1!=$s(n,i)||(n||(n=[])).push(i)}}),!n)return null;for(var r=[{from:t,to:i}],s=0;s<n.length;++s)for(var o=n[s],a=o.find(0),l=0;l<r.length;++l){var c=r[l];if(!(Lo(c.to,a.from)<0||Lo(c.from,a.to)>0)){var u=[l,1],d=Lo(c.from,a.from),h=Lo(c.to,a.to);(0>d||!o.inclusiveLeft&&!d)&&u.push({from:c.from,to:a.from}),(h>0||!o.inclusiveRight&&!h)&&u.push({from:a.to,to:c.to}),r.splice.apply(r,u),l+=u.length-1}}return r}function cr(e){var t=e.markedSpans;if(t){for(var i=0;i<t.length;++i)t[i].marker.detachLine(e);e.markedSpans=null}}function ur(e,t){if(t){for(var i=0;i<t.length;++i)t[i].marker.attachLine(e);e.markedSpans=t}}function dr(e){return e.inclusiveLeft?-1:0}function hr(e){return e.inclusiveRight?1:0}function fr(e,t){var i=e.lines.length-t.lines.length;if(0!=i)return i;var n=e.find(),r=t.find(),s=Lo(n.from,r.from)||dr(e)-dr(t);if(s)return-s;var o=Lo(n.to,r.to)||hr(e)-hr(t);return o?o:t.id-e.id}function pr(e,t){var i,n=zo&&e.markedSpans;if(n)for(var r,s=0;s<n.length;++s)r=n[s],r.marker.collapsed&&null==(t?r.from:r.to)&&(!i||fr(i,r.marker)<0)&&(i=r.marker);return i}function gr(e){return pr(e,!0)}function mr(e){return pr(e,!1)}function vr(e,t,i,n,r){var s=Qr(e,t),o=zo&&s.markedSpans;if(o)for(var a=0;a<o.length;++a){var l=o[a];if(l.marker.collapsed){var c=l.marker.find(0),u=Lo(c.from,i)||dr(l.marker)-dr(r),d=Lo(c.to,n)||hr(l.marker)-hr(r);if(!(u>=0&&0>=d||0>=u&&d>=0)&&(0>=u&&(l.marker.inclusiveRight&&r.inclusiveLeft?Lo(c.to,i)>=0:Lo(c.to,i)>0)||u>=0&&(l.marker.inclusiveRight&&r.inclusiveLeft?Lo(c.from,n)<=0:Lo(c.from,n)<0)))return!0}}}function yr(e){for(var t;t=gr(e);)e=t.find(-1,!0).line;return e}function br(e){for(var t,i;t=mr(e);)e=t.find(1,!0).line,(i||(i=[])).push(e);return i}function wr(e,t){var i=Qr(e,t),n=yr(i);return i==n?t:ts(n)}function xr(e,t){if(t>e.lastLine())return t;var i,n=Qr(e,t);if(!kr(e,n))return t;for(;i=mr(n);)n=i.find(1,!0).line;return ts(n)+1}function kr(e,t){var i=zo&&t.markedSpans;if(i)for(var n,r=0;r<i.length;++r)if(n=i[r],n.marker.collapsed){if(null==n.from)return!0;if(!n.marker.widgetNode&&0==n.from&&n.marker.inclusiveLeft&&_r(e,t,n))return!0}}function _r(e,t,i){if(null==i.to){var n=i.marker.find(1,!0);return _r(e,n.line,er(n.line.markedSpans,i.marker))}if(i.marker.inclusiveRight&&i.to==t.text.length)return!0;for(var r,s=0;s<t.markedSpans.length;++s)if(r=t.markedSpans[s],r.marker.collapsed&&!r.marker.widgetNode&&r.from==i.to&&(null==r.to||r.to!=i.from)&&(r.marker.inclusiveLeft||i.marker.inclusiveRight)&&_r(e,t,r))return!0}function Cr(e,t,i){ns(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&zn(e,null,i)}function Tr(e){if(null!=e.height)return e.height;var t=e.doc.cm;if(!t)return 0;if(!Ga(document.body,e.node)){var i="position: relative;";e.coverGutter&&(i+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(i+="width: "+t.display.wrapper.clientWidth+"px;"),Us(t.display.measure,Ws("div",[e.node],null,i))}return e.height=e.node.parentNode.offsetHeight}function Sr(e,t,i,n){var r=new ba(e,i,n),s=e.cm;return s&&r.noHScroll&&(s.display.alignWidgets=!0),jn(e,t,"widget",function(t){var i=t.widgets||(t.widgets=[]);if(null==r.insertAt?i.push(r):i.splice(Math.min(i.length-1,Math.max(0,r.insertAt)),0,r),r.line=t,s&&!kr(e,t)){var n=ns(t)<e.scrollTop;es(t,t.height+Tr(r)),n&&zn(s,null,r.height),s.curOp.forceUpdate=!0}return!0}),r}function Dr(e,t,i,n){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),null!=e.order&&(e.order=null),cr(e),ur(e,i);var r=n?n(e):1;r!=e.height&&es(e,r)}function Er(e){e.parent=null,cr(e)}function Mr(e,t){if(e)for(;;){var i=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!i)break;e=e.slice(0,i.index)+e.slice(i.index+i[0].length);var n=i[1]?"bgClass":"textClass";null==t[n]?t[n]=i[2]:new RegExp("(?:^|s)"+i[2]+"(?:$|s)").test(t[n])||(t[n]+=" "+i[2])}return e}function Ar(t,i){if(t.blankLine)return t.blankLine(i);if(t.innerMode){var n=e.innerMode(t,i);return n.mode.blankLine?n.mode.blankLine(n.state):void 0}}function Ir(t,i,n,r){for(var s=0;10>s;s++){r&&(r[0]=e.innerMode(t,n).mode);var o=t.token(i,n);if(i.pos>i.start)return o}throw new Error("Mode "+t.name+" failed to advance stream.")}function Or(e,t,i,n){function r(e){return{start:d.start,end:d.pos,string:d.current(),type:s||null,state:e?la(o.mode,u):u}}var s,o=e.doc,a=o.mode;t=gt(o,t);var l,c=Qr(o,t.line),u=Wt(e,t.line,i),d=new ga(c.text,e.options.tabSize);for(n&&(l=[]);(n||d.pos<t.ch)&&!d.eol();)d.start=d.pos,s=Ir(a,d,u),n&&l.push(r(!0));return n?l:r()}function $r(e,t,i,n,r,s,o){var a=i.flattenSpans;null==a&&(a=e.options.flattenSpans);var l,c=0,u=null,d=new ga(t,e.options.tabSize),h=e.options.addModeClass&&[null];for(""==t&&Mr(Ar(i,n),s);!d.eol();){if(d.pos>e.options.maxHighlightLength?(a=!1,o&&Pr(e,t,n,d.pos),d.pos=t.length,l=null):l=Mr(Ir(i,d,n,h),s),h){var f=h[0].name;f&&(l="m-"+(l?f+" "+l:f))}if(!a||u!=l){for(;c<d.start;)c=Math.min(d.start,c+5e4),r(c,u);u=l}d.start=d.pos}for(;c<d.pos;){var p=Math.min(d.pos,c+5e4);r(p,u),c=p}}function Rr(e,t,i,n){var r=[e.state.modeGen],s={};$r(e,t.text,e.doc.mode,i,function(e,t){r.push(e,t)},s,n);for(var o=0;o<e.state.overlays.length;++o){var a=e.state.overlays[o],l=1,c=0;$r(e,t.text,a.mode,!0,function(e,t){for(var i=l;e>c;){var n=r[l];n>e&&r.splice(l,1,e,r[l+1],n),l+=2,c=Math.min(e,n)}if(t)if(a.opaque)r.splice(i,l-i,e,"cm-overlay "+t),l=i+2;else for(;l>i;i+=2){var s=r[i+1];r[i+1]=(s?s+" ":"")+"cm-overlay "+t}},s)}return{styles:r,classes:s.bgClass||s.textClass?s:null}}function Hr(e,t,i){if(!t.styles||t.styles[0]!=e.state.modeGen){var n=Wt(e,ts(t)),r=Rr(e,t,t.text.length>e.options.maxHighlightLength?la(e.doc.mode,n):n);t.stateAfter=n,t.styles=r.styles,r.classes?t.styleClasses=r.classes:t.styleClasses&&(t.styleClasses=null),i===e.doc.frontier&&e.doc.frontier++}return t.styles}function Pr(e,t,i,n){var r=e.doc.mode,s=new ga(t,e.options.tabSize);for(s.start=s.pos=n||0,""==t&&Ar(r,i);!s.eol();)Ir(r,s,i),s.start=s.pos}function zr(e,t){if(!e||/^\s*$/.test(e))return null;var i=t.addModeClass?ka:xa;return i[e]||(i[e]=e.replace(/\S+/g,"cm-$&"))}function Nr(e,t){var i=Ws("span",null,null,xo?"padding-right: .1px":null),n={pre:Ws("pre",[i],"CodeMirror-line"),content:i,col:0,pos:0,cm:e,splitSpaces:(bo||xo)&&e.getOption("lineWrapping")};t.measure={};for(var r=0;r<=(t.rest?t.rest.length:0);r++){var s,o=r?t.rest[r-1]:t.line;n.pos=0,n.addToken=Fr,Zs(e.display.measure)&&(s=rs(o))&&(n.addToken=Wr(n.addToken,s)),n.map=[];var a=t!=e.display.externalMeasured&&ts(o);Ur(o,n,Hr(e,o,a)),o.styleClasses&&(o.styleClasses.bgClass&&(n.bgClass=Vs(o.styleClasses.bgClass,n.bgClass||"")),o.styleClasses.textClass&&(n.textClass=Vs(o.styleClasses.textClass,n.textClass||""))),0==n.map.length&&n.map.push(0,0,n.content.appendChild(Qs(e.display.measure))),0==r?(t.measure.map=n.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(n.map),(t.measure.caches||(t.measure.caches=[])).push({}))}if(xo){var l=n.content.lastChild;(/\bcm-tab\b/.test(l.className)||l.querySelector&&l.querySelector(".cm-tab"))&&(n.content.className="cm-tab-wrap-hack")}return $a(e,"renderLine",e,t.line,n.pre),n.pre.className&&(n.textClass=Vs(n.pre.className,n.textClass||"")),n}function Lr(e){var t=Ws("span","\u2022","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t}function Fr(e,t,i,n,r,s,o){if(t){var a=e.splitSpaces?t.replace(/ {3,}/g,jr):t,l=e.cm.state.specialChars,c=!1;if(l.test(t))for(var u=document.createDocumentFragment(),d=0;;){l.lastIndex=d;var h=l.exec(t),f=h?h.index-d:t.length-d;if(f){var p=document.createTextNode(a.slice(d,d+f));u.appendChild(bo&&9>wo?Ws("span",[p]):p),e.map.push(e.pos,e.pos+f,p),e.col+=f,e.pos+=f}if(!h)break;if(d+=f+1,"	"==h[0]){var g=e.cm.options.tabSize,m=g-e.col%g,p=u.appendChild(Ws("span",Is(m),"cm-tab"));p.setAttribute("role","presentation"),p.setAttribute("cm-text","	"),e.col+=m}else if("\r"==h[0]||"\n"==h[0]){var p=u.appendChild(Ws("span","\r"==h[0]?"\u240d":"\u2424","cm-invalidchar"));p.setAttribute("cm-text",h[0]),e.col+=1}else{var p=e.cm.options.specialCharPlaceholder(h[0]);p.setAttribute("cm-text",h[0]),u.appendChild(bo&&9>wo?Ws("span",[p]):p),e.col+=1}e.map.push(e.pos,e.pos+1,p),e.pos++}else{e.col+=t.length;var u=document.createTextNode(a);e.map.push(e.pos,e.pos+t.length,u),bo&&9>wo&&(c=!0),e.pos+=t.length}if(i||n||r||c||o){var v=i||"";n&&(v+=n),r&&(v+=r);var y=Ws("span",[u],v,o);return s&&(y.title=s),e.content.appendChild(y)}e.content.appendChild(u)}}function jr(e){for(var t=" ",i=0;i<e.length-2;++i)t+=i%2?" ":"\xa0";return t+=" "}function Wr(e,t){return function(i,n,r,s,o,a,l){r=r?r+" cm-force-border":"cm-force-border";for(var c=i.pos,u=c+n.length;;){for(var d=0;d<t.length;d++){var h=t[d];if(h.to>c&&h.from<=c)break}if(h.to>=u)return e(i,n,r,s,o,a,l);e(i,n.slice(0,h.to-c),r,s,null,a,l),s=null,n=n.slice(h.to-c),c=h.to}}}function Br(e,t,i,n){var r=!n&&i.widgetNode;r&&e.map.push(e.pos,e.pos+t,r),!n&&e.cm.display.input.needsContentAttribute&&(r||(r=e.content.appendChild(document.createElement("span"))),r.setAttribute("cm-marker",i.id)),r&&(e.cm.display.input.setUneditable(r),e.content.appendChild(r)),e.pos+=t}function Ur(e,t,i){var n=e.markedSpans,r=e.text,s=0;if(n)for(var o,a,l,c,u,d,h,f=r.length,p=0,g=1,m="",v=0;;){if(v==p){l=c=u=d=a="",h=null,v=1/0;for(var y,b=[],w=0;w<n.length;++w){var x=n[w],k=x.marker;"bookmark"==k.type&&x.from==p&&k.widgetNode?b.push(k):x.from<=p&&(null==x.to||x.to>p||k.collapsed&&x.to==p&&x.from==p)?(null!=x.to&&x.to!=p&&v>x.to&&(v=x.to,c=""),k.className&&(l+=" "+k.className),k.css&&(a=(a?a+";":"")+k.css),k.startStyle&&x.from==p&&(u+=" "+k.startStyle),k.endStyle&&x.to==v&&(y||(y=[])).push(k.endStyle,x.to),k.title&&!d&&(d=k.title),k.collapsed&&(!h||fr(h.marker,k)<0)&&(h=x)):x.from>p&&v>x.from&&(v=x.from)}if(y)for(var w=0;w<y.length;w+=2)y[w+1]==v&&(c+=" "+y[w]);if(!h||h.from==p)for(var w=0;w<b.length;++w)Br(t,0,b[w]);if(h&&(h.from||0)==p){if(Br(t,(null==h.to?f+1:h.to)-p,h.marker,null==h.from),null==h.to)return;h.to==p&&(h=!1)}}if(p>=f)break;for(var _=Math.min(f,v);;){if(m){var C=p+m.length;if(!h){var T=C>_?m.slice(0,_-p):m;t.addToken(t,T,o?o+l:l,u,p+T.length==v?c:"",d,a)}if(C>=_){m=m.slice(_-p),p=_;break}p=C,u=""}m=r.slice(s,s=i[g++]),o=zr(i[g++],t.cm.options)}}else for(var g=1;g<i.length;g+=2)t.addToken(t,r.slice(s,s=i[g]),zr(i[g+1],t.cm.options))}function qr(e,t){return 0==t.from.ch&&0==t.to.ch&&""==Os(t.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function Yr(e,t,i,n){function r(e){return i?i[e]:null}function s(e,i,r){Dr(e,i,r,n),Cs(e,"change",e,t)}function o(e,t){for(var i=e,s=[];t>i;++i)s.push(new wa(c[i],r(i),n));return s}var a=t.from,l=t.to,c=t.text,u=Qr(e,a.line),d=Qr(e,l.line),h=Os(c),f=r(c.length-1),p=l.line-a.line;if(t.full)e.insert(0,o(0,c.length)),e.remove(c.length,e.size-c.length);else if(qr(e,t)){var g=o(0,c.length-1);s(d,d.text,f),p&&e.remove(a.line,p),g.length&&e.insert(a.line,g)}else if(u==d)if(1==c.length)s(u,u.text.slice(0,a.ch)+h+u.text.slice(l.ch),f);else{var g=o(1,c.length-1);g.push(new wa(h+u.text.slice(l.ch),f,n)),s(u,u.text.slice(0,a.ch)+c[0],r(0)),e.insert(a.line+1,g)}else if(1==c.length)s(u,u.text.slice(0,a.ch)+c[0]+d.text.slice(l.ch),r(0)),e.remove(a.line+1,p);else{s(u,u.text.slice(0,a.ch)+c[0],r(0)),s(d,h+d.text.slice(l.ch),f);var g=o(1,c.length-1);p>1&&e.remove(a.line+1,p-1),e.insert(a.line+1,g)}Cs(e,"change",e,t)}function Vr(e){this.lines=e,this.parent=null;for(var t=0,i=0;t<e.length;++t)e[t].parent=this,i+=e[t].height;this.height=i}function Gr(e){this.children=e;for(var t=0,i=0,n=0;n<e.length;++n){var r=e[n];t+=r.chunkSize(),i+=r.height,r.parent=this}this.size=t,this.height=i,this.parent=null}function Kr(e,t,i){function n(e,r,s){if(e.linked)for(var o=0;o<e.linked.length;++o){var a=e.linked[o];if(a.doc!=r){var l=s&&a.sharedHist;(!i||l)&&(t(a.doc,l),n(a.doc,e,l))}}}n(e,null,!0)}function Xr(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,o(e),i(e),e.options.lineWrapping||h(e),e.options.mode=t.modeOption,Hi(e)}function Qr(e,t){if(t-=e.first,0>t||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var i=e;!i.lines;)for(var n=0;;++n){var r=i.children[n],s=r.chunkSize();if(s>t){i=r;break}t-=s}return i.lines[t]}function Zr(e,t,i){var n=[],r=t.line;return e.iter(t.line,i.line+1,function(e){var s=e.text;r==i.line&&(s=s.slice(0,i.ch)),r==t.line&&(s=s.slice(t.ch)),n.push(s),++r}),n}function Jr(e,t,i){var n=[];return e.iter(t,i,function(e){n.push(e.text)}),n}function es(e,t){var i=t-e.height;if(i)for(var n=e;n;n=n.parent)n.height+=i}function ts(e){if(null==e.parent)return null;for(var t=e.parent,i=$s(t.lines,e),n=t.parent;n;t=n,n=n.parent)for(var r=0;n.children[r]!=t;++r)i+=n.children[r].chunkSize();return i+t.first}function is(e,t){var i=e.first;e:do{for(var n=0;n<e.children.length;++n){var r=e.children[n],s=r.height;if(s>t){e=r;continue e}t-=s,i+=r.chunkSize()}return i}while(!e.lines);for(var n=0;n<e.lines.length;++n){var o=e.lines[n],a=o.height;if(a>t)break;t-=a}return i+n}function ns(e){e=yr(e);for(var t=0,i=e.parent,n=0;n<i.lines.length;++n){var r=i.lines[n];if(r==e)break;t+=r.height}for(var s=i.parent;s;i=s,s=i.parent)for(var n=0;n<s.children.length;++n){var o=s.children[n];if(o==i)break;t+=o.height}return t}function rs(e){var t=e.order;return null==t&&(t=e.order=al(e.text)),t}function ss(e){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e||1}function os(e,t){var i={from:V(t.from),to:Jo(t),text:Zr(e,t.from,t.to)};return fs(e,i,t.from.line,t.to.line+1),Kr(e,function(e){fs(e,i,t.from.line,t.to.line+1)},!0),i}function as(e){for(;e.length;){var t=Os(e);if(!t.ranges)break;e.pop()}}function ls(e,t){return t?(as(e.done),Os(e.done)):e.done.length&&!Os(e.done).ranges?Os(e.done):e.done.length>1&&!e.done[e.done.length-2].ranges?(e.done.pop(),Os(e.done)):void 0}function cs(e,t,i,n){var r=e.history;r.undone.length=0;var s,o=+new Date;if((r.lastOp==n||r.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&e.cm&&r.lastModTime>o-e.cm.options.historyEventDelay||"*"==t.origin.charAt(0)))&&(s=ls(r,r.lastOp==n))){var a=Os(s.changes);0==Lo(t.from,t.to)&&0==Lo(t.from,a.to)?a.to=Jo(t):s.changes.push(os(e,t))}else{var l=Os(r.done);for(l&&l.ranges||hs(e.sel,r.done),s={changes:[os(e,t)],generation:r.generation},r.done.push(s);r.done.length>r.undoDepth;)r.done.shift(),r.done[0].ranges||r.done.shift()}r.done.push(i),r.generation=++r.maxGeneration,r.lastModTime=r.lastSelTime=o,r.lastOp=r.lastSelOp=n,r.lastOrigin=r.lastSelOrigin=t.origin,a||$a(e,"historyAdded")}function us(e,t,i,n){var r=t.charAt(0);return"*"==r||"+"==r&&i.ranges.length==n.ranges.length&&i.somethingSelected()==n.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}function ds(e,t,i,n){var r=e.history,s=n&&n.origin;i==r.lastSelOp||s&&r.lastSelOrigin==s&&(r.lastModTime==r.lastSelTime&&r.lastOrigin==s||us(e,s,Os(r.done),t))?r.done[r.done.length-1]=t:hs(t,r.done),r.lastSelTime=+new Date,r.lastSelOrigin=s,r.lastSelOp=i,n&&n.clearRedo!==!1&&as(r.undone)}function hs(e,t){var i=Os(t);i&&i.ranges&&i.equals(e)||t.push(e)}function fs(e,t,i,n){var r=t["spans_"+e.id],s=0;e.iter(Math.max(e.first,i),Math.min(e.first+e.size,n),function(i){i.markedSpans&&((r||(r=t["spans_"+e.id]={}))[s]=i.markedSpans),++s})}function ps(e){if(!e)return null;for(var t,i=0;i<e.length;++i)e[i].marker.explicitlyCleared?t||(t=e.slice(0,i)):t&&t.push(e[i]);return t?t.length?t:null:e}function gs(e,t){var i=t["spans_"+e.id];if(!i)return null;for(var n=0,r=[];n<t.text.length;++n)r.push(ps(i[n]));return r}function ms(e,t,i){for(var n=0,r=[];n<e.length;++n){var s=e[n];if(s.ranges)r.push(i?ut.prototype.deepCopy.call(s):s);else{var o=s.changes,a=[];r.push({changes:a});for(var l=0;l<o.length;++l){var c,u=o[l];if(a.push({from:u.from,to:u.to,text:u.text}),t)for(var d in u)(c=d.match(/^spans_(\d+)$/))&&$s(t,Number(c[1]))>-1&&(Os(a)[d]=u[d],delete u[d])}}}return r}function vs(e,t,i,n){i<e.line?e.line+=n:t<e.line&&(e.line=t,e.ch=0)}function ys(e,t,i,n){for(var r=0;r<e.length;++r){var s=e[r],o=!0;if(s.ranges){s.copied||(s=e[r]=s.deepCopy(),s.copied=!0);for(var a=0;a<s.ranges.length;a++)vs(s.ranges[a].anchor,t,i,n),vs(s.ranges[a].head,t,i,n)}else{for(var a=0;a<s.changes.length;++a){var l=s.changes[a];if(i<l.from.line)l.from=No(l.from.line+n,l.from.ch),l.to=No(l.to.line+n,l.to.ch);else if(t<=l.to.line){o=!1;break}}o||(e.splice(0,r+1),r=0)}}}function bs(e,t){var i=t.from.line,n=t.to.line,r=t.text.length-(n-i)-1;ys(e.done,i,n,r),ys(e.undone,i,n,r)}function ws(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function xs(e){return e.target||e.srcElement}function ks(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),Ao&&e.ctrlKey&&1==t&&(t=3),t}function _s(e,t,i){var n=e._handlers&&e._handlers[t];return i?n&&n.length>0?n.slice():Ia:n||Ia}function Cs(e,t){function i(e){return function(){e.apply(null,s)}}var n=_s(e,t,!1);if(n.length){var r,s=Array.prototype.slice.call(arguments,2);qo?r=qo.delayedCallbacks:Ra?r=Ra:(r=Ra=[],setTimeout(Ts,0));for(var o=0;o<n.length;++o)r.push(i(n[o]))}}function Ts(){var e=Ra;Ra=null;for(var t=0;t<e.length;++t)e[t]()}function Ss(e,t,i){return"string"==typeof t&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),$a(e,i||t.type,e,t),ws(t)||t.codemirrorIgnore}function Ds(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var i=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),n=0;n<t.length;++n)-1==$s(i,t[n])&&i.push(t[n])}function Es(e,t){return _s(e,t).length>0}function Ms(e){e.prototype.on=function(e,t){Aa(this,e,t)},e.prototype.off=function(e,t){Oa(this,e,t)}}function As(){this.id=null}function Is(e){for(;Wa.length<=e;)Wa.push(Os(Wa)+" ");return Wa[e]}function Os(e){return e[e.length-1]}function $s(e,t){for(var i=0;i<e.length;++i)if(e[i]==t)return i;return-1}function Rs(e,t){for(var i=[],n=0;n<e.length;n++)i[n]=t(e[n],n);return i}function Hs(){}function Ps(e,t){var i;return Object.create?i=Object.create(e):(Hs.prototype=e,i=new Hs),t&&zs(t,i),i}function zs(e,t,i){t||(t={});for(var n in e)!e.hasOwnProperty(n)||i===!1&&t.hasOwnProperty(n)||(t[n]=e[n]);return t}function Ns(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function Ls(e,t){return t?t.source.indexOf("\\w")>-1&&Ya(e)?!0:t.test(e):Ya(e)}function Fs(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}function js(e){return e.charCodeAt(0)>=768&&Va.test(e)}function Ws(e,t,i,n){var r=document.createElement(e);if(i&&(r.className=i),n&&(r.style.cssText=n),"string"==typeof t)r.appendChild(document.createTextNode(t));else if(t)for(var s=0;s<t.length;++s)r.appendChild(t[s]);return r}function Bs(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function Us(e,t){return Bs(e).appendChild(t)}function qs(){for(var e=document.activeElement;e&&e.root&&e.root.activeElement;)e=e.root.activeElement;return e}function Ys(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}function Vs(e,t){for(var i=e.split(" "),n=0;n<i.length;n++)i[n]&&!Ys(i[n]).test(t)&&(t+=" "+i[n]);return t}function Gs(e){if(document.body.getElementsByClassName)for(var t=document.body.getElementsByClassName("CodeMirror"),i=0;i<t.length;i++){var n=t[i].CodeMirror;n&&e(n)}}function Ks(){Ja||(Xs(),Ja=!0)}function Xs(){var e;Aa(window,"resize",function(){null==e&&(e=setTimeout(function(){e=null,Gs(Ui)},100))}),Aa(window,"blur",function(){Gs(yn)})}function Qs(e){if(null==Ka){var t=Ws("span","\u200b");Us(e,Ws("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(Ka=t.offsetWidth<=1&&t.offsetHeight>2&&!(bo&&8>wo))}var i=Ka?Ws("span","\u200b"):Ws("span","\xa0",null,"display: inline-block; width: 1px; margin-right: -1px");return i.setAttribute("cm-text",""),i}function Zs(e){if(null!=Xa)return Xa;var t=Us(e,document.createTextNode("A\u062eA")),i=Ua(t,0,1).getBoundingClientRect();if(!i||i.left==i.right)return!1;var n=Ua(t,1,2).getBoundingClientRect();return Xa=n.right-i.right<3}function Js(e){if(null!=rl)return rl;var t=Us(e,Ws("span","x")),i=t.getBoundingClientRect(),n=Ua(t,0,1).getBoundingClientRect();return rl=Math.abs(i.left-n.left)>1}function eo(e,t,i,n){if(!e)return n(t,i,"ltr");for(var r=!1,s=0;s<e.length;++s){var o=e[s];(o.from<i&&o.to>t||t==i&&o.to==t)&&(n(Math.max(o.from,t),Math.min(o.to,i),1==o.level?"rtl":"ltr"),r=!0)}r||n(t,i,"ltr")}function to(e){return e.level%2?e.to:e.from}function io(e){return e.level%2?e.from:e.to}function no(e){var t=rs(e);return t?to(t[0]):0}function ro(e){var t=rs(e);return t?io(Os(t)):e.text.length}function so(e,t){var i=Qr(e.doc,t),n=yr(i);n!=i&&(t=ts(n));var r=rs(n),s=r?r[0].level%2?ro(n):no(n):0;return No(t,s)}function oo(e,t){for(var i,n=Qr(e.doc,t);i=mr(n);)n=i.find(1,!0).line,t=null;var r=rs(n),s=r?r[0].level%2?no(n):ro(n):n.text.length;return No(null==t?ts(n):t,s)}function ao(e,t){var i=so(e,t.line),n=Qr(e.doc,i.line),r=rs(n);if(!r||0==r[0].level){var s=Math.max(0,n.text.search(/\S/)),o=t.line==i.line&&t.ch<=s&&t.ch;return No(i.line,o?0:s)}return i}function lo(e,t,i){var n=e[0].level;return t==n?!0:i==n?!1:i>t}function co(e,t){ol=null;for(var i,n=0;n<e.length;++n){var r=e[n];if(r.from<t&&r.to>t)return n;if(r.from==t||r.to==t){if(null!=i)return lo(e,r.level,e[i].level)?(r.from!=r.to&&(ol=i),n):(r.from!=r.to&&(ol=n),i);i=n}}return i}function uo(e,t,i,n){if(!n)return t+i;do t+=i;while(t>0&&js(e.text.charAt(t)));return t}function ho(e,t,i,n){var r=rs(e);if(!r)return fo(e,t,i,n);for(var s=co(r,t),o=r[s],a=uo(e,t,o.level%2?-i:i,n);;){if(a>o.from&&a<o.to)return a;if(a==o.from||a==o.to)return co(r,a)==s?a:(o=r[s+=i],i>0==o.level%2?o.to:o.from);if(o=r[s+=i],!o)return null;a=i>0==o.level%2?uo(e,o.to,-1,n):uo(e,o.from,1,n)}}function fo(e,t,i,n){var r=t+i;if(n)for(;r>0&&js(e.text.charAt(r));)r+=i;return 0>r||r>e.text.length?null:r}var po=navigator.userAgent,go=navigator.platform,mo=/gecko\/\d/i.test(po),vo=/MSIE \d/.test(po),yo=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(po),bo=vo||yo,wo=bo&&(vo?document.documentMode||6:yo[1]),xo=/WebKit\//.test(po),ko=xo&&/Qt\/\d+\.\d+/.test(po),_o=/Chrome\//.test(po),Co=/Opera\//.test(po),To=/Apple Computer/.test(navigator.vendor),So=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(po),Do=/PhantomJS/.test(po),Eo=/AppleWebKit/.test(po)&&/Mobile\/\w+/.test(po),Mo=Eo||/Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(po),Ao=Eo||/Mac/.test(go),Io=/\bCrOS\b/.test(po),Oo=/win/i.test(go),$o=Co&&po.match(/Version\/(\d*\.\d*)/);
$o&&($o=Number($o[1])),$o&&$o>=15&&(Co=!1,xo=!0);var Ro=Ao&&(ko||Co&&(null==$o||12.11>$o)),Ho=mo||bo&&wo>=9,Po=!1,zo=!1;g.prototype=zs({update:function(e){var t=e.scrollWidth>e.clientWidth+1,i=e.scrollHeight>e.clientHeight+1,n=e.nativeBarWidth;if(i){this.vert.style.display="block",this.vert.style.bottom=t?n+"px":"0";var r=e.viewHeight-(t?n:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+r)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(t){this.horiz.style.display="block",this.horiz.style.right=i?n+"px":"0",this.horiz.style.left=e.barLeft+"px";var s=e.viewWidth-e.barLeft-(i?n:0);this.horiz.firstChild.style.width=e.scrollWidth-e.clientWidth+s+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&e.clientHeight>0&&(0==n&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:i?n:0,bottom:t?n:0}},setScrollLeft:function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz)},setScrollTop:function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert)},zeroWidthHack:function(){var e=Ao&&!So?"12px":"18px";this.horiz.style.height=this.vert.style.width=e,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new As,this.disableVert=new As},enableZeroWidthBar:function(e,t){function i(){var n=e.getBoundingClientRect(),r=document.elementFromPoint(n.left+1,n.bottom-1);r!=e?e.style.pointerEvents="none":t.set(1e3,i)}e.style.pointerEvents="auto",t.set(1e3,i)},clear:function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)}},g.prototype),m.prototype=zs({update:function(){return{bottom:0,right:0}},setScrollLeft:function(){},setScrollTop:function(){},clear:function(){}},m.prototype),e.scrollbarModel={"native":g,"null":m},T.prototype.signal=function(e,t){Es(e,t)&&this.events.push(arguments)},T.prototype.finish=function(){for(var e=0;e<this.events.length;e++)$a.apply(null,this.events[e])};var No=e.Pos=function(e,t){return this instanceof No?(this.line=e,void(this.ch=t)):new No(e,t)},Lo=e.cmpPos=function(e,t){return e.line-t.line||e.ch-t.ch},Fo=null;it.prototype=zs({init:function(e){function t(e){if(!Ss(n,e)){if(n.somethingSelected())Fo={lineWise:!1,text:n.getSelections()},i.inaccurateSelection&&(i.prevInput="",i.inaccurateSelection=!1,s.value=Fo.text.join("\n"),Ba(s));else{if(!n.options.lineWiseCopyCut)return;var t=et(n);Fo={lineWise:!0,text:t.text},"cut"==e.type?n.setSelections(t.ranges,null,za):(i.prevInput="",s.value=t.text.join("\n"),Ba(s))}"cut"==e.type&&(n.state.cutIncoming=!0)}}var i=this,n=this.cm,r=this.wrapper=nt(),s=this.textarea=r.firstChild;e.wrapper.insertBefore(r,e.wrapper.firstChild),Eo&&(s.style.width="0px"),Aa(s,"input",function(){bo&&wo>=9&&i.hasSelection&&(i.hasSelection=null),i.poll()}),Aa(s,"paste",function(e){Ss(n,e)||Z(e,n)||(n.state.pasteIncoming=!0,i.fastPoll())}),Aa(s,"cut",t),Aa(s,"copy",t),Aa(e.scroller,"paste",function(t){qi(e,t)||Ss(n,t)||(n.state.pasteIncoming=!0,i.focus())}),Aa(e.lineSpace,"selectstart",function(t){qi(e,t)||Da(t)}),Aa(s,"compositionstart",function(){var e=n.getCursor("from");i.composing&&i.composing.range.clear(),i.composing={start:e,range:n.markText(e,n.getCursor("to"),{className:"CodeMirror-composing"})}}),Aa(s,"compositionend",function(){i.composing&&(i.poll(),i.composing.range.clear(),i.composing=null)})},prepareSelection:function(){var e=this.cm,t=e.display,i=e.doc,n=Ht(e);if(e.options.moveInputWithCursor){var r=fi(e,i.sel.primary().head,"div"),s=t.wrapper.getBoundingClientRect(),o=t.lineDiv.getBoundingClientRect();n.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,r.top+o.top-s.top)),n.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,r.left+o.left-s.left))}return n},showSelection:function(e){var t=this.cm,i=t.display;Us(i.cursorDiv,e.cursors),Us(i.selectionDiv,e.selection),null!=e.teTop&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},reset:function(e){if(!this.contextMenuPending){var t,i,n=this.cm,r=n.doc;if(n.somethingSelected()){this.prevInput="";var s=r.sel.primary();t=nl&&(s.to().line-s.from().line>100||(i=n.getSelection()).length>1e3);var o=t?"-":i||n.getSelection();this.textarea.value=o,n.state.focused&&Ba(this.textarea),bo&&wo>=9&&(this.hasSelection=o)}else e||(this.prevInput=this.textarea.value="",bo&&wo>=9&&(this.hasSelection=null));this.inaccurateSelection=t}},getField:function(){return this.textarea},supportsTouch:function(){return!1},focus:function(){if("nocursor"!=this.cm.options.readOnly&&(!Mo||qs()!=this.textarea))try{this.textarea.focus()}catch(e){}},blur:function(){this.textarea.blur()},resetPosition:function(){this.wrapper.style.top=this.wrapper.style.left=0},receivedFocus:function(){this.slowPoll()},slowPoll:function(){var e=this;e.pollingFast||e.polling.set(this.cm.options.pollInterval,function(){e.poll(),e.cm.state.focused&&e.slowPoll()})},fastPoll:function(){function e(){var n=i.poll();n||t?(i.pollingFast=!1,i.slowPoll()):(t=!0,i.polling.set(60,e))}var t=!1,i=this;i.pollingFast=!0,i.polling.set(20,e)},poll:function(){var e=this.cm,t=this.textarea,i=this.prevInput;if(this.contextMenuPending||!e.state.focused||il(t)&&!i&&!this.composing||e.isReadOnly()||e.options.disableInput||e.state.keySeq)return!1;var n=t.value;if(n==i&&!e.somethingSelected())return!1;if(bo&&wo>=9&&this.hasSelection===n||Ao&&/[\uf700-\uf7ff]/.test(n))return e.display.input.reset(),!1;if(e.doc.sel==e.display.selForContextMenu){var r=n.charCodeAt(0);if(8203!=r||i||(i="\u200b"),8666==r)return this.reset(),this.cm.execCommand("undo")}for(var s=0,o=Math.min(i.length,n.length);o>s&&i.charCodeAt(s)==n.charCodeAt(s);)++s;var a=this;return Mi(e,function(){Q(e,n.slice(s),i.length-s,null,a.composing?"*compose":null),n.length>1e3||n.indexOf("\n")>-1?t.value=a.prevInput="":a.prevInput=n,a.composing&&(a.composing.range.clear(),a.composing.range=e.markText(a.composing.start,e.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},ensurePolled:function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},onKeyPress:function(){bo&&wo>=9&&(this.hasSelection=null),this.fastPoll()},onContextMenu:function(e){function t(){if(null!=o.selectionStart){var e=r.somethingSelected(),t="\u200b"+(e?o.value:"");o.value="\u21da",o.value=t,n.prevInput=e?"":"\u200b",o.selectionStart=1,o.selectionEnd=t.length,s.selForContextMenu=r.doc.sel}}function i(){if(n.contextMenuPending=!1,n.wrapper.style.cssText=d,o.style.cssText=u,bo&&9>wo&&s.scrollbars.setScrollTop(s.scroller.scrollTop=l),null!=o.selectionStart){(!bo||bo&&9>wo)&&t();var e=0,i=function(){s.selForContextMenu==r.doc.sel&&0==o.selectionStart&&o.selectionEnd>0&&"\u200b"==n.prevInput?Ai(r,ua.selectAll)(r):e++<10?s.detectingSelectAll=setTimeout(i,500):s.input.reset()};s.detectingSelectAll=setTimeout(i,200)}}var n=this,r=n.cm,s=r.display,o=n.textarea,a=Yi(r,e),l=s.scroller.scrollTop;if(a&&!Co){var c=r.options.resetSelectionOnContextMenu;c&&-1==r.doc.sel.contains(a)&&Ai(r,St)(r.doc,ft(a),za);var u=o.style.cssText,d=n.wrapper.style.cssText;n.wrapper.style.cssText="position: absolute";var h=n.wrapper.getBoundingClientRect();if(o.style.cssText="position: absolute; width: 30px; height: 30px; top: "+(e.clientY-h.top-5)+"px; left: "+(e.clientX-h.left-5)+"px; z-index: 1000; background: "+(bo?"rgba(255, 255, 255, .05)":"transparent")+"; outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",xo)var f=window.scrollY;if(s.input.focus(),xo&&window.scrollTo(null,f),s.input.reset(),r.somethingSelected()||(o.value=n.prevInput=" "),n.contextMenuPending=!0,s.selForContextMenu=r.doc.sel,clearTimeout(s.detectingSelectAll),bo&&wo>=9&&t(),Ho){Ma(e);var p=function(){Oa(window,"mouseup",p),setTimeout(i,20)};Aa(window,"mouseup",p)}else setTimeout(i,50)}},readOnlyChanged:function(e){e||this.reset()},setUneditable:Hs,needsContentAttribute:!1},it.prototype),rt.prototype=zs({init:function(e){function t(e){if(!Ss(n,e)){if(n.somethingSelected())Fo={lineWise:!1,text:n.getSelections()},"cut"==e.type&&n.replaceSelection("",null,"cut");else{if(!n.options.lineWiseCopyCut)return;var t=et(n);Fo={lineWise:!0,text:t.text},"cut"==e.type&&n.operation(function(){n.setSelections(t.ranges,0,za),n.replaceSelection("",null,"cut")})}if(e.clipboardData&&!Eo)e.preventDefault(),e.clipboardData.clearData(),e.clipboardData.setData("text/plain",Fo.text.join("\n"));else{var i=nt(),r=i.firstChild;n.display.lineSpace.insertBefore(i,n.display.lineSpace.firstChild),r.value=Fo.text.join("\n");var s=document.activeElement;Ba(r),setTimeout(function(){n.display.lineSpace.removeChild(i),s.focus()},50)}}}var i=this,n=i.cm,r=i.div=e.lineDiv;tt(r),Aa(r,"paste",function(e){Ss(n,e)||Z(e,n)}),Aa(r,"compositionstart",function(e){var t=e.data;if(i.composing={sel:n.doc.sel,data:t,startData:t},t){var r=n.doc.sel.primary(),s=n.getLine(r.head.line),o=s.indexOf(t,Math.max(0,r.head.ch-t.length));o>-1&&o<=r.head.ch&&(i.composing.sel=ft(No(r.head.line,o),No(r.head.line,o+t.length)))}}),Aa(r,"compositionupdate",function(e){i.composing.data=e.data}),Aa(r,"compositionend",function(e){var t=i.composing;t&&(e.data==t.startData||/\u200b/.test(e.data)||(t.data=e.data),setTimeout(function(){t.handled||i.applyComposition(t),i.composing==t&&(i.composing=null)},50))}),Aa(r,"touchstart",function(){i.forceCompositionEnd()}),Aa(r,"input",function(){i.composing||(n.isReadOnly()||!i.pollContent())&&Mi(i.cm,function(){Hi(n)})}),Aa(r,"copy",t),Aa(r,"cut",t)},prepareSelection:function(){var e=Ht(this.cm,!1);return e.focus=this.cm.state.focused,e},showSelection:function(e,t){e&&this.cm.display.view.length&&((e.focus||t)&&this.showPrimarySelection(),this.showMultipleSelections(e))},showPrimarySelection:function(){var e=window.getSelection(),t=this.cm.doc.sel.primary(),i=at(this.cm,e.anchorNode,e.anchorOffset),n=at(this.cm,e.focusNode,e.focusOffset);if(!i||i.bad||!n||n.bad||0!=Lo(K(i,n),t.from())||0!=Lo(G(i,n),t.to())){var r=st(this.cm,t.from()),s=st(this.cm,t.to());if(r||s){var o=this.cm.display.view,a=e.rangeCount&&e.getRangeAt(0);if(r){if(!s){var l=o[o.length-1].measure,c=l.maps?l.maps[l.maps.length-1]:l.map;s={node:c[c.length-1],offset:c[c.length-2]-c[c.length-3]}}}else r={node:o[0].measure.map[2],offset:0};try{var u=Ua(r.node,r.offset,s.offset,s.node)}catch(d){}u&&(!mo&&this.cm.state.focused?(e.collapse(r.node,r.offset),u.collapsed||e.addRange(u)):(e.removeAllRanges(),e.addRange(u)),a&&null==e.anchorNode?e.addRange(a):mo&&this.startGracePeriod()),this.rememberSelection()}}},startGracePeriod:function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation(function(){e.cm.curOp.selectionChanged=!0})},20)},showMultipleSelections:function(e){Us(this.cm.display.cursorDiv,e.cursors),Us(this.cm.display.selectionDiv,e.selection)},rememberSelection:function(){var e=window.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},selectionInEditor:function(){var e=window.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return Ga(this.div,t)},focus:function(){"nocursor"!=this.cm.options.readOnly&&this.div.focus()},blur:function(){this.div.blur()},getField:function(){return this.div},supportsTouch:function(){return!0},receivedFocus:function(){function e(){t.cm.state.focused&&(t.pollSelection(),t.polling.set(t.cm.options.pollInterval,e))}var t=this;this.selectionInEditor()?this.pollSelection():Mi(this.cm,function(){t.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,e)},selectionChanged:function(){var e=window.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},pollSelection:function(){if(!this.composing&&!this.gracePeriod&&this.selectionChanged()){var e=window.getSelection(),t=this.cm;this.rememberSelection();var i=at(t,e.anchorNode,e.anchorOffset),n=at(t,e.focusNode,e.focusOffset);i&&n&&Mi(t,function(){St(t.doc,ft(i,n),za),(i.bad||n.bad)&&(t.curOp.selectionChanged=!0)})}},pollContent:function(){var e=this.cm,t=e.display,i=e.doc.sel.primary(),n=i.from(),r=i.to();if(n.line<t.viewFrom||r.line>t.viewTo-1)return!1;var s;if(n.line==t.viewFrom||0==(s=Ni(e,n.line)))var o=ts(t.view[0].line),a=t.view[0].node;else var o=ts(t.view[s].line),a=t.view[s-1].node.nextSibling;var l=Ni(e,r.line);if(l==t.view.length-1)var c=t.viewTo-1,u=t.lineDiv.lastChild;else var c=ts(t.view[l+1].line)-1,u=t.view[l+1].node.previousSibling;for(var d=e.doc.splitLines(ct(e,a,u,o,c)),h=Zr(e.doc,No(o,0),No(c,Qr(e.doc,c).text.length));d.length>1&&h.length>1;)if(Os(d)==Os(h))d.pop(),h.pop(),c--;else{if(d[0]!=h[0])break;d.shift(),h.shift(),o++}for(var f=0,p=0,g=d[0],m=h[0],v=Math.min(g.length,m.length);v>f&&g.charCodeAt(f)==m.charCodeAt(f);)++f;for(var y=Os(d),b=Os(h),w=Math.min(y.length-(1==d.length?f:0),b.length-(1==h.length?f:0));w>p&&y.charCodeAt(y.length-p-1)==b.charCodeAt(b.length-p-1);)++p;d[d.length-1]=y.slice(0,y.length-p),d[0]=d[0].slice(f);var x=No(o,f),k=No(c,h.length?Os(h).length-p:0);return d.length>1||d[0]||Lo(x,k)?(On(e.doc,d,x,k,"+input"),!0):void 0},ensurePolled:function(){this.forceCompositionEnd()},reset:function(){this.forceCompositionEnd()},forceCompositionEnd:function(){this.composing&&!this.composing.handled&&(this.applyComposition(this.composing),this.composing.handled=!0,this.div.blur(),this.div.focus())},applyComposition:function(e){this.cm.isReadOnly()?Ai(this.cm,Hi)(this.cm):e.data&&e.data!=e.startData&&Ai(this.cm,Q)(this.cm,e.data,0,e.sel)},setUneditable:function(e){e.contentEditable="false"},onKeyPress:function(e){e.preventDefault(),this.cm.isReadOnly()||Ai(this.cm,Q)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0)},readOnlyChanged:function(e){this.div.contentEditable=String("nocursor"!=e)},onContextMenu:Hs,resetPosition:Hs,needsContentAttribute:!0},rt.prototype),e.inputStyles={textarea:it,contenteditable:rt},ut.prototype={primary:function(){return this.ranges[this.primIndex]},equals:function(e){if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var t=0;t<this.ranges.length;t++){var i=this.ranges[t],n=e.ranges[t];if(0!=Lo(i.anchor,n.anchor)||0!=Lo(i.head,n.head))return!1}return!0},deepCopy:function(){for(var e=[],t=0;t<this.ranges.length;t++)e[t]=new dt(V(this.ranges[t].anchor),V(this.ranges[t].head));return new ut(e,this.primIndex)},somethingSelected:function(){for(var e=0;e<this.ranges.length;e++)if(!this.ranges[e].empty())return!0;return!1},contains:function(e,t){t||(t=e);for(var i=0;i<this.ranges.length;i++){var n=this.ranges[i];if(Lo(t,n.from())>=0&&Lo(e,n.to())<=0)return i}return-1}},dt.prototype={from:function(){return K(this.anchor,this.head)},to:function(){return G(this.anchor,this.head)},empty:function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch}};var jo,Wo,Bo,Uo={left:0,right:0,top:0,bottom:0},qo=null,Yo=0,Vo=0,Go=0,Ko=null;bo?Ko=-.53:mo?Ko=15:_o?Ko=-.7:To&&(Ko=-1/3);var Xo=function(e){var t=e.wheelDeltaX,i=e.wheelDeltaY;return null==t&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),null==i&&e.detail&&e.axis==e.VERTICAL_AXIS?i=e.detail:null==i&&(i=e.wheelDelta),{x:t,y:i}};e.wheelEventPixels=function(e){var t=Xo(e);return t.x*=Ko,t.y*=Ko,t};var Qo=new As,Zo=null,Jo=e.changeEnd=function(e){return e.text?No(e.from.line+e.text.length-1,Os(e.text).length+(1==e.text.length?e.from.ch:0)):e.to};e.prototype={constructor:e,focus:function(){window.focus(),this.display.input.focus()},setOption:function(e,t){var i=this.options,n=i[e];(i[e]!=t||"mode"==e)&&(i[e]=t,ta.hasOwnProperty(e)&&Ai(this,ta[e])(this,t,n))},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?"push":"unshift"](Vn(e))},removeKeyMap:function(e){for(var t=this.state.keyMaps,i=0;i<t.length;++i)if(t[i]==e||t[i].name==e)return t.splice(i,1),!0},addOverlay:Ii(function(t,i){var n=t.token?t:e.getMode(this.options,t);if(n.startState)throw new Error("Overlays may not be stateful.");this.state.overlays.push({mode:n,modeSpec:t,opaque:i&&i.opaque}),this.state.modeGen++,Hi(this)}),removeOverlay:Ii(function(e){for(var t=this.state.overlays,i=0;i<t.length;++i){var n=t[i].modeSpec;if(n==e||"string"==typeof e&&n.name==e)return t.splice(i,1),this.state.modeGen++,void Hi(this)}}),indentLine:Ii(function(e,t,i){"string"!=typeof t&&"number"!=typeof t&&(t=null==t?this.options.smartIndent?"smart":"prev":t?"add":"subtract"),vt(this.doc,e)&&Fn(this,e,t,i)}),indentSelection:Ii(function(e){for(var t=this.doc.sel.ranges,i=-1,n=0;n<t.length;n++){var r=t[n];if(r.empty())r.head.line>i&&(Fn(this,r.head.line,e,!0),i=r.head.line,n==this.doc.sel.primIndex&&Nn(this));else{var s=r.from(),o=r.to(),a=Math.max(i,s.line);i=Math.min(this.lastLine(),o.line-(o.ch?0:1))+1;for(var l=a;i>l;++l)Fn(this,l,e);var c=this.doc.sel.ranges;0==s.ch&&t.length==c.length&&c[n].from().ch>0&&kt(this.doc,n,new dt(s,c[n].to()),za)}}}),getTokenAt:function(e,t){return Or(this,e,t)},getLineTokens:function(e,t){return Or(this,No(e),t,!0)},getTokenTypeAt:function(e){e=gt(this.doc,e);var t,i=Hr(this,Qr(this.doc,e.line)),n=0,r=(i.length-1)/2,s=e.ch;if(0==s)t=i[2];else for(;;){var o=n+r>>1;if((o?i[2*o-1]:0)>=s)r=o;else{if(!(i[2*o+1]<s)){t=i[2*o+2];break}n=o+1}}var a=t?t.indexOf("cm-overlay "):-1;return 0>a?t:0==a?null:t.slice(0,a-1)},getModeAt:function(t){var i=this.doc.mode;return i.innerMode?e.innerMode(i,this.getTokenAt(t).state).mode:i},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var i=[];if(!aa.hasOwnProperty(t))return i;var n=aa[t],r=this.getModeAt(e);if("string"==typeof r[t])n[r[t]]&&i.push(n[r[t]]);else if(r[t])for(var s=0;s<r[t].length;s++){var o=n[r[t][s]];o&&i.push(o)}else r.helperType&&n[r.helperType]?i.push(n[r.helperType]):n[r.name]&&i.push(n[r.name]);for(var s=0;s<n._global.length;s++){var a=n._global[s];a.pred(r,this)&&-1==$s(i,a.val)&&i.push(a.val)}return i},getStateAfter:function(e,t){var i=this.doc;return e=pt(i,null==e?i.first+i.size-1:e),Wt(this,e+1,t)},cursorCoords:function(e,t){var i,n=this.doc.sel.primary();return i=null==e?n.head:"object"==typeof e?gt(this.doc,e):e?n.from():n.to(),fi(this,i,t||"page")},charCoords:function(e,t){return hi(this,gt(this.doc,e),t||"page")},coordsChar:function(e,t){return e=di(this,e,t||"page"),mi(this,e.left,e.top)},lineAtHeight:function(e,t){return e=di(this,{top:e,left:0},t||"page").top,is(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,t){var i,n=!1;if("number"==typeof e){var r=this.doc.first+this.doc.size-1;e<this.doc.first?e=this.doc.first:e>r&&(e=r,n=!0),i=Qr(this.doc,e)}else i=e;return ui(this,i,{top:0,left:0},t||"page").top+(n?this.doc.height-ns(i):0)},defaultTextHeight:function(){return yi(this.display)},defaultCharWidth:function(){return bi(this.display)},setGutterMarker:Ii(function(e,t,i){return jn(this.doc,e,"gutter",function(e){var n=e.gutterMarkers||(e.gutterMarkers={});return n[t]=i,!i&&Fs(n)&&(e.gutterMarkers=null),!0})}),clearGutter:Ii(function(e){var t=this,i=t.doc,n=i.first;i.iter(function(i){i.gutterMarkers&&i.gutterMarkers[e]&&(i.gutterMarkers[e]=null,Pi(t,n,"gutter"),Fs(i.gutterMarkers)&&(i.gutterMarkers=null)),++n})}),lineInfo:function(e){if("number"==typeof e){if(!vt(this.doc,e))return null;var t=e;if(e=Qr(this.doc,e),!e)return null}else{var t=ts(e);if(null==t)return null}return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,t,i,n,r){var s=this.display;e=fi(this,gt(this.doc,e));var o=e.bottom,a=e.left;if(t.style.position="absolute",t.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(t),s.sizer.appendChild(t),"over"==n)o=e.top;else if("above"==n||"near"==n){var l=Math.max(s.wrapper.clientHeight,this.doc.height),c=Math.max(s.sizer.clientWidth,s.lineSpace.clientWidth);("above"==n||e.bottom+t.offsetHeight>l)&&e.top>t.offsetHeight?o=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=l&&(o=e.bottom),a+t.offsetWidth>c&&(a=c-t.offsetWidth)}t.style.top=o+"px",t.style.left=t.style.right="","right"==r?(a=s.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==r?a=0:"middle"==r&&(a=(s.sizer.clientWidth-t.offsetWidth)/2),t.style.left=a+"px"),i&&Hn(this,a,o,a+t.offsetWidth,o+t.offsetHeight)},triggerOnKeyDown:Ii(hn),triggerOnKeyPress:Ii(gn),triggerOnKeyUp:pn,execCommand:function(e){return ua.hasOwnProperty(e)?ua[e].call(null,this):void 0},triggerElectric:Ii(function(e){J(this,e)}),findPosH:function(e,t,i,n){var r=1;0>t&&(r=-1,t=-t);for(var s=0,o=gt(this.doc,e);t>s&&(o=Bn(this.doc,o,r,i,n),!o.hitSide);++s);return o},moveH:Ii(function(e,t){var i=this;i.extendSelectionsBy(function(n){return i.display.shift||i.doc.extend||n.empty()?Bn(i.doc,n.head,e,t,i.options.rtlMoveVisually):0>e?n.from():n.to()},La)}),deleteH:Ii(function(e,t){var i=this.doc.sel,n=this.doc;i.somethingSelected()?n.replaceSelection("",null,"+delete"):Wn(this,function(i){var r=Bn(n,i.head,e,t,!1);return 0>e?{from:r,to:i.head}:{from:i.head,to:r}})}),findPosV:function(e,t,i,n){var r=1,s=n;0>t&&(r=-1,t=-t);for(var o=0,a=gt(this.doc,e);t>o;++o){var l=fi(this,a,"div");if(null==s?s=l.left:l.left=s,a=Un(this,l,r,i),a.hitSide)break}return a},moveV:Ii(function(e,t){var i=this,n=this.doc,r=[],s=!i.display.shift&&!n.extend&&n.sel.somethingSelected();if(n.extendSelectionsBy(function(o){if(s)return 0>e?o.from():o.to();var a=fi(i,o.head,"div");null!=o.goalColumn&&(a.left=o.goalColumn),r.push(a.left);var l=Un(i,a,e,t);return"page"==t&&o==n.sel.primary()&&zn(i,null,hi(i,l,"div").top-a.top),l},La),r.length)for(var o=0;o<n.sel.ranges.length;o++)n.sel.ranges[o].goalColumn=r[o]}),findWordAt:function(e){var t=this.doc,i=Qr(t,e.line).text,n=e.ch,r=e.ch;if(i){var s=this.getHelper(e,"wordChars");(e.xRel<0||r==i.length)&&n?--n:++r;for(var o=i.charAt(n),a=Ls(o,s)?function(e){return Ls(e,s)}:/\s/.test(o)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!Ls(e)};n>0&&a(i.charAt(n-1));)--n;for(;r<i.length&&a(i.charAt(r));)++r}return new dt(No(e.line,n),No(e.line,r))},toggleOverwrite:function(e){(null==e||e!=this.state.overwrite)&&((this.state.overwrite=!this.state.overwrite)?Za(this.display.cursorDiv,"CodeMirror-overwrite"):Qa(this.display.cursorDiv,"CodeMirror-overwrite"),$a(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==qs()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:Ii(function(e,t){(null!=e||null!=t)&&Ln(this),null!=e&&(this.curOp.scrollLeft=e),null!=t&&(this.curOp.scrollTop=t)}),getScrollInfo:function(){var e=this.display.scroller;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-Yt(this)-this.display.barHeight,width:e.scrollWidth-Yt(this)-this.display.barWidth,clientHeight:Gt(this),clientWidth:Vt(this)}},scrollIntoView:Ii(function(e,t){if(null==e?(e={from:this.doc.sel.primary().head,to:null},null==t&&(t=this.options.cursorScrollMargin)):"number"==typeof e?e={from:No(e,0),to:null}:null==e.from&&(e={from:e,to:null}),e.to||(e.to=e.from),e.margin=t||0,null!=e.from.line)Ln(this),this.curOp.scrollToPos=e;else{var i=Pn(this,Math.min(e.from.left,e.to.left),Math.min(e.from.top,e.to.top)-e.margin,Math.max(e.from.right,e.to.right),Math.max(e.from.bottom,e.to.bottom)+e.margin);this.scrollTo(i.scrollLeft,i.scrollTop)}}),setSize:Ii(function(e,t){function i(e){return"number"==typeof e||/^\d+$/.test(String(e))?e+"px":e}var n=this;null!=e&&(n.display.wrapper.style.width=i(e)),null!=t&&(n.display.wrapper.style.height=i(t)),n.options.lineWrapping&&oi(this);var r=n.display.viewFrom;n.doc.iter(r,n.display.viewTo,function(e){if(e.widgets)for(var t=0;t<e.widgets.length;t++)if(e.widgets[t].noHScroll){Pi(n,r,"widget");break}++r}),n.curOp.forceUpdate=!0,$a(n,"refresh",this)}),operation:function(e){return Mi(this,e)},refresh:Ii(function(){var e=this.display.cachedTextHeight;Hi(this),this.curOp.forceUpdate=!0,ai(this),this.scrollTo(this.doc.scrollLeft,this.doc.scrollTop),u(this),(null==e||Math.abs(e-yi(this.display))>.5)&&o(this),$a(this,"refresh",this)}),swapDoc:Ii(function(e){var t=this.doc;return t.cm=null,Xr(this,e),ai(this),this.display.input.reset(),this.scrollTo(e.scrollLeft,e.scrollTop),this.curOp.forceScroll=!0,Cs(this,"swapDoc",this,t),t}),getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Ms(e);var ea=e.defaults={},ta=e.optionHandlers={},ia=e.Init={toString:function(){return"CodeMirror.Init"}};qn("value","",function(e,t){e.setValue(t)},!0),qn("mode",null,function(e,t){e.doc.modeOption=t,i(e)},!0),qn("indentUnit",2,i,!0),qn("indentWithTabs",!1),qn("smartIndent",!0),qn("tabSize",4,function(e){n(e),ai(e),Hi(e)},!0),qn("lineSeparator",null,function(e,t){if(e.doc.lineSep=t,t){var i=[],n=e.doc.first;e.doc.iter(function(e){for(var r=0;;){var s=e.text.indexOf(t,r);if(-1==s)break;r=s+t.length,i.push(No(n,s))}n++});for(var r=i.length-1;r>=0;r--)On(e.doc,t,i[r],No(i[r].line,i[r].ch+t.length))}}),qn("specialChars",/[\u0000-\u001f\u007f\u00ad\u200b-\u200f\u2028\u2029\ufeff]/g,function(t,i,n){t.state.specialChars=new RegExp(i.source+(i.test("	")?"":"|	"),"g"),n!=e.Init&&t.refresh()}),qn("specialCharPlaceholder",Lr,function(e){e.refresh()},!0),qn("electricChars",!0),qn("inputStyle",Mo?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),qn("rtlMoveVisually",!Oo),qn("wholeLineUpdateBefore",!0),qn("theme","default",function(e){a(e),l(e)},!0),qn("keyMap","default",function(t,i,n){var r=Vn(i),s=n!=e.Init&&Vn(n);s&&s.detach&&s.detach(t,r),r.attach&&r.attach(t,s||null)}),qn("extraKeys",null),qn("lineWrapping",!1,r,!0),qn("gutters",[],function(e){f(e.options),l(e)},!0),qn("fixedGutter",!0,function(e,t){e.display.gutters.style.left=t?C(e.display)+"px":"0",e.refresh()},!0),qn("coverGutterNextToScrollbar",!1,function(e){y(e)},!0),qn("scrollbarStyle","native",function(e){v(e),y(e),e.display.scrollbars.setScrollTop(e.doc.scrollTop),e.display.scrollbars.setScrollLeft(e.doc.scrollLeft)},!0),qn("lineNumbers",!1,function(e){f(e.options),l(e)},!0),qn("firstLineNumber",1,l,!0),qn("lineNumberFormatter",function(e){return e},l,!0),qn("showCursorWhenSelecting",!1,Rt,!0),qn("resetSelectionOnContextMenu",!0),qn("lineWiseCopyCut",!0),qn("readOnly",!1,function(e,t){"nocursor"==t?(yn(e),e.display.input.blur(),e.display.disabled=!0):e.display.disabled=!1,e.display.input.readOnlyChanged(t)}),qn("disableInput",!1,function(e,t){t||e.display.input.reset()},!0),qn("dragDrop",!0,Bi),qn("allowDropFileTypes",null),qn("cursorBlinkRate",530),qn("cursorScrollMargin",0),qn("cursorHeight",1,Rt,!0),qn("singleCursorHeightPerLine",!0,Rt,!0),qn("workTime",100),qn("workDelay",100),qn("flattenSpans",!0,n,!0),qn("addModeClass",!1,n,!0),qn("pollInterval",100),qn("undoDepth",200,function(e,t){e.doc.history.undoDepth=t}),qn("historyEventDelay",1250),qn("viewportMargin",10,function(e){e.refresh()},!0),qn("maxHighlightLength",1e4,n,!0),qn("moveInputWithCursor",!0,function(e,t){t||e.display.input.resetPosition()}),qn("tabindex",null,function(e,t){e.display.input.getField().tabIndex=t||""}),qn("autofocus",null);var na=e.modes={},ra=e.mimeModes={};e.defineMode=function(t,i){e.defaults.mode||"null"==t||(e.defaults.mode=t),arguments.length>2&&(i.dependencies=Array.prototype.slice.call(arguments,2)),na[t]=i},e.defineMIME=function(e,t){ra[e]=t},e.resolveMode=function(t){if("string"==typeof t&&ra.hasOwnProperty(t))t=ra[t];else if(t&&"string"==typeof t.name&&ra.hasOwnProperty(t.name)){var i=ra[t.name];"string"==typeof i&&(i={name:i}),t=Ps(i,t),t.name=i.name}else if("string"==typeof t&&/^[\w\-]+\/[\w\-]+\+xml$/.test(t))return e.resolveMode("application/xml");return"string"==typeof t?{name:t}:t||{name:"null"}},e.getMode=function(t,i){var i=e.resolveMode(i),n=na[i.name];if(!n)return e.getMode(t,"text/plain");var r=n(t,i);if(sa.hasOwnProperty(i.name)){var s=sa[i.name];for(var o in s)s.hasOwnProperty(o)&&(r.hasOwnProperty(o)&&(r["_"+o]=r[o]),r[o]=s[o])}if(r.name=i.name,i.helperType&&(r.helperType=i.helperType),i.modeProps)for(var o in i.modeProps)r[o]=i.modeProps[o];return r},e.defineMode("null",function(){return{token:function(e){e.skipToEnd()}}}),e.defineMIME("text/plain","null");var sa=e.modeExtensions={};e.extendMode=function(e,t){var i=sa.hasOwnProperty(e)?sa[e]:sa[e]={};zs(t,i)},e.defineExtension=function(t,i){e.prototype[t]=i},e.defineDocExtension=function(e,t){Ca.prototype[e]=t},e.defineOption=qn;var oa=[];e.defineInitHook=function(e){oa.push(e)};var aa=e.helpers={};e.registerHelper=function(t,i,n){aa.hasOwnProperty(t)||(aa[t]=e[t]={_global:[]}),aa[t][i]=n},e.registerGlobalHelper=function(t,i,n,r){e.registerHelper(t,i,r),aa[t]._global.push({pred:n,val:r})};var la=e.copyState=function(e,t){if(t===!0)return t;if(e.copyState)return e.copyState(t);var i={};for(var n in t){var r=t[n];r instanceof Array&&(r=r.concat([])),i[n]=r}return i},ca=e.startState=function(e,t,i){return e.startState?e.startState(t,i):!0};e.innerMode=function(e,t){for(;e.innerMode;){var i=e.innerMode(t);if(!i||i.mode==e)break;t=i.state,e=i.mode}return i||{mode:e,state:t}};var ua=e.commands={selectAll:function(e){e.setSelection(No(e.firstLine(),0),No(e.lastLine()),za)},singleSelection:function(e){e.setSelection(e.getCursor("anchor"),e.getCursor("head"),za)},killLine:function(e){Wn(e,function(t){if(t.empty()){var i=Qr(e.doc,t.head.line).text.length;return t.head.ch==i&&t.head.line<e.lastLine()?{from:t.head,to:No(t.head.line+1,0)}:{from:t.head,to:No(t.head.line,i)}}return{from:t.from(),to:t.to()}})},deleteLine:function(e){Wn(e,function(t){return{from:No(t.from().line,0),to:gt(e.doc,No(t.to().line+1,0))}})},delLineLeft:function(e){Wn(e,function(e){return{from:No(e.from().line,0),to:e.from()}})},delWrappedLineLeft:function(e){Wn(e,function(t){var i=e.charCoords(t.head,"div").top+5,n=e.coordsChar({left:0,top:i},"div");return{from:n,to:t.from()}})},delWrappedLineRight:function(e){Wn(e,function(t){var i=e.charCoords(t.head,"div").top+5,n=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:i},"div");return{from:t.from(),to:n}})},undo:function(e){e.undo()},redo:function(e){e.redo()},undoSelection:function(e){e.undoSelection()},redoSelection:function(e){e.redoSelection()},goDocStart:function(e){e.extendSelection(No(e.firstLine(),0))},goDocEnd:function(e){e.extendSelection(No(e.lastLine()))},goLineStart:function(e){e.extendSelectionsBy(function(t){return so(e,t.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(e){e.extendSelectionsBy(function(t){return ao(e,t.head)},{origin:"+move",bias:1})},goLineEnd:function(e){e.extendSelectionsBy(function(t){return oo(e,t.head.line)},{origin:"+move",bias:-1})},goLineRight:function(e){e.extendSelectionsBy(function(t){var i=e.charCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:i},"div")},La)},goLineLeft:function(e){e.extendSelectionsBy(function(t){var i=e.charCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:i},"div")},La)},goLineLeftSmart:function(e){e.extendSelectionsBy(function(t){var i=e.charCoords(t.head,"div").top+5,n=e.coordsChar({left:0,top:i},"div");return n.ch<e.getLine(n.line).search(/\S/)?ao(e,t.head):n},La)},goLineUp:function(e){e.moveV(-1,"line")},goLineDown:function(e){e.moveV(1,"line")},goPageUp:function(e){e.moveV(-1,"page")},goPageDown:function(e){e.moveV(1,"page")},goCharLeft:function(e){e.moveH(-1,"char")},goCharRight:function(e){e.moveH(1,"char")},goColumnLeft:function(e){e.moveH(-1,"column")},goColumnRight:function(e){e.moveH(1,"column")},goWordLeft:function(e){e.moveH(-1,"word")},goGroupRight:function(e){e.moveH(1,"group")},goGroupLeft:function(e){e.moveH(-1,"group")},goWordRight:function(e){e.moveH(1,"word")},delCharBefore:function(e){e.deleteH(-1,"char")},delCharAfter:function(e){e.deleteH(1,"char")},delWordBefore:function(e){e.deleteH(-1,"word")},delWordAfter:function(e){e.deleteH(1,"word")},delGroupBefore:function(e){e.deleteH(-1,"group")},delGroupAfter:function(e){e.deleteH(1,"group")},indentAuto:function(e){e.indentSelection("smart")},indentMore:function(e){e.indentSelection("add")},indentLess:function(e){e.indentSelection("subtract")},insertTab:function(e){e.replaceSelection("	")},insertSoftTab:function(e){for(var t=[],i=e.listSelections(),n=e.options.tabSize,r=0;r<i.length;r++){var s=i[r].from(),o=Fa(e.getLine(s.line),s.ch,n);
t.push(Is(n-o%n))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){Mi(e,function(){for(var t=e.listSelections(),i=[],n=0;n<t.length;n++){var r=t[n].head,s=Qr(e.doc,r.line).text;if(s)if(r.ch==s.length&&(r=new No(r.line,r.ch-1)),r.ch>0)r=new No(r.line,r.ch+1),e.replaceRange(s.charAt(r.ch-1)+s.charAt(r.ch-2),No(r.line,r.ch-2),r,"+transpose");else if(r.line>e.doc.first){var o=Qr(e.doc,r.line-1).text;o&&e.replaceRange(s.charAt(0)+e.doc.lineSeparator()+o.charAt(o.length-1),No(r.line-1,o.length-1),No(r.line,1),"+transpose")}i.push(new dt(r,r))}e.setSelections(i)})},newlineAndIndent:function(e){Mi(e,function(){for(var t=e.listSelections().length,i=0;t>i;i++){var n=e.listSelections()[i];e.replaceRange(e.doc.lineSeparator(),n.anchor,n.head,"+input"),e.indentLine(n.from().line+1,null,!0)}Nn(e)})},openLine:function(e){e.replaceSelection("\n","start")},toggleOverwrite:function(e){e.toggleOverwrite()}},da=e.keyMap={};da.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},da.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},da.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},da.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},da["default"]=Ao?da.macDefault:da.pcDefault,e.normalizeKeyMap=function(e){var t={};for(var i in e)if(e.hasOwnProperty(i)){var n=e[i];if(/^(name|fallthrough|(de|at)tach)$/.test(i))continue;if("..."==n){delete e[i];continue}for(var r=Rs(i.split(" "),Yn),s=0;s<r.length;s++){var o,a;s==r.length-1?(a=r.join(" "),o=n):(a=r.slice(0,s+1).join(" "),o="...");var l=t[a];if(l){if(l!=o)throw new Error("Inconsistent bindings for "+a)}else t[a]=o}delete e[i]}for(var c in t)e[c]=t[c];return e};var ha=e.lookupKey=function(e,t,i,n){t=Vn(t);var r=t.call?t.call(e,n):t[e];if(r===!1)return"nothing";if("..."===r)return"multi";if(null!=r&&i(r))return"handled";if(t.fallthrough){if("[object Array]"!=Object.prototype.toString.call(t.fallthrough))return ha(e,t.fallthrough,i,n);for(var s=0;s<t.fallthrough.length;s++){var o=ha(e,t.fallthrough[s],i,n);if(o)return o}}},fa=e.isModifierKey=function(e){var t="string"==typeof e?e:sl[e.keyCode];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t},pa=e.keyName=function(e,t){if(Co&&34==e.keyCode&&e["char"])return!1;var i=sl[e.keyCode],n=i;return null==n||e.altGraphKey?!1:(e.altKey&&"Alt"!=i&&(n="Alt-"+n),(Ro?e.metaKey:e.ctrlKey)&&"Ctrl"!=i&&(n="Ctrl-"+n),(Ro?e.ctrlKey:e.metaKey)&&"Cmd"!=i&&(n="Cmd-"+n),!t&&e.shiftKey&&"Shift"!=i&&(n="Shift-"+n),n)};e.fromTextArea=function(t,i){function n(){t.value=c.getValue()}if(i=i?zs(i):{},i.value=t.value,!i.tabindex&&t.tabIndex&&(i.tabindex=t.tabIndex),!i.placeholder&&t.placeholder&&(i.placeholder=t.placeholder),null==i.autofocus){var r=qs();i.autofocus=r==t||null!=t.getAttribute("autofocus")&&r==document.body}if(t.form&&(Aa(t.form,"submit",n),!i.leaveSubmitMethodAlone)){var s=t.form,o=s.submit;try{var a=s.submit=function(){n(),s.submit=o,s.submit(),s.submit=a}}catch(l){}}i.finishInit=function(e){e.save=n,e.getTextArea=function(){return t},e.toTextArea=function(){e.toTextArea=isNaN,n(),t.parentNode.removeChild(e.getWrapperElement()),t.style.display="",t.form&&(Oa(t.form,"submit",n),"function"==typeof t.form.submit&&(t.form.submit=o))}},t.style.display="none";var c=e(function(e){t.parentNode.insertBefore(e,t.nextSibling)},i);return c};var ga=e.StringStream=function(e,t){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0};ga.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==this.lineStart},peek:function(){return this.string.charAt(this.pos)||void 0},next:function(){return this.pos<this.string.length?this.string.charAt(this.pos++):void 0},eat:function(e){var t=this.string.charAt(this.pos);if("string"==typeof e)var i=t==e;else var i=t&&(e.test?e.test(t):e(t));return i?(++this.pos,t):void 0},eatWhile:function(e){for(var t=this.pos;this.eat(e););return this.pos>t},eatSpace:function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},skipToEnd:function(){this.pos=this.string.length},skipTo:function(e){var t=this.string.indexOf(e,this.pos);return t>-1?(this.pos=t,!0):void 0},backUp:function(e){this.pos-=e},column:function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=Fa(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?Fa(this.string,this.lineStart,this.tabSize):0)},indentation:function(){return Fa(this.string,null,this.tabSize)-(this.lineStart?Fa(this.string,this.lineStart,this.tabSize):0)},match:function(e,t,i){if("string"!=typeof e){var n=this.string.slice(this.pos).match(e);return n&&n.index>0?null:(n&&t!==!1&&(this.pos+=n[0].length),n)}var r=function(e){return i?e.toLowerCase():e},s=this.string.substr(this.pos,e.length);return r(s)==r(e)?(t!==!1&&(this.pos+=e.length),!0):void 0},current:function(){return this.string.slice(this.start,this.pos)},hideFirstChars:function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}}};var ma=0,va=e.TextMarker=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++ma};Ms(va),va.prototype.clear=function(){if(!this.explicitlyCleared){var e=this.doc.cm,t=e&&!e.curOp;if(t&&wi(e),Es(this,"clear")){var i=this.find();i&&Cs(this,"clear",i.from,i.to)}for(var n=null,r=null,s=0;s<this.lines.length;++s){var o=this.lines[s],a=er(o.markedSpans,this);e&&!this.collapsed?Pi(e,ts(o),"text"):e&&(null!=a.to&&(r=ts(o)),null!=a.from&&(n=ts(o))),o.markedSpans=tr(o.markedSpans,a),null==a.from&&this.collapsed&&!kr(this.doc,o)&&e&&es(o,yi(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(var s=0;s<this.lines.length;++s){var l=yr(this.lines[s]),c=d(l);c>e.display.maxLineLength&&(e.display.maxLine=l,e.display.maxLineLength=c,e.display.maxLineChanged=!0)}null!=n&&e&&this.collapsed&&Hi(e,n,r+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&Mt(e.doc)),e&&Cs(e,"markerCleared",e,this),t&&ki(e),this.parent&&this.parent.clear()}},va.prototype.find=function(e,t){null==e&&"bookmark"==this.type&&(e=1);for(var i,n,r=0;r<this.lines.length;++r){var s=this.lines[r],o=er(s.markedSpans,this);if(null!=o.from&&(i=No(t?s:ts(s),o.from),-1==e))return i;if(null!=o.to&&(n=No(t?s:ts(s),o.to),1==e))return n}return i&&{from:i,to:n}},va.prototype.changed=function(){var e=this.find(-1,!0),t=this,i=this.doc.cm;e&&i&&Mi(i,function(){var n=e.line,r=ts(e.line),s=Jt(i,r);if(s&&(si(s),i.curOp.selectionChanged=i.curOp.forceUpdate=!0),i.curOp.updateMaxLine=!0,!kr(t.doc,n)&&null!=t.height){var o=t.height;t.height=null;var a=Tr(t)-o;a&&es(n,n.height+a)}})},va.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&-1!=$s(t.maybeHiddenMarkers,this)||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},va.prototype.detachLine=function(e){if(this.lines.splice($s(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}};var ma=0,ya=e.SharedTextMarker=function(e,t){this.markers=e,this.primary=t;for(var i=0;i<e.length;++i)e[i].parent=this};Ms(ya),ya.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();Cs(this,"clear")}},ya.prototype.find=function(e,t){return this.primary.find(e,t)};var ba=e.LineWidget=function(e,t,i){if(i)for(var n in i)i.hasOwnProperty(n)&&(this[n]=i[n]);this.doc=e,this.node=t};Ms(ba),ba.prototype.clear=function(){var e=this.doc.cm,t=this.line.widgets,i=this.line,n=ts(i);if(null!=n&&t){for(var r=0;r<t.length;++r)t[r]==this&&t.splice(r--,1);t.length||(i.widgets=null);var s=Tr(this);es(i,Math.max(0,i.height-s)),e&&Mi(e,function(){Cr(e,i,-s),Pi(e,n,"widget")})}},ba.prototype.changed=function(){var e=this.height,t=this.doc.cm,i=this.line;this.height=null;var n=Tr(this)-e;n&&(es(i,i.height+n),t&&Mi(t,function(){t.curOp.forceUpdate=!0,Cr(t,i,n)}))};var wa=e.Line=function(e,t,i){this.text=e,ur(this,t),this.height=i?i(this):1};Ms(wa),wa.prototype.lineNo=function(){return ts(this)};var xa={},ka={};Vr.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var i=e,n=e+t;n>i;++i){var r=this.lines[i];this.height-=r.height,Er(r),Cs(r,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,i){this.height+=i,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var n=0;n<t.length;++n)t[n].parent=this},iterN:function(e,t,i){for(var n=e+t;n>e;++e)if(i(this.lines[e]))return!0}},Gr.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var i=0;i<this.children.length;++i){var n=this.children[i],r=n.chunkSize();if(r>e){var s=Math.min(t,r-e),o=n.height;if(n.removeInner(e,s),this.height-=o-n.height,r==s&&(this.children.splice(i--,1),n.parent=null),0==(t-=s))break;e=0}else e-=r}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof Vr))){var a=[];this.collapse(a),this.children=[new Vr(a)],this.children[0].parent=this}},collapse:function(e){for(var t=0;t<this.children.length;++t)this.children[t].collapse(e)},insertInner:function(e,t,i){this.size+=t.length,this.height+=i;for(var n=0;n<this.children.length;++n){var r=this.children[n],s=r.chunkSize();if(s>=e){if(r.insertInner(e,t,i),r.lines&&r.lines.length>50){for(var o=r.lines.length%25+25,a=o;a<r.lines.length;){var l=new Vr(r.lines.slice(a,a+=25));r.height-=l.height,this.children.splice(++n,0,l),l.parent=this}r.lines=r.lines.slice(0,o),this.maybeSpill()}break}e-=s}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=e.children.splice(e.children.length-5,5),i=new Gr(t);if(e.parent){e.size-=i.size,e.height-=i.height;var n=$s(e.parent.children,e);e.parent.children.splice(n+1,0,i)}else{var r=new Gr(e.children);r.parent=e,e.children=[r,i],e=r}i.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,i){for(var n=0;n<this.children.length;++n){var r=this.children[n],s=r.chunkSize();if(s>e){var o=Math.min(t,s-e);if(r.iterN(e,o,i))return!0;if(0==(t-=o))break;e=0}else e-=s}}};var _a=0,Ca=e.Doc=function(e,t,i,n){if(!(this instanceof Ca))return new Ca(e,t,i,n);null==i&&(i=0),Gr.call(this,[new Vr([new wa("",null)])]),this.first=i,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.frontier=i;var r=No(i,0);this.sel=ft(r),this.history=new ss(null),this.id=++_a,this.modeOption=t,this.lineSep=n,this.extend=!1,"string"==typeof e&&(e=this.splitLines(e)),Yr(this,{from:r,to:r,text:e}),St(this,ft(r),za)};Ca.prototype=Ps(Gr.prototype,{constructor:Ca,iter:function(e,t,i){i?this.iterN(e-this.first,t-e,i):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var i=0,n=0;n<t.length;++n)i+=t[n].height;this.insertInner(e-this.first,t,i)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=Jr(this,this.first,this.first+this.size);return e===!1?t:t.join(e||this.lineSeparator())},setValue:Oi(function(e){var t=No(this.first,0),i=this.first+this.size-1;Sn(this,{from:t,to:No(i,Qr(this,i).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),St(this,ft(t))}),replaceRange:function(e,t,i,n){t=gt(this,t),i=i?gt(this,i):t,On(this,e,t,i,n)},getRange:function(e,t,i){var n=Zr(this,gt(this,e),gt(this,t));return i===!1?n:n.join(i||this.lineSeparator())},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){return vt(this,e)?Qr(this,e):void 0},getLineNumber:function(e){return ts(e)},getLineHandleVisualStart:function(e){return"number"==typeof e&&(e=Qr(this,e)),yr(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return gt(this,e)},getCursor:function(e){var t,i=this.sel.primary();return t=null==e||"head"==e?i.head:"anchor"==e?i.anchor:"end"==e||"to"==e||e===!1?i.to():i.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Oi(function(e,t,i){_t(this,gt(this,"number"==typeof e?No(e,t||0):e),null,i)}),setSelection:Oi(function(e,t,i){_t(this,gt(this,e),gt(this,t||e),i)}),extendSelection:Oi(function(e,t,i){wt(this,gt(this,e),t&&gt(this,t),i)}),extendSelections:Oi(function(e,t){xt(this,yt(this,e),t)}),extendSelectionsBy:Oi(function(e,t){var i=Rs(this.sel.ranges,e);xt(this,yt(this,i),t)}),setSelections:Oi(function(e,t,i){if(e.length){for(var n=0,r=[];n<e.length;n++)r[n]=new dt(gt(this,e[n].anchor),gt(this,e[n].head));null==t&&(t=Math.min(e.length-1,this.sel.primIndex)),St(this,ht(r,t),i)}}),addSelection:Oi(function(e,t,i){var n=this.sel.ranges.slice(0);n.push(new dt(gt(this,e),gt(this,t||e))),St(this,ht(n,n.length-1),i)}),getSelection:function(e){for(var t,i=this.sel.ranges,n=0;n<i.length;n++){var r=Zr(this,i[n].from(),i[n].to());t=t?t.concat(r):r}return e===!1?t:t.join(e||this.lineSeparator())},getSelections:function(e){for(var t=[],i=this.sel.ranges,n=0;n<i.length;n++){var r=Zr(this,i[n].from(),i[n].to());e!==!1&&(r=r.join(e||this.lineSeparator())),t[n]=r}return t},replaceSelection:function(e,t,i){for(var n=[],r=0;r<this.sel.ranges.length;r++)n[r]=e;this.replaceSelections(n,t,i||"+input")},replaceSelections:Oi(function(e,t,i){for(var n=[],r=this.sel,s=0;s<r.ranges.length;s++){var o=r.ranges[s];n[s]={from:o.from(),to:o.to(),text:this.splitLines(e[s]),origin:i}}for(var a=t&&"end"!=t&&Cn(this,n,t),s=n.length-1;s>=0;s--)Sn(this,n[s]);a?Tt(this,a):this.cm&&Nn(this.cm)}),undo:Oi(function(){En(this,"undo")}),redo:Oi(function(){En(this,"redo")}),undoSelection:Oi(function(){En(this,"undo",!0)}),redoSelection:Oi(function(){En(this,"redo",!0)}),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,i=0,n=0;n<e.done.length;n++)e.done[n].ranges||++t;for(var n=0;n<e.undone.length;n++)e.undone[n].ranges||++i;return{undo:t,redo:i}},clearHistory:function(){this.history=new ss(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:ms(this.history.done),undone:ms(this.history.undone)}},setHistory:function(e){var t=this.history=new ss(this.history.maxGeneration);t.done=ms(e.done.slice(0),null,!0),t.undone=ms(e.undone.slice(0),null,!0)},addLineClass:Oi(function(e,t,i){return jn(this,e,"gutter"==t?"gutter":"class",function(e){var n="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass";if(e[n]){if(Ys(i).test(e[n]))return!1;e[n]+=" "+i}else e[n]=i;return!0})}),removeLineClass:Oi(function(e,t,i){return jn(this,e,"gutter"==t?"gutter":"class",function(e){var n="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass",r=e[n];if(!r)return!1;if(null==i)e[n]=null;else{var s=r.match(Ys(i));if(!s)return!1;var o=s.index+s[0].length;e[n]=r.slice(0,s.index)+(s.index&&o!=r.length?" ":"")+r.slice(o)||null}return!0})}),addLineWidget:Oi(function(e,t,i){return Sr(this,e,t,i)}),removeLineWidget:function(e){e.clear()},markText:function(e,t,i){return Gn(this,gt(this,e),gt(this,t),i,i&&i.type||"range")},setBookmark:function(e,t){var i={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return e=gt(this,e),Gn(this,e,e,i,"bookmark")},findMarksAt:function(e){e=gt(this,e);var t=[],i=Qr(this,e.line).markedSpans;if(i)for(var n=0;n<i.length;++n){var r=i[n];(null==r.from||r.from<=e.ch)&&(null==r.to||r.to>=e.ch)&&t.push(r.marker.parent||r.marker)}return t},findMarks:function(e,t,i){e=gt(this,e),t=gt(this,t);var n=[],r=e.line;return this.iter(e.line,t.line+1,function(s){var o=s.markedSpans;if(o)for(var a=0;a<o.length;a++){var l=o[a];null!=l.to&&r==e.line&&e.ch>=l.to||null==l.from&&r!=e.line||null!=l.from&&r==t.line&&l.from>=t.ch||i&&!i(l.marker)||n.push(l.marker.parent||l.marker)}++r}),n},getAllMarks:function(){var e=[];return this.iter(function(t){var i=t.markedSpans;if(i)for(var n=0;n<i.length;++n)null!=i[n].from&&e.push(i[n].marker)}),e},posFromIndex:function(e){var t,i=this.first,n=this.lineSeparator().length;return this.iter(function(r){var s=r.text.length+n;return s>e?(t=e,!0):(e-=s,void++i)}),gt(this,No(i,t))},indexFromPos:function(e){e=gt(this,e);var t=e.ch;if(e.line<this.first||e.ch<0)return 0;var i=this.lineSeparator().length;return this.iter(this.first,e.line,function(e){t+=e.text.length+i}),t},copy:function(e){var t=new Ca(Jr(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,i=this.first+this.size;null!=e.from&&e.from>t&&(t=e.from),null!=e.to&&e.to<i&&(i=e.to);var n=new Ca(Jr(this,t,i),e.mode||this.modeOption,t,this.lineSep);return e.sharedHist&&(n.history=this.history),(this.linked||(this.linked=[])).push({doc:n,sharedHist:e.sharedHist}),n.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],Qn(n,Xn(this)),n},unlinkDoc:function(t){if(t instanceof e&&(t=t.doc),this.linked)for(var i=0;i<this.linked.length;++i){var n=this.linked[i];if(n.doc==t){this.linked.splice(i,1),t.unlinkDoc(this),Zn(Xn(this));break}}if(t.history==this.history){var r=[t.id];Kr(t,function(e){r.push(e.id)},!0),t.history=new ss(null),t.history.done=ms(this.history.done,r),t.history.undone=ms(this.history.undone,r)}},iterLinkedDocs:function(e){Kr(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):tl(e)},lineSeparator:function(){return this.lineSep||"\n"}}),Ca.prototype.eachLine=Ca.prototype.iter;var Ta="iter insert remove copy getEditor constructor".split(" ");for(var Sa in Ca.prototype)Ca.prototype.hasOwnProperty(Sa)&&$s(Ta,Sa)<0&&(e.prototype[Sa]=function(e){return function(){return e.apply(this.doc,arguments)}}(Ca.prototype[Sa]));Ms(Ca);var Da=e.e_preventDefault=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},Ea=e.e_stopPropagation=function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},Ma=e.e_stop=function(e){Da(e),Ea(e)},Aa=e.on=function(e,t,i){if(e.addEventListener)e.addEventListener(t,i,!1);else if(e.attachEvent)e.attachEvent("on"+t,i);else{var n=e._handlers||(e._handlers={}),r=n[t]||(n[t]=[]);r.push(i)}},Ia=[],Oa=e.off=function(e,t,i){if(e.removeEventListener)e.removeEventListener(t,i,!1);else if(e.detachEvent)e.detachEvent("on"+t,i);else for(var n=_s(e,t,!1),r=0;r<n.length;++r)if(n[r]==i){n.splice(r,1);break}},$a=e.signal=function(e,t){var i=_s(e,t,!0);if(i.length)for(var n=Array.prototype.slice.call(arguments,2),r=0;r<i.length;++r)i[r].apply(null,n)},Ra=null,Ha=30,Pa=e.Pass={toString:function(){return"CodeMirror.Pass"}},za={scroll:!1},Na={origin:"*mouse"},La={origin:"+move"};As.prototype.set=function(e,t){clearTimeout(this.id),this.id=setTimeout(t,e)};var Fa=e.countColumn=function(e,t,i,n,r){null==t&&(t=e.search(/[^\s\u00a0]/),-1==t&&(t=e.length));for(var s=n||0,o=r||0;;){var a=e.indexOf("	",s);if(0>a||a>=t)return o+(t-s);o+=a-s,o+=i-o%i,s=a+1}},ja=e.findColumn=function(e,t,i){for(var n=0,r=0;;){var s=e.indexOf("	",n);-1==s&&(s=e.length);var o=s-n;if(s==e.length||r+o>=t)return n+Math.min(o,t-r);if(r+=s-n,r+=i-r%i,n=s+1,r>=t)return n}},Wa=[""],Ba=function(e){e.select()};Eo?Ba=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:bo&&(Ba=function(e){try{e.select()}catch(t){}});var Ua,qa=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,Ya=e.isWordChar=function(e){return/\w/.test(e)||e>"\x80"&&(e.toUpperCase()!=e.toLowerCase()||qa.test(e))},Va=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;Ua=document.createRange?function(e,t,i,n){var r=document.createRange();return r.setEnd(n||e,i),r.setStart(e,t),r}:function(e,t,i){var n=document.body.createTextRange();try{n.moveToElementText(e.parentNode)}catch(r){return n}return n.collapse(!0),n.moveEnd("character",i),n.moveStart("character",t),n};var Ga=e.contains=function(e,t){if(3==t.nodeType&&(t=t.parentNode),e.contains)return e.contains(t);do if(11==t.nodeType&&(t=t.host),t==e)return!0;while(t=t.parentNode)};bo&&11>wo&&(qs=function(){try{return document.activeElement}catch(e){return document.body}});var Ka,Xa,Qa=e.rmClass=function(e,t){var i=e.className,n=Ys(t).exec(i);if(n){var r=i.slice(n.index+n[0].length);e.className=i.slice(0,n.index)+(r?n[1]+r:"")}},Za=e.addClass=function(e,t){var i=e.className;Ys(t).test(i)||(e.className+=(i?" ":"")+t)},Ja=!1,el=function(){if(bo&&9>wo)return!1;var e=Ws("div");return"draggable"in e||"dragDrop"in e}(),tl=e.splitLines=3!="\n\nb".split(/\n/).length?function(e){for(var t=0,i=[],n=e.length;n>=t;){var r=e.indexOf("\n",t);-1==r&&(r=e.length);var s=e.slice(t,"\r"==e.charAt(r-1)?r-1:r),o=s.indexOf("\r");-1!=o?(i.push(s.slice(0,o)),t+=o+1):(i.push(s),t=r+1)}return i}:function(e){return e.split(/\r\n?|\n/)},il=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(t){return!1}}:function(e){try{var t=e.ownerDocument.selection.createRange()}catch(i){}return t&&t.parentElement()==e?0!=t.compareEndPoints("StartToEnd",t):!1},nl=function(){var e=Ws("div");return"oncopy"in e?!0:(e.setAttribute("oncopy","return;"),"function"==typeof e.oncopy)}(),rl=null,sl=e.keyNames={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",127:"Delete",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"};!function(){for(var e=0;10>e;e++)sl[e+48]=sl[e+96]=String(e);for(var e=65;90>=e;e++)sl[e]=String.fromCharCode(e);for(var e=1;12>=e;e++)sl[e+111]=sl[e+63235]="F"+e}();var ol,al=function(){function e(e){return 247>=e?i.charAt(e):e>=1424&&1524>=e?"R":e>=1536&&1773>=e?n.charAt(e-1536):e>=1774&&2220>=e?"r":e>=8192&&8203>=e?"w":8204==e?"b":"L"}function t(e,t,i){this.level=e,this.from=t,this.to=i}var i="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",n="rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmm",r=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,s=/[stwN]/,o=/[LRr]/,a=/[Lb1n]/,l=/[1n]/,c="L";return function(i){if(!r.test(i))return!1;for(var n,u=i.length,d=[],h=0;u>h;++h)d.push(n=e(i.charCodeAt(h)));for(var h=0,f=c;u>h;++h){var n=d[h];"m"==n?d[h]=f:f=n}for(var h=0,p=c;u>h;++h){var n=d[h];"1"==n&&"r"==p?d[h]="n":o.test(n)&&(p=n,"r"==n&&(d[h]="R"))}for(var h=1,f=d[0];u-1>h;++h){var n=d[h];"+"==n&&"1"==f&&"1"==d[h+1]?d[h]="1":","!=n||f!=d[h+1]||"1"!=f&&"n"!=f||(d[h]=f),f=n}for(var h=0;u>h;++h){var n=d[h];if(","==n)d[h]="N";else if("%"==n){for(var g=h+1;u>g&&"%"==d[g];++g);for(var m=h&&"!"==d[h-1]||u>g&&"1"==d[g]?"1":"N",v=h;g>v;++v)d[v]=m;h=g-1}}for(var h=0,p=c;u>h;++h){var n=d[h];"L"==p&&"1"==n?d[h]="L":o.test(n)&&(p=n)}for(var h=0;u>h;++h)if(s.test(d[h])){for(var g=h+1;u>g&&s.test(d[g]);++g);for(var y="L"==(h?d[h-1]:c),b="L"==(u>g?d[g]:c),m=y||b?"L":"R",v=h;g>v;++v)d[v]=m;h=g-1}for(var w,x=[],h=0;u>h;)if(a.test(d[h])){var k=h;for(++h;u>h&&a.test(d[h]);++h);x.push(new t(0,k,h))}else{var _=h,C=x.length;for(++h;u>h&&"L"!=d[h];++h);for(var v=_;h>v;)if(l.test(d[v])){v>_&&x.splice(C,0,new t(1,_,v));var T=v;for(++v;h>v&&l.test(d[v]);++v);x.splice(C,0,new t(2,T,v)),_=v}else++v;h>_&&x.splice(C,0,new t(1,_,h))}return 1==x[0].level&&(w=i.match(/^\s+/))&&(x[0].from=w[0].length,x.unshift(new t(0,0,w[0].length))),1==Os(x).level&&(w=i.match(/\s+$/))&&(Os(x).to-=w[0].length,x.push(new t(0,u-w[0].length,u))),2==x[0].level&&x.unshift(new t(1,x[0].to,x[0].to)),x[0].level!=Os(x).level&&x.push(new t(x[0].level,u,u)),x}}();return e.version="5.16.0",e}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";function t(e){for(var t={},i=0;i<e.length;++i)t[e[i]]=!0;return t}function i(e,t){for(var i,n=!1;null!=(i=e.next());){if(n&&"/"==i){t.tokenize=null;break}n="*"==i}return["comment","comment"]}e.defineMode("css",function(t,i){function n(e,t){return p=t,e}function r(e,t){var i=e.next();if(v[i]){var r=v[i](e,t);if(r!==!1)return r}return"@"==i?(e.eatWhile(/[\w\\\-]/),n("def",e.current())):"="==i||("~"==i||"|"==i)&&e.eat("=")?n(null,"compare"):'"'==i||"'"==i?(t.tokenize=s(i),t.tokenize(e,t)):"#"==i?(e.eatWhile(/[\w\\\-]/),n("atom","hash")):"!"==i?(e.match(/^\s*\w*/),n("keyword","important")):/\d/.test(i)||"."==i&&e.eat(/\d/)?(e.eatWhile(/[\w.%]/),n("number","unit")):"-"!==i?/[,+>*\/]/.test(i)?n(null,"select-op"):"."==i&&e.match(/^-?[_a-z][_a-z0-9-]*/i)?n("qualifier","qualifier"):/[:;{}\[\]\(\)]/.test(i)?n(null,i):"u"==i&&e.match(/rl(-prefix)?\(/)||"d"==i&&e.match("omain(")||"r"==i&&e.match("egexp(")?(e.backUp(1),t.tokenize=o,n("property","word")):/[\w\\\-]/.test(i)?(e.eatWhile(/[\w\\\-]/),n("property","word")):n(null,null):/[\d.]/.test(e.peek())?(e.eatWhile(/[\w.%]/),n("number","unit")):e.match(/^-[\w\\\-]+/)?(e.eatWhile(/[\w\\\-]/),e.match(/^\s*:/,!1)?n("variable-2","variable-definition"):n("variable-2","variable")):e.match(/^\w+-/)?n("meta","meta"):void 0}function s(e){return function(t,i){for(var r,s=!1;null!=(r=t.next());){if(r==e&&!s){")"==e&&t.backUp(1);break}s=!s&&"\\"==r}return(r==e||!s&&")"!=e)&&(i.tokenize=null),n("string","string")}}function o(e,t){return e.next(),t.tokenize=e.match(/\s*[\"\')]/,!1)?null:s(")"),n(null,"(")}function a(e,t,i){this.type=e,this.indent=t,this.prev=i}function l(e,t,i,n){return e.context=new a(i,t.indentation()+(n===!1?0:m),e.context),i}function c(e){return e.context.prev&&(e.context=e.context.prev),e.context.type}function u(e,t,i){return A[i.context.type](e,t,i)}function d(e,t,i,n){for(var r=n||1;r>0;r--)i.context=i.context.prev;return u(e,t,i)}function h(e){var t=e.current().toLowerCase();g=D.hasOwnProperty(t)?"atom":S.hasOwnProperty(t)?"keyword":"variable"}var f=i.inline;i.propertyKeywords||(i=e.resolveMode("text/css"));var p,g,m=t.indentUnit,v=i.tokenHooks,y=i.documentTypes||{},b=i.mediaTypes||{},w=i.mediaFeatures||{},x=i.mediaValueKeywords||{},k=i.propertyKeywords||{},_=i.nonStandardPropertyKeywords||{},C=i.fontProperties||{},T=i.counterDescriptors||{},S=i.colorKeywords||{},D=i.valueKeywords||{},E=i.allowNested,M=i.supportsAtComponent===!0,A={};return A.top=function(e,t,i){if("{"==e)return l(i,t,"block");if("}"==e&&i.context.prev)return c(i);if(M&&/@component/.test(e))return l(i,t,"atComponentBlock");if(/^@(-moz-)?document$/.test(e))return l(i,t,"documentTypes");if(/^@(media|supports|(-moz-)?document|import)$/.test(e))return l(i,t,"atBlock");if(/^@(font-face|counter-style)/.test(e))return i.stateArg=e,"restricted_atBlock_before";if(/^@(-(moz|ms|o|webkit)-)?keyframes$/.test(e))return"keyframes";if(e&&"@"==e.charAt(0))return l(i,t,"at");if("hash"==e)g="builtin";else if("word"==e)g="tag";else{if("variable-definition"==e)return"maybeprop";if("interpolation"==e)return l(i,t,"interpolation");if(":"==e)return"pseudo";if(E&&"("==e)return l(i,t,"parens")}return i.context.type},A.block=function(e,t,i){if("word"==e){var n=t.current().toLowerCase();return k.hasOwnProperty(n)?(g="property","maybeprop"):_.hasOwnProperty(n)?(g="string-2","maybeprop"):E?(g=t.match(/^\s*:(?:\s|$)/,!1)?"property":"tag","block"):(g+=" error","maybeprop")}return"meta"==e?"block":E||"hash"!=e&&"qualifier"!=e?A.top(e,t,i):(g="error","block")},A.maybeprop=function(e,t,i){return":"==e?l(i,t,"prop"):u(e,t,i)},A.prop=function(e,t,i){if(";"==e)return c(i);if("{"==e&&E)return l(i,t,"propBlock");if("}"==e||"{"==e)return d(e,t,i);if("("==e)return l(i,t,"parens");if("hash"!=e||/^#([0-9a-fA-f]{3,4}|[0-9a-fA-f]{6}|[0-9a-fA-f]{8})$/.test(t.current())){if("word"==e)h(t);
else if("interpolation"==e)return l(i,t,"interpolation")}else g+=" error";return"prop"},A.propBlock=function(e,t,i){return"}"==e?c(i):"word"==e?(g="property","maybeprop"):i.context.type},A.parens=function(e,t,i){return"{"==e||"}"==e?d(e,t,i):")"==e?c(i):"("==e?l(i,t,"parens"):"interpolation"==e?l(i,t,"interpolation"):("word"==e&&h(t),"parens")},A.pseudo=function(e,t,i){return"word"==e?(g="variable-3",i.context.type):u(e,t,i)},A.documentTypes=function(e,t,i){return"word"==e&&y.hasOwnProperty(t.current())?(g="tag",i.context.type):A.atBlock(e,t,i)},A.atBlock=function(e,t,i){if("("==e)return l(i,t,"atBlock_parens");if("}"==e||";"==e)return d(e,t,i);if("{"==e)return c(i)&&l(i,t,E?"block":"top");if("interpolation"==e)return l(i,t,"interpolation");if("word"==e){var n=t.current().toLowerCase();g="only"==n||"not"==n||"and"==n||"or"==n?"keyword":b.hasOwnProperty(n)?"attribute":w.hasOwnProperty(n)?"property":x.hasOwnProperty(n)?"keyword":k.hasOwnProperty(n)?"property":_.hasOwnProperty(n)?"string-2":D.hasOwnProperty(n)?"atom":S.hasOwnProperty(n)?"keyword":"error"}return i.context.type},A.atComponentBlock=function(e,t,i){return"}"==e?d(e,t,i):"{"==e?c(i)&&l(i,t,E?"block":"top",!1):("word"==e&&(g="error"),i.context.type)},A.atBlock_parens=function(e,t,i){return")"==e?c(i):"{"==e||"}"==e?d(e,t,i,2):A.atBlock(e,t,i)},A.restricted_atBlock_before=function(e,t,i){return"{"==e?l(i,t,"restricted_atBlock"):"word"==e&&"@counter-style"==i.stateArg?(g="variable","restricted_atBlock_before"):u(e,t,i)},A.restricted_atBlock=function(e,t,i){return"}"==e?(i.stateArg=null,c(i)):"word"==e?(g="@font-face"==i.stateArg&&!C.hasOwnProperty(t.current().toLowerCase())||"@counter-style"==i.stateArg&&!T.hasOwnProperty(t.current().toLowerCase())?"error":"property","maybeprop"):"restricted_atBlock"},A.keyframes=function(e,t,i){return"word"==e?(g="variable","keyframes"):"{"==e?l(i,t,"top"):u(e,t,i)},A.at=function(e,t,i){return";"==e?c(i):"{"==e||"}"==e?d(e,t,i):("word"==e?g="tag":"hash"==e&&(g="builtin"),"at")},A.interpolation=function(e,t,i){return"}"==e?c(i):"{"==e||";"==e?d(e,t,i):("word"==e?g="variable":"variable"!=e&&"("!=e&&")"!=e&&(g="error"),"interpolation")},{startState:function(e){return{tokenize:null,state:f?"block":"top",stateArg:null,context:new a(f?"block":"top",e||0,null)}},token:function(e,t){if(!t.tokenize&&e.eatSpace())return null;var i=(t.tokenize||r)(e,t);return i&&"object"==typeof i&&(p=i[1],i=i[0]),g=i,t.state=A[t.state](p,e,t),g},indent:function(e,t){var i=e.context,n=t&&t.charAt(0),r=i.indent;return"prop"!=i.type||"}"!=n&&")"!=n||(i=i.prev),i.prev&&("}"!=n||"block"!=i.type&&"top"!=i.type&&"interpolation"!=i.type&&"restricted_atBlock"!=i.type?(")"==n&&("parens"==i.type||"atBlock_parens"==i.type)||"{"==n&&("at"==i.type||"atBlock"==i.type))&&(r=Math.max(0,i.indent-m),i=i.prev):(i=i.prev,r=i.indent)),r},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",fold:"brace"}});var n=["domain","regexp","url","url-prefix"],r=t(n),s=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],o=t(s),a=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid","orientation","device-pixel-ratio","min-device-pixel-ratio","max-device-pixel-ratio","pointer","any-pointer","hover","any-hover"],l=t(a),c=["landscape","portrait","none","coarse","fine","on-demand","hover","interlace","progressive"],u=t(c),d=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","baseline-shift","binding","bleed","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-feature-settings","font-family","font-kerning","font-language-override","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-weight","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-gap","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-gap","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","justify-content","left","letter-spacing","line-break","line-height","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marker-offset","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","max-height","max-width","min-height","min-width","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotation","rotation-point","ruby-align","ruby-overhang","ruby-position","ruby-span","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-outline","text-overflow","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","word-break","word-spacing","word-wrap","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode"],h=t(d),f=["scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-3d-light-color","scrollbar-track-color","shape-inside","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","zoom"],p=t(f),g=["font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"],m=t(g),v=["additive-symbols","fallback","negative","pad","prefix","range","speak-as","suffix","symbols","system"],y=t(v),b=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],w=t(b),x=["above","absolute","activeborder","additive","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","attr","auto","avoid","avoid-column","avoid-page","avoid-region","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","contain","content","content-box","context-menu","continuous","copy","counter","counters","cover","crop","cross","crosshair","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","devanagari","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ethiopic-numeric","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","georgian","graytext","grid","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hard-light","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","hue","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","japanese-formal","japanese-informal","justify","kannada","katakana","katakana-iroha","keep-all","khmer","korean-hangul-formal","korean-hanja-formal","korean-hanja-informal","landscape","lao","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","luminosity","malayalam","match","matrix","matrix3d","media-controls-background","media-current-time-display","media-fullscreen-button","media-mute-button","media-play-button","media-return-to-realtime-button","media-rewind-button","media-seek-back-button","media-seek-forward-button","media-slider","media-sliderthumb","media-time-remaining-display","media-volume-slider","media-volume-slider-container","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menulist-text","menulist-textfield","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","multiply","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","octal","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","perspective","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","semi-condensed","semi-expanded","separate","serif","show","sidama","simp-chinese-formal","simp-chinese-informal","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","somali","source-atop","source-in","source-out","source-over","space","space-around","space-between","spell-out","square","square-button","start","static","status-bar","stretch","stroke","sub","subpixel-antialiased","super","sw-resize","symbolic","symbols","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","tamil","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","trad-chinese-formal","trad-chinese-informal","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","var","vertical","vertical-text","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"],k=t(x),_=n.concat(s).concat(a).concat(c).concat(d).concat(f).concat(b).concat(x);e.registerHelper("hintWords","css",_),e.defineMIME("text/css",{documentTypes:r,mediaTypes:o,mediaFeatures:l,mediaValueKeywords:u,propertyKeywords:h,nonStandardPropertyKeywords:p,fontProperties:m,counterDescriptors:y,colorKeywords:w,valueKeywords:k,tokenHooks:{"/":function(e,t){return e.eat("*")?(t.tokenize=i,i(e,t)):!1}},name:"css"}),e.defineMIME("text/x-scss",{mediaTypes:o,mediaFeatures:l,mediaValueKeywords:u,propertyKeywords:h,nonStandardPropertyKeywords:p,colorKeywords:w,valueKeywords:k,fontProperties:m,allowNested:!0,tokenHooks:{"/":function(e,t){return e.eat("/")?(e.skipToEnd(),["comment","comment"]):e.eat("*")?(t.tokenize=i,i(e,t)):["operator","operator"]},":":function(e){return e.match(/\s*\{/)?[null,"{"]:!1},$:function(e){return e.match(/^[\w-]+/),e.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"]},"#":function(e){return e.eat("{")?[null,"interpolation"]:!1}},name:"css",helperType:"scss"}),e.defineMIME("text/x-less",{mediaTypes:o,mediaFeatures:l,mediaValueKeywords:u,propertyKeywords:h,nonStandardPropertyKeywords:p,colorKeywords:w,valueKeywords:k,fontProperties:m,allowNested:!0,tokenHooks:{"/":function(e,t){return e.eat("/")?(e.skipToEnd(),["comment","comment"]):e.eat("*")?(t.tokenize=i,i(e,t)):["operator","operator"]},"@":function(e){return e.eat("{")?[null,"interpolation"]:e.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/,!1)?!1:(e.eatWhile(/[\w\\\-]/),e.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"])},"&":function(){return["atom","atom"]}},name:"css",helperType:"less"}),e.defineMIME("text/x-gss",{documentTypes:r,mediaTypes:o,mediaFeatures:l,propertyKeywords:h,nonStandardPropertyKeywords:p,fontProperties:m,counterDescriptors:y,colorKeywords:w,valueKeywords:k,supportsAtComponent:!0,tokenHooks:{"/":function(e,t){return e.eat("*")?(t.tokenize=i,i(e,t)):!1}},name:"css",helperType:"gss"})}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror"),require("../xml/xml"),require("../javascript/javascript"),require("../css/css")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../xml/xml","../javascript/javascript","../css/css"],e):e(CodeMirror)}(function(e){"use strict";function t(e,t,i){var n=e.current(),r=n.search(t);return r>-1?e.backUp(n.length-r):n.match(/<\/?$/)&&(e.backUp(n.length),e.match(t,!1)||e.match(n)),i}function i(e){var t=l[e];return t?t:l[e]=new RegExp("\\s+"+e+"\\s*=\\s*('|\")?([^'\"]+)('|\")?\\s*")}function n(e,t){var n=e.match(i(t));return n?n[2]:""}function r(e,t){return new RegExp((t?"^":"")+"</s*"+e+"s*>","i")}function s(e,t){for(var i in e)for(var n=t[i]||(t[i]=[]),r=e[i],s=r.length-1;s>=0;s--)n.unshift(r[s])}function o(e,t){for(var i=0;i<e.length;i++){var r=e[i];if(!r[0]||r[1].test(n(t,r[0])))return r[2]}}var a={script:[["lang",/(javascript|babel)/i,"javascript"],["type",/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^$/i,"javascript"],["type",/./,"text/plain"],[null,null,"javascript"]],style:[["lang",/^css$/i,"css"],["type",/^(text\/)?(x-)?(stylesheet|css)$/i,"css"],["type",/./,"text/plain"],[null,null,"css"]]},l={};e.defineMode("htmlmixed",function(i,n){function l(n,s){var a,d=c.token(n,s.htmlState),h=/\btag\b/.test(d);if(h&&!/[<>\s\/]/.test(n.current())&&(a=s.htmlState.tagName&&s.htmlState.tagName.toLowerCase())&&u.hasOwnProperty(a))s.inTag=a+" ";else if(s.inTag&&h&&/>$/.test(n.current())){var f=/^([\S]+) (.*)/.exec(s.inTag);s.inTag=null;var p=">"==n.current()&&o(u[f[1]],f[2]),g=e.getMode(i,p),m=r(f[1],!0),v=r(f[1],!1);s.token=function(e,i){return e.match(m,!1)?(i.token=l,i.localState=i.localMode=null,null):t(e,v,i.localMode.token(e,i.localState))},s.localMode=g,s.localState=e.startState(g,c.indent(s.htmlState,""))}else s.inTag&&(s.inTag+=n.current(),n.eol()&&(s.inTag+=" "));return d}var c=e.getMode(i,{name:"xml",htmlMode:!0,multilineTagIndentFactor:n.multilineTagIndentFactor,multilineTagIndentPastTag:n.multilineTagIndentPastTag}),u={},d=n&&n.tags,h=n&&n.scriptTypes;if(s(a,u),d&&s(d,u),h)for(var f=h.length-1;f>=0;f--)u.script.unshift(["type",h[f].matches,h[f].mode]);return{startState:function(){var t=e.startState(c);return{token:l,inTag:null,localMode:null,localState:null,htmlState:t}},copyState:function(t){var i;return t.localState&&(i=e.copyState(t.localMode,t.localState)),{token:t.token,inTag:t.inTag,localMode:t.localMode,localState:i,htmlState:e.copyState(c,t.htmlState)}},token:function(e,t){return t.token(e,t)},indent:function(t,i){return!t.localMode||/^\s*<\//.test(i)?c.indent(t.htmlState,i):t.localMode.indent?t.localMode.indent(t.localState,i):e.Pass},innerMode:function(e){return{state:e.localState||e.htmlState,mode:e.localMode||c}}}},"xml","javascript","css"),e.defineMIME("text/html","htmlmixed")}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";function t(e,t,i){return/^(?:operator|sof|keyword c|case|new|[\[{}\(,;:]|=>)$/.test(t.lastType)||"quasi"==t.lastType&&/\{\s*$/.test(e.string.slice(0,e.pos-(i||0)))}e.defineMode("javascript",function(i,n){function r(e){for(var t,i=!1,n=!1;null!=(t=e.next());){if(!i){if("/"==t&&!n)return;"["==t?n=!0:n&&"]"==t&&(n=!1)}i=!i&&"\\"==t}}function s(e,t,i){return xt=e,kt=i,t}function o(e,i){var n=e.next();if('"'==n||"'"==n)return i.tokenize=a(n),i.tokenize(e,i);if("."==n&&e.match(/^\d+(?:[eE][+\-]?\d+)?/))return s("number","number");if("."==n&&e.match(".."))return s("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(n))return s(n);if("="==n&&e.eat(">"))return s("=>","operator");if("0"==n&&e.eat(/x/i))return e.eatWhile(/[\da-f]/i),s("number","number");if("0"==n&&e.eat(/o/i))return e.eatWhile(/[0-7]/i),s("number","number");if("0"==n&&e.eat(/b/i))return e.eatWhile(/[01]/i),s("number","number");if(/\d/.test(n))return e.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/),s("number","number");if("/"==n)return e.eat("*")?(i.tokenize=l,l(e,i)):e.eat("/")?(e.skipToEnd(),s("comment","comment")):t(e,i,1)?(r(e),e.match(/^\b(([gimyu])(?![gimyu]*\2))+\b/),s("regexp","string-2")):(e.eatWhile(At),s("operator","operator",e.current()));if("`"==n)return i.tokenize=c,c(e,i);if("#"==n)return e.skipToEnd(),s("error","error");if(At.test(n))return e.eatWhile(At),s("operator","operator",e.current());if(Et.test(n)){e.eatWhile(Et);var o=e.current(),u=Mt.propertyIsEnumerable(o)&&Mt[o];return u&&"."!=i.lastType?s(u.type,u.style,o):s("variable","variable",o)}}function a(e){return function(t,i){var n,r=!1;if(Tt&&"@"==t.peek()&&t.match(It))return i.tokenize=o,s("jsonld-keyword","meta");for(;null!=(n=t.next())&&(n!=e||r);)r=!r&&"\\"==n;return r||(i.tokenize=o),s("string","string")}}function l(e,t){for(var i,n=!1;i=e.next();){if("/"==i&&n){t.tokenize=o;break}n="*"==i}return s("comment","comment")}function c(e,t){for(var i,n=!1;null!=(i=e.next());){if(!n&&("`"==i||"$"==i&&e.eat("{"))){t.tokenize=o;break}n=!n&&"\\"==i}return s("quasi","string-2",e.current())}function u(e,t){t.fatArrowAt&&(t.fatArrowAt=null);var i=e.string.indexOf("=>",e.start);if(!(0>i)){for(var n=0,r=!1,s=i-1;s>=0;--s){var o=e.string.charAt(s),a=Ot.indexOf(o);if(a>=0&&3>a){if(!n){++s;break}if(0==--n)break}else if(a>=3&&6>a)++n;else if(Et.test(o))r=!0;else{if(/["'\/]/.test(o))return;if(r&&!n){++s;break}}}r&&!n&&(t.fatArrowAt=s)}}function d(e,t,i,n,r,s){this.indented=e,this.column=t,this.type=i,this.prev=r,this.info=s,null!=n&&(this.align=n)}function h(e,t){for(var i=e.localVars;i;i=i.next)if(i.name==t)return!0;for(var n=e.context;n;n=n.prev)for(var i=n.vars;i;i=i.next)if(i.name==t)return!0}function f(e,t,i,n,r){var s=e.cc;for(Rt.state=e,Rt.stream=r,Rt.marked=null,Rt.cc=s,Rt.style=t,e.lexical.hasOwnProperty("align")||(e.lexical.align=!0);;){var o=s.length?s.pop():St?_:k;if(o(i,n)){for(;s.length&&s[s.length-1].lex;)s.pop()();return Rt.marked?Rt.marked:"variable"==i&&h(e,n)?"variable-2":t}}}function p(){for(var e=arguments.length-1;e>=0;e--)Rt.cc.push(arguments[e])}function g(){return p.apply(null,arguments),!0}function m(e){function t(t){for(var i=t;i;i=i.next)if(i.name==e)return!0;return!1}var i=Rt.state;if(Rt.marked="def",i.context){if(t(i.localVars))return;i.localVars={name:e,next:i.localVars}}else{if(t(i.globalVars))return;n.globalVars&&(i.globalVars={name:e,next:i.globalVars})}}function v(){Rt.state.context={prev:Rt.state.context,vars:Rt.state.localVars},Rt.state.localVars=Ht}function y(){Rt.state.localVars=Rt.state.context.vars,Rt.state.context=Rt.state.context.prev}function b(e,t){var i=function(){var i=Rt.state,n=i.indented;if("stat"==i.lexical.type)n=i.lexical.indented;else for(var r=i.lexical;r&&")"==r.type&&r.align;r=r.prev)n=r.indented;i.lexical=new d(n,Rt.stream.column(),e,null,i.lexical,t)};return i.lex=!0,i}function w(){var e=Rt.state;e.lexical.prev&&(")"==e.lexical.type&&(e.indented=e.lexical.indented),e.lexical=e.lexical.prev)}function x(e){function t(i){return i==e?g():";"==e?p():g(t)}return t}function k(e,t){return"var"==e?g(b("vardef",t.length),K,x(";"),w):"keyword a"==e?g(b("form"),_,k,w):"keyword b"==e?g(b("form"),k,w):"{"==e?g(b("}"),U,w):";"==e?g():"if"==e?("else"==Rt.state.lexical.info&&Rt.state.cc[Rt.state.cc.length-1]==w&&Rt.state.cc.pop()(),g(b("form"),_,k,w,et)):"function"==e?g(ot):"for"==e?g(b("form"),tt,k,w):"variable"==e?g(b("stat"),z):"switch"==e?g(b("form"),_,b("}","switch"),x("{"),U,w,w):"case"==e?g(_,x(":")):"default"==e?g(x(":")):"catch"==e?g(b("form"),v,x("("),at,x(")"),k,w,y):"class"==e?g(b("form"),lt,w):"export"==e?g(b("stat"),ht,w):"import"==e?g(b("stat"),ft,w):"module"==e?g(b("form"),X,b("}"),x("{"),U,w,w):"async"==e?g(k):p(b("stat"),_,x(";"),w)}function _(e){return T(e,!1)}function C(e){return T(e,!0)}function T(e,t){if(Rt.state.fatArrowAt==Rt.stream.start){var i=t?$:O;if("("==e)return g(v,b(")"),W(X,")"),w,x("=>"),i,y);if("variable"==e)return p(v,X,x("=>"),i,y)}var n=t?M:E;return $t.hasOwnProperty(e)?g(n):"function"==e?g(ot,n):"keyword c"==e?g(t?D:S):"("==e?g(b(")"),S,bt,x(")"),w,n):"operator"==e||"spread"==e?g(t?C:_):"["==e?g(b("]"),vt,w,n):"{"==e?B(L,"}",null,n):"quasi"==e?p(A,n):"new"==e?g(R(t)):g()}function S(e){return e.match(/[;\}\)\],]/)?p():p(_)}function D(e){return e.match(/[;\}\)\],]/)?p():p(C)}function E(e,t){return","==e?g(_):M(e,t,!1)}function M(e,t,i){var n=0==i?E:M,r=0==i?_:C;return"=>"==e?g(v,i?$:O,y):"operator"==e?/\+\+|--/.test(t)?g(n):"?"==t?g(_,x(":"),r):g(r):"quasi"==e?p(A,n):";"!=e?"("==e?B(C,")","call",n):"."==e?g(N,n):"["==e?g(b("]"),S,x("]"),w,n):void 0:void 0}function A(e,t){return"quasi"!=e?p():"${"!=t.slice(t.length-2)?g(A):g(_,I)}function I(e){return"}"==e?(Rt.marked="string-2",Rt.state.tokenize=c,g(A)):void 0}function O(e){return u(Rt.stream,Rt.state),p("{"==e?k:_)}function $(e){return u(Rt.stream,Rt.state),p("{"==e?k:C)}function R(e){return function(t){return"."==t?g(e?P:H):p(e?C:_)}}function H(e,t){return"target"==t?(Rt.marked="keyword",g(E)):void 0}function P(e,t){return"target"==t?(Rt.marked="keyword",g(M)):void 0}function z(e){return":"==e?g(w,k):p(E,x(";"),w)}function N(e){return"variable"==e?(Rt.marked="property",g()):void 0}function L(e,t){return"variable"==e||"keyword"==Rt.style?(Rt.marked="property",g("get"==t||"set"==t?F:j)):"number"==e||"string"==e?(Rt.marked=Tt?"property":Rt.style+" property",g(j)):"jsonld-keyword"==e?g(j):"modifier"==e?g(L):"["==e?g(_,x("]"),j):"spread"==e?g(_):void 0}function F(e){return"variable"!=e?p(j):(Rt.marked="property",g(ot))}function j(e){return":"==e?g(C):"("==e?p(ot):void 0}function W(e,t){function i(n,r){if(","==n){var s=Rt.state.lexical;return"call"==s.info&&(s.pos=(s.pos||0)+1),g(e,i)}return n==t||r==t?g():g(x(t))}return function(n,r){return n==t||r==t?g():p(e,i)}}function B(e,t,i){for(var n=3;n<arguments.length;n++)Rt.cc.push(arguments[n]);return g(b(t,i),W(e,t),w)}function U(e){return"}"==e?g():p(k,U)}function q(e){return Dt&&":"==e?g(V):void 0}function Y(e,t){return"="==t?g(C):void 0}function V(e){return"variable"==e?(Rt.marked="variable-3",g(G)):void 0}function G(e,t){return"<"==t?g(W(V,">"),G):"["==e?g(x("]"),G):void 0}function K(){return p(X,q,Z,J)}function X(e,t){return"modifier"==e?g(X):"variable"==e?(m(t),g()):"spread"==e?g(X):"["==e?B(X,"]"):"{"==e?B(Q,"}"):void 0}function Q(e,t){return"variable"!=e||Rt.stream.match(/^\s*:/,!1)?("variable"==e&&(Rt.marked="property"),"spread"==e?g(X):"}"==e?p():g(x(":"),X,Z)):(m(t),g(Z))}function Z(e,t){return"="==t?g(C):void 0}function J(e){return","==e?g(K):void 0}function et(e,t){return"keyword b"==e&&"else"==t?g(b("form","else"),k,w):void 0}function tt(e){return"("==e?g(b(")"),it,x(")"),w):void 0}function it(e){return"var"==e?g(K,x(";"),rt):";"==e?g(rt):"variable"==e?g(nt):p(_,x(";"),rt)}function nt(e,t){return"in"==t||"of"==t?(Rt.marked="keyword",g(_)):g(E,rt)}function rt(e,t){return";"==e?g(st):"in"==t||"of"==t?(Rt.marked="keyword",g(_)):p(_,x(";"),st)}function st(e){")"!=e&&g(_)}function ot(e,t){return"*"==t?(Rt.marked="keyword",g(ot)):"variable"==e?(m(t),g(ot)):"("==e?g(v,b(")"),W(at,")"),w,q,k,y):void 0}function at(e){return"spread"==e?g(at):p(X,q,Y)}function lt(e,t){return"variable"==e?(m(t),g(ct)):void 0}function ct(e,t){return"extends"==t?g(_,ct):"{"==e?g(b("}"),ut,w):void 0}function ut(e,t){return"variable"==e||"keyword"==Rt.style?"static"==t?(Rt.marked="keyword",g(ut)):(Rt.marked="property","get"==t||"set"==t?g(dt,ot,ut):g(ot,ut)):"*"==t?(Rt.marked="keyword",g(ut)):";"==e?g(ut):"}"==e?g():void 0}function dt(e){return"variable"!=e?p():(Rt.marked="property",g())}function ht(e,t){return"*"==t?(Rt.marked="keyword",g(mt,x(";"))):"default"==t?(Rt.marked="keyword",g(_,x(";"))):p(k)}function ft(e){return"string"==e?g():p(pt,mt)}function pt(e,t){return"{"==e?B(pt,"}"):("variable"==e&&m(t),"*"==t&&(Rt.marked="keyword"),g(gt))}function gt(e,t){return"as"==t?(Rt.marked="keyword",g(pt)):void 0}function mt(e,t){return"from"==t?(Rt.marked="keyword",g(_)):void 0}function vt(e){return"]"==e?g():p(C,yt)}function yt(e){return"for"==e?p(bt,x("]")):","==e?g(W(D,"]")):p(W(C,"]"))}function bt(e){return"for"==e?g(tt,bt):"if"==e?g(_,bt):void 0}function wt(e,t){return"operator"==e.lastType||","==e.lastType||At.test(t.charAt(0))||/[,.]/.test(t.charAt(0))}var xt,kt,_t=i.indentUnit,Ct=n.statementIndent,Tt=n.jsonld,St=n.json||Tt,Dt=n.typescript,Et=n.wordCharacters||/[\w$\xa1-\uffff]/,Mt=function(){function e(e){return{type:e,style:"keyword"}
}var t=e("keyword a"),i=e("keyword b"),n=e("keyword c"),r=e("operator"),s={type:"atom",style:"atom"},o={"if":e("if"),"while":t,"with":t,"else":i,"do":i,"try":i,"finally":i,"return":n,"break":n,"continue":n,"new":e("new"),"delete":n,"throw":n,"debugger":n,"var":e("var"),"const":e("var"),let:e("var"),"function":e("function"),"catch":e("catch"),"for":e("for"),"switch":e("switch"),"case":e("case"),"default":e("default"),"in":r,"typeof":r,"instanceof":r,"true":s,"false":s,"null":s,undefined:s,NaN:s,Infinity:s,"this":e("this"),"class":e("class"),"super":e("atom"),"yield":n,"export":e("export"),"import":e("import"),"extends":n,await:n,async:e("async")};if(Dt){var a={type:"variable",style:"variable-3"},l={"interface":e("class"),"implements":n,namespace:n,module:e("module"),"enum":e("module"),"public":e("modifier"),"private":e("modifier"),"protected":e("modifier"),"abstract":e("modifier"),as:r,string:a,number:a,"boolean":a,any:a};for(var c in l)o[c]=l[c]}return o}(),At=/[+\-*&%=<>!?|~^]/,It=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/,Ot="([{}])",$t={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,"this":!0,"jsonld-keyword":!0},Rt={state:null,column:null,marked:null,cc:null},Ht={name:"this",next:{name:"arguments"}};return w.lex=!0,{startState:function(e){var t={tokenize:o,lastType:"sof",cc:[],lexical:new d((e||0)-_t,0,"block",!1),localVars:n.localVars,context:n.localVars&&{vars:n.localVars},indented:e||0};return n.globalVars&&"object"==typeof n.globalVars&&(t.globalVars=n.globalVars),t},token:function(e,t){if(e.sol()&&(t.lexical.hasOwnProperty("align")||(t.lexical.align=!1),t.indented=e.indentation(),u(e,t)),t.tokenize!=l&&e.eatSpace())return null;var i=t.tokenize(e,t);return"comment"==xt?i:(t.lastType="operator"!=xt||"++"!=kt&&"--"!=kt?xt:"incdec",f(t,i,xt,kt,e))},indent:function(t,i){if(t.tokenize==l)return e.Pass;if(t.tokenize!=o)return 0;var r=i&&i.charAt(0),s=t.lexical;if(!/^\s*else\b/.test(i))for(var a=t.cc.length-1;a>=0;--a){var c=t.cc[a];if(c==w)s=s.prev;else if(c!=et)break}"stat"==s.type&&"}"==r&&(s=s.prev),Ct&&")"==s.type&&"stat"==s.prev.type&&(s=s.prev);var u=s.type,d=r==u;return"vardef"==u?s.indented+("operator"==t.lastType||","==t.lastType?s.info+1:0):"form"==u&&"{"==r?s.indented:"form"==u?s.indented+_t:"stat"==u?s.indented+(wt(t,i)?Ct||_t:0):"switch"!=s.info||d||0==n.doubleIndentSwitch?s.align?s.column+(d?0:1):s.indented+(d?0:_t):s.indented+(/^(?:case|default)\b/.test(i)?_t:2*_t)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:St?null:"/*",blockCommentEnd:St?null:"*/",lineComment:St?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:St?"json":"javascript",jsonldMode:Tt,jsonMode:St,expressionAllowed:t,skipExpression:function(e){var t=e.cc[e.cc.length-1];(t==_||t==C)&&e.cc.pop()}}}),e.registerHelper("wordChars","javascript",/[\w$]/),e.defineMIME("text/javascript","javascript"),e.defineMIME("text/ecmascript","javascript"),e.defineMIME("application/javascript","javascript"),e.defineMIME("application/x-javascript","javascript"),e.defineMIME("application/ecmascript","javascript"),e.defineMIME("application/json",{name:"javascript",json:!0}),e.defineMIME("application/x-json",{name:"javascript",json:!0}),e.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),e.defineMIME("text/typescript",{name:"javascript",typescript:!0}),e.defineMIME("application/typescript",{name:"javascript",typescript:!0})}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror"),require("../xml/xml"),require("../meta")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../xml/xml","../meta"],e):e(CodeMirror)}(function(e){"use strict";e.defineMode("markdown",function(t,i){function n(i){if(e.findModeByName){var n=e.findModeByName(i);n&&(i=n.mime||n.mimes[0])}var r=e.getMode(t,i);return"null"==r.name?null:r}function r(e,t,i){return t.f=t.inline=i,i(e,t)}function s(e,t,i){return t.f=t.block=i,i(e,t)}function o(e){return!e||!/\S/.test(e.string)}function a(e){return e.linkTitle=!1,e.em=!1,e.strong=!1,e.strikethrough=!1,e.quote=0,e.indentedCode=!1,k&&e.f==c&&(e.f=p,e.block=l),e.trailingSpace=0,e.trailingSpaceNewLine=!1,e.prevLine=e.thisLine,e.thisLine=null,null}function l(t,s){var a=t.sol(),l=s.list!==!1,c=s.indentedCode;s.indentedCode=!1,l&&(s.indentationDiff>=0?(s.indentationDiff<4&&(s.indentation-=s.indentationDiff),s.list=null):s.list=s.indentation>0?null:!1);var d=null;if(s.indentationDiff>=4)return t.skipToEnd(),c||o(s.prevLine)?(s.indentation-=4,s.indentedCode=!0,_.code):null;if(t.eatSpace())return null;if((d=t.match(M))&&d[1].length<=6)return s.header=d[1].length,i.highlightFormatting&&(s.formatting="header"),s.f=s.inline,h(s);if(!(o(s.prevLine)||s.quote||l||c)&&(d=t.match(A)))return s.header="="==d[0].charAt(0)?1:2,i.highlightFormatting&&(s.formatting="header"),s.f=s.inline,h(s);if(t.eat(">"))return s.quote=a?1:s.quote+1,i.highlightFormatting&&(s.formatting="quote"),t.eatSpace(),h(s);if("["===t.peek())return r(t,s,y);if(t.match(T,!0))return s.hr=!0,_.hr;if((o(s.prevLine)||l)&&(t.match(S,!1)||t.match(D,!1))){var f=null;for(t.match(S,!0)?f="ul":(t.match(D,!0),f="ol"),s.indentation=t.column()+t.current().length,s.list=!0;s.listStack&&t.column()<s.listStack[s.listStack.length-1];)s.listStack.pop();return s.listStack.push(s.indentation),i.taskLists&&t.match(E,!1)&&(s.taskList=!0),s.f=s.inline,i.highlightFormatting&&(s.formatting=["list","list-"+f]),h(s)}return i.fencedCodeBlocks&&(d=t.match(O,!0))?(s.fencedChars=d[1],s.localMode=n(d[2]),s.localMode&&(s.localState=e.startState(s.localMode)),s.f=s.block=u,i.highlightFormatting&&(s.formatting="code-block"),s.code=-1,h(s)):r(t,s,s.inline)}function c(t,i){var n=x.token(t,i.htmlState);if(!k){var r=e.innerMode(x,i.htmlState);("xml"==r.mode.name&&null===r.state.tagStart&&!r.state.context&&r.state.tokenize.isInText||i.md_inside&&t.current().indexOf(">")>-1)&&(i.f=p,i.block=l,i.htmlState=null)}return n}function u(e,t){return t.fencedChars&&e.match(t.fencedChars,!1)?(t.localMode=t.localState=null,t.f=t.block=d,null):t.localMode?t.localMode.token(e,t.localState):(e.skipToEnd(),_.code)}function d(e,t){e.match(t.fencedChars),t.block=l,t.f=p,t.fencedChars=null,i.highlightFormatting&&(t.formatting="code-block"),t.code=1;var n=h(t);return t.code=0,n}function h(e){var t=[];if(e.formatting){t.push(_.formatting),"string"==typeof e.formatting&&(e.formatting=[e.formatting]);for(var n=0;n<e.formatting.length;n++)t.push(_.formatting+"-"+e.formatting[n]),"header"===e.formatting[n]&&t.push(_.formatting+"-"+e.formatting[n]+"-"+e.header),"quote"===e.formatting[n]&&t.push(!i.maxBlockquoteDepth||i.maxBlockquoteDepth>=e.quote?_.formatting+"-"+e.formatting[n]+"-"+e.quote:"error")}if(e.taskOpen)return t.push("meta"),t.length?t.join(" "):null;if(e.taskClosed)return t.push("property"),t.length?t.join(" "):null;if(e.linkHref?t.push(_.linkHref,"url"):(e.strong&&t.push(_.strong),e.em&&t.push(_.em),e.strikethrough&&t.push(_.strikethrough),e.linkText&&t.push(_.linkText),e.code&&t.push(_.code)),e.header&&t.push(_.header,_.header+"-"+e.header),e.quote&&(t.push(_.quote),t.push(!i.maxBlockquoteDepth||i.maxBlockquoteDepth>=e.quote?_.quote+"-"+e.quote:_.quote+"-"+i.maxBlockquoteDepth)),e.list!==!1){var r=(e.listStack.length-1)%3;t.push(r?1===r?_.list2:_.list3:_.list1)}return e.trailingSpaceNewLine?t.push("trailing-space-new-line"):e.trailingSpace&&t.push("trailing-space-"+(e.trailingSpace%2?"a":"b")),t.length?t.join(" "):null}function f(e,t){return e.match(I,!0)?h(t):void 0}function p(t,n){var r=n.text(t,n);if("undefined"!=typeof r)return r;if(n.list)return n.list=null,h(n);if(n.taskList){var o="x"!==t.match(E,!0)[1];return o?n.taskOpen=!0:n.taskClosed=!0,i.highlightFormatting&&(n.formatting="task"),n.taskList=!1,h(n)}if(n.taskOpen=!1,n.taskClosed=!1,n.header&&t.match(/^#+$/,!0))return i.highlightFormatting&&(n.formatting="header"),h(n);var a=t.sol(),l=t.next();if(n.linkTitle){n.linkTitle=!1;var u=l;"("===l&&(u=")"),u=(u+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1");var d="^\\s*(?:[^"+u+"\\\\]+|\\\\\\\\|\\\\.)"+u;if(t.match(new RegExp(d),!0))return _.linkHref}if("`"===l){var f=n.formatting;i.highlightFormatting&&(n.formatting="code"),t.eatWhile("`");var p=t.current().length;if(0==n.code)return n.code=p,h(n);if(p==n.code){var v=h(n);return n.code=0,v}return n.formatting=f,h(n)}if(n.code)return h(n);if("\\"===l&&(t.next(),i.highlightFormatting)){var y=h(n),b=_.formatting+"-escape";return y?y+" "+b:b}if("!"===l&&t.match(/\[[^\]]*\] ?(?:\(|\[)/,!1))return t.match(/\[[^\]]*\]/),n.inline=n.f=m,_.image;if("["===l&&t.match(/[^\]]*\](\(.*\)| ?\[.*?\])/,!1))return n.linkText=!0,i.highlightFormatting&&(n.formatting="link"),h(n);if("]"===l&&n.linkText&&t.match(/\(.*?\)| ?\[.*?\]/,!1)){i.highlightFormatting&&(n.formatting="link");var y=h(n);return n.linkText=!1,n.inline=n.f=m,y}if("<"===l&&t.match(/^(https?|ftps?):\/\/(?:[^\\>]|\\.)+>/,!1)){n.f=n.inline=g,i.highlightFormatting&&(n.formatting="link");var y=h(n);return y?y+=" ":y="",y+_.linkInline}if("<"===l&&t.match(/^[^> \\]+@(?:[^\\>]|\\.)+>/,!1)){n.f=n.inline=g,i.highlightFormatting&&(n.formatting="link");var y=h(n);return y?y+=" ":y="",y+_.linkEmail}if("<"===l&&t.match(/^(!--|\w)/,!1)){var w=t.string.indexOf(">",t.pos);if(-1!=w){var k=t.string.substring(t.start,w);/markdown\s*=\s*('|"){0,1}1('|"){0,1}/.test(k)&&(n.md_inside=!0)}return t.backUp(1),n.htmlState=e.startState(x),s(t,n,c)}if("<"===l&&t.match(/^\/\w*?>/))return n.md_inside=!1,"tag";var C=!1;if(!i.underscoresBreakWords&&"_"===l&&"_"!==t.peek()&&t.match(/(\w)/,!1)){var T=t.pos-2;if(T>=0){var S=t.string.charAt(T);"_"!==S&&S.match(/(\w)/,!1)&&(C=!0)}}if("*"===l||"_"===l&&!C)if(a&&" "===t.peek());else{if(n.strong===l&&t.eat(l)){i.highlightFormatting&&(n.formatting="strong");var v=h(n);return n.strong=!1,v}if(!n.strong&&t.eat(l))return n.strong=l,i.highlightFormatting&&(n.formatting="strong"),h(n);if(n.em===l){i.highlightFormatting&&(n.formatting="em");var v=h(n);return n.em=!1,v}if(!n.em)return n.em=l,i.highlightFormatting&&(n.formatting="em"),h(n)}else if(" "===l&&(t.eat("*")||t.eat("_"))){if(" "===t.peek())return h(n);t.backUp(1)}if(i.strikethrough)if("~"===l&&t.eatWhile(l)){if(n.strikethrough){i.highlightFormatting&&(n.formatting="strikethrough");var v=h(n);return n.strikethrough=!1,v}if(t.match(/^[^\s]/,!1))return n.strikethrough=!0,i.highlightFormatting&&(n.formatting="strikethrough"),h(n)}else if(" "===l&&t.match(/^~~/,!0)){if(" "===t.peek())return h(n);t.backUp(2)}return" "===l&&(t.match(/ +$/,!1)?n.trailingSpace++:n.trailingSpace&&(n.trailingSpaceNewLine=!0)),h(n)}function g(e,t){var n=e.next();if(">"===n){t.f=t.inline=p,i.highlightFormatting&&(t.formatting="link");var r=h(t);return r?r+=" ":r="",r+_.linkInline}return e.match(/^[^>]+/,!0),_.linkInline}function m(e,t){if(e.eatSpace())return null;var n=e.next();return"("===n||"["===n?(t.f=t.inline=v("("===n?")":"]",0),i.highlightFormatting&&(t.formatting="link-string"),t.linkHref=!0,h(t)):"error"}function v(e){return function(t,n){var r=t.next();if(r===e){n.f=n.inline=p,i.highlightFormatting&&(n.formatting="link-string");var s=h(n);return n.linkHref=!1,s}return t.match($[e]),n.linkHref=!0,h(n)}}function y(e,t){return e.match(/^([^\]\\]|\\.)*\]:/,!1)?(t.f=b,e.next(),i.highlightFormatting&&(t.formatting="link"),t.linkText=!0,h(t)):r(e,t,p)}function b(e,t){if(e.match(/^\]:/,!0)){t.f=t.inline=w,i.highlightFormatting&&(t.formatting="link");var n=h(t);return t.linkText=!1,n}return e.match(/^([^\]\\]|\\.)+/,!0),_.linkText}function w(e,t){return e.eatSpace()?null:(e.match(/^[^\s]+/,!0),void 0===e.peek()?t.linkTitle=!0:e.match(/^(?:\s+(?:"(?:[^"\\]|\\\\|\\.)+"|'(?:[^'\\]|\\\\|\\.)+'|\((?:[^)\\]|\\\\|\\.)+\)))?/,!0),t.f=t.inline=p,_.linkHref+" url")}var x=e.getMode(t,"text/html"),k="null"==x.name;void 0===i.highlightFormatting&&(i.highlightFormatting=!1),void 0===i.maxBlockquoteDepth&&(i.maxBlockquoteDepth=0),void 0===i.underscoresBreakWords&&(i.underscoresBreakWords=!0),void 0===i.taskLists&&(i.taskLists=!1),void 0===i.strikethrough&&(i.strikethrough=!1),void 0===i.tokenTypeOverrides&&(i.tokenTypeOverrides={});var _={header:"header",code:"comment",quote:"quote",list1:"variable-2",list2:"variable-3",list3:"keyword",hr:"hr",image:"tag",formatting:"formatting",linkInline:"link",linkEmail:"link",linkText:"link",linkHref:"string",em:"em",strong:"strong",strikethrough:"strikethrough"};for(var C in _)_.hasOwnProperty(C)&&i.tokenTypeOverrides[C]&&(_[C]=i.tokenTypeOverrides[C]);var T=/^([*\-_])(?:\s*\1){2,}\s*$/,S=/^[*\-+]\s+/,D=/^[0-9]+([.)])\s+/,E=/^\[(x| )\](?=\s)/,M=i.allowAtxHeaderWithoutSpace?/^(#+)/:/^(#+)(?: |$)/,A=/^ *(?:\={1,}|-{1,})\s*$/,I=/^[^#!\[\]*_\\<>` "'(~]+/,O=new RegExp("^("+(i.fencedCodeBlocks===!0?"~~~+|```+":i.fencedCodeBlocks)+")[ \\t]*([\\w+#-]*)"),$={")":/^(?:[^\\\(\)]|\\.|\((?:[^\\\(\)]|\\.)*\))*?(?=\))/,"]":/^(?:[^\\\[\]]|\\.|\[(?:[^\\\[\\]]|\\.)*\])*?(?=\])/},R={startState:function(){return{f:l,prevLine:null,thisLine:null,block:l,htmlState:null,indentation:0,inline:p,text:f,formatting:!1,linkText:!1,linkHref:!1,linkTitle:!1,code:0,em:!1,strong:!1,header:0,hr:!1,taskList:!1,list:!1,listStack:[],quote:0,trailingSpace:0,trailingSpaceNewLine:!1,strikethrough:!1,fencedChars:null}},copyState:function(t){return{f:t.f,prevLine:t.prevLine,thisLine:t.thisLine,block:t.block,htmlState:t.htmlState&&e.copyState(x,t.htmlState),indentation:t.indentation,localMode:t.localMode,localState:t.localMode?e.copyState(t.localMode,t.localState):null,inline:t.inline,text:t.text,formatting:!1,linkTitle:t.linkTitle,code:t.code,em:t.em,strong:t.strong,strikethrough:t.strikethrough,header:t.header,hr:t.hr,taskList:t.taskList,list:t.list,listStack:t.listStack.slice(0),quote:t.quote,indentedCode:t.indentedCode,trailingSpace:t.trailingSpace,trailingSpaceNewLine:t.trailingSpaceNewLine,md_inside:t.md_inside,fencedChars:t.fencedChars}},token:function(e,t){if(t.formatting=!1,e!=t.thisLine){var i=t.header||t.hr;if(t.header=0,t.hr=!1,e.match(/^\s*$/,!0)||i){if(a(t),!i)return null;t.prevLine=null}t.prevLine=t.thisLine,t.thisLine=e,t.taskList=!1,t.trailingSpace=0,t.trailingSpaceNewLine=!1,t.f=t.block;var n=e.match(/^\s*/,!0)[0].replace(/\t/g,"    ").length;if(t.indentationDiff=Math.min(n-t.indentation,4),t.indentation=t.indentation+t.indentationDiff,n>0)return null}return t.f(e,t)},innerMode:function(e){return e.block==c?{state:e.htmlState,mode:x}:e.localState?{state:e.localState,mode:e.localMode}:{state:e,mode:R}},blankLine:a,getType:h,fold:"markdown"};return R},"xml"),e.defineMIME("text/x-markdown","markdown")}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";var t={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},i={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,caseFold:!1};e.defineMode("xml",function(n,r){function s(e,t){function i(i){return t.tokenize=i,i(e,t)}var n=e.next();if("<"==n)return e.eat("!")?e.eat("[")?e.match("CDATA[")?i(l("atom","]]>")):null:e.match("--")?i(l("comment","-->")):e.match("DOCTYPE",!0,!0)?(e.eatWhile(/[\w\._\-]/),i(c(1))):null:e.eat("?")?(e.eatWhile(/[\w\._\-]/),t.tokenize=l("meta","?>"),"meta"):(S=e.eat("/")?"closeTag":"openTag",t.tokenize=o,"tag bracket");if("&"==n){var r;return r=e.eat("#")?e.eat("x")?e.eatWhile(/[a-fA-F\d]/)&&e.eat(";"):e.eatWhile(/[\d]/)&&e.eat(";"):e.eatWhile(/[\w\.\-:]/)&&e.eat(";"),r?"atom":"error"}return e.eatWhile(/[^&<]/),null}function o(e,t){var i=e.next();if(">"==i||"/"==i&&e.eat(">"))return t.tokenize=s,S=">"==i?"endTag":"selfcloseTag","tag bracket";if("="==i)return S="equals",null;if("<"==i){t.tokenize=s,t.state=f,t.tagName=t.tagStart=null;var n=t.tokenize(e,t);return n?n+" tag error":"tag error"}return/[\'\"]/.test(i)?(t.tokenize=a(i),t.stringStartCol=e.column(),t.tokenize(e,t)):(e.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function a(e){var t=function(t,i){for(;!t.eol();)if(t.next()==e){i.tokenize=o;break}return"string"};return t.isInAttribute=!0,t}function l(e,t){return function(i,n){for(;!i.eol();){if(i.match(t)){n.tokenize=s;break}i.next()}return e}}function c(e){return function(t,i){for(var n;null!=(n=t.next());){if("<"==n)return i.tokenize=c(e+1),i.tokenize(t,i);if(">"==n){if(1==e){i.tokenize=s;break}return i.tokenize=c(e-1),i.tokenize(t,i)}}return"meta"}}function u(e,t,i){this.prev=e.context,this.tagName=t,this.indent=e.indented,this.startOfLine=i,(_.doNotIndent.hasOwnProperty(t)||e.context&&e.context.noIndent)&&(this.noIndent=!0)}function d(e){e.context&&(e.context=e.context.prev)}function h(e,t){for(var i;;){if(!e.context)return;if(i=e.context.tagName,!_.contextGrabbers.hasOwnProperty(i)||!_.contextGrabbers[i].hasOwnProperty(t))return;d(e)}}function f(e,t,i){return"openTag"==e?(i.tagStart=t.column(),p):"closeTag"==e?g:f}function p(e,t,i){return"word"==e?(i.tagName=t.current(),D="tag",y):(D="error",p)}function g(e,t,i){if("word"==e){var n=t.current();return i.context&&i.context.tagName!=n&&_.implicitlyClosed.hasOwnProperty(i.context.tagName)&&d(i),i.context&&i.context.tagName==n||_.matchClosing===!1?(D="tag",m):(D="tag error",v)}return D="error",v}function m(e,t,i){return"endTag"!=e?(D="error",m):(d(i),f)}function v(e,t,i){return D="error",m(e,t,i)}function y(e,t,i){if("word"==e)return D="attribute",b;if("endTag"==e||"selfcloseTag"==e){var n=i.tagName,r=i.tagStart;return i.tagName=i.tagStart=null,"selfcloseTag"==e||_.autoSelfClosers.hasOwnProperty(n)?h(i,n):(h(i,n),i.context=new u(i,n,r==i.indented)),f}return D="error",y}function b(e,t,i){return"equals"==e?w:(_.allowMissing||(D="error"),y(e,t,i))}function w(e,t,i){return"string"==e?x:"word"==e&&_.allowUnquoted?(D="string",y):(D="error",y(e,t,i))}function x(e,t,i){return"string"==e?x:y(e,t,i)}var k=n.indentUnit,_={},C=r.htmlMode?t:i;for(var T in C)_[T]=C[T];for(var T in r)_[T]=r[T];var S,D;return s.isInText=!0,{startState:function(e){var t={tokenize:s,state:f,indented:e||0,tagName:null,tagStart:null,context:null};return null!=e&&(t.baseIndent=e),t},token:function(e,t){if(!t.tagName&&e.sol()&&(t.indented=e.indentation()),e.eatSpace())return null;S=null;var i=t.tokenize(e,t);return(i||S)&&"comment"!=i&&(D=null,t.state=t.state(S||i,e,t),D&&(i="error"==D?i+" error":D)),i},indent:function(t,i,n){var r=t.context;if(t.tokenize.isInAttribute)return t.tagStart==t.indented?t.stringStartCol+1:t.indented+k;if(r&&r.noIndent)return e.Pass;if(t.tokenize!=o&&t.tokenize!=s)return n?n.match(/^(\s*)/)[0].length:0;if(t.tagName)return _.multilineTagIndentPastTag!==!1?t.tagStart+t.tagName.length+2:t.tagStart+k*(_.multilineTagIndentFactor||1);if(_.alignCDATA&&/<!\[CDATA\[/.test(i))return 0;var a=i&&/^<(\/)?([\w_:\.-]*)/.exec(i);if(a&&a[1])for(;r;){if(r.tagName==a[2]){r=r.prev;break}if(!_.implicitlyClosed.hasOwnProperty(r.tagName))break;r=r.prev}else if(a)for(;r;){var l=_.contextGrabbers[r.tagName];if(!l||!l.hasOwnProperty(a[2]))break;r=r.prev}for(;r&&r.prev&&!r.startOfLine;)r=r.prev;return r?r.indent+k:t.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:_.htmlMode?"html":"xml",helperType:_.htmlMode?"html":"xml",skipAttribute:function(e){e.state==w&&(e.state=y)}}}),e.defineMIME("text/xml","xml"),e.defineMIME("application/xml","xml"),e.mimeModes.hasOwnProperty("text/html")||e.defineMIME("text/html",{name:"xml",htmlMode:!0})}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror"),require("../fold/xml-fold")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../fold/xml-fold"],e):e(CodeMirror)}(function(e){function t(t){if(t.getOption("disableInput"))return e.Pass;for(var i=t.listSelections(),n=[],l=0;l<i.length;l++){if(!i[l].empty())return e.Pass;var c=i[l].head,u=t.getTokenAt(c),d=e.innerMode(t.getMode(),u.state),h=d.state;if("xml"!=d.mode.name||!h.tagName)return e.Pass;var f=t.getOption("autoCloseTags"),p="html"==d.mode.configuration,g="object"==typeof f&&f.dontCloseTags||p&&o,m="object"==typeof f&&f.indentTags||p&&a,v=h.tagName;u.end>c.ch&&(v=v.slice(0,v.length-u.end+c.ch));var y=v.toLowerCase();if(!v||"string"==u.type&&(u.end!=c.ch||!/[\"\']/.test(u.string.charAt(u.string.length-1))||1==u.string.length)||"tag"==u.type&&"closeTag"==h.type||u.string.indexOf("/")==u.string.length-1||g&&r(g,y)>-1||s(t,v,c,h,!0))return e.Pass;var b=m&&r(m,y)>-1;n[l]={indent:b,text:">"+(b?"\n\n":"")+"</"+v+">",newPos:b?e.Pos(c.line+1,0):e.Pos(c.line,c.ch+1)}}for(var l=i.length-1;l>=0;l--){var w=n[l];t.replaceRange(w.text,i[l].head,i[l].anchor,"+insert");var x=t.listSelections().slice(0);x[l]={head:w.newPos,anchor:w.newPos},t.setSelections(x),w.indent&&(t.indentLine(w.newPos.line,null,!0),t.indentLine(w.newPos.line+1,null,!0))}}function i(t,i){for(var n=t.listSelections(),r=[],o=i?"/":"</",a=0;a<n.length;a++){if(!n[a].empty())return e.Pass;var l=n[a].head,c=t.getTokenAt(l),u=e.innerMode(t.getMode(),c.state),d=u.state;if(i&&("string"==c.type||"<"!=c.string.charAt(0)||c.start!=l.ch-1))return e.Pass;var h;if("xml"!=u.mode.name)if("htmlmixed"==t.getMode().name&&"javascript"==u.mode.name)h=o+"script";else{if("htmlmixed"!=t.getMode().name||"css"!=u.mode.name)return e.Pass;h=o+"style"}else{if(!d.context||!d.context.tagName||s(t,d.context.tagName,l,d))return e.Pass;h=o+d.context.tagName}">"!=t.getLine(l.line).charAt(c.end)&&(h+=">"),r[a]=h}t.replaceSelections(r),n=t.listSelections();for(var a=0;a<n.length;a++)(a==n.length-1||n[a].head.line<n[a+1].head.line)&&t.indentLine(n[a].head.line)}function n(t){return t.getOption("disableInput")?e.Pass:i(t,!0)}function r(e,t){if(e.indexOf)return e.indexOf(t);for(var i=0,n=e.length;n>i;++i)if(e[i]==t)return i;return-1}function s(t,i,n,r,s){if(!e.scanForClosingTag)return!1;var o=Math.min(t.lastLine()+1,n.line+500),a=e.scanForClosingTag(t,n,null,o);if(!a||a.tag!=i)return!1;for(var l=r.context,c=s?1:0;l&&l.tagName==i;l=l.prev)++c;n=a.to;for(var u=1;c>u;u++){var d=e.scanForClosingTag(t,n,null,o);if(!d||d.tag!=i)return!1;n=d.to}return!0}e.defineOption("autoCloseTags",!1,function(i,r,s){if(s!=e.Init&&s&&i.removeKeyMap("autoCloseTags"),r){var o={name:"autoCloseTags"};("object"!=typeof r||r.whenClosing)&&(o["'/'"]=function(e){return n(e)}),("object"!=typeof r||r.whenOpening)&&(o["'>'"]=function(e){return t(e)}),i.addKeyMap(o)}});var o=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"],a=["applet","blockquote","body","button","div","dl","fieldset","form","frameset","h1","h2","h3","h4","h5","h6","head","html","iframe","layer","legend","object","ol","p","select","table","ul"];e.commands.closeTag=function(e){return i(e)}}),!function(e){function t(){return new Date(Date.UTC.apply(Date,arguments))}var i=function(t,i){var s=this;this.element=e(t),this.language=i.language||this.element.data("date-language")||"en",this.language=this.language in n?this.language:"en",this.isRTL=n[this.language].rtl||!1,this.formatType=i.formatType||this.element.data("format-type")||"standard",this.format=r.parseFormat(i.format||this.element.data("date-format")||n[this.language].format||r.getDefaultFormat(this.formatType,"input"),this.formatType),this.isInline=!1,this.isVisible=!1,this.isInput=this.element.is("input"),this.bootcssVer=this.isInput?this.element.is(".form-control")?3:2:this.bootcssVer=this.element.is(".input-group")?3:2,this.component=this.element.is(".date")?3==this.bootcssVer?this.element.find(".input-group-addon .glyphicon-th, .input-group-addon .glyphicon-time, .input-group-addon .glyphicon-calendar").parent():this.element.find(".add-on .icon-th, .add-on .icon-time, .add-on .icon-calendar").parent():!1,this.componentReset=this.element.is(".date")?3==this.bootcssVer?this.element.find(".input-group-addon .glyphicon-remove").parent():this.element.find(".add-on .icon-remove").parent():!1,this.hasInput=this.component&&this.element.find("input").length,this.component&&0===this.component.length&&(this.component=!1),this.linkField=i.linkField||this.element.data("link-field")||!1,this.linkFormat=r.parseFormat(i.linkFormat||this.element.data("link-format")||r.getDefaultFormat(this.formatType,"link"),this.formatType),this.minuteStep=i.minuteStep||this.element.data("minute-step")||5,this.pickerPosition=i.pickerPosition||this.element.data("picker-position")||"bottom-right",this.showMeridian=i.showMeridian||this.element.data("show-meridian")||!1,this.initialDate=i.initialDate||new Date,this._attachEvents(),this.formatViewType="datetime","formatViewType"in i?this.formatViewType=i.formatViewType:"formatViewType"in this.element.data()&&(this.formatViewType=this.element.data("formatViewType")),this.minView=0,"minView"in i?this.minView=i.minView:"minView"in this.element.data()&&(this.minView=this.element.data("min-view")),this.minView=r.convertViewMode(this.minView),this.maxView=r.modes.length-1,"maxView"in i?this.maxView=i.maxView:"maxView"in this.element.data()&&(this.maxView=this.element.data("max-view")),this.maxView=r.convertViewMode(this.maxView),this.wheelViewModeNavigation=!1,"wheelViewModeNavigation"in i?this.wheelViewModeNavigation=i.wheelViewModeNavigation:"wheelViewModeNavigation"in this.element.data()&&(this.wheelViewModeNavigation=this.element.data("view-mode-wheel-navigation")),this.wheelViewModeNavigationInverseDirection=!1,"wheelViewModeNavigationInverseDirection"in i?this.wheelViewModeNavigationInverseDirection=i.wheelViewModeNavigationInverseDirection:"wheelViewModeNavigationInverseDirection"in this.element.data()&&(this.wheelViewModeNavigationInverseDirection=this.element.data("view-mode-wheel-navigation-inverse-dir")),this.wheelViewModeNavigationDelay=100,"wheelViewModeNavigationDelay"in i?this.wheelViewModeNavigationDelay=i.wheelViewModeNavigationDelay:"wheelViewModeNavigationDelay"in this.element.data()&&(this.wheelViewModeNavigationDelay=this.element.data("view-mode-wheel-navigation-delay")),this.startViewMode=2,"startView"in i?this.startViewMode=i.startView:"startView"in this.element.data()&&(this.startViewMode=this.element.data("start-view")),this.startViewMode=r.convertViewMode(this.startViewMode),this.viewMode=this.startViewMode,this.viewSelect=this.minView,"viewSelect"in i?this.viewSelect=i.viewSelect:"viewSelect"in this.element.data()&&(this.viewSelect=this.element.data("view-select")),this.viewSelect=r.convertViewMode(this.viewSelect),this.forceParse=!0,"forceParse"in i?this.forceParse=i.forceParse:"dateForceParse"in this.element.data()&&(this.forceParse=this.element.data("date-force-parse")),this.picker=e(3==this.bootcssVer?r.templateV3:r.template).appendTo(this.isInline?this.element:"body").on({click:e.proxy(this.click,this),mousedown:e.proxy(this.mousedown,this)}),this.wheelViewModeNavigation&&(e.fn.mousewheel?this.picker.on({mousewheel:e.proxy(this.mousewheel,this)}):console.log("Mouse Wheel event is not supported. Please include the jQuery Mouse Wheel plugin before enabling this option")),this.picker.addClass(this.isInline?"datetimepicker-inline":"datetimepicker-dropdown-"+this.pickerPosition+" dropdown-menu"),this.isRTL&&(this.picker.addClass("datetimepicker-rtl"),3==this.bootcssVer?this.picker.find(".prev span, .next span").toggleClass("glyphicon-arrow-left glyphicon-arrow-right"):this.picker.find(".prev i, .next i").toggleClass("icon-arrow-left icon-arrow-right")),e(document).on("mousedown",function(t){0===e(t.target).closest(".datetimepicker").length&&s.hide()}),this.autoclose=!1,"autoclose"in i?this.autoclose=i.autoclose:"dateAutoclose"in this.element.data()&&(this.autoclose=this.element.data("date-autoclose")),this.keyboardNavigation=!0,"keyboardNavigation"in i?this.keyboardNavigation=i.keyboardNavigation:"dateKeyboardNavigation"in this.element.data()&&(this.keyboardNavigation=this.element.data("date-keyboard-navigation")),this.todayBtn=i.todayBtn||this.element.data("date-today-btn")||!1,this.todayHighlight=i.todayHighlight||this.element.data("date-today-highlight")||!1,this.weekStart=(i.weekStart||this.element.data("date-weekstart")||n[this.language].weekStart||0)%7,this.weekEnd=(this.weekStart+6)%7,this.startDate=-1/0,this.endDate=1/0,this.daysOfWeekDisabled=[],this.setStartDate(i.startDate||this.element.data("date-startdate")),this.setEndDate(i.endDate||this.element.data("date-enddate")),this.setDaysOfWeekDisabled(i.daysOfWeekDisabled||this.element.data("date-days-of-week-disabled")),this.fillDow(),this.fillMonths(),this.update(),this.showMode(),this.isInline&&this.show()};i.prototype={constructor:i,_events:[],_attachEvents:function(){this._detachEvents(),this.isInput?this._events=[[this.element,{focus:e.proxy(this.show,this),keyup:e.proxy(this.update,this),keydown:e.proxy(this.keydown,this)}]]:this.component&&this.hasInput?(this._events=[[this.element.find("input"),{focus:e.proxy(this.show,this),keyup:e.proxy(this.update,this),keydown:e.proxy(this.keydown,this)}],[this.component,{click:e.proxy(this.show,this)}]],this.componentReset&&this._events.push([this.componentReset,{click:e.proxy(this.reset,this)}])):this.element.is("div")?this.isInline=!0:this._events=[[this.element,{click:e.proxy(this.show,this)}]];for(var t,i,n=0;n<this._events.length;n++)t=this._events[n][0],i=this._events[n][1],t.on(i)},_detachEvents:function(){for(var e,t,i=0;i<this._events.length;i++)e=this._events[i][0],t=this._events[i][1],e.off(t);this._events=[]},show:function(t){this.picker.show(),this.height=this.component?this.component.outerHeight():this.element.outerHeight(),this.forceParse&&this.update(),this.place(),e(window).on("resize",e.proxy(this.place,this)),t&&(t.stopPropagation(),t.preventDefault()),this.isVisible=!0,this.element.trigger({type:"show",date:this.date})},hide:function(){this.isVisible&&(this.isInline||(this.picker.hide(),e(window).off("resize",this.place),this.viewMode=this.startViewMode,this.showMode(),this.isInput||e(document).off("mousedown",this.hide),this.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())&&this.setValue(),this.isVisible=!1,this.element.trigger({type:"hide",date:this.date})))},remove:function(){this._detachEvents(),this.picker.remove(),delete this.picker,delete this.element.data().datetimepicker},getDate:function(){var e=this.getUTCDate();return new Date(e.getTime()+6e4*e.getTimezoneOffset())},getUTCDate:function(){return this.date},setDate:function(e){this.setUTCDate(new Date(e.getTime()-6e4*e.getTimezoneOffset()))},setUTCDate:function(e){e>=this.startDate&&e<=this.endDate?(this.date=e,this.setValue(),this.viewDate=this.date,this.fill()):this.element.trigger({type:"outOfRange",date:e,startDate:this.startDate,endDate:this.endDate})},setFormat:function(e){this.format=r.parseFormat(e,this.formatType);var t;this.isInput?t=this.element:this.component&&(t=this.element.find("input")),t&&t.val()&&this.setValue()},setValue:function(){var t=this.getFormattedDate();this.isInput?this.element.val(t):(this.component&&this.element.find("input").val(t),this.element.data("date",t)),this.linkField&&e("#"+this.linkField).val(this.getFormattedDate(this.linkFormat))},getFormattedDate:function(e){return void 0==e&&(e=this.format),r.formatDate(this.date,e,this.language,this.formatType)},setStartDate:function(e){this.startDate=e||-1/0,this.startDate!==-1/0&&(this.startDate=r.parseDate(this.startDate,this.format,this.language,this.formatType)),this.update(),this.updateNavArrows()},setEndDate:function(e){this.endDate=e||1/0,1/0!==this.endDate&&(this.endDate=r.parseDate(this.endDate,this.format,this.language,this.formatType)),this.update(),this.updateNavArrows()},setDaysOfWeekDisabled:function(t){this.daysOfWeekDisabled=t||[],e.isArray(this.daysOfWeekDisabled)||(this.daysOfWeekDisabled=this.daysOfWeekDisabled.split(/,\s*/)),this.daysOfWeekDisabled=e.map(this.daysOfWeekDisabled,function(e){return parseInt(e,10)}),this.update(),this.updateNavArrows()},place:function(){if(!this.isInline){var t=0;e("div").each(function(){var i=parseInt(e(this).css("zIndex"),10);i>t&&(t=i)});
var i,n,r,s=t+10;this.component?(i=this.component.offset(),r=i.left,("bottom-left"==this.pickerPosition||"top-left"==this.pickerPosition)&&(r+=this.component.outerWidth()-this.picker.outerWidth())):(i=this.element.offset(),r=i.left),n="top-left"==this.pickerPosition||"top-right"==this.pickerPosition?i.top-this.picker.outerHeight():i.top+this.height,this.picker.css({top:n,left:r,zIndex:s})}},update:function(){var e,t=!1;arguments&&arguments.length&&("string"==typeof arguments[0]||arguments[0]instanceof Date)?(e=arguments[0],t=!0):(e=this.element.data("date")||(this.isInput?this.element.val():this.element.find("input").val())||this.initialDate,("string"==typeof e||e instanceof String)&&(e=e.replace(/^\s+|\s+$/g,""))),e||(e=new Date,t=!1),this.date=r.parseDate(e,this.format,this.language,this.formatType),t&&this.setValue(),this.viewDate=new Date(this.date<this.startDate?this.startDate:this.date>this.endDate?this.endDate:this.date),this.fill()},fillDow:function(){for(var e=this.weekStart,t="<tr>";e<this.weekStart+7;)t+='<th class="dow">'+n[this.language].daysMin[e++%7]+"</th>";t+="</tr>",this.picker.find(".datetimepicker-days thead").append(t)},fillMonths:function(){for(var e="",t=0;12>t;)e+='<span class="month">'+n[this.language].monthsShort[t++]+"</span>";this.picker.find(".datetimepicker-months td").html(e)},fill:function(){if(null!=this.date&&null!=this.viewDate){var i=new Date(this.viewDate),s=i.getUTCFullYear(),o=i.getUTCMonth(),a=i.getUTCDate(),l=i.getUTCHours(),c=i.getUTCMinutes(),u=this.startDate!==-1/0?this.startDate.getUTCFullYear():-1/0,d=this.startDate!==-1/0?this.startDate.getUTCMonth():-1/0,h=1/0!==this.endDate?this.endDate.getUTCFullYear():1/0,f=1/0!==this.endDate?this.endDate.getUTCMonth():1/0,p=new t(this.date.getUTCFullYear(),this.date.getUTCMonth(),this.date.getUTCDate()).valueOf(),g=new Date;if(this.picker.find(".datetimepicker-days thead th:eq(1)").text(n[this.language].months[o]+" "+s),"time"==this.formatViewType){var m=l%12?l%12:12,v=(10>m?"0":"")+m,y=(10>c?"0":"")+c,b=n[this.language].meridiem[12>l?0:1];this.picker.find(".datetimepicker-hours thead th:eq(1)").text(v+":"+y+" "+b.toUpperCase()),this.picker.find(".datetimepicker-minutes thead th:eq(1)").text(v+":"+y+" "+b.toUpperCase())}else this.picker.find(".datetimepicker-hours thead th:eq(1)").text(a+" "+n[this.language].months[o]+" "+s),this.picker.find(".datetimepicker-minutes thead th:eq(1)").text(a+" "+n[this.language].months[o]+" "+s);this.picker.find("tfoot th.today").text(n[this.language].today).toggle(this.todayBtn!==!1),this.updateNavArrows(),this.fillMonths();var w=t(s,o-1,28,0,0,0,0),x=r.getDaysInMonth(w.getUTCFullYear(),w.getUTCMonth());w.setUTCDate(x),w.setUTCDate(x-(w.getUTCDay()-this.weekStart+7)%7);var k=new Date(w);k.setUTCDate(k.getUTCDate()+42),k=k.valueOf();for(var _,C=[];w.valueOf()<k;)w.getUTCDay()==this.weekStart&&C.push("<tr>"),_="",w.getUTCFullYear()<s||w.getUTCFullYear()==s&&w.getUTCMonth()<o?_+=" old":(w.getUTCFullYear()>s||w.getUTCFullYear()==s&&w.getUTCMonth()>o)&&(_+=" new"),this.todayHighlight&&w.getUTCFullYear()==g.getFullYear()&&w.getUTCMonth()==g.getMonth()&&w.getUTCDate()==g.getDate()&&(_+=" today"),w.valueOf()==p&&(_+=" active"),(w.valueOf()+864e5<=this.startDate||w.valueOf()>this.endDate||-1!==e.inArray(w.getUTCDay(),this.daysOfWeekDisabled))&&(_+=" disabled"),C.push('<td class="day'+_+'">'+w.getUTCDate()+"</td>"),w.getUTCDay()==this.weekEnd&&C.push("</tr>"),w.setUTCDate(w.getUTCDate()+1);this.picker.find(".datetimepicker-days tbody").empty().append(C.join("")),C=[];for(var T="",S="",D="",E=0;24>E;E++){var M=t(s,o,a,E);_="",M.valueOf()+36e5<=this.startDate||M.valueOf()>this.endDate?_+=" disabled":l==E&&(_+=" active"),this.showMeridian&&2==n[this.language].meridiem.length?(S=12>E?n[this.language].meridiem[0]:n[this.language].meridiem[1],S!=D&&(""!=D&&C.push("</fieldset>"),C.push('<fieldset class="hour"><legend>'+S.toUpperCase()+"</legend>")),D=S,T=E%12?E%12:12,C.push('<span class="hour'+_+" hour_"+(12>E?"am":"pm")+'">'+T+"</span>"),23==E&&C.push("</fieldset>")):(T=E+":00",C.push('<span class="hour'+_+'">'+T+"</span>"))}this.picker.find(".datetimepicker-hours td").html(C.join("")),C=[],T="",S="",D="";for(var E=0;60>E;E+=this.minuteStep){var M=t(s,o,a,l,E,0);_="",M.valueOf()<this.startDate||M.valueOf()>this.endDate?_+=" disabled":Math.floor(c/this.minuteStep)==Math.floor(E/this.minuteStep)&&(_+=" active"),this.showMeridian&&2==n[this.language].meridiem.length?(S=12>l?n[this.language].meridiem[0]:n[this.language].meridiem[1],S!=D&&(""!=D&&C.push("</fieldset>"),C.push('<fieldset class="minute"><legend>'+S.toUpperCase()+"</legend>")),D=S,T=l%12?l%12:12,C.push('<span class="minute'+_+'">'+T+":"+(10>E?"0"+E:E)+"</span>"),59==E&&C.push("</fieldset>")):(T=E+":00",C.push('<span class="minute'+_+'">'+l+":"+(10>E?"0"+E:E)+"</span>"))}this.picker.find(".datetimepicker-minutes td").html(C.join(""));var A=this.date.getUTCFullYear(),I=this.picker.find(".datetimepicker-months").find("th:eq(1)").text(s).end().find("span").removeClass("active");A==s&&I.eq(this.date.getUTCMonth()).addClass("active"),(u>s||s>h)&&I.addClass("disabled"),s==u&&I.slice(0,d).addClass("disabled"),s==h&&I.slice(f+1).addClass("disabled"),C="",s=10*parseInt(s/10,10);var O=this.picker.find(".datetimepicker-years").find("th:eq(1)").text(s+"-"+(s+9)).end().find("td");s-=1;for(var E=-1;11>E;E++)C+='<span class="year'+(-1==E||10==E?" old":"")+(A==s?" active":"")+(u>s||s>h?" disabled":"")+'">'+s+"</span>",s+=1;O.html(C),this.place()}},updateNavArrows:function(){var e=new Date(this.viewDate),t=e.getUTCFullYear(),i=e.getUTCMonth(),n=e.getUTCDate(),r=e.getUTCHours();switch(this.viewMode){case 0:this.picker.find(".prev").css(this.startDate!==-1/0&&t<=this.startDate.getUTCFullYear()&&i<=this.startDate.getUTCMonth()&&n<=this.startDate.getUTCDate()&&r<=this.startDate.getUTCHours()?{visibility:"hidden"}:{visibility:"visible"}),this.picker.find(".next").css(1/0!==this.endDate&&t>=this.endDate.getUTCFullYear()&&i>=this.endDate.getUTCMonth()&&n>=this.endDate.getUTCDate()&&r>=this.endDate.getUTCHours()?{visibility:"hidden"}:{visibility:"visible"});break;case 1:this.picker.find(".prev").css(this.startDate!==-1/0&&t<=this.startDate.getUTCFullYear()&&i<=this.startDate.getUTCMonth()&&n<=this.startDate.getUTCDate()?{visibility:"hidden"}:{visibility:"visible"}),this.picker.find(".next").css(1/0!==this.endDate&&t>=this.endDate.getUTCFullYear()&&i>=this.endDate.getUTCMonth()&&n>=this.endDate.getUTCDate()?{visibility:"hidden"}:{visibility:"visible"});break;case 2:this.picker.find(".prev").css(this.startDate!==-1/0&&t<=this.startDate.getUTCFullYear()&&i<=this.startDate.getUTCMonth()?{visibility:"hidden"}:{visibility:"visible"}),this.picker.find(".next").css(1/0!==this.endDate&&t>=this.endDate.getUTCFullYear()&&i>=this.endDate.getUTCMonth()?{visibility:"hidden"}:{visibility:"visible"});break;case 3:case 4:this.picker.find(".prev").css(this.startDate!==-1/0&&t<=this.startDate.getUTCFullYear()?{visibility:"hidden"}:{visibility:"visible"}),this.picker.find(".next").css(1/0!==this.endDate&&t>=this.endDate.getUTCFullYear()?{visibility:"hidden"}:{visibility:"visible"})}},mousewheel:function(t){if(t.preventDefault(),t.stopPropagation(),!this.wheelPause){this.wheelPause=!0;var i=t.originalEvent,n=i.wheelDelta,r=n>0?1:0===n?0:-1;this.wheelViewModeNavigationInverseDirection&&(r=-r),this.showMode(r),setTimeout(e.proxy(function(){this.wheelPause=!1},this),this.wheelViewModeNavigationDelay)}},click:function(i){i.stopPropagation(),i.preventDefault();var n=e(i.target).closest("span, td, th, legend");if(1==n.length){if(n.is(".disabled"))return void this.element.trigger({type:"outOfRange",date:this.viewDate,startDate:this.startDate,endDate:this.endDate});switch(n[0].nodeName.toLowerCase()){case"th":switch(n[0].className){case"switch":this.showMode(1);break;case"prev":case"next":var s=r.modes[this.viewMode].navStep*("prev"==n[0].className?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveHour(this.viewDate,s);break;case 1:this.viewDate=this.moveDate(this.viewDate,s);break;case 2:this.viewDate=this.moveMonth(this.viewDate,s);break;case 3:case 4:this.viewDate=this.moveYear(this.viewDate,s)}this.fill();break;case"today":var o=new Date;o=t(o.getFullYear(),o.getMonth(),o.getDate(),o.getHours(),o.getMinutes(),o.getSeconds(),0),o<this.startDate?o=this.startDate:o>this.endDate&&(o=this.endDate),this.viewMode=this.startViewMode,this.showMode(0),this._setDate(o),this.fill(),this.autoclose&&this.hide()}break;case"span":if(!n.is(".disabled")){var a=this.viewDate.getUTCFullYear(),l=this.viewDate.getUTCMonth(),c=this.viewDate.getUTCDate(),u=this.viewDate.getUTCHours(),d=this.viewDate.getUTCMinutes(),h=this.viewDate.getUTCSeconds();if(n.is(".month")?(this.viewDate.setUTCDate(1),l=n.parent().find("span").index(n),c=this.viewDate.getUTCDate(),this.viewDate.setUTCMonth(l),this.element.trigger({type:"changeMonth",date:this.viewDate}),this.viewSelect>=3&&this._setDate(t(a,l,c,u,d,h,0))):n.is(".year")?(this.viewDate.setUTCDate(1),a=parseInt(n.text(),10)||0,this.viewDate.setUTCFullYear(a),this.element.trigger({type:"changeYear",date:this.viewDate}),this.viewSelect>=4&&this._setDate(t(a,l,c,u,d,h,0))):n.is(".hour")?(u=parseInt(n.text(),10)||0,(n.hasClass("hour_am")||n.hasClass("hour_pm"))&&(12==u&&n.hasClass("hour_am")?u=0:12!=u&&n.hasClass("hour_pm")&&(u+=12)),this.viewDate.setUTCHours(u),this.element.trigger({type:"changeHour",date:this.viewDate}),this.viewSelect>=1&&this._setDate(t(a,l,c,u,d,h,0))):n.is(".minute")&&(d=parseInt(n.text().substr(n.text().indexOf(":")+1),10)||0,this.viewDate.setUTCMinutes(d),this.element.trigger({type:"changeMinute",date:this.viewDate}),this.viewSelect>=0&&this._setDate(t(a,l,c,u,d,h,0))),0!=this.viewMode){var f=this.viewMode;this.showMode(-1),this.fill(),f==this.viewMode&&this.autoclose&&this.hide()}else this.fill(),this.autoclose&&this.hide()}break;case"td":if(n.is(".day")&&!n.is(".disabled")){var c=parseInt(n.text(),10)||1,a=this.viewDate.getUTCFullYear(),l=this.viewDate.getUTCMonth(),u=this.viewDate.getUTCHours(),d=this.viewDate.getUTCMinutes(),h=this.viewDate.getUTCSeconds();n.is(".old")?0===l?(l=11,a-=1):l-=1:n.is(".new")&&(11==l?(l=0,a+=1):l+=1),this.viewDate.setUTCFullYear(a),this.viewDate.setUTCMonth(l),this.viewDate.setUTCDate(c),this.element.trigger({type:"changeDay",date:this.viewDate}),this.viewSelect>=2&&this._setDate(t(a,l,c,u,d,h,0))}var f=this.viewMode;this.showMode(-1),this.fill(),f==this.viewMode&&this.autoclose&&this.hide()}}},_setDate:function(e,t){t&&"date"!=t||(this.date=e),t&&"view"!=t||(this.viewDate=e),this.fill(),this.setValue();var i;this.isInput?i=this.element:this.component&&(i=this.element.find("input")),i&&(i.change(),this.autoclose&&(!t||"date"==t)),this.element.trigger({type:"changeDate",date:this.date})},moveMinute:function(e,t){if(!t)return e;var i=new Date(e.valueOf());return i.setUTCMinutes(i.getUTCMinutes()+t*this.minuteStep),i},moveHour:function(e,t){if(!t)return e;var i=new Date(e.valueOf());return i.setUTCHours(i.getUTCHours()+t),i},moveDate:function(e,t){if(!t)return e;var i=new Date(e.valueOf());return i.setUTCDate(i.getUTCDate()+t),i},moveMonth:function(e,t){if(!t)return e;var i,n,r=new Date(e.valueOf()),s=r.getUTCDate(),o=r.getUTCMonth(),a=Math.abs(t);if(t=t>0?1:-1,1==a)n=-1==t?function(){return r.getUTCMonth()==o}:function(){return r.getUTCMonth()!=i},i=o+t,r.setUTCMonth(i),(0>i||i>11)&&(i=(i+12)%12);else{for(var l=0;a>l;l++)r=this.moveMonth(r,t);i=r.getUTCMonth(),r.setUTCDate(s),n=function(){return i!=r.getUTCMonth()}}for(;n();)r.setUTCDate(--s),r.setUTCMonth(i);return r},moveYear:function(e,t){return this.moveMonth(e,12*t)},dateWithinRange:function(e){return e>=this.startDate&&e<=this.endDate},keydown:function(e){if(this.picker.is(":not(:visible)"))return void(27==e.keyCode&&this.show());var t,i,n,r=!1;switch(e.keyCode){case 27:this.hide(),e.preventDefault();break;case 37:case 39:if(!this.keyboardNavigation)break;t=37==e.keyCode?-1:1,viewMode=this.viewMode,e.ctrlKey?viewMode+=2:e.shiftKey&&(viewMode+=1),4==viewMode?(i=this.moveYear(this.date,t),n=this.moveYear(this.viewDate,t)):3==viewMode?(i=this.moveMonth(this.date,t),n=this.moveMonth(this.viewDate,t)):2==viewMode?(i=this.moveDate(this.date,t),n=this.moveDate(this.viewDate,t)):1==viewMode?(i=this.moveHour(this.date,t),n=this.moveHour(this.viewDate,t)):0==viewMode&&(i=this.moveMinute(this.date,t),n=this.moveMinute(this.viewDate,t)),this.dateWithinRange(i)&&(this.date=i,this.viewDate=n,this.setValue(),this.update(),e.preventDefault(),r=!0);break;case 38:case 40:if(!this.keyboardNavigation)break;t=38==e.keyCode?-1:1,viewMode=this.viewMode,e.ctrlKey?viewMode+=2:e.shiftKey&&(viewMode+=1),4==viewMode?(i=this.moveYear(this.date,t),n=this.moveYear(this.viewDate,t)):3==viewMode?(i=this.moveMonth(this.date,t),n=this.moveMonth(this.viewDate,t)):2==viewMode?(i=this.moveDate(this.date,7*t),n=this.moveDate(this.viewDate,7*t)):1==viewMode?this.showMeridian?(i=this.moveHour(this.date,6*t),n=this.moveHour(this.viewDate,6*t)):(i=this.moveHour(this.date,4*t),n=this.moveHour(this.viewDate,4*t)):0==viewMode&&(i=this.moveMinute(this.date,4*t),n=this.moveMinute(this.viewDate,4*t)),this.dateWithinRange(i)&&(this.date=i,this.viewDate=n,this.setValue(),this.update(),e.preventDefault(),r=!0);break;case 13:if(0!=this.viewMode){var s=this.viewMode;this.showMode(-1),this.fill(),s==this.viewMode&&this.autoclose&&this.hide()}else this.fill(),this.autoclose&&this.hide();e.preventDefault();break;case 9:this.hide()}if(r){var o;this.isInput?o=this.element:this.component&&(o=this.element.find("input")),o&&o.change(),this.element.trigger({type:"changeDate",date:this.date})}},showMode:function(e){if(e){var t=Math.max(0,Math.min(r.modes.length-1,this.viewMode+e));t>=this.minView&&t<=this.maxView&&(this.element.trigger({type:"changeMode",date:this.viewDate,oldViewMode:this.viewMode,newViewMode:t}),this.viewMode=t)}this.picker.find(">div").hide().filter(".datetimepicker-"+r.modes[this.viewMode].clsName).css("display","block"),this.updateNavArrows()},reset:function(){this._setDate(null,"date")}},e.fn.datetimepicker=function(t){var n=Array.apply(null,arguments);return n.shift(),this.each(function(){var r=e(this),s=r.data("datetimepicker"),o="object"==typeof t&&t;s||r.data("datetimepicker",s=new i(this,e.extend({},e.fn.datetimepicker.defaults,o))),"string"==typeof t&&"function"==typeof s[t]&&s[t].apply(s,n)})},e.fn.datetimepicker.defaults={},e.fn.datetimepicker.Constructor=i;var n=e.fn.datetimepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],meridiem:["am","pm"],suffix:["st","nd","rd","th"],today:"Today"}},r={modes:[{clsName:"minutes",navFnc:"Hours",navStep:1},{clsName:"hours",navFnc:"Date",navStep:1},{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(e){return e%4===0&&e%100!==0||e%400===0},getDaysInMonth:function(e,t){return[31,r.isLeapYear(e)?29:28,31,30,31,30,31,31,30,31,30,31][t]},getDefaultFormat:function(e,t){if("standard"==e)return"input"==t?"yyyy-mm-dd hh:ii":"yyyy-mm-dd hh:ii:ss";if("php"==e)return"input"==t?"Y-m-d H:i":"Y-m-d H:i:s";throw new Error("Invalid format type.")},validParts:function(e){if("standard"==e)return/hh?|HH?|p|P|ii?|ss?|dd?|DD?|mm?|MM?|yy(?:yy)?/g;if("php"==e)return/[dDjlNwzFmMnStyYaABgGhHis]/g;throw new Error("Invalid format type.")},nonpunctuation:/[^ -\/:-@\[-`{-~\t\n\rTZ]+/g,parseFormat:function(e,t){var i=e.replace(this.validParts(t),"\x00").split("\x00"),n=e.match(this.validParts(t));if(!i||!i.length||!n||0==n.length)throw new Error("Invalid date format.");return{separators:i,parts:n}},parseDate:function(r,s,o,a){if(r instanceof Date){var l=new Date(r.valueOf()-6e4*r.getTimezoneOffset());return l.setMilliseconds(0),l}if(/^\d{4}\-\d{1,2}\-\d{1,2}$/.test(r)&&(s=this.parseFormat("yyyy-mm-dd",a)),/^\d{4}\-\d{1,2}\-\d{1,2}[T ]\d{1,2}\:\d{1,2}$/.test(r)&&(s=this.parseFormat("yyyy-mm-dd hh:ii",a)),/^\d{4}\-\d{1,2}\-\d{1,2}[T ]\d{1,2}\:\d{1,2}\:\d{1,2}[Z]{0,1}$/.test(r)&&(s=this.parseFormat("yyyy-mm-dd hh:ii:ss",a)),/^[-+]\d+[dmwy]([\s,]+[-+]\d+[dmwy])*$/.test(r)){var c,u,d=/([-+]\d+)([dmwy])/,h=r.match(/([-+]\d+)([dmwy])/g);r=new Date;for(var f=0;f<h.length;f++)switch(c=d.exec(h[f]),u=parseInt(c[1]),c[2]){case"d":r.setUTCDate(r.getUTCDate()+u);break;case"m":r=i.prototype.moveMonth.call(i.prototype,r,u);break;case"w":r.setUTCDate(r.getUTCDate()+7*u);break;case"y":r=i.prototype.moveYear.call(i.prototype,r,u)}return t(r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate(),r.getUTCHours(),r.getUTCMinutes(),r.getUTCSeconds(),0)}var p,g,c,h=r&&r.match(this.nonpunctuation)||[],r=new Date(0,0,0,0,0,0,0),m={},v=["hh","h","ii","i","ss","s","yyyy","yy","M","MM","m","mm","D","DD","d","dd","H","HH","p","P"],y={hh:function(e,t){return e.setUTCHours(t)},h:function(e,t){return e.setUTCHours(t)},HH:function(e,t){return e.setUTCHours(12==t?0:t)},H:function(e,t){return e.setUTCHours(12==t?0:t)},ii:function(e,t){return e.setUTCMinutes(t)},i:function(e,t){return e.setUTCMinutes(t)},ss:function(e,t){return e.setUTCSeconds(t)},s:function(e,t){return e.setUTCSeconds(t)},yyyy:function(e,t){return e.setUTCFullYear(t)},yy:function(e,t){return e.setUTCFullYear(2e3+t)},m:function(e,t){for(t-=1;0>t;)t+=12;for(t%=12,e.setUTCMonth(t);e.getUTCMonth()!=t;)e.setUTCDate(e.getUTCDate()-1);return e},d:function(e,t){return e.setUTCDate(t)},p:function(e,t){return e.setUTCHours(1==t?e.getUTCHours()+12:e.getUTCHours())}};if(y.M=y.MM=y.mm=y.m,y.dd=y.d,y.P=y.p,r=t(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds()),h.length==s.parts.length){for(var f=0,b=s.parts.length;b>f;f++){if(p=parseInt(h[f],10),c=s.parts[f],isNaN(p))switch(c){case"MM":g=e(n[o].months).filter(function(){var e=this.slice(0,h[f].length),t=h[f].slice(0,e.length);return e==t}),p=e.inArray(g[0],n[o].months)+1;break;case"M":g=e(n[o].monthsShort).filter(function(){var e=this.slice(0,h[f].length),t=h[f].slice(0,e.length);return e==t}),p=e.inArray(g[0],n[o].monthsShort)+1;break;case"p":case"P":p=e.inArray(h[f].toLowerCase(),n[o].meridiem)}m[c]=p}for(var w,f=0;f<v.length;f++)w=v[f],w in m&&!isNaN(m[w])&&y[w](r,m[w])}return r},formatDate:function(t,i,s,o){if(null==t)return"";var a;if("standard"==o)a={yy:t.getUTCFullYear().toString().substring(2),yyyy:t.getUTCFullYear(),m:t.getUTCMonth()+1,M:n[s].monthsShort[t.getUTCMonth()],MM:n[s].months[t.getUTCMonth()],d:t.getUTCDate(),D:n[s].daysShort[t.getUTCDay()],DD:n[s].days[t.getUTCDay()],p:2==n[s].meridiem.length?n[s].meridiem[t.getUTCHours()<12?0:1]:"",h:t.getUTCHours(),i:t.getUTCMinutes(),s:t.getUTCSeconds()},a.H=2==n[s].meridiem.length?a.h%12==0?12:a.h%12:a.h,a.HH=(a.H<10?"0":"")+a.H,a.P=a.p.toUpperCase(),a.hh=(a.h<10?"0":"")+a.h,a.ii=(a.i<10?"0":"")+a.i,a.ss=(a.s<10?"0":"")+a.s,a.dd=(a.d<10?"0":"")+a.d,a.mm=(a.m<10?"0":"")+a.m;else{if("php"!=o)throw new Error("Invalid format type.");a={y:t.getUTCFullYear().toString().substring(2),Y:t.getUTCFullYear(),F:n[s].months[t.getUTCMonth()],M:n[s].monthsShort[t.getUTCMonth()],n:t.getUTCMonth()+1,t:r.getDaysInMonth(t.getUTCFullYear(),t.getUTCMonth()),j:t.getUTCDate(),l:n[s].days[t.getUTCDay()],D:n[s].daysShort[t.getUTCDay()],w:t.getUTCDay(),N:0==t.getUTCDay()?7:t.getUTCDay(),S:t.getUTCDate()%10<=n[s].suffix.length?n[s].suffix[t.getUTCDate()%10-1]:"",a:2==n[s].meridiem.length?n[s].meridiem[t.getUTCHours()<12?0:1]:"",g:t.getUTCHours()%12==0?12:t.getUTCHours()%12,G:t.getUTCHours(),i:t.getUTCMinutes(),s:t.getUTCSeconds()},a.m=(a.n<10?"0":"")+a.n,a.d=(a.j<10?"0":"")+a.j,a.A=a.a.toString().toUpperCase(),a.h=(a.g<10?"0":"")+a.g,a.H=(a.G<10?"0":"")+a.G,a.i=(a.i<10?"0":"")+a.i,a.s=(a.s<10?"0":"")+a.s}for(var t=[],l=e.extend([],i.separators),c=0,u=i.parts.length;u>c;c++)l.length&&t.push(l.shift()),t.push(a[i.parts[c]]);return l.length&&t.push(l.shift()),t.join("")},convertViewMode:function(e){switch(e){case 4:case"decade":e=4;break;case 3:case"year":e=3;break;case 2:case"month":e=2;break;case 1:case"day":e=1;break;case 0:case"hour":e=0}return e},headTemplate:'<thead><tr><th class="prev"><i class="icon-arrow-left"/></th><th colspan="5" class="switch"></th><th class="next"><i class="icon-arrow-right"/></th></tr></thead>',headTemplateV3:'<thead><tr><th class="prev"><i class="glyphicon glyphicon-arrow-left"></i> </th><th colspan="5" class="switch"></th><th class="next"><i class="glyphicon glyphicon-arrow-right"></i> </th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr></tfoot>'};r.template='<div class="datetimepicker"><div class="datetimepicker-minutes"><table class=" table-condensed">'+r.headTemplate+r.contTemplate+r.footTemplate+'</table></div><div class="datetimepicker-hours"><table class=" table-condensed">'+r.headTemplate+r.contTemplate+r.footTemplate+'</table></div><div class="datetimepicker-days"><table class=" table-condensed">'+r.headTemplate+"<tbody></tbody>"+r.footTemplate+'</table></div><div class="datetimepicker-months"><table class="table-condensed">'+r.headTemplate+r.contTemplate+r.footTemplate+'</table></div><div class="datetimepicker-years"><table class="table-condensed">'+r.headTemplate+r.contTemplate+r.footTemplate+"</table></div></div>",r.templateV3='<div class="datetimepicker"><div class="datetimepicker-minutes"><table class=" table-condensed">'+r.headTemplateV3+r.contTemplate+r.footTemplate+'</table></div><div class="datetimepicker-hours"><table class=" table-condensed">'+r.headTemplateV3+r.contTemplate+r.footTemplate+'</table></div><div class="datetimepicker-days"><table class=" table-condensed">'+r.headTemplateV3+"<tbody></tbody>"+r.footTemplate+'</table></div><div class="datetimepicker-months"><table class="table-condensed">'+r.headTemplateV3+r.contTemplate+r.footTemplate+'</table></div><div class="datetimepicker-years"><table class="table-condensed">'+r.headTemplateV3+r.contTemplate+r.footTemplate+"</table></div></div>",e.fn.datetimepicker.DPGlobal=r,e.fn.datetimepicker.noConflict=function(){return e.fn.datetimepicker=old,this},e(document).on("focus.datetimepicker.data-api click.datetimepicker.data-api",'[data-provide="datetimepicker"]',function(t){var i=e(this);i.data("datetimepicker")||(t.preventDefault(),i.datetimepicker("show"))}),e(function(){e('[data-provide="datetimepicker-inline"]').datetimepicker()})}(window.jQuery),function(){function e(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32}e.prototype.diff_main=function(e,t,i,n){if("undefined"==typeof n&&(n=0>=this.Diff_Timeout?Number.MAX_VALUE:(new Date).getTime()+1e3*this.Diff_Timeout),null==e||null==t)throw Error("Null input. (diff_main)");if(e==t)return e?[[0,e]]:[];"undefined"==typeof i&&(i=!0);var r=i,s=this.diff_commonPrefix(e,t);i=e.substring(0,s),e=e.substring(s),t=t.substring(s);var s=this.diff_commonSuffix(e,t),o=e.substring(e.length-s);return e=e.substring(0,e.length-s),t=t.substring(0,t.length-s),e=this.diff_compute_(e,t,r,n),i&&e.unshift([0,i]),o&&e.push([0,o]),this.diff_cleanupMerge(e),e},e.prototype.diff_compute_=function(e,t,i,n){if(!e)return[[1,t]];if(!t)return[[-1,e]];var r=e.length>t.length?e:t,s=e.length>t.length?t:e,o=r.indexOf(s);return-1!=o?(i=[[1,r.substring(0,o)],[0,s],[1,r.substring(o+s.length)]],e.length>t.length&&(i[0][0]=i[2][0]=-1),i):1==s.length?[[-1,e],[1,t]]:(r=this.diff_halfMatch_(e,t))?(s=r[0],e=r[1],o=r[2],t=r[3],r=r[4],s=this.diff_main(s,o,i,n),i=this.diff_main(e,t,i,n),s.concat([[0,r]],i)):i&&100<e.length&&100<t.length?this.diff_lineMode_(e,t,n):this.diff_bisect_(e,t,n)},e.prototype.diff_lineMode_=function(e,t,i){var n=this.diff_linesToChars_(e,t);e=n.chars1,t=n.chars2,n=n.lineArray,e=this.diff_main(e,t,!1,i),this.diff_charsToLines_(e,n),this.diff_cleanupSemantic(e),e.push([0,""]);for(var r=n=t=0,s="",o="";t<e.length;){switch(e[t][0]){case 1:r++,o+=e[t][1];break;case-1:n++,s+=e[t][1];break;case 0:if(n>=1&&r>=1){for(e.splice(t-n-r,n+r),t=t-n-r,n=this.diff_main(s,o,!1,i),r=n.length-1;r>=0;r--)e.splice(t,0,n[r]);t+=n.length}n=r=0,o=s=""}t++}return e.pop(),e},e.prototype.diff_bisect_=function(e,t,i){for(var n=e.length,r=t.length,s=Math.ceil((n+r)/2),o=s,a=2*s,l=Array(a),c=Array(a),u=0;a>u;u++)l[u]=-1,c[u]=-1;l[o+1]=0,c[o+1]=0;for(var u=n-r,d=0!=u%2,h=0,f=0,p=0,g=0,m=0;s>m&&!((new Date).getTime()>i);m++){for(var v=-m+h;m-f>=v;v+=2){var y,b=o+v;y=v==-m||v!=m&&l[b-1]<l[b+1]?l[b+1]:l[b-1]+1;for(var w=y-v;n>y&&r>w&&e.charAt(y)==t.charAt(w);)y++,w++;if(l[b]=y,y>n)f+=2;else if(w>r)h+=2;else if(d&&(b=o+u-v,b>=0&&a>b&&-1!=c[b])){var x=n-c[b];if(y>=x)return this.diff_bisectSplit_(e,t,y,w,i)}}for(v=-m+p;m-g>=v;v+=2){for(b=o+v,x=v==-m||v!=m&&c[b-1]<c[b+1]?c[b+1]:c[b-1]+1,y=x-v;n>x&&r>y&&e.charAt(n-x-1)==t.charAt(r-y-1);)x++,y++;if(c[b]=x,x>n)g+=2;else if(y>r)p+=2;else if(!d&&(b=o+u-v,b>=0&&a>b&&-1!=l[b]&&(y=l[b],w=o+y-b,x=n-x,y>=x)))return this.diff_bisectSplit_(e,t,y,w,i)}}return[[-1,e],[1,t]]},e.prototype.diff_bisectSplit_=function(e,t,i,n,r){var s=e.substring(0,i),o=t.substring(0,n);return e=e.substring(i),t=t.substring(n),s=this.diff_main(s,o,!1,r),r=this.diff_main(e,t,!1,r),s.concat(r)},e.prototype.diff_linesToChars_=function(e,t){function i(e){for(var t="",i=0,s=-1,o=n.length;s<e.length-1;){s=e.indexOf("\n",i),-1==s&&(s=e.length-1);var a=e.substring(i,s+1),i=s+1;(r.hasOwnProperty?r.hasOwnProperty(a):void 0!==r[a])?t+=String.fromCharCode(r[a]):(t+=String.fromCharCode(o),r[a]=o,n[o++]=a)}return t}var n=[],r={};n[0]="";var s=i(e),o=i(t);return{chars1:s,chars2:o,lineArray:n}},e.prototype.diff_charsToLines_=function(e,t){for(var i=0;i<e.length;i++){for(var n=e[i][1],r=[],s=0;s<n.length;s++)r[s]=t[n.charCodeAt(s)];e[i][1]=r.join("")}},e.prototype.diff_commonPrefix=function(e,t){if(!e||!t||e.charAt(0)!=t.charAt(0))return 0;for(var i=0,n=Math.min(e.length,t.length),r=n,s=0;r>i;)e.substring(s,r)==t.substring(s,r)?s=i=r:n=r,r=Math.floor((n-i)/2+i);return r},e.prototype.diff_commonSuffix=function(e,t){if(!e||!t||e.charAt(e.length-1)!=t.charAt(t.length-1))return 0;for(var i=0,n=Math.min(e.length,t.length),r=n,s=0;r>i;)e.substring(e.length-r,e.length-s)==t.substring(t.length-r,t.length-s)?s=i=r:n=r,r=Math.floor((n-i)/2+i);return r},e.prototype.diff_commonOverlap_=function(e,t){var i=e.length,n=t.length;if(0==i||0==n)return 0;if(i>n?e=e.substring(i-n):n>i&&(t=t.substring(0,i)),i=Math.min(i,n),e==t)return i;for(var n=0,r=1;;){var s=e.substring(i-r),s=t.indexOf(s);if(-1==s)return n;r+=s,(0==s||e.substring(i-r)==t.substring(0,r))&&(n=r,r++)}},e.prototype.diff_halfMatch_=function(e,t){function i(e,t,i){for(var n,r,s,a,l=e.substring(i,i+Math.floor(e.length/4)),c=-1,u="";-1!=(c=t.indexOf(l,c+1));){var d=o.diff_commonPrefix(e.substring(i),t.substring(c)),h=o.diff_commonSuffix(e.substring(0,i),t.substring(0,c));u.length<h+d&&(u=t.substring(c-h,c)+t.substring(c,c+d),n=e.substring(0,i-h),r=e.substring(i+d),s=t.substring(0,c-h),a=t.substring(c+d))}return 2*u.length>=e.length?[n,r,s,a,u]:null}if(0>=this.Diff_Timeout)return null;var n=e.length>t.length?e:t,r=e.length>t.length?t:e;if(4>n.length||2*r.length<n.length)return null;var s,o=this,a=i(n,r,Math.ceil(n.length/4)),n=i(n,r,Math.ceil(n.length/2));if(!a&&!n)return null;s=n?a&&a[4].length>n[4].length?a:n:a;var l;return e.length>t.length?(a=s[0],n=s[1],r=s[2],l=s[3]):(r=s[0],l=s[1],a=s[2],n=s[3]),s=s[4],[a,n,r,l,s]},e.prototype.diff_cleanupSemantic=function(e){for(var t=!1,i=[],n=0,r=null,s=0,o=0,a=0,l=0,c=0;s<e.length;)0==e[s][0]?(i[n++]=s,o=l,a=c,c=l=0,r=e[s][1]):(1==e[s][0]?l+=e[s][1].length:c+=e[s][1].length,r&&r.length<=Math.max(o,a)&&r.length<=Math.max(l,c)&&(e.splice(i[n-1],0,[-1,r]),e[i[n-1]+1][0]=1,n--,n--,s=n>0?i[n-1]:-1,c=l=a=o=0,r=null,t=!0)),s++;for(t&&this.diff_cleanupMerge(e),this.diff_cleanupSemanticLossless(e),s=1;s<e.length;)-1==e[s-1][0]&&1==e[s][0]&&(t=e[s-1][1],i=e[s][1],n=this.diff_commonOverlap_(t,i),r=this.diff_commonOverlap_(i,t),n>=r?(n>=t.length/2||n>=i.length/2)&&(e.splice(s,0,[0,i.substring(0,n)]),e[s-1][1]=t.substring(0,t.length-n),e[s+1][1]=i.substring(n),s++):(r>=t.length/2||r>=i.length/2)&&(e.splice(s,0,[0,t.substring(0,r)]),e[s-1][0]=1,e[s-1][1]=i.substring(0,i.length-r),e[s+1][0]=-1,e[s+1][1]=t.substring(r),s++),s++),s++},e.prototype.diff_cleanupSemanticLossless=function(t){function i(t,i){if(!t||!i)return 6;var n=t.charAt(t.length-1),r=i.charAt(0),s=n.match(e.nonAlphaNumericRegex_),o=r.match(e.nonAlphaNumericRegex_),a=s&&n.match(e.whitespaceRegex_),l=o&&r.match(e.whitespaceRegex_),n=a&&n.match(e.linebreakRegex_),r=l&&r.match(e.linebreakRegex_),c=n&&t.match(e.blanklineEndRegex_),u=r&&i.match(e.blanklineStartRegex_);return c||u?5:n||r?4:s&&!a&&l?3:a||l?2:s||o?1:0}for(var n=1;n<t.length-1;){if(0==t[n-1][0]&&0==t[n+1][0]){var r=t[n-1][1],s=t[n][1],o=t[n+1][1],a=this.diff_commonSuffix(r,s);if(a)var l=s.substring(s.length-a),r=r.substring(0,r.length-a),s=l+s.substring(0,s.length-a),o=l+o;for(var a=r,l=s,c=o,u=i(r,s)+i(s,o);s.charAt(0)===o.charAt(0);){var r=r+s.charAt(0),s=s.substring(1)+o.charAt(0),o=o.substring(1),d=i(r,s)+i(s,o);d>=u&&(u=d,a=r,l=s,c=o)}t[n-1][1]!=a&&(a?t[n-1][1]=a:(t.splice(n-1,1),n--),t[n][1]=l,c?t[n+1][1]=c:(t.splice(n+1,1),n--))}n++}},e.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,e.whitespaceRegex_=/\s/,e.linebreakRegex_=/[\r\n]/,e.blanklineEndRegex_=/\n\r?\n$/,e.blanklineStartRegex_=/^\r?\n\r?\n/,e.prototype.diff_cleanupEfficiency=function(e){for(var t=!1,i=[],n=0,r=null,s=0,o=!1,a=!1,l=!1,c=!1;s<e.length;)0==e[s][0]?(e[s][1].length<this.Diff_EditCost&&(l||c)?(i[n++]=s,o=l,a=c,r=e[s][1]):(n=0,r=null),l=c=!1):(-1==e[s][0]?c=!0:l=!0,r&&(o&&a&&l&&c||r.length<this.Diff_EditCost/2&&3==o+a+l+c)&&(e.splice(i[n-1],0,[-1,r]),e[i[n-1]+1][0]=1,n--,r=null,o&&a?(l=c=!0,n=0):(n--,s=n>0?i[n-1]:-1,l=c=!1),t=!0)),s++;t&&this.diff_cleanupMerge(e)},e.prototype.diff_cleanupMerge=function(e){e.push([0,""]);for(var t,i=0,n=0,r=0,s="",o="";i<e.length;)switch(e[i][0]){case 1:r++,o+=e[i][1],i++;break;case-1:n++,s+=e[i][1],i++;break;case 0:n+r>1?(0!==n&&0!==r&&(t=this.diff_commonPrefix(o,s),0!==t&&(i-n-r>0&&0==e[i-n-r-1][0]?e[i-n-r-1][1]+=o.substring(0,t):(e.splice(0,0,[0,o.substring(0,t)]),i++),o=o.substring(t),s=s.substring(t)),t=this.diff_commonSuffix(o,s),0!==t&&(e[i][1]=o.substring(o.length-t)+e[i][1],o=o.substring(0,o.length-t),s=s.substring(0,s.length-t))),0===n?e.splice(i-r,n+r,[1,o]):0===r?e.splice(i-n,n+r,[-1,s]):e.splice(i-n-r,n+r,[-1,s],[1,o]),i=i-n-r+(n?1:0)+(r?1:0)+1):0!==i&&0==e[i-1][0]?(e[i-1][1]+=e[i][1],e.splice(i,1)):i++,n=r=0,o=s=""}for(""===e[e.length-1][1]&&e.pop(),n=!1,i=1;i<e.length-1;)0==e[i-1][0]&&0==e[i+1][0]&&(e[i][1].substring(e[i][1].length-e[i-1][1].length)==e[i-1][1]?(e[i][1]=e[i-1][1]+e[i][1].substring(0,e[i][1].length-e[i-1][1].length),e[i+1][1]=e[i-1][1]+e[i+1][1],e.splice(i-1,1),n=!0):e[i][1].substring(0,e[i+1][1].length)==e[i+1][1]&&(e[i-1][1]+=e[i+1][1],e[i][1]=e[i][1].substring(e[i+1][1].length)+e[i+1][1],e.splice(i+1,1),n=!0)),i++;n&&this.diff_cleanupMerge(e)},e.prototype.diff_xIndex=function(e,t){var i,n=0,r=0,s=0,o=0;for(i=0;i<e.length&&(1!==e[i][0]&&(n+=e[i][1].length),-1!==e[i][0]&&(r+=e[i][1].length),!(n>t));i++)s=n,o=r;return e.length!=i&&-1===e[i][0]?o:o+(t-s)},e.prototype.diff_prettyHtml=function(e){for(var t=[],i=/&/g,n=/</g,r=/>/g,s=/\n/g,o=0;o<e.length;o++){var a=e[o][0],l=e[o][1],l=l.replace(i,"&amp;").replace(n,"&lt;").replace(r,"&gt;").replace(s,"&para;<br>");switch(a){case 1:t[o]='<ins style="background:#e6ffe6;">'+l+"</ins>";break;case-1:t[o]='<del style="background:#ffe6e6;">'+l+"</del>";break;case 0:t[o]="<span>"+l+"</span>"}}return t.join("")},e.prototype.diff_text1=function(e){for(var t=[],i=0;i<e.length;i++)1!==e[i][0]&&(t[i]=e[i][1]);return t.join("")},e.prototype.diff_text2=function(e){for(var t=[],i=0;i<e.length;i++)-1!==e[i][0]&&(t[i]=e[i][1]);return t.join("")},e.prototype.diff_levenshtein=function(e){for(var t=0,i=0,n=0,r=0;r<e.length;r++){var s=e[r][0],o=e[r][1];switch(s){case 1:i+=o.length;break;case-1:n+=o.length;break;case 0:t+=Math.max(i,n),n=i=0}}return t+=Math.max(i,n)},e.prototype.diff_toDelta=function(e){for(var t=[],i=0;i<e.length;i++)switch(e[i][0]){case 1:t[i]="+"+encodeURI(e[i][1]);break;case-1:t[i]="-"+e[i][1].length;break;case 0:t[i]="="+e[i][1].length}return t.join("	").replace(/%20/g," ")},e.prototype.diff_fromDelta=function(e,t){for(var i=[],n=0,r=0,s=t.split(/\t/g),o=0;o<s.length;o++){var a=s[o].substring(1);switch(s[o].charAt(0)){case"+":try{i[n++]=[1,decodeURI(a)]}catch(l){throw Error("Illegal escape in diff_fromDelta: "+a)
}break;case"-":case"=":var c=parseInt(a,10);if(isNaN(c)||0>c)throw Error("Invalid number in diff_fromDelta: "+a);a=e.substring(r,r+=c),i[n++]="="==s[o].charAt(0)?[0,a]:[-1,a];break;default:if(s[o])throw Error("Invalid diff operation in diff_fromDelta: "+s[o])}}if(r!=e.length)throw Error("Delta length ("+r+") does not equal source text length ("+e.length+").");return i},e.prototype.match_main=function(e,t,i){if(null==e||null==t||null==i)throw Error("Null input. (match_main)");return i=Math.max(0,Math.min(i,e.length)),e==t?0:e.length?e.substring(i,i+t.length)==t?i:this.match_bitap_(e,t,i):-1},e.prototype.match_bitap_=function(e,t,i){function n(e,n){var r=e/t.length,o=Math.abs(i-n);return s.Match_Distance?r+o/s.Match_Distance:o?1:r}if(t.length>this.Match_MaxBits)throw Error("Pattern too long for this browser.");var r=this.match_alphabet_(t),s=this,o=this.Match_Threshold,a=e.indexOf(t,i);-1!=a&&(o=Math.min(n(0,a),o),a=e.lastIndexOf(t,i+t.length),-1!=a&&(o=Math.min(n(0,a),o)));for(var l,c,u,d=1<<t.length-1,a=-1,h=t.length+e.length,f=0;f<t.length;f++){for(l=0,c=h;c>l;)n(f,i+c)<=o?l=c:h=c,c=Math.floor((h-l)/2+l);h=c,l=Math.max(1,i-c+1);var p=Math.min(i+c,e.length)+t.length;for(c=Array(p+2),c[p+1]=(1<<f)-1;p>=l;p--){var g=r[e.charAt(p-1)];if(c[p]=0===f?(c[p+1]<<1|1)&g:(c[p+1]<<1|1)&g|((u[p+1]|u[p])<<1|1)|u[p+1],c[p]&d&&(g=n(f,p-1),o>=g)){if(o=g,a=p-1,!(a>i))break;l=Math.max(1,2*i-a)}}if(n(f+1,i)>o)break;u=c}return a},e.prototype.match_alphabet_=function(e){for(var t={},i=0;i<e.length;i++)t[e.charAt(i)]=0;for(i=0;i<e.length;i++)t[e.charAt(i)]|=1<<e.length-i-1;return t},e.prototype.patch_addContext_=function(e,t){if(0!=t.length){for(var i=t.substring(e.start2,e.start2+e.length1),n=0;t.indexOf(i)!=t.lastIndexOf(i)&&i.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)n+=this.Patch_Margin,i=t.substring(e.start2-n,e.start2+e.length1+n);n+=this.Patch_Margin,(i=t.substring(e.start2-n,e.start2))&&e.diffs.unshift([0,i]),(n=t.substring(e.start2+e.length1,e.start2+e.length1+n))&&e.diffs.push([0,n]),e.start1-=i.length,e.start2-=i.length,e.length1+=i.length+n.length,e.length2+=i.length+n.length}},e.prototype.patch_make=function(t,i,n){var r;if("string"==typeof t&&"string"==typeof i&&"undefined"==typeof n)r=t,i=this.diff_main(r,i,!0),2<i.length&&(this.diff_cleanupSemantic(i),this.diff_cleanupEfficiency(i));else if(t&&"object"==typeof t&&"undefined"==typeof i&&"undefined"==typeof n)i=t,r=this.diff_text1(i);else if("string"==typeof t&&i&&"object"==typeof i&&"undefined"==typeof n)r=t;else{if("string"!=typeof t||"string"!=typeof i||!n||"object"!=typeof n)throw Error("Unknown call format to patch_make.");r=t,i=n}if(0===i.length)return[];n=[],t=new e.patch_obj;for(var s=0,o=0,a=0,l=r,c=0;c<i.length;c++){var u=i[c][0],d=i[c][1];switch(!s&&0!==u&&(t.start1=o,t.start2=a),u){case 1:t.diffs[s++]=i[c],t.length2+=d.length,r=r.substring(0,a)+d+r.substring(a);break;case-1:t.length1+=d.length,t.diffs[s++]=i[c],r=r.substring(0,a)+r.substring(a+d.length);break;case 0:d.length<=2*this.Patch_Margin&&s&&i.length!=c+1?(t.diffs[s++]=i[c],t.length1+=d.length,t.length2+=d.length):d.length>=2*this.Patch_Margin&&s&&(this.patch_addContext_(t,l),n.push(t),t=new e.patch_obj,s=0,l=r,o=a)}1!==u&&(o+=d.length),-1!==u&&(a+=d.length)}return s&&(this.patch_addContext_(t,l),n.push(t)),n},e.prototype.patch_deepCopy=function(t){for(var i=[],n=0;n<t.length;n++){var r=t[n],s=new e.patch_obj;s.diffs=[];for(var o=0;o<r.diffs.length;o++)s.diffs[o]=r.diffs[o].slice();s.start1=r.start1,s.start2=r.start2,s.length1=r.length1,s.length2=r.length2,i[n]=s}return i},e.prototype.patch_apply=function(e,t){if(0==e.length)return[t,[]];e=this.patch_deepCopy(e);var i=this.patch_addPadding(e);t=i+t+i,this.patch_splitMax(e);for(var n=0,r=[],s=0;s<e.length;s++){var o,a=e[s].start2+n,l=this.diff_text1(e[s].diffs),c=-1;if(l.length>this.Match_MaxBits?(o=this.match_main(t,l.substring(0,this.Match_MaxBits),a),-1!=o&&(c=this.match_main(t,l.substring(l.length-this.Match_MaxBits),a+l.length-this.Match_MaxBits),-1==c||o>=c)&&(o=-1)):o=this.match_main(t,l,a),-1==o)r[s]=!1,n-=e[s].length2-e[s].length1;else if(r[s]=!0,n=o-a,a=-1==c?t.substring(o,o+l.length):t.substring(o,c+this.Match_MaxBits),l==a)t=t.substring(0,o)+this.diff_text2(e[s].diffs)+t.substring(o+l.length);else if(a=this.diff_main(l,a,!1),l.length>this.Match_MaxBits&&this.diff_levenshtein(a)/l.length>this.Patch_DeleteThreshold)r[s]=!1;else{this.diff_cleanupSemanticLossless(a);for(var u,l=0,c=0;c<e[s].diffs.length;c++){var d=e[s].diffs[c];0!==d[0]&&(u=this.diff_xIndex(a,l)),1===d[0]?t=t.substring(0,o+u)+d[1]+t.substring(o+u):-1===d[0]&&(t=t.substring(0,o+u)+t.substring(o+this.diff_xIndex(a,l+d[1].length))),-1!==d[0]&&(l+=d[1].length)}}}return t=t.substring(i.length,t.length-i.length),[t,r]},e.prototype.patch_addPadding=function(e){for(var t=this.Patch_Margin,i="",n=1;t>=n;n++)i+=String.fromCharCode(n);for(n=0;n<e.length;n++)e[n].start1+=t,e[n].start2+=t;var n=e[0],r=n.diffs;if(0==r.length||0!=r[0][0])r.unshift([0,i]),n.start1-=t,n.start2-=t,n.length1+=t,n.length2+=t;else if(t>r[0][1].length){var s=t-r[0][1].length;r[0][1]=i.substring(r[0][1].length)+r[0][1],n.start1-=s,n.start2-=s,n.length1+=s,n.length2+=s}return n=e[e.length-1],r=n.diffs,0==r.length||0!=r[r.length-1][0]?(r.push([0,i]),n.length1+=t,n.length2+=t):t>r[r.length-1][1].length&&(s=t-r[r.length-1][1].length,r[r.length-1][1]+=i.substring(0,s),n.length1+=s,n.length2+=s),i},e.prototype.patch_splitMax=function(t){for(var i=this.Match_MaxBits,n=0;n<t.length;n++)if(!(t[n].length1<=i)){var r=t[n];t.splice(n--,1);for(var s=r.start1,o=r.start2,a="";0!==r.diffs.length;){var l=new e.patch_obj,c=!0;for(l.start1=s-a.length,l.start2=o-a.length,""!==a&&(l.length1=l.length2=a.length,l.diffs.push([0,a]));0!==r.diffs.length&&l.length1<i-this.Patch_Margin;){var a=r.diffs[0][0],u=r.diffs[0][1];1===a?(l.length2+=u.length,o+=u.length,l.diffs.push(r.diffs.shift()),c=!1):-1===a&&1==l.diffs.length&&0==l.diffs[0][0]&&u.length>2*i?(l.length1+=u.length,s+=u.length,c=!1,l.diffs.push([a,u]),r.diffs.shift()):(u=u.substring(0,i-l.length1-this.Patch_Margin),l.length1+=u.length,s+=u.length,0===a?(l.length2+=u.length,o+=u.length):c=!1,l.diffs.push([a,u]),u==r.diffs[0][1]?r.diffs.shift():r.diffs[0][1]=r.diffs[0][1].substring(u.length))}a=this.diff_text2(l.diffs),a=a.substring(a.length-this.Patch_Margin),u=this.diff_text1(r.diffs).substring(0,this.Patch_Margin),""!==u&&(l.length1+=u.length,l.length2+=u.length,0!==l.diffs.length&&0===l.diffs[l.diffs.length-1][0]?l.diffs[l.diffs.length-1][1]+=u:l.diffs.push([0,u])),c||t.splice(++n,0,l)}}},e.prototype.patch_toText=function(e){for(var t=[],i=0;i<e.length;i++)t[i]=e[i];return t.join("")},e.prototype.patch_fromText=function(t){var i=[];if(!t)return i;t=t.split("\n");for(var n=0,r=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;n<t.length;){var s=t[n].match(r);if(!s)throw Error("Invalid patch string: "+t[n]);var o=new e.patch_obj;for(i.push(o),o.start1=parseInt(s[1],10),""===s[2]?(o.start1--,o.length1=1):"0"==s[2]?o.length1=0:(o.start1--,o.length1=parseInt(s[2],10)),o.start2=parseInt(s[3],10),""===s[4]?(o.start2--,o.length2=1):"0"==s[4]?o.length2=0:(o.start2--,o.length2=parseInt(s[4],10)),n++;n<t.length;){s=t[n].charAt(0);try{var a=decodeURI(t[n].substring(1))}catch(l){throw Error("Illegal escape in patch_fromText: "+a)}if("-"==s)o.diffs.push([-1,a]);else if("+"==s)o.diffs.push([1,a]);else if(" "==s)o.diffs.push([0,a]);else{if("@"==s)break;if(""!==s)throw Error('Invalid patch mode "'+s+'" in: '+a)}n++}}return i},e.patch_obj=function(){this.diffs=[],this.start2=this.start1=null,this.length2=this.length1=0},e.patch_obj.prototype.toString=function(){var e,t;e=0===this.length1?this.start1+",0":1==this.length1?this.start1+1:this.start1+1+","+this.length1,t=0===this.length2?this.start2+",0":1==this.length2?this.start2+1:this.start2+1+","+this.length2,e=["@@ -"+e+" +"+t+" @@\n"];var i;for(t=0;t<this.diffs.length;t++){switch(this.diffs[t][0]){case 1:i="+";break;case-1:i="-";break;case 0:i=" "}e[t+1]=i+encodeURI(this.diffs[t][1])+"\n"}return e.join("").replace(/%20/g," ")},this.diff_match_patch=e,this.DIFF_DELETE=-1,this.DIFF_INSERT=1,this.DIFF_EQUAL=0}(),function(){var e;e=jQuery,e.fn.extend({prettyTextDiff:function(t){var i,n;return n={originalContainer:".original",changedContainer:".changed",diffContainer:".diff",cleanup:!0,debug:!1},n=e.extend(n,t),e.fn.prettyTextDiff.debug("Options: ",n,n),i=new diff_match_patch,this.each(function(){var t,r,s,o;return o=e(n.originalContainer,this).text(),e.fn.prettyTextDiff.debug("Original text found: ",o,n),t=e(n.changedContainer,this).text(),e.fn.prettyTextDiff.debug("Changed  text found: ",t,n),s=i.diff_main(o,t),n.cleanup&&i.diff_cleanupSemantic(s),e.fn.prettyTextDiff.debug("Diffs: ",s,n),r=s.map(function(t){return e.fn.prettyTextDiff.createHTML(t)}),e(n.diffContainer,this).html(r.join("")),this})}}),e.fn.prettyTextDiff.debug=function(e,t,i){return i.debug?console.log(e,t):void 0},e.fn.prettyTextDiff.createHTML=function(e){var t,i,n,r,s,o,a,l;switch(i=[],r=/&/g,o=/</g,s=/>/g,a=/\n/g,n=e[0],t=e[1],l=t.replace(r,"&amp;").replace(o,"&lt;").replace(s,"&gt;").replace(a,"<br>"),n){case DIFF_INSERT:return"<ins>"+l+"</ins>";case DIFF_DELETE:return"<del>"+l+"</del>";case DIFF_EQUAL:return"<span>"+l+"</span>"}}}.call(this),function(){$(document).on("page:load ready",function(){return $("table.diff").prettyTextDiff(function(){return{cleanup:!0,originalContainer:"tr td.original",changedContainer:"tr td.changed",diffContainer:"tr td.diff"}})})}.call(this),function(e){"use strict";function t(e,i){return new t.prototype.init(e,i)}Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;return function(){return t.apply(e)}});var i=0,n=/https?:\/\/(?:[0-9A-Z-]+\.)?(?:youtu\.be\/|youtube\.com\S*[^\w\-\s])([\w\-]{11})(?=[^\w\-]|$)(?![?=&+%\w.\-]*(?:['"][^<>]*>|<\/a>))[?=&+%\w.-]*/gi,r=/https?:\/\/(www\.)?vimeo.com\/(\d+)($|\/)/;e.fn.redactor=function(i){var n=[],r=Array.prototype.slice.call(arguments,1);return this.each("string"==typeof i?function(){var t,s=e.data(this,"redactor");if("-1"!=i.search(/\./)?(t=i.split("."),"undefined"!=typeof s[t[0]]&&(t=s[t[0]][t[1]])):t=s[i],"undefined"!=typeof s&&e.isFunction(t)){var o=t.apply(s,r);void 0!==o&&o!==s&&n.push(o)}else e.error('No such method "'+i+'" for Redactor')}:function(){e.data(this,"redactor",{}),e.data(this,"redactor",t(this,i))}),0===n.length?this:1===n.length?n[0]:n},e.Redactor=t,e.Redactor.VERSION="10.0.6",e.Redactor.modules=["alignment","autosave","block","buffer","build","button","caret","clean","code","core","dropdown","file","focus","image","indent","inline","insert","keydown","keyup","lang","line","link","list","modal","observe","paragraphize","paste","placeholder","progress","selection","shortcuts","tabifier","tidy","toolbar","upload","utils"],e.Redactor.opts={lang:"en",direction:"ltr",plugins:!1,focus:!1,focusEnd:!1,placeholder:!1,visual:!0,tabindex:!1,minHeight:!1,maxHeight:!1,linebreaks:!1,replaceDivs:!0,paragraphize:!0,cleanStyleOnEnter:!1,enterKey:!0,cleanOnPaste:!0,cleanSpaces:!0,pastePlainText:!1,autosave:!1,autosaveName:!1,autosaveInterval:60,autosaveOnChange:!1,linkTooltip:!0,linkProtocol:"http",linkNofollow:!1,linkSize:50,imageEditable:!0,imageLink:!0,imagePosition:!0,imageFloatMargin:"10px",imageResizable:!0,imageUpload:!1,imageUploadParam:"file",uploadImageField:!1,dragImageUpload:!0,fileUpload:!1,fileUploadParam:"file",dragFileUpload:!0,s3:!1,convertLinks:!0,convertUrlLinks:!0,convertImageLinks:!0,convertVideoLinks:!0,preSpaces:4,tabAsSpaces:!1,tabKey:!0,scrollTarget:!1,toolbar:!0,toolbarFixed:!0,toolbarFixedTarget:document,toolbarFixedTopOffset:0,toolbarExternal:!1,toolbarOverflow:!1,buttonSource:!1,buttons:["html","formatting","bold","italic","deleted","unorderedlist","orderedlist","outdent","indent","image","file","link","alignment","horizontalrule"],buttonsHide:[],buttonsHideOnMobile:[],formatting:["p","blockquote","pre","h1","h2","h3","h4","h5","h6"],formattingAdd:!1,tabifier:!0,deniedTags:["html","head","link","body","meta","script","style","applet"],allowedTags:!1,removeComments:!1,replaceTags:[["strike","del"]],replaceStyles:[["font-weight:\\s?bold","strong"],["font-style:\\s?italic","em"],["text-decoration:\\s?underline","u"],["text-decoration:\\s?line-through","del"]],removeDataAttr:!1,removeAttr:!1,allowedAttr:!1,removeWithoutAttr:["span"],removeEmpty:["p"],activeButtons:["deleted","italic","bold","underline","unorderedlist","orderedlist","alignleft","aligncenter","alignright","justify"],activeButtonsStates:{b:"bold",strong:"bold",i:"italic",em:"italic",del:"deleted",strike:"deleted",ul:"unorderedlist",ol:"orderedlist",u:"underline"},shortcuts:{"ctrl+shift+m, meta+shift+m":{func:"inline.removeFormat"},"ctrl+b, meta+b":{func:"inline.format",params:["bold"]},"ctrl+i, meta+i":{func:"inline.format",params:["italic"]},"ctrl+h, meta+h":{func:"inline.format",params:["superscript"]},"ctrl+l, meta+l":{func:"inline.format",params:["subscript"]},"ctrl+k, meta+k":{func:"link.show"},"ctrl+shift+7":{func:"list.toggle",params:["orderedlist"]},"ctrl+shift+8":{func:"list.toggle",params:["unorderedlist"]}},shortcutsAdd:!1,buffer:[],rebuffer:[],emptyHtml:"<p>&#x200b;</p>",invisibleSpace:"&#x200b;",imageTypes:["image/png","image/jpeg","image/gif"],indentValue:20,verifiedTags:["a","img","b","strong","sub","sup","i","em","u","small","strike","del","cite","ul","ol","li"],inlineTags:["strong","b","u","em","i","code","del","ins","samp","kbd","sup","sub","mark","var","cite","small"],alignmentTags:["P","H1","H2","H3","H4","H5","H6","DL","DT","DD","DIV","TD","BLOCKQUOTE","OUTPUT","FIGCAPTION","ADDRESS","SECTION","HEADER","FOOTER","ASIDE","ARTICLE"],blockLevelElements:["PRE","UL","OL","LI"],langs:{en:{html:"HTML",video:"Insert Video",image:"Insert Image",table:"Table",link:"Link",link_insert:"Insert link",link_edit:"Edit link",unlink:"Unlink",formatting:"Formatting",paragraph:"Normal text",quote:"Quote",code:"Code",header1:"Header 1",header2:"Header 2",header3:"Header 3",header4:"Header 4",header5:"Header 5",bold:"Bold",italic:"Italic",fontcolor:"Font Color",backcolor:"Back Color",unorderedlist:"Unordered List",orderedlist:"Ordered List",outdent:"Outdent",indent:"Indent",cancel:"Cancel",insert:"Insert",save:"Save",_delete:"Delete",insert_table:"Insert Table",insert_row_above:"Add Row Above",insert_row_below:"Add Row Below",insert_column_left:"Add Column Left",insert_column_right:"Add Column Right",delete_column:"Delete Column",delete_row:"Delete Row",delete_table:"Delete Table",rows:"Rows",columns:"Columns",add_head:"Add Head",delete_head:"Delete Head",title:"Title",image_position:"Position",none:"None",left:"Left",right:"Right",center:"Center",image_web_link:"Image Web Link",text:"Text",mailto:"Email",web:"URL",video_html_code:"Video Embed Code or Youtube/Vimeo Link",file:"Insert File",upload:"Upload",download:"Download",choose:"Choose",or_choose:"Or choose",drop_file_here:"Drop file here",align_left:"Align text to the left",align_center:"Center text",align_right:"Align text to the right",align_justify:"Justify text",horizontalrule:"Insert Horizontal Rule",deleted:"Deleted",anchor:"Anchor",link_new_tab:"Open link in new tab",underline:"Underline",alignment:"Alignment",filename:"Name (optional)",edit:"Edit"}}},t.fn=e.Redactor.prototype={keyCode:{BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,SPACE:32,ESC:27,TAB:9,CTRL:17,META:91,SHIFT:16,ALT:18,RIGHT:39,LEFT:37,LEFT_WIN:91},init:function(t,n){this.$element=e(t),this.uuid=i++,this.rtePaste=!1,this.$pasteBox=!1,this.loadOptions(n),this.loadModules(),this.formatting={},e.merge(this.opts.blockLevelElements,this.opts.alignmentTags),this.reIsBlock=new RegExp("^("+this.opts.blockLevelElements.join("|")+")$","i"),this.tidy.setupAllowed(),this.lang.load(),e.extend(this.opts.shortcuts,this.opts.shortcutsAdd),this.core.setCallback("start"),this.start=!0,this.build.run()},loadOptions:function(t){this.opts=e.extend({},e.extend(!0,{},e.Redactor.opts),this.$element.data(),t)},getModuleMethods:function(e){return Object.getOwnPropertyNames(e).filter(function(t){return"function"==typeof e[t]})},loadModules:function(){for(var t=e.Redactor.modules.length,i=0;t>i;i++)this.bindModuleMethods(e.Redactor.modules[i])},bindModuleMethods:function(e){if("undefined"!=typeof this[e]){this[e]=this[e]();for(var t=this.getModuleMethods(this[e]),i=t.length,n=0;i>n;n++)this[e][t[n]]=this[e][t[n]].bind(this)}},alignment:function(){return{left:function(){this.alignment.set("")},right:function(){this.alignment.set("right")},center:function(){this.alignment.set("center")},justify:function(){this.alignment.set("justify")},set:function(e){this.utils.browser("msie")||this.$editor.focus(),this.buffer.set(),this.selection.save(),this.alignment.blocks=this.selection.getBlocks(),this.opts.linebreaks&&this.alignment.blocks[0]===!1?this.alignment.setText(e):this.alignment.setBlocks(e),this.selection.restore(),this.code.sync()},setText:function(t){var i=this.selection.wrap("div");e(i).attr("data-tagblock","redactor"),e(i).css("text-align",t)},setBlocks:function(t){e.each(this.alignment.blocks,e.proxy(function(e,i){var n=this.utils.getAlignmentElement(i);n&&(""===t&&"undefined"!=typeof n.data("tagblock")?n.replaceWith(n.html()):(n.css("text-align",t),this.utils.removeEmptyAttr(n,"style")))},this))}}},autosave:function(){return{enable:function(){this.opts.autosave&&(this.autosave.html=!1,this.autosave.name=this.opts.autosaveName?this.opts.autosaveName:this.$textarea.attr("name"),this.opts.autosaveOnChange||(this.autosaveInterval=setInterval(e.proxy(this.autosave.load,this),1e3*this.opts.autosaveInterval)))},onChange:function(){this.opts.autosaveOnChange&&this.autosave.load()},load:function(){var t=this.code.get();this.autosave.html!==t&&(this.utils.isEmpty(t)||e.ajax({url:this.opts.autosave,type:"post",data:"name="+this.autosave.name+"&"+this.autosave.name+"="+escape(encodeURIComponent(t)),success:e.proxy(function(e){this.autosave.success(e,t)},this)}))},success:function(t,i){var n;try{n=e.parseJSON(t)}catch(r){n=t}var s="undefined"==typeof n.error?"autosave":"autosaveError";this.core.setCallback(s,this.autosave.name,n),this.autosave.html=i},disable:function(){clearInterval(this.autosaveInterval)}}},block:function(){return{formatting:function(e){this.block.clearStyle=!1;var t,i;"undefined"!=typeof this.formatting[e].data?t="data":"undefined"!=typeof this.formatting[e].attr?t="attr":"undefined"!=typeof this.formatting[e].class&&(t="class"),"undefined"!=typeof this.formatting[e].clear&&(this.block.clearStyle=!0),t&&(i=this.formatting[e][t]),this.block.format(this.formatting[e].tag,t,i)},format:function(t,i,n){"quote"==t&&(t="blockquote");var r=["p","pre","blockquote","h1","h2","h3","h4","h5","h6"];-1!=e.inArray(t,r)&&(this.block.isRemoveInline="pre"==t||-1!=t.search(/h[1-6]/i),this.utils.browser("msie")||this.$editor.focus(),this.block.blocks=this.selection.getBlocks(),this.block.blocksSize=this.block.blocks.length,this.block.type=i,this.block.value=n,this.buffer.set(),this.selection.save(),this.block.set(t),this.selection.restore(),this.code.sync())},set:function(e){this.selection.get(),this.block.containerTag=this.range.commonAncestorContainer.tagName,this.range.collapsed?this.block.setCollapsed(e):this.block.setMultiple(e)},setCollapsed:function(t){var i=this.block.blocks[0];if(i!==!1){if("LI"==i.tagName){if("blockquote"!=t)return;return void this.block.formatListToBlockquote()}var n="TD"==this.block.containerTag||"TH"==this.block.containerTag;if(n&&!this.opts.linebreaks)document.execCommand("formatblock",!1,"<"+t+">"),i=this.selection.getBlock(),this.block.toggle(e(i));else if(i.tagName.toLowerCase()!=t)if(this.opts.linebreaks&&"p"==t)e(i).prepend("<br>").append("<br>"),this.utils.replaceWithContents(i);else{var r=this.utils.replaceToTag(i,t);this.block.toggle(r),"p"!=t&&"blockquote"!=t&&r.find("img").remove(),this.block.isRemoveInline&&this.utils.removeInlineTags(r),("p"==t||this.block.headTag)&&r.find("p").contents().unwrap(),this.block.formatTableWrapping(r)}else if("blockquote"==t&&i.tagName.toLowerCase()==t)if(this.opts.linebreaks)e(i).prepend("<br>").append("<br>"),this.utils.replaceWithContents(i);else{var s=this.utils.replaceToTag(i,"p");this.block.toggle(s)}else i.tagName.toLowerCase()==t&&this.block.toggle(e(i))}},setMultiple:function(t){var i=this.block.blocks[0],n="TD"==this.block.containerTag||"TH"==this.block.containerTag;if(i!==!1&&1===this.block.blocksSize)if(i.tagName.toLowerCase()==t&&"blockquote"==t)if(this.opts.linebreaks)e(i).prepend("<br>").append("<br>"),this.utils.replaceWithContents(i);else{var r=this.utils.replaceToTag(i,"p");this.block.toggle(r)}else if("LI"==i.tagName){if("blockquote"!=t)return;this.block.formatListToBlockquote()}else if("BLOCKQUOTE"==this.block.containerTag)this.block.formatBlockquote(t);else if(this.opts.linebreaks&&(n||this.range.commonAncestorContainer!=i))this.block.formatWrap(t);else if(this.opts.linebreaks&&"p"==t)e(i).prepend("<br>").append("<br>"),this.utils.replaceWithContents(i);else if("TD"===i.tagName)this.block.formatWrap(t);else{var s=this.utils.replaceToTag(i,t);this.block.toggle(s),this.block.isRemoveInline&&this.utils.removeInlineTags(s),("p"==t||this.block.headTag)&&s.find("p").contents().unwrap()}else if(this.opts.linebreaks||"p"!=t){if("blockquote"==t){for(var o=0,a=0;a<this.block.blocksSize;a++)"BLOCKQUOTE"==this.block.blocks[a].tagName&&o++;if(o==this.block.blocksSize)return void e.each(this.block.blocks,e.proxy(function(t,i){this.opts.linebreaks?(e(i).prepend("<br>").append("<br>"),this.utils.replaceWithContents(i)):this.utils.replaceToTag(i,"p")},this))}this.block.formatWrap(t)}else{var l=0,c=!1;"class"==this.block.type&&(c="toggle",l=e(this.block.blocks).filter("."+this.block.value).size(),this.block.blocksSize==l?c="toggle":this.block.blocksSize>l?c="set":0===l&&(c="set"));var u=["ul","ol","li","td","th","dl","dt","dd"];e.each(this.block.blocks,e.proxy(function(i,n){if(-1==e.inArray(n.tagName.toLowerCase(),u)){var r=this.utils.replaceToTag(n,t);c?"toggle"==c?this.block.toggle(r):"remove"==c?this.block.remove(r):"set"==c&&this.block.setForce(r):this.block.toggle(r),"p"!=t&&"blockquote"!=t&&r.find("img").remove(),this.block.isRemoveInline&&this.utils.removeInlineTags(r),("p"==t||this.block.headTag)&&r.find("p").contents().unwrap()}},this))}},setForce:function(e){return this.block.clearStyle&&e.removeAttr("class").removeAttr("style"),"class"==this.block.type?void e.addClass(this.block.value):"attr"==this.block.type||"data"==this.block.type?void e.attr(this.block.value.name,this.block.value.value):void 0},toggle:function(e){return this.block.clearStyle&&e.removeAttr("class").removeAttr("style"),"class"==this.block.type?void e.toggleClass(this.block.value):"attr"==this.block.type||"data"==this.block.type?void(e.attr(this.block.value.name)==this.block.value.value?e.removeAttr(this.block.value.name):e.attr(this.block.value.name,this.block.value.value)):void e.removeAttr("style class")},remove:function(e){e.removeClass(this.block.value)},formatListToBlockquote:function(){var t=e(this.block.blocks[0]).closest("ul, ol");e(t).find("ul, ol").contents().unwrap(),e(t).find("li").append(e("<br>")).contents().unwrap();var i=this.utils.replaceToTag(t,"blockquote");this.block.toggle(i)},formatBlockquote:function(t){document.execCommand("outdent"),document.execCommand("formatblock",!1,t),this.clean.clearUnverified(),this.$editor.find("p:empty").remove();var i=this.selection.getBlock();"p"!=t&&e(i).find("img").remove(),this.opts.linebreaks||this.block.toggle(e(i)),this.$editor.find("ul, ol, tr, blockquote, p").each(e.proxy(this.utils.removeEmpty,this)),this.opts.linebreaks&&"p"==t&&this.utils.replaceWithContents(i)},formatWrap:function(t){if("UL"==this.block.containerTag||"OL"==this.block.containerTag){if("blockquote"!=t)return;this.block.formatListToBlockquote()}var i=this.selection.wrap(t);if(i!==!1){var n=e(i);this.block.formatTableWrapping(n);var r=n.find(this.opts.blockLevelElements.join(",")+", td, table, thead, tbody, tfoot, th, tr");(this.opts.linebreaks&&"p"==t||"pre"==t||"blockquote"==t)&&r.append("<br />"),r.contents().unwrap(),"p"!=t&&"blockquote"!=t&&n.find("img").remove(),e.each(this.block.blocks,e.proxy(this.utils.removeEmpty,this)),n.append(this.selection.getMarker(2)),this.opts.linebreaks||this.block.toggle(n),this.$editor.find("ul, ol, tr, blockquote, p").each(e.proxy(this.utils.removeEmpty,this)),n.find("blockquote:empty").remove(),this.block.isRemoveInline&&this.utils.removeInlineTags(n),this.opts.linebreaks&&"p"==t&&this.utils.replaceWithContents(n)}},formatTableWrapping:function(e){0!==e.closest("table").size()&&(0===e.closest("tr").size()&&e.wrap("<tr>"),0===e.closest("td").size()&&0===e.closest("th").size()&&e.wrap("<td>"))},removeData:function(t){var i=this.selection.getBlocks();e(i).removeAttr("data-"+t),this.code.sync()},setData:function(t,i){var n=this.selection.getBlocks();e(n).attr("data-"+t,i),this.code.sync()},toggleData:function(t,i){var n=this.selection.getBlocks();e.each(n,function(){e(this).attr("data-"+t)?e(this).removeAttr("data-"+t):e(this).attr("data-"+t,i)})},removeAttr:function(t){var i=this.selection.getBlocks();e(i).removeAttr(t),this.code.sync()},setAttr:function(t,i){var n=this.selection.getBlocks();e(n).attr(t,i),this.code.sync()},toggleAttr:function(t,i){var n=this.selection.getBlocks();e.each(n,function(){e(this).attr(name)?e(this).removeAttr(name):e(this).attr(name,i)})},removeClass:function(t){var i=this.selection.getBlocks();e(i).removeClass(t),this.utils.removeEmptyAttr(i,"class"),this.code.sync()},setClass:function(t){var i=this.selection.getBlocks();e(i).addClass(t),this.code.sync()},toggleClass:function(t){var i=this.selection.getBlocks();e(i).toggleClass(t),this.code.sync()}}},buffer:function(){return{set:function(e){"undefined"==typeof e||"undo"==e?this.buffer.setUndo():this.buffer.setRedo()},setUndo:function(){this.selection.save(),this.opts.buffer.push(this.$editor.html()),this.selection.restore()},setRedo:function(){this.selection.save(),this.opts.rebuffer.push(this.$editor.html()),this.selection.restore()},getUndo:function(){this.$editor.html(this.opts.buffer.pop())},getRedo:function(){this.$editor.html(this.opts.rebuffer.pop())},add:function(){this.opts.buffer.push(this.$editor.html())},undo:function(){0!==this.opts.buffer.length&&(this.buffer.set("redo"),this.buffer.getUndo(),this.selection.restore(),setTimeout(e.proxy(this.observe.load,this),50))},redo:function(){0!==this.opts.rebuffer.length&&(this.buffer.set("undo"),this.buffer.getRedo(),this.selection.restore(),setTimeout(e.proxy(this.observe.load,this),50))}}},build:function(){return{run:function(){this.build.createContainerBox(),this.build.loadContent(),this.build.loadEditor(),this.build.enableEditor(),this.build.setCodeAndCall()},isTextarea:function(){return"TEXTAREA"===this.$element[0].tagName},createContainerBox:function(){this.$box=e('<div class="redactor-box" />')},createTextarea:function(){this.$textarea=e("<textarea />").attr("name",this.build.getTextareaName())},getTextareaName:function(){var e=this.$element.attr("id");return"undefined"==typeof e&&(e="content-"+this.uuid),e},loadContent:function(){var t=this.build.isTextarea()?"val":"html";this.content=e.trim(this.$element[t]())},enableEditor:function(){this.$editor.attr({contenteditable:!0,dir:this.opts.direction})},loadEditor:function(){var e=this.build.isTextarea()?"fromTextarea":"fromElement";this.build[e]()},fromTextarea:function(){this.$editor=e("<div />"),this.$textarea=this.$element,this.$box.insertAfter(this.$element).append(this.$editor).append(this.$element),this.$editor.addClass("redactor-editor"),this.$element.hide()},fromElement:function(){this.$editor=this.$element,this.build.createTextarea(),this.$box.insertAfter(this.$editor).append(this.$editor).append(this.$textarea),this.$editor.addClass("redactor-editor"),this.$textarea.hide()},setCodeAndCall:function(){this.code.set(this.content),this.build.setOptions(),this.build.callEditor(),this.opts.visual||setTimeout(e.proxy(this.code.showCode,this),200)},callEditor:function(){this.build.disableMozillaEditing(),this.build.setEvents(),this.build.setHelpers(),this.opts.toolbar&&(this.opts.toolbar=this.toolbar.init(),this.toolbar.build()),this.modal.loadTemplates(),this.build.plugins(),setTimeout(e.proxy(this.observe.load,this),4),this.core.setCallback("init")},setOptions:function(){e(this.$textarea).attr("dir",this.opts.direction),this.opts.linebreaks&&this.$editor.addClass("redactor-linebreaks"),this.opts.tabindex&&this.$editor.attr("tabindex",this.opts.tabindex),this.opts.minHeight&&this.$editor.css("minHeight",this.opts.minHeight),this.opts.maxHeight&&this.$editor.css("maxHeight",this.opts.maxHeight)},setEvents:function(){this.$editor.on("drop.redactor",e.proxy(function(t){if(t=t.originalEvent||t,void 0===window.FormData||!t.dataTransfer)return!0;var i=t.dataTransfer.files.length;if(0===i)return this.code.sync(),setTimeout(e.proxy(this.clean.clearUnverified,this),1),this.core.setCallback("drop",t),!0;if(t.preventDefault(),this.opts.dragImageUpload||this.opts.dragFileUpload){var n=t.dataTransfer.files;this.upload.directUpload(n[0],t)}setTimeout(e.proxy(this.clean.clearUnverified,this),1),this.core.setCallback("drop",t)},this)),this.$editor.on("click.redactor",e.proxy(function(e){var t="click";("click"==this.core.getEvent()||"arrow"==this.core.getEvent())&&(t=!1),this.core.addEvent(t),this.utils.disableSelectAll(),this.core.setCallback("click",e)},this)),this.$editor.on("paste.redactor",e.proxy(this.paste.init,this)),this.$editor.on("keydown.redactor",e.proxy(this.keydown.init,this)),this.$editor.on("keyup.redactor",e.proxy(this.keyup.init,this)),e.isFunction(this.opts.codeKeydownCallback)&&this.$textarea.on("keydown.redactor-textarea",e.proxy(this.opts.codeKeydownCallback,this)),e.isFunction(this.opts.codeKeyupCallback)&&this.$textarea.on("keyup.redactor-textarea",e.proxy(this.opts.codeKeyupCallback,this)),e.isFunction(this.opts.focusCallback)&&this.$editor.on("focus.redactor",e.proxy(this.opts.focusCallback,this));var t;e(document).on("mousedown",function(i){t=e(i.target)}),this.$editor.on("blur.redactor",e.proxy(function(i){if(!this.rtePaste){var n=e(t);n.hasClass("redactor-toolbar, redactor-dropdown")||n.is("#redactor-modal")||0!==n.parents(".redactor-toolbar, .redactor-dropdown, #redactor-modal").size()||(this.utils.disableSelectAll(),e.isFunction(this.opts.blurCallback)&&this.core.setCallback("blur",i))}},this))},setHelpers:function(){this.autosave.enable(),this.placeholder.enable(),this.opts.focus&&setTimeout(e.proxy(this.focus.setStart,this),100),this.opts.focusEnd&&setTimeout(e.proxy(this.focus.setEnd,this),100)},plugins:function(){this.opts.plugins&&RedactorPlugins&&e.each(this.opts.plugins,e.proxy(function(t,i){if("undefined"!=typeof RedactorPlugins[i]){if(-1!==e.inArray(i,e.Redactor.modules))return void e.error('Plugin name "'+i+"\" matches the name of the Redactor's module.");if(e.isFunction(RedactorPlugins[i])){this[i]=RedactorPlugins[i]();for(var n=this.getModuleMethods(this[i]),r=n.length,s=0;r>s;s++)this[i][n[s]]=this[i][n[s]].bind(this);e.isFunction(this[i].init)&&this[i].init()}}},this))},disableMozillaEditing:function(){if(this.utils.browser("mozilla"))try{document.execCommand("enableObjectResizing",!1,!1),document.execCommand("enableInlineTableEditing",!1,!1)}catch(e){}}}},button:function(){return{build:function(t,i){var n=e('<a href="#" class="re-icon re-'+t+'" rel="'+t+'" />').attr("tabindex","-1");if((i.func||i.command||i.dropdown)&&n.on("touchstart click",e.proxy(function(e){if(n.hasClass("redactor-button-disabled"))return!1;var r="func",s=i.func;i.command?(r="command",s=i.command):i.dropdown&&(r="dropdown",s=!1),this.button.onClick(e,t,r,s)},this)),i.dropdown){var r=e('<div class="redactor-dropdown redactor-dropdown-box-'+t+'" style="display: none;">');n.data("dropdown",r),this.dropdown.build(t,r,i.dropdown)}return this.utils.isDesktop()&&this.button.createTooltip(n,t,i.title),n},createTooltip:function(t,i,n){var r=e("<span>").addClass("redactor-toolbar-tooltip redactor-toolbar-tooltip-"+i).hide().html(n);r.appendTo("body"),t.on("mouseover",function(){if(!e(this).hasClass("redactor-button-disabled")){var i=t.offset(),n=t.innerHeight(),s=t.innerWidth();r.show(),r.css({top:i.top+n+"px",left:i.left+s/2-r.innerWidth()/2+"px"})}}),t.on("mouseout",function(){r.hide()})},onClick:function(t,i,n,r){if(this.button.caretOffset=this.caret.getOffset(),t.preventDefault(),this.utils.browser("msie")&&(t.returnValue=!1),"command"==n)this.inline.format(r);else if("dropdown"==n)this.dropdown.show(t,i);else{var s;e.isFunction(r)?(r.call(this,i),this.observe.buttons(t,i)):"-1"!=r.search(/\./)?(s=r.split("."),"undefined"!=typeof this[s[0]]&&(this[s[0]][s[1]](i),this.observe.buttons(t,i))):(this[r](i),this.observe.buttons(t,i))
}},get:function(e){return this.$toolbar.find("a.re-"+e)},setActive:function(e){this.button.get(e).addClass("redactor-act")},setInactive:function(e){this.button.get(e).removeClass("redactor-act")},setInactiveAll:function(e){"undefined"==typeof e?this.$toolbar.find("a.re-icon").removeClass("redactor-act"):this.$toolbar.find("a.re-icon").not(".re-"+e).removeClass("redactor-act")},setActiveInVisual:function(){this.$toolbar.find("a.re-icon").not("a.re-html").removeClass("redactor-button-disabled")},setInactiveInCode:function(){this.$toolbar.find("a.re-icon").not("a.re-html").addClass("redactor-button-disabled")},changeIcon:function(e,t){this.button.get(e).addClass("re-"+t)},removeIcon:function(e,t){this.button.get(e).removeClass("re-"+t)},setAwesome:function(e,t){var i=this.button.get(e);i.removeClass("redactor-btn-image").addClass("fa-redactor-btn"),i.html('<i class="fa '+t+'"></i>')},addCallback:function(t,i){var n="dropdown"==i?"dropdown":"func",r=t.attr("rel");t.on("touchstart click",e.proxy(function(e){return t.hasClass("redactor-button-disabled")?!1:void this.button.onClick(e,r,n,i)},this))},addDropdown:function(t,i){var n=t.attr("rel");this.button.addCallback(t,"dropdown");var r=e('<div class="redactor-dropdown redactor-dropdown-box-'+n+'" style="display: none;">');return t.data("dropdown",r),i&&this.dropdown.build(n,r,i),r},add:function(t,i){if(this.opts.toolbar){var n=this.button.build(t,{title:i});return n.addClass("redactor-btn-image"),this.$toolbar.append(e("<li>").append(n)),n}},addFirst:function(t,i){if(this.opts.toolbar){var n=this.button.build(t,{title:i});return this.$toolbar.prepend(e("<li>").append(n)),n}},addAfter:function(t,i,n){if(this.opts.toolbar){var r=this.button.build(i,{title:n}),s=this.button.get(t);return 0!==s.size()?s.parent().after(e("<li>").append(r)):this.$toolbar.append(e("<li>").append(r)),r}},addBefore:function(t,i,n){if(this.opts.toolbar){var r=this.button.build(i,{title:n}),s=this.button.get(t);return 0!==s.size()?s.parent().before(e("<li>").append(r)):this.$toolbar.append(e("<li>").append(r)),r}},remove:function(e){this.button.get(e).remove()}}},caret:function(){return{setStart:function(t){if(this.utils.isBlock(t))this.caret.set(t,0,t,0);else{var i=this.utils.createSpaceElement();e(t).prepend(i),this.caret.setEnd(i)}},setEnd:function(e){this.caret.set(e,1,e,1)},set:function(t,i,n,r){if(this.utils.browser("msie")||this.$editor.focus(),t=t[0]||t,n=n[0]||n,this.utils.isBlockTag(t.tagName)&&""===t.innerHTML&&(t.innerHTML=this.opts.invisibleSpace),"BR"==t.tagName&&this.opts.linebreaks===!1){var s=e(this.opts.emptyHtml)[0];e(t).replaceWith(s),t=s,n=t}this.selection.get();try{this.range.setStart(t,i),this.range.setEnd(n,r)}catch(o){}this.selection.addRange()},setAfter:function(t){try{var i=e(t)[0].tagName;if("BR"==i||this.utils.isBlock(t))"BR"!=i&&this.utils.browser("msie")?this.caret.setStart(e(t).next()):this.caret.setAfterOrBefore(t,"after");else{var n=this.utils.createSpaceElement();e(t).after(n),this.caret.setEnd(n)}}catch(r){var n=this.utils.createSpaceElement();e(t).after(n),this.caret.setEnd(n)}},setBefore:function(t){this.utils.isBlock(t)?this.caret.setEnd(e(t).prev()):this.caret.setAfterOrBefore(t,"before")},setAfterOrBefore:function(e,t){if(this.utils.browser("msie")||this.$editor.focus(),e=e[0]||e,this.selection.get(),"after"==t)try{this.range.setStartAfter(e),this.range.setEndAfter(e)}catch(i){}else try{this.range.setStartBefore(e),this.range.setEndBefore(e)}catch(i){}this.range.collapse(!1),this.selection.addRange()},getOffsetOfElement:function(t){t=t[0]||t,this.selection.get();var i=this.range.cloneRange();return i.selectNodeContents(t),i.setEnd(this.range.endContainer,this.range.endOffset),e.trim(i.toString()).length},getOffset:function(){var e=0,t=window.getSelection();if(t.rangeCount>0){var i=window.getSelection().getRangeAt(0),n=i.cloneRange();n.selectNodeContents(this.$editor[0]),n.setEnd(i.endContainer,i.endOffset),e=n.toString().length}return e},setOffset:function(e,t){"undefined"==typeof t&&(t=e),this.focus.isFocused()||this.focus.setStart();for(var i,n=(this.selection.get(),0),r=document.createTreeWalker(this.$editor[0],NodeFilter.SHOW_TEXT,null,null);i=r.nextNode();)if(n+=i.nodeValue.length,n>e&&(this.range.setStart(i,i.nodeValue.length+e-n),e=1/0),n>=t){this.range.setEnd(i,i.nodeValue.length+t-n);break}this.range.collapse(!1),this.selection.addRange()},setToPoint:function(e,t){this.caret.setOffset(e,t)},getCoords:function(){return this.caret.getOffset()}}},clean:function(){return{onSet:function(t){t=this.clean.savePreCode(t),t=t.replace(/<script(.*?[^>]?)>([\w\W]*?)<\/script>/gi,'<pre class="redactor-script-tag" style="display: none;" $1>$2</pre>'),t=t.replace(/\$/g,"&#36;"),t=t.replace(/\u201d/g,'"'),t=t.replace(/\u2018/g,"'"),t=t.replace(/\u2019/g,"'"),this.opts.replaceDivs&&(t=this.clean.replaceDivs(t)),this.opts.linebreaks&&(t=this.clean.replaceParagraphsToBr(t)),t=this.clean.saveFormTags(t);var i=e("<div>");i.html(t);var n=i.find("font[style]");return 0!==n.length&&(n.replaceWith(function(){var t=e(this),i=e("<span>").attr("style",t.attr("style"));return i.append(t.contents())}),t=i.html()),i.remove(),t=t.replace(/<font(.*?[^<])>/gi,""),t=t.replace(/<\/font>/gi,""),t=this.tidy.load(t),this.opts.paragraphize&&(t=this.paragraphize.load(t)),t=this.clean.setVerified(t),t=this.clean.convertInline(t)},onSync:function(t){if(t=t.replace(/[\u200B-\u200D\uFEFF]/g,""),t=t.replace(/&#x200b;/gi,""),this.opts.cleanSpaces&&(t=t.replace(/&nbsp;/gi," ")),-1!=t.search(/^<p>(||\s||<br\s?\/?>||&nbsp;)<\/p>$/i))return"";t=t.replace(/<pre class="redactor-script-tag" style="display: none;"(.*?[^>]?)>([\w\W]*?)<\/pre>/gi,"<script$1>$2</script>"),t=this.clean.restoreFormTags(t);var i={"\u2122":"&trade;","\xa9":"&copy;","\u2026":"&hellip;","\u2014":"&mdash;","\u2010":"&dash;"};return e.each(i,function(e,i){t=t.replace(new RegExp(e,"g"),i)}),t=t.replace(new RegExp("<br\\s?/?></li>","gi"),"</li>"),t=t.replace(new RegExp("</li><br\\s?/?>","gi"),"</li>"),t=t.replace(new RegExp('<div(.*?[^>]) data-tagblock="redactor"(.*?[^>])>',"gi"),"<div$1$2>"),t=t.replace(new RegExp('<(.*?) data-verified="redactor"(.*?[^>])>',"gi"),"<$1$2>"),t=t.replace(new RegExp('<span(.*?[^>])srel="(.*?[^>])"(.*?[^>])>',"gi"),"<span$1$3>"),t=t.replace(new RegExp('<img(.*?[^>])srel="(.*?[^>])"(.*?[^>])>',"gi"),"<img$1$3>"),t=t.replace(new RegExp('<img(.*?[^>])sstyle="" (.*?[^>])>',"gi"),"<img$1 $2>"),t=t.replace(new RegExp("<img(.*?[^>])sstyle (.*?[^>])>","gi"),"<img$1 $2>"),t=t.replace(new RegExp('<span class="redactor-invisible-space">(.*?)</span>',"gi"),"$1"),t=t.replace(/ data-save-url="(.*?[^>])"/gi,""),t=t.replace(/<span(.*?)id="redactor-image-box"(.*?[^>])>([\w\W]*?)<img(.*?)><\/span>/gi,"$3<img$4>"),t=t.replace(/<span(.*?)id="redactor-image-resizer"(.*?[^>])>(.*?)<\/span>/gi,""),t=t.replace(/<span(.*?)id="redactor-image-editter"(.*?[^>])>(.*?)<\/span>/gi,""),t=t.replace(/<font(.*?[^<])>/gi,""),t=t.replace(/<\/font>/gi,""),t=this.tidy.load(t),this.opts.linkNofollow&&(t=t.replace(/<a(.*?)rel="nofollow"(.*?[^>])>/gi,"<a$1$2>"),t=t.replace(/<a(.*?[^>])>/gi,'<a$1 rel="nofollow">')),t=t.replace(/<(.*?) data-redactor-tag="(.*?)"(.*?[^>])>/gi,"<$1$3>"),t=t.replace(/<(.*?) data-redactor-class="(.*?)"(.*?[^>])>/gi,"<$1$3>"),t=t.replace(/<(.*?) data-redactor-style="(.*?)"(.*?[^>])>/gi,"<$1$3>"),t=t.replace(new RegExp('<(.*?) data-verified="redactor"(.*?[^>])>',"gi"),"<$1$2>"),t=t.replace(new RegExp('<(.*?) data-verified="redactor">',"gi"),"<$1>")},onPaste:function(t,i){if(t=e.trim(t),t=t.replace(/\$/g,"&#36;"),t=t.replace(/\u201d/g,'"'),t=t.replace(/\u201c/g,'"'),t=t.replace(/\u2018/g,"'"),t=t.replace(/\u2019/g,"'"),t=t.replace(/<span class="Apple-converted-space">&nbsp;<\/span>/gi," "),t=t.replace(/<span class="Apple-tab-span"[^>]*>\t<\/span>/gi,"	"),t=t.replace(/<span[^>]*>(\s|&nbsp;)<\/span>/gi," "),this.opts.pastePlainText)return this.clean.getPlainText(t);if(!this.utils.isSelectAll()&&"undefined"==typeof i){if(this.utils.isCurrentOrParent(["FIGCAPTION","A"]))return this.clean.getPlainText(t,!1);if(this.utils.isCurrentOrParent("PRE"))return this.clean.getPreCode(t);if(this.utils.isCurrentOrParent(["BLOCKQUOTE","H1","H2","H3","H4","H5","H6"])){if(t=this.clean.getOnlyImages(t),!this.utils.browser("msie")){var n=this.selection.getBlock();n&&"P"==n.tagName&&(t=t.replace(/<img(.*?)>/gi,"<p><img$1></p>"))}return t}if(this.utils.isCurrentOrParent(["TD"]))return t=this.clean.onPasteTidy(t,"td"),this.opts.linebreaks&&(t=this.clean.replaceParagraphsToBr(t)),t=this.clean.replaceDivsToBr(t);if(this.utils.isCurrentOrParent(["LI"]))return this.clean.onPasteTidy(t,"li")}return t=this.clean.isSingleLine(t,i),this.clean.singleLine||(this.opts.linebreaks&&(t=this.clean.replaceParagraphsToBr(t)),this.opts.replaceDivs&&(t=this.clean.replaceDivs(t)),t=this.clean.saveFormTags(t)),t=this.clean.onPasteWord(t),t=this.clean.onPasteExtra(t),t=this.clean.onPasteTidy(t,"all"),!this.clean.singleLine&&this.opts.paragraphize&&(t=this.paragraphize.load(t)),t=this.clean.removeDirtyStyles(t),t=this.clean.onPasteRemoveSpans(t),t=this.clean.onPasteRemoveEmpty(t),t=this.clean.convertInline(t)},onPasteWord:function(e){return e=e.replace(/<!--[\s\S]*?-->/gi,""),e=e.replace(/<style[^>]*>[\s\S]*?<\/style>/gi,""),/(class=\"?Mso|style=\"[^\"]*\bmso\-|w:WordDocument)/.test(e)&&(e=this.clean.onPasteIeFixLinks(e),e=e.replace(/<img(.*?)v:shapes=(.*?)>/gi,""),e=e.replace(/src="file\:\/\/(.*?)"/,'src=""'),e=e.replace(/<p(.*?)class="MsoListParagraphCxSpFirst"([\w\W]*?)<\/p>/gi,"<ul><li$2</li>"),e=e.replace(/<p(.*?)class="MsoListParagraphCxSpMiddle"([\w\W]*?)<\/p>/gi,"<li$2</li>"),e=e.replace(/<p(.*?)class="MsoListParagraphCxSpLast"([\w\W]*?)<\/p>/gi,"<li$2</li></ul>"),e=e.replace(/<p(.*?)class="MsoListParagraph"([\w\W]*?)<\/p>/gi,"<ul><li$2</li></ul>"),e=e.replace(/\xb7/g,""),e=e.replace(/<p class="Mso(.*?)"/gi,"<p"),e=e.replace(/ class=\"(mso[^\"]*)\"/gi,""),e=e.replace(/ class=(mso\w+)/gi,""),e=e.replace(/<o:p(.*?)>([\w\W]*?)<\/o:p>/gi,"$2"),e=e.replace(/\n/g," "),e=e.replace(/<p>\n?<li>/gi,"<li>")),this.opts.cleanSpaces&&(e=e.replace(/(\s|&nbsp;)+/g," ")),e},onPasteExtra:function(e){return e=e.replace(/<b\sid="internal-source-marker(.*?)">([\w\W]*?)<\/b>/gi,"$2"),e=e.replace(/<b(.*?)id="docs-internal-guid(.*?)">([\w\W]*?)<\/b>/gi,"$3"),e=e.replace(/<span[^>]*(font-style: italic; font-weight: bold|font-weight: bold; font-style: italic)[^>]*>/gi,'<span style="font-weight: bold;"><span style="font-style: italic;">'),e=e.replace(/<span[^>]*font-style: italic[^>]*>/gi,'<span style="font-style: italic;">'),e=e.replace(/<span[^>]*font-weight: bold[^>]*>/gi,'<span style="font-weight: bold;">'),e=e.replace(/<span[^>]*text-decoration: underline[^>]*>/gi,'<span style="text-decoration: underline;">'),e=e.replace(/<img>/gi,""),e=e.replace(/\n{3,}/gi,"\n"),e=e.replace(/<font(.*?)>([\w\W]*?)<\/font>/gi,"$2"),e=e.replace(/<p><p>/gi,"<p>"),e=e.replace(/<\/p><\/p>/gi,"</p>"),e=e.replace(/<li>(\s*|\t*|\n*)<p>/gi,"<li>"),e=e.replace(/<\/p>(\s*|\t*|\n*)<\/li>/gi,"</li>"),e=e.replace(/<\/p>\s<p/gi,"</p><p"),e=e.replace(/<img src="webkit-fake-url\:\/\/(.*?)"(.*?)>/gi,""),e=e.replace(/<p>\u2022([\w\W]*?)<\/p>/gi,"<li>$1</li>"),this.utils.browser("mozilla")&&(e=e.replace(/<br\s?\/?>$/gi,"")),e},onPasteTidy:function(e,t){var i=["span","a","pre","blockquote","small","em","strong","code","kbd","mark","address","cite","var","samp","dfn","sup","sub","b","i","u","del","ol","ul","li","dl","dt","dd","p","br","video","audio","iframe","embed","param","object","img","table","td","th","tr","tbody","tfoot","thead","h1","h2","h3","h4","h5","h6"],n=!1,r=[["a","*"],["img",["src","alt"]],["span",["class","rel","data-verified"]],["iframe","*"],["video","*"],["audio","*"],["embed","*"],["object","*"],["param","*"],["source","*"]];"all"==t?(n=["p","span","h1","h2","h3","h4","h5","h6"],r=[["table","class"],["td",["colspan","rowspan"]],["a","*"],["img",["src","alt","data-redactor-inserted-image"]],["span",["class","rel","data-verified"]],["iframe","*"],["video","*"],["audio","*"],["embed","*"],["object","*"],["param","*"],["source","*"]]):"td"==t?i=["ul","ol","li","span","a","small","em","strong","code","kbd","mark","cite","var","samp","dfn","sup","sub","b","i","u","del","ol","ul","li","dl","dt","dd","br","iframe","video","audio","embed","param","object","img","h1","h2","h3","h4","h5","h6"]:"li"==t&&(i=["ul","ol","li","span","a","small","em","strong","code","kbd","mark","cite","var","samp","dfn","sup","sub","b","i","u","del","br","iframe","video","audio","embed","param","object","img"]);var s={deniedTags:!1,allowedTags:i,removeComments:!0,removePhp:!0,removeAttr:!1,allowedAttr:r,removeEmpty:n};return this.tidy.load(e,s)},onPasteRemoveEmpty:function(e){return e=e.replace(/<(p|h[1-6])>(|\s|\n|\t|<br\s?\/?>)<\/(p|h[1-6])>/gi,""),this.opts.linebreaks||(e=e.replace(/<br>$/i,"")),e},onPasteRemoveSpans:function(e){return e=e.replace(/<span>(.*?)<\/span>/gi,"$1"),e=e.replace(/<span[^>]*>\s|&nbsp;<\/span>/gi," ")},onPasteIeFixLinks:function(t){if(!this.utils.browser("msie"))return t;var i=e.trim(t);return 0===i.search(/^<a(.*?)>(.*?)<\/a>$/i)&&(t=t.replace(/^<a(.*?)>(.*?)<\/a>$/i,"$2")),t},isSingleLine:function(e,t){if(this.clean.singleLine=!1,!this.utils.isSelectAll()&&"undefined"==typeof t){var i=this.opts.blockLevelElements.join("|").replace("P|","").replace("DIV|",""),n=e.match(new RegExp("</("+i+")>","gi")),r=e.match(/<\/(p|div)>/gi);if(!n&&(null===r||r&&r.length<=1)){var s=e.match(/<br\s?\/?>/gi),o=e.match(/<img(.*?[^>])>/gi);s||o||(this.clean.singleLine=!0,e=e.replace(/<\/?(p|div)(.*?)>/gi,""))}}return e},stripTags:function(e,t){t=(((t||"")+"").toLowerCase().match(/<[a-z][a-z0-9]*>/g)||[]).join("");var i=/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi;return e.replace(i,function(e,i){return t.indexOf("<"+i.toLowerCase()+">")>-1?e:""})},savePreCode:function(t){var i=t.match(/<(pre|code)(.*?)>([\w\W]*?)<\/(pre|code)>/gi);return null!==i&&e.each(i,e.proxy(function(e,i){var n=i.match(/<(pre|code)(.*?)>([\w\W]*?)<\/(pre|code)>/i);n[3]=n[3].replace(/<br\s?\/?>/g,"\n"),n[3]=n[3].replace(/&nbsp;/g," "),this.opts.preSpaces&&(n[3]=n[3].replace(/\t/g,Array(this.opts.preSpaces+1).join(" "))),n[3]=this.clean.encodeEntities(n[3]),n[3]=n[3].replace(/\$/g,"&#36;"),t=t.replace(i,"<"+n[1]+n[2]+">"+n[3]+"</"+n[1]+">")},this)),t},getTextFromHtml:function(t){t=t.replace(/<br\s?\/?>|<\/H[1-6]>|<\/p>|<\/div>|<\/li>|<\/td>/gi,"\n");var i=document.createElement("div");return i.innerHTML=t,t=i.textContent||i.innerText,e.trim(t)},getPlainText:function(e,t){return e=this.clean.getTextFromHtml(e),e=e.replace(/\n/g,"<br />"),this.opts.paragraphize&&"undefined"==typeof t&&(e=this.paragraphize.load(e)),e},getPreCode:function(e){return e=e.replace(/<img(.*?) style="(.*?)"(.*?[^>])>/gi,"<img$1$3>"),e=e.replace(/<img(.*?)>/gi,"&lt;img$1&gt;"),e=this.clean.getTextFromHtml(e),this.opts.preSpaces&&(e=e.replace(/\t/g,Array(this.opts.preSpaces+1).join(" "))),e=this.clean.encodeEntities(e)},getOnlyImages:function(e){return e=e.replace(/<img(.*?)>/gi,"[img$1]"),e=e.replace(/<([Ss]*?)>/gi,""),e=e.replace(/\[img(.*?)\]/gi,"<img$1>")},getOnlyLinksAndImages:function(e){return e=e.replace(/<a(.*?)href="(.*?)"(.*?)>([\w\W]*?)<\/a>/gi,'[a href="$2"]$4[/a]'),e=e.replace(/<img(.*?)>/gi,"[img$1]"),e=e.replace(/<(.*?)>/gi,""),e=e.replace(/\[a href="(.*?)"\]([\w\W]*?)\[\/a\]/gi,'<a href="$1">$2</a>'),e=e.replace(/\[img(.*?)\]/gi,"<img$1>")},encodeEntities:function(e){return e=String(e).replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"'),e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},removeDirtyStyles:function(t){if(this.utils.browser("msie"))return t;var i=document.createElement("div");return i.innerHTML=t,this.clean.clearUnverifiedRemove(e(i)),t=i.innerHTML,e(i).remove(),t},clearUnverified:function(){if(!this.utils.browser("msie")){this.clean.clearUnverifiedRemove(this.$editor);var e=this.$editor.find("h1, h2, h3, h4, h5, h6");e.find("span").removeAttr("style"),e.find(this.opts.verifiedTags.join(", ")).removeAttr("style"),this.code.sync()}},clearUnverifiedRemove:function(t){t.find(this.opts.verifiedTags.join(", ")).removeAttr("style"),t.find("span").not('[data-verified="redactor"]').removeAttr("style"),t.find('span[data-verified="redactor"], img[data-verified="redactor"]').each(function(t,i){var n=e(i);n.attr("style",n.attr("rel"))})},setVerified:function(e){if(this.utils.browser("msie"))return e;e=e.replace(new RegExp("<img(.*?[^>])>","gi"),'<img$1 data-verified="redactor">'),e=e.replace(new RegExp("<span(.*?)>","gi"),'<span$1 data-verified="redactor">');var t=e.match(new RegExp('<(span|img)(.*?)style="(.*?)"(.*?[^>])>',"gi"));if(t)for(var i=t.length,n=0;i>n;n++)try{var r=t[n].replace(/style="(.*?)"/i,'style="$1" rel="$1"');e=e.replace(new RegExp(t[n],"gi"),r)}catch(s){}return e},convertInline:function(t){var i=e("<div />").html(t),n=this.opts.inlineTags;return n.push("span"),i.find(n.join(",")).each(function(){var t=e(this),i=this.tagName.toLowerCase();t.attr("data-redactor-tag",i),"span"==i&&(t.attr("style")?t.attr("data-redactor-style",t.attr("style")):t.attr("class")&&t.attr("data-redactor-class",t.attr("class")))}),t=i.html(),i.remove(),t},normalizeLists:function(){this.$editor.find("li").each(function(t,i){var n=e(i).next();0===n.length||"UL"!=n[0].tagName&&"OL"!=n[0].tagName||e(i).append(n)})},removeSpaces:function(e){return e=e.replace(/\n/g,""),e=e.replace(/[\t]*/g,""),e=e.replace(/\n\s*\n/g,"\n"),e=e.replace(/^[\s\n]*/g," "),e=e.replace(/[\s\n]*$/g," "),e=e.replace(/>\s{2,}</g,"> <"),e=e.replace(/\n\n/g,"\n"),e=e.replace(/[\u200B-\u200D\uFEFF]/g,"")},replaceDivs:function(e){return this.opts.linebreaks?(e=e.replace(/<div><br\s?\/?><\/div>/gi,"<br />"),e=e.replace(/<div(.*?)>([\w\W]*?)<\/div>/gi,"$2<br />")):e=e.replace(/<div(.*?)>([\w\W]*?)<\/div>/gi,"<p$1>$2</p>"),e},replaceDivsToBr:function(e){return e=e.replace(/<div\s(.*?)>/gi,"<p>"),e=e.replace(/<div><br\s?\/?><\/div>/gi,"<br /><br />"),e=e.replace(/<div>([\w\W]*?)<\/div>/gi,"$1<br /><br />")},replaceParagraphsToBr:function(e){return e=e.replace(/<p\s(.*?)>/gi,"<p>"),e=e.replace(/<p><br\s?\/?><\/p>/gi,"<br />"),e=e.replace(/<p>([\w\W]*?)<\/p>/gi,"$1<br /><br />"),e=e.replace(/(<br\s?\/?>){1,}\n?<\/blockquote>/gi,"</blockquote>")},saveFormTags:function(e){return e.replace(/<form(.*?)>([\w\W]*?)<\/form>/gi,'<section$1 rel="redactor-form-tag">$2</section>')},restoreFormTags:function(e){return e.replace(/<section(.*?) rel="redactor-form-tag"(.*?)>([\w\W]*?)<\/section>/gi,"<form$1$2>$3</form>")}}},code:function(){return{set:function(t){t=e.trim(t.toString()),t=this.clean.onSet(t),this.$editor.html(t),this.code.sync(),setTimeout(e.proxy(this.buffer.add,this),15),this.start===!1&&this.observe.load()},get:function(){var e=this.$textarea.val();return e=this.tabifier.get(e)},sync:function(){setTimeout(e.proxy(this.code.startSync,this),10)},startSync:function(){var e=this.$editor.html();this.code.syncCode&&this.code.syncCode==e||(this.code.syncCode=e,e=this.core.setCallback("syncBefore",e),e=this.clean.onSync(e),this.$textarea.val(e),this.core.setCallback("sync",e),this.start===!1&&this.core.setCallback("change",e),this.start=!1,this.autosave.onChange())},toggle:function(){this.opts.visual?this.code.showCode():this.code.showVisual()},showCode:function(){this.code.offset=this.caret.getOffset();var t=e(window).scrollTop(),i=this.$editor.innerHeight();this.$editor.hide();var n=this.$textarea.val();this.modified=this.clean.removeSpaces(n),n=this.tabifier.get(n),this.$textarea.val(n).height(i).show().focus(),this.$textarea.on("keydown.redactor-textarea-indenting",this.code.textareaIndenting),e(window).scrollTop(t),this.$textarea[0].setSelectionRange&&this.$textarea[0].setSelectionRange(0,0),this.$textarea[0].scrollTop=0,this.opts.visual=!1,this.button.setInactiveInCode(),this.button.setActive("html"),this.core.setCallback("source",n)},showVisual:function(){if(!this.opts.visual){var e=this.$textarea.hide().val();this.modified!==this.clean.removeSpaces(e)&&this.code.set(e),this.$editor.show(),this.utils.isEmpty(e)||this.placeholder.remove(),this.caret.setOffset(this.code.offset),this.$textarea.off("keydown.redactor-textarea-indenting"),this.button.setActiveInVisual(),this.button.setInactive("html"),this.observe.load(),this.opts.visual=!0}},textareaIndenting:function(e){if(9!==e.keyCode)return!0;var t=this.$textarea,i=t.get(0).selectionStart;return t.val(t.val().substring(0,i)+"	"+t.val().substring(t.get(0).selectionEnd)),t.get(0).selectionStart=t.get(0).selectionEnd=i+1,!1}}},core:function(){return{getObject:function(){return e.extend({},this)},getEditor:function(){return this.$editor},getBox:function(){return this.$box},getElement:function(){return this.$element},getTextarea:function(){return this.$textarea},getToolbar:function(){return this.$toolbar?this.$toolbar:!1},addEvent:function(e){this.core.event=e},getEvent:function(){return this.core.event},setCallback:function(t,i,n){var r=this.opts[t+"Callback"];return e.isFunction(r)?"undefined"==typeof n?r.call(this,i):r.call(this,i,n):"undefined"==typeof n?i:n},destroy:function(){this.core.setCallback("destroy"),this.$element.off(".redactor").removeData("redactor"),this.$editor.off(".redactor"),this.$editor.removeClass("redactor-editor redactor-linebreaks redactor-placeholder"),this.$editor.removeAttr("contenteditable");var t=this.code.get();this.build.isTextarea()?(this.$box.after(this.$element),this.$box.remove(),this.$element.val(t).show()):(this.$box.after(this.$editor),this.$box.remove(),this.$element.html(t).show()),this.$pasteBox&&this.$pasteBox.remove(),this.$modalBox&&this.$modalBox.remove(),this.$modalOverlay&&this.$modalOverlay.remove(),e(".redactor-toolbar-tooltip").remove(),clearInterval(this.autosaveInterval)}}},dropdown:function(){return{build:function(t,i,n){"formatting"==t&&this.opts.formattingAdd&&e.each(this.opts.formattingAdd,e.proxy(function(e,t){var i=t.tag;"undefined"!=typeof t.class&&(i=i+"-"+t.class),t.type=this.utils.isBlockTag(t.tag)?"block":"inline";var r="inline"==t.type?"inline.formatting":"block.formatting";this.opts.linebreaks&&"block"==t.type&&"p"==t.tag||(this.formatting[i]={tag:t.tag,style:t.style,"class":t.class,attr:t.attr,data:t.data,clear:t.clear},n[i]={func:r,title:t.title})},this)),e.each(n,e.proxy(function(n,r){var s=e('<a href="#" class="redactor-dropdown-'+n+'">'+r.title+"</a>");"formatting"==t&&s.addClass("redactor-formatting-"+n),s.on("click",e.proxy(function(e){var t="func",i=r.func;r.command?(t="command",i=r.command):r.dropdown&&(t="dropdown",i=r.dropdown),this.button.onClick(e,n,t,i)},this)),i.append(s)},this))},show:function(t,i){if(!this.opts.visual)return t.preventDefault(),!1;var n=this.button.get(i),r=n.data("dropdown").appendTo(document.body);if(this.utils.isMobile()&&!this.utils.browser("msie")&&document.activeElement.blur(),n.hasClass("dropact"))this.dropdown.hideAll();else{this.dropdown.hideAll(),this.core.setCallback("dropdownShow",{dropdown:r,key:i,button:n}),this.button.setActive(i),n.addClass("dropact");var s=n.offset(),o=r.width();s.left+o>e(document).width()&&(s.left-=o);var a=s.left+"px";if(this.$toolbar.hasClass("toolbar-fixed-box")){var l=this.$toolbar.innerHeight()+this.opts.toolbarFixedTopOffset,c="fixed";this.opts.toolbarFixedTarget!==document&&(l=this.$toolbar.innerHeight()+this.$toolbar.offset().top+this.opts.toolbarFixedTopOffset,c="absolute"),r.css({position:c,left:a,top:l+"px"}).show()}else{var l=n.innerHeight()+s.top+"px";r.css({position:"absolute",left:a,top:l}).show()}this.core.setCallback("dropdownShown",{dropdown:r,key:i,button:n})}e(document).one("click",e.proxy(this.dropdown.hide,this)),this.$editor.one("click",e.proxy(this.dropdown.hide,this));var u=e(document.body),d=u.width();r.on("mouseover",function(){u.addClass("body-redactor-hidden"),u.css("margin-right",u.width()-d+"px")}),r.on("mouseout",function(){u.removeClass("body-redactor-hidden").css("margin-right",0)}),t.stopPropagation()},hideAll:function(){this.$toolbar.find("a.dropact").removeClass("redactor-act").removeClass("dropact"),e(document.body).removeClass("body-redactor-hidden").css("margin-right",0),e(".redactor-dropdown").hide(),this.core.setCallback("dropdownHide")},hide:function(t){var i=e(t.target);i.hasClass("dropact")||(i.removeClass("dropact"),this.dropdown.hideAll())}}},file:function(){return{show:function(){this.modal.load("file",this.lang.get("file"),700),this.upload.init("#redactor-modal-file-upload",this.opts.fileUpload,this.file.insert),this.selection.save(),this.selection.get();var t=this.sel.toString();e("#redactor-filename").val(t),this.modal.show()},insert:function(t,i,n){if("undefined"!=typeof t.error)return this.modal.close(),this.selection.restore(),void this.core.setCallback("fileUploadError",t);var r;if("string"==typeof t)r=t;else{var s=e("#redactor-filename").val();("undefined"==typeof s||""===s)&&(s=t.filename),r='<a href="'+t.filelink+'" id="filelink-marker">'+s+"</a>"}if(i){this.selection.removeMarkers();var o=this.selection.getMarker();this.insert.nodeToCaretPositionFromPoint(n,o)}else this.modal.close();if(this.selection.restore(),this.buffer.set(),this.insert.htmlWithoutClean(r),"string"!=typeof t){var a=e(this.$editor.find("a#filelink-marker"));0!==a.size()?a.removeAttr("id").removeAttr("style"):a=!1,this.core.setCallback("fileUpload",a,t)}}}},focus:function(){return{setStart:function(){this.$editor.focus();var e=this.$editor.children().first();if(0!==e.size()&&0!==e[0].length&&"BR"!=e[0].tagName&&3!=e[0].nodeType){if("UL"==e[0].tagName||"OL"==e[0].tagName){e=e.find("li").first();var t=e.children().first();if(!this.utils.isBlock(t)&&""===t.text())return void this.caret.setStart(t)}return this.opts.linebreaks&&!this.utils.isBlockTag(e[0].tagName)?(this.selection.get(),this.range.setStart(this.$editor[0],0),this.range.setEnd(this.$editor[0],0),void this.selection.addRange()):void this.caret.setStart(e)}},setEnd:function(){if(this.utils.browser("mozilla")||this.utils.browser("msie")){var e=this.$editor.children().last();this.caret.setEnd(e)}else{this.selection.get();try{this.range.selectNodeContents(this.$editor[0]),this.range.collapse(!1),this.selection.addRange()}catch(t){}}},isFocused:function(){var t=document.getSelection().focusNode;return null===t?!1:this.opts.linebreaks&&e(t.parentNode).hasClass("redactor-linebreaks")?!0:this.utils.isRedactorParent(t.parentNode)?this.$editor.is(":focus"):!1}}},image:function(){return{show:function(){this.modal.load("image",this.lang.get("image"),700),this.upload.init("#redactor-modal-image-droparea",this.opts.imageUpload,this.image.insert),this.selection.save(),this.modal.show()},showEdit:function(t){var i=t.closest("a");if(this.modal.load("imageEdit",this.lang.get("edit"),705),this.modal.createCancelButton(),this.image.buttonDelete=this.modal.createDeleteButton(this.lang.get("_delete")),this.image.buttonSave=this.modal.createActionButton(this.lang.get("save")),this.image.buttonDelete.on("click",e.proxy(function(){this.image.remove(t)},this)),this.image.buttonSave.on("click",e.proxy(function(){this.image.update(t)},this)),e("#redactor-image-title").val(t.attr("alt")),this.opts.imageLink){var n=e("#redactor-image-link");n.attr("href",t.attr("src")),0!==i.size()&&(n.val(i.attr("href")),"_blank"==i.attr("target")&&e("#redactor-image-link-blank").prop("checked",!0))}else e(".redactor-image-link-option").hide();if(this.opts.imagePosition){var r="block"==t.css("display")&&"none"==t.css("float")?"center":t.css("float");e("#redactor-image-align").val(r)}else e(".redactor-image-position-option").hide();this.modal.show()},setFloating:function(t){var i=e("#redactor-image-align").val(),n="",r="",s="";switch(i){case"left":n="left",s="0 "+this.opts.imageFloatMargin+" "+this.opts.imageFloatMargin+" 0";break;case"right":n="right",s="0 0 "+this.opts.imageFloatMargin+" "+this.opts.imageFloatMargin;break;case"center":r="block",s="auto"}t.css({"float":n,display:r,margin:s}),t.attr("rel",t.attr("style"))},update:function(t){this.image.hideResize(),this.buffer.set();var i=t.closest("a");t.attr("alt",e("#redactor-image-title").val()),this.image.setFloating(t);var n=e.trim(e("#redactor-image-link").val());if(""!==n){var r=e("#redactor-image-link-blank").prop("checked")?!0:!1;if(0===i.size()){var s=e('<a href="'+n+'">'+this.utils.getOuterHtml(t)+"</a>");r&&s.attr("target","_blank"),t.replaceWith(s)}else i.attr("href",n),r?i.attr("target","_blank"):i.removeAttr("target")}else 0!==i.size()&&i.replaceWith(this.utils.getOuterHtml(t));this.modal.close(),this.observe.images(),this.code.sync()},setEditable:function(t){this.opts.imageEditable&&t.on("dragstart",e.proxy(this.image.onDrag,this)),t.on("mousedown",e.proxy(this.image.hideResize,this)),t.on("click touchstart",e.proxy(function(){return this.observe.image=t,0!==this.$editor.find("#redactor-image-box").size()?!1:(this.image.resizer=this.image.loadEditableControls(t),e(document).on("click.redactor-image-resize-hide",e.proxy(this.image.hideResize,this)),this.$editor.on("click.redactor-image-resize-hide",e.proxy(this.image.hideResize,this)),void(this.opts.imageResizable&&this.image.resizer.on("mousedown.redactor touchstart.redactor",e.proxy(function(e){this.image.setResizable(e,t)},this))))},this))},setResizable:function(e,t){e.preventDefault(),this.image.resizeHandle={x:e.pageX,y:e.pageY,el:t,ratio:t.width()/t.height(),h:t.height()},e=e.originalEvent||e,e.targetTouches&&(this.image.resizeHandle.x=e.targetTouches[0].pageX,this.image.resizeHandle.y=e.targetTouches[0].pageY),this.image.startResize()},startResize:function(){e(document).on("mousemove.redactor-image-resize touchmove.redactor-image-resize",e.proxy(this.image.moveResize,this)),e(document).on("mouseup.redactor-image-resize touchend.redactor-image-resize",e.proxy(this.image.stopResize,this))},moveResize:function(e){e.preventDefault(),e=e.originalEvent||e;var t=this.image.resizeHandle.h;t+=e.targetTouches?e.targetTouches[0].pageY-this.image.resizeHandle.y:e.pageY-this.image.resizeHandle.y;var i=Math.round(t*this.image.resizeHandle.ratio);50>t||100>i||(this.image.resizeHandle.el.width(i),this.image.resizeHandle.el.height(this.image.resizeHandle.el.width()/this.image.resizeHandle.ratio),this.code.sync())},stopResize:function(){this.handle=!1,e(document).off(".redactor-image-resize"),this.image.hideResize()},onDrag:function(t){return 0!==this.$editor.find("#redactor-image-box").size()?(t.preventDefault(),!1):void this.$editor.on("drop.redactor-image-inside-drop",e.proxy(function(){setTimeout(e.proxy(this.image.onDrop,this),1)},this))},onDrop:function(){this.image.fixImageSourceAfterDrop(),this.observe.images(),this.$editor.off("drop.redactor-image-inside-drop"),this.clean.clearUnverified(),this.code.sync()},fixImageSourceAfterDrop:function(){this.$editor.find("img[data-save-url]").each(function(){var t=e(this);t.attr("src",t.attr("data-save-url")),t.removeAttr("data-save-url")})},hideResize:function(t){if(!t||0===e(t.target).closest("#redactor-image-box").length){if(t&&"IMG"==t.target.tagName){var i=e(t.target);i.attr("data-save-url",i.attr("src"))}var n=this.$editor.find("#redactor-image-box");0!==n.size()&&(this.opts.imageEditable&&this.image.editter.remove(),e(this.image.resizer).remove(),n.find("img").css({marginTop:n[0].style.marginTop,marginBottom:n[0].style.marginBottom,marginLeft:n[0].style.marginLeft,marginRight:n[0].style.marginRight}),n.css("margin",""),n.find("img").css("opacity",""),n.replaceWith(function(){return e(this).contents()}),e(document).off("click.redactor-image-resize-hide"),this.$editor.off("click.redactor-image-resize-hide"),"undefined"!=typeof this.image.resizeHandle&&this.image.resizeHandle.el.attr("rel",this.image.resizeHandle.el.attr("style")),this.code.sync())}},loadResizableControls:function(t,i){if(this.opts.imageResizable&&!this.utils.isMobile()){var n=e('<span id="redactor-image-resizer" data-redactor="verified"></span>');return this.utils.isDesktop()||n.css({width:"15px",height:"15px"}),n.attr("contenteditable",!1),i.append(n),i.append(t),n}return i.append(t),!1},loadEditableControls:function(t){var i=e('<span id="redactor-image-box" data-redactor="verified">');if(i.css("float",t.css("float")).attr("contenteditable",!1),"auto"!=t[0].style.margin?(i.css({marginTop:t[0].style.marginTop,marginBottom:t[0].style.marginBottom,marginLeft:t[0].style.marginLeft,marginRight:t[0].style.marginRight}),t.css("margin","")):i.css({display:"block",margin:"auto"}),t.css("opacity",".5").after(i),this.opts.imageEditable){this.image.editter=e('<span id="redactor-image-editter" data-redactor="verified">'+this.lang.get("edit")+"</span>"),this.image.editter.attr("contenteditable",!1),this.image.editter.on("click",e.proxy(function(){this.image.showEdit(t)},this)),i.append(this.image.editter);var n=this.image.editter.innerWidth();
this.image.editter.css("margin-left","-"+n/2+"px")}return this.image.loadResizableControls(t,i)},remove:function(t){var i=e(t),n=i.closest("a"),r=i.closest("figure"),s=i.parent();0!==e("#redactor-image-box").size()&&(s=e("#redactor-image-box").parent());var o;0!==r.size()?(o=r.next(),r.remove()):0!==n.size()?(s=n.parent(),n.remove()):i.remove(),e("#redactor-image-box").remove(),this.caret.setStart(0!==r.size()?o:s),this.core.setCallback("imageDelete",i[0].src,i),this.modal.close(),this.code.sync()},insert:function(t,i,n){if("undefined"!=typeof t.error)return this.modal.close(),this.selection.restore(),void this.core.setCallback("imageUploadError",t);var r;"string"==typeof t?r=e(t).attr("data-redactor-inserted-image","true"):(r=e("<img>"),r.attr("src",t.filelink).attr("data-redactor-inserted-image","true"));var s=r,o=this.utils.isCurrentOrParent("P");if(o&&(s=e("<blockquote />").append(r)),i){this.selection.removeMarkers();var a=this.selection.getMarker();this.insert.nodeToCaretPositionFromPoint(n,a)}else this.modal.close();this.selection.restore(),this.buffer.set(),this.insert.html(this.utils.getOuterHtml(s),!1);var l=this.$editor.find("img[data-redactor-inserted-image=true]").removeAttr("data-redactor-inserted-image");o?l.parent().contents().unwrap().wrap("<p />"):this.opts.linebreaks&&l.before("<br>").after("<br>"),"string"!=typeof t&&this.core.setCallback("imageUpload",l,t)}}},indent:function(){return{increase:function(){this.utils.browser("msie")||this.$editor.focus(),this.buffer.set(),this.selection.save();var e=this.selection.getBlock();e&&"LI"==e.tagName?this.indent.increaseLists():e===!1&&this.opts.linebreaks?this.indent.increaseText():this.indent.increaseBlocks(),this.selection.restore(),this.code.sync()},increaseLists:function(){document.execCommand("indent"),this.indent.fixEmptyIndent(),this.clean.normalizeLists(),this.clean.clearUnverified()},increaseBlocks:function(){e.each(this.selection.getBlocks(),e.proxy(function(e,t){if("TD"!==t.tagName&&"TH"!==t.tagName){var i=this.utils.getAlignmentElement(t),n=this.utils.normalize(i.css("margin-left"))+this.opts.indentValue;i.css("margin-left",n+"px")}},this))},increaseText:function(){var t=this.selection.wrap("div");e(t).attr("data-tagblock","redactor"),e(t).css("margin-left",this.opts.indentValue+"px")},decrease:function(){this.buffer.set(),this.selection.save();var e=this.selection.getBlock();e&&"LI"==e.tagName?this.indent.decreaseLists():this.indent.decreaseBlocks(),this.selection.restore(),this.code.sync()},decreaseLists:function(){document.execCommand("outdent");var t=this.selection.getCurrent(),i=e(t).closest("li"),n=i.parent();0!==i.size()&&0!==n.size()&&"LI"==n[0].tagName&&n.after(i),this.indent.fixEmptyIndent(),this.opts.linebreaks||0!==i.size()||(document.execCommand("formatblock",!1,"p"),this.$editor.find("ul, ol, blockquote, p").each(e.proxy(this.utils.removeEmpty,this))),this.clean.clearUnverified()},decreaseBlocks:function(){e.each(this.selection.getBlocks(),e.proxy(function(e,t){var i=this.utils.getAlignmentElement(t),n=this.utils.normalize(i.css("margin-left"))-this.opts.indentValue;0>=n?this.opts.linebreaks&&"undefined"!=typeof i.data("tagblock")?i.replaceWith(i.html()+"<br />"):(i.css("margin-left",""),this.utils.removeEmptyAttr(i,"style")):i.css("margin-left",n+"px")},this))},fixEmptyIndent:function(){var t=this.selection.getBlock();if(this.range.collapsed&&t&&"LI"==t.tagName&&this.utils.isEmpty(e(t).text())){var i=e(t);i.find("span").not(".redactor-selection-marker").contents().unwrap(),i.append("<br>")}}}},inline:function(){return{formatting:function(e){var t,i;"undefined"!=typeof this.formatting[e].style?t="style":"undefined"!=typeof this.formatting[e].class&&(t="class"),t&&(i=this.formatting[e][t]),this.inline.format(this.formatting[e].tag,t,i)},format:function(e,t,i){if(!this.utils.isCurrentOrParent("PRE")&&!this.utils.isCurrentOrParentHeader()){for(var n=["b","bold","i","italic","underline","strikethrough","deleted","superscript","subscript"],r=["strong","strong","em","em","u","del","del","sup","sub"],s=0;s<n.length;s++)e==n[s]&&(e=r[s]);this.inline.type=t||!1,this.inline.value=i||!1,this.buffer.set(),this.$editor.focus(),this.selection.get(),this.range.collapsed?this.inline.formatCollapsed(e):this.inline.formatMultiple(e)}},formatCollapsed:function(t){var i=this.selection.getCurrent(),n=e(i).closest(t+"[data-redactor-tag="+t+"]");if(0!==n.size())return this.caret.setAfter(n[0]),this.utils.isEmpty(n.text())&&n.remove(),void this.code.sync();var r=e("<"+t+">").attr("data-verified","redactor").attr("data-redactor-tag",t);r.html(this.opts.invisibleSpace),r=this.inline.setFormat(r);var r=this.insert.node(r);this.caret.setEnd(r),this.code.sync()},formatMultiple:function(t){if(this.inline.formatConvert(t),this.selection.save(),document.execCommand("strikethrough"),this.$editor.find("strike").each(e.proxy(function(i,n){var r=e(n);this.inline.formatRemoveSameChildren(r,t);var s;if(this.inline.type?(s=e("<span>").attr("data-redactor-tag",t).attr("data-verified","redactor"),s=this.inline.setFormat(s)):s=e("<"+t+">").attr("data-redactor-tag",t).attr("data-verified","redactor"),r.replaceWith(s.html(r.contents())),"span"==t){var o=s.parent();if(o&&"SPAN"==o[0].tagName&&"style"==this.inline.type)for(var a=this.inline.value.split(";"),l=0;l<a.length;l++){if(""===a[l])return;var c=a[l].split(":");o.css(c[0],""),this.utils.removeEmptyAttr(o,"style")&&o.replaceWith(o.contents())}}},this)),"span"!=t&&this.$editor.find(this.opts.inlineTags.join(", ")).each(e.proxy(function(t,i){var n=e(i),r=n.css("text-decoration");"line-through"==r&&(n.css("text-decoration",""),this.utils.removeEmptyAttr(n,"style"))},this)),"del"!=t){var i=this;this.$editor.find("inline").each(function(e,t){i.utils.replaceToTag(t,"del")})}this.selection.restore(),this.code.sync()},formatRemoveSameChildren:function(t,i){t.children(i).each(function(){var t=e(this);t.hasClass("redactor-selection-marker")||t.contents().unwrap()})},formatConvert:function(t){this.selection.save();var i="";if("class"==this.inline.type?i="[data-redactor-class="+this.inline.value+"]":"style"==this.inline.type&&(i='[data-redactor-style="'+this.inline.value+'"]'),"del"!=t){var n=this;this.$editor.find("del").each(function(e,t){n.utils.replaceToTag(t,"inline")})}this.$editor.find('[data-redactor-tag="'+t+'"]'+i).each(function(){if(""!==i||"span"!=t||this.tagName.toLowerCase()!=t){var n=e(this);n.replaceWith(e("<strike />").html(n.contents()))}}),this.selection.restore()},setFormat:function(e){switch(this.inline.type){case"class":e.hasClass(this.inline.value)?(e.removeClass(this.inline.value),e.removeAttr("data-redactor-class")):(e.addClass(this.inline.value),e.attr("data-redactor-class",this.inline.value));break;case"style":e[0].style.cssText=this.inline.value,e.attr("data-redactor-style",this.inline.value)}return e},removeStyle:function(){this.buffer.set();var t=this.selection.getCurrent(),i=this.selection.getInlines();if(this.selection.save(),t&&"SPAN"===t.tagName){var n=e(t);n.removeAttr("style"),0===n[0].attributes.length&&n.replaceWith(n.contents())}e.each(i,e.proxy(function(t,i){var n=e(i);-1==e.inArray(i.tagName.toLowerCase(),this.opts.inlineTags)||n.hasClass("redactor-selection-marker")||(n.removeAttr("style"),0===n[0].attributes.length&&n.replaceWith(n.contents()))},this)),this.selection.restore(),this.code.sync()},removeStyleRule:function(t){this.buffer.set();var i=this.selection.getParent(),n=this.selection.getInlines();if(this.selection.save(),i&&"SPAN"===i.tagName){var r=e(i);r.css(t,""),this.utils.removeEmptyAttr(r,"style"),0===r[0].attributes.length&&r.replaceWith(r.contents())}e.each(n,e.proxy(function(i,n){var r=e(n);-1==e.inArray(n.tagName.toLowerCase(),this.opts.inlineTags)||r.hasClass("redactor-selection-marker")||(r.css(t,""),this.utils.removeEmptyAttr(r,"style"),0===r[0].attributes.length&&r.replaceWith(r.contents()))},this)),this.selection.restore(),this.code.sync()},removeFormat:function(){this.buffer.set();var t=this.selection.getCurrent();this.selection.save(),document.execCommand("removeFormat"),t&&"SPAN"===t.tagName&&e(t).replaceWith(e(t).contents()),e.each(this.selection.getNodes(),e.proxy(function(t,i){var n=e(i);-1==e.inArray(i.tagName.toLowerCase(),this.opts.inlineTags)||n.hasClass("redactor-selection-marker")||n.replaceWith(n.contents())},this)),this.selection.restore(),this.code.sync()},toggleClass:function(e){this.inline.format("span","class",e)},toggleStyle:function(e){this.inline.format("span","style",e)}}},insert:function(){return{set:function(t,i){this.placeholder.remove(),t=this.clean.setVerified(t),"undefined"==typeof i&&(t=this.clean.onPaste(t,!1)),this.$editor.html(t),this.selection.remove(),this.focus.setEnd(),this.clean.normalizeLists(),this.code.sync(),this.observe.load(),"undefined"==typeof i&&setTimeout(e.proxy(this.clean.clearUnverified,this),10)},text:function(t){if(this.placeholder.remove(),t=t.toString(),t=e.trim(t),t=this.clean.getPlainText(t,!1),this.$editor.focus(),this.utils.browser("msie"))this.insert.htmlIe(t);else{this.selection.get(),this.range.deleteContents();var i=document.createElement("div");i.innerHTML=t;for(var n,r,s=document.createDocumentFragment();n=i.firstChild;)r=s.appendChild(n);if(this.range.insertNode(s),r){var o=this.range.cloneRange();o.setStartAfter(r),o.collapse(!0),this.sel.removeAllRanges(),this.sel.addRange(o)}}this.code.sync(),this.clean.clearUnverified()},htmlWithoutClean:function(e){this.insert.html(e,!1)},html:function(t,i){this.placeholder.remove(),"undefined"==typeof i&&(i=!0),this.$editor.focus(),t=this.clean.setVerified(t),i&&(t=this.clean.onPaste(t)),this.utils.browser("msie")?this.insert.htmlIe(t):(this.clean.singleLine?this.insert.execHtml(t):document.execCommand("insertHTML",!1,t),this.insert.htmlFixMozilla()),this.clean.normalizeLists(),this.opts.linebreaks||this.$editor.find("p").each(e.proxy(this.utils.removeEmpty,this)),this.code.sync(),this.observe.load(),i&&this.clean.clearUnverified()},htmlFixMozilla:function(){if(this.utils.browser("mozilla")){var t=e(this.selection.getBlock()).next();t.length>0&&"P"==t[0].tagName&&""===t.html()&&t.remove()}},htmlIe:function(t){if(this.utils.isIe11()){var i=this.utils.isCurrentOrParent("P"),n=e("<div>").append(t),r=n.contents().is("p, :header, dl, ul, ol, div, table, td, blockquote, pre, address, section, header, footer, aside, article");return void(i&&r?this.insert.ie11FixInserting(i,t):this.insert.ie11PasteFrag(t))}document.selection.createRange().pasteHTML(t)},execHtml:function(e){e=this.clean.setVerified(e),this.selection.get(),this.range.deleteContents();var t=document.createElement("div");t.innerHTML=e;for(var i,n,r=document.createDocumentFragment();i=t.firstChild;)n=r.appendChild(i);this.range.insertNode(r),this.range.collapse(!0),this.caret.setAfter(n)},node:function(t,i){t=t[0]||t;var n=this.utils.getOuterHtml(t);return n=this.clean.setVerified(n),t=e(n)[0],this.selection.get(),i!==!1&&this.range.deleteContents(),this.range.insertNode(t),this.range.collapse(!1),this.selection.addRange(),t},nodeToPoint:function(e,t,i){e=e[0]||e,this.selection.get();var n;if(document.caretPositionFromPoint){var r=document.caretPositionFromPoint(t,i);this.range.setStart(r.offsetNode,r.offset),this.range.collapse(!0),this.range.insertNode(e)}else if(document.caretRangeFromPoint)n=document.caretRangeFromPoint(t,i),n.insertNode(e);else if("undefined"!=typeof document.body.createTextRange){n=document.body.createTextRange(),n.moveToPoint(t,i);var s=n.duplicate();s.moveToPoint(t,i),n.setEndPoint("EndToEnd",s),n.select()}},nodeToCaretPositionFromPoint:function(e,t){t=t[0]||t;var i,n=e.clientX,r=e.clientY;if(document.caretPositionFromPoint){var s=document.caretPositionFromPoint(n,r),o=document.getSelection();i=o.getRangeAt(0),i.setStart(s.offsetNode,s.offset),i.collapse(!0),i.insertNode(t)}else if(document.caretRangeFromPoint)i=document.caretRangeFromPoint(n,r),i.insertNode(t);else if("undefined"!=typeof document.body.createTextRange){i=document.body.createTextRange(),i.moveToPoint(n,r);var a=i.duplicate();a.moveToPoint(n,r),i.setEndPoint("EndToEnd",a),i.select()}},ie11FixInserting:function(t,i){var n=document.createElement("span");n.className="redactor-ie-paste",this.insert.node(n);var r=e(t).html();r="<p>"+r.replace(/<span class="redactor-ie-paste"><\/span>/gi,"</p>"+i+"<p>")+"</p>",e(t).replaceWith(r)},ie11PasteFrag:function(e){this.selection.get(),this.range.deleteContents();var t=document.createElement("div");t.innerHTML=e;for(var i,n,r=document.createDocumentFragment();i=t.firstChild;)n=r.appendChild(i);this.range.insertNode(r)}}},keydown:function(){return{init:function(t){if(!this.rtePaste){var i=t.which,n=i>=37&&40>=i;this.keydown.ctrl=t.ctrlKey||t.metaKey,this.keydown.current=this.selection.getCurrent(),this.keydown.parent=this.selection.getParent(),this.keydown.block=this.selection.getBlock(),this.keydown.pre=this.utils.isTag(this.keydown.current,"pre"),this.keydown.blockquote=this.utils.isTag(this.keydown.current,"blockquote"),this.keydown.figcaption=this.utils.isTag(this.keydown.current,"figcaption"),this.shortcuts.init(t,i),this.keydown.checkEvents(n,i),this.keydown.setupBuffer(t,i),this.keydown.addArrowsEvent(n),this.keydown.setupSelectAll(t,i);var r=this.core.setCallback("keydown",t);if(r===!1)return t.preventDefault(),!1;if(this.opts.enterKey&&(this.utils.browser("msie")||this.utils.browser("mozilla"))&&(i===this.keyCode.DOWN||i===this.keyCode.RIGHT)){var s=!1,o=!1;if(this.keydown.block&&"TD"===this.keydown.block.tagName&&(o=e(this.keydown.block).closest("table")),o&&o.find("td").last()[0]===this.keydown.block&&(s=!0),this.utils.isEndOfElement()&&s){var a=e(this.opts.emptyHtml);o.after(a),this.caret.setStart(a)}}if(this.opts.enterKey&&i===this.keyCode.DOWN&&this.keydown.onArrowDown(),!this.opts.enterKey&&i===this.keyCode.ENTER)return t.preventDefault(),void(this.range.collapsed||this.range.deleteContents());if(i==this.keyCode.ENTER&&!t.shiftKey&&!t.ctrlKey&&!t.metaKey){var l=this.core.setCallback("enter",t);if(l===!1)return t.preventDefault(),!1;if(this.keydown.blockquote&&this.keydown.exitFromBlockquote(t)===!0)return!1;var c,u;if(this.keydown.pre)return this.keydown.insertNewLine(t);if(this.keydown.blockquote||this.keydown.figcaption)return c=this.selection.getCurrent(),u=e(c).next(),0!==u.size()&&"BR"==u[0].tagName?this.keydown.insertBreakLine(t):this.utils.isEndOfElement()&&c&&"SPAN"!=c?this.keydown.insertDblBreakLine(t):this.keydown.insertBreakLine(t);if(this.opts.linebreaks&&!this.keydown.block)return c=this.selection.getCurrent(),u=e(this.keydown.current).next(),c!==!1&&e(c).hasClass("redactor-invisible-space")?(e(c).remove(),this.keydown.insertDblBreakLine(t)):0===u.length&&c===!1&&"undefined"!=typeof u.context?this.keydown.insertDblBreakLine(t):this.keydown.insertBreakLine(t);if(this.opts.linebreaks&&this.keydown.block)setTimeout(e.proxy(this.keydown.replaceDivToBreakLine,this),1);else if(!this.opts.linebreaks&&this.keydown.block&&"LI"!==this.keydown.block.tagName)setTimeout(e.proxy(this.keydown.replaceDivToParagraph,this),1);else if(!this.opts.linebreaks&&!this.keydown.block)return this.keydown.insertParagraph(t)}if(i===this.keyCode.ENTER&&(t.ctrlKey||t.shiftKey))return this.keydown.onShiftEnter(t);if(i===this.keyCode.TAB||t.metaKey&&221===i||t.metaKey&&219===i)return this.keydown.onTab(t,i);if(i===this.keyCode.BACKSPACE||i===this.keyCode.DELETE){var d=this.selection.getNodes();if(d)for(var h,f=d.length,p=0;f>p;p++){var g=e(d[p]).children("img");if(0!==g.size()){var m=this;e.each(g,function(t,i){var n=e(i);"none"==n.css("float")&&(m.core.setCallback("imageDelete",i.src,n),h=i)})}else"IMG"==d[p].tagName&&h!=d[p]&&(this.core.setCallback("imageDelete",d[p].src,e(d[p])),h=d[p])}}i===this.keyCode.BACKSPACE&&(this.keydown.removeInvisibleSpace(),this.keydown.removeEmptyListInTable(t)),this.code.sync()}},checkEvents:function(e,t){e||"click"!=this.core.getEvent()&&"arrow"!=this.core.getEvent()||(this.core.addEvent(!1),this.keydown.checkKeyEvents(t)&&this.buffer.set())},checkKeyEvents:function(t){var i=this.keyCode,n=[i.BACKSPACE,i.DELETE,i.ENTER,i.SPACE,i.ESC,i.TAB,i.CTRL,i.META,i.ALT,i.SHIFT];return-1==e.inArray(t,n)?!0:!1},addArrowsEvent:function(e){return e?"click"==this.core.getEvent()||"arrow"==this.core.getEvent()?void this.core.addEvent(!1):void this.core.addEvent("arrow"):void 0},setupBuffer:function(e,t){return this.keydown.ctrl&&90===t&&!e.shiftKey&&!e.altKey&&this.opts.buffer.length?(e.preventDefault(),void this.buffer.undo()):this.keydown.ctrl&&90===t&&e.shiftKey&&!e.altKey&&0!==this.opts.rebuffer.length?(e.preventDefault(),void this.buffer.redo()):void(this.keydown.ctrl||(t==this.keyCode.BACKSPACE||t==this.keyCode.DELETE||t==this.keyCode.ENTER&&!e.ctrlKey&&!e.shiftKey||t==this.keyCode.SPACE)&&this.buffer.set())},setupSelectAll:function(e,t){this.keydown.ctrl&&65===t?this.utils.enableSelectAll():t==this.keyCode.LEFT_WIN||this.keydown.ctrl||this.utils.disableSelectAll()},onArrowDown:function(){for(var e=[this.keydown.blockquote,this.keydown.pre,this.keydown.figcaption],t=0;t<e.length;t++)if(e[t])return this.keydown.insertAfterLastElement(e[t]),!1},onShiftEnter:function(e){return this.buffer.set(),this.utils.isEndOfElement()?this.keydown.insertDblBreakLine(e):this.keydown.insertBreakLine(e)},onTab:function(e,t){if(!this.opts.tabKey)return!0;if(this.utils.isEmpty(this.code.get())&&this.opts.tabAsSpaces===!1)return!0;e.preventDefault();var i;return this.keydown.pre&&!e.shiftKey?(i=document.createTextNode(this.opts.preSpaces?Array(this.opts.preSpaces+1).join("\xa0"):"	"),this.insert.node(i),this.code.sync()):this.opts.tabAsSpaces!==!1?(i=document.createTextNode(Array(this.opts.tabAsSpaces+1).join("\xa0")),this.insert.node(i),this.code.sync()):e.metaKey&&219===t?this.indent.decrease():e.metaKey&&221===t?this.indent.increase():e.shiftKey?this.indent.decrease():this.indent.increase(),!1},replaceDivToBreakLine:function(){var t=this.selection.getBlock(),i=t.innerHTML.replace(/<br\s?\/?>/gi,"");if(("DIV"===t.tagName||"P"===t.tagName)&&""===i&&!e(t).hasClass("redactor-editor")){var n=document.createElement("br");return e(t).replaceWith(n),this.caret.setBefore(n),this.code.sync(),!1}},replaceDivToParagraph:function(){var t=this.selection.getBlock(),i=t.innerHTML.replace(/<br\s?\/?>/gi,"");if("DIV"===t.tagName&&""===i&&!e(t).hasClass("redactor-editor")){var n=document.createElement("p");return n.innerHTML=this.opts.invisibleSpace,e(t).replaceWith(n),this.caret.setStart(n),this.code.sync(),!1}this.opts.cleanStyleOnEnter&&"P"==t.tagName&&e(t).removeAttr("class").removeAttr("style")},insertParagraph:function(e){e.preventDefault(),this.selection.get();var t=document.createElement("p");return t.innerHTML=this.opts.invisibleSpace,this.range.deleteContents(),this.range.insertNode(t),this.caret.setStart(t),this.code.sync(),!1},exitFromBlockquote:function(t){if(this.utils.isEndOfElement()){var i=e.trim(e(this.keydown.block).html());if(-1!=i.search(/(<br\s?\/?>){2}$/i)){if(t.preventDefault(),this.opts.linebreaks){var n=document.createElement("br");e(this.keydown.blockquote).after(n),this.caret.setBefore(n),e(this.keydown.block).html(i.replace(/<br\s?\/?>$/i,""))}else{var r=e(this.opts.emptyHtml);e(this.keydown.blockquote).after(r),this.caret.setStart(r)}return!0}}},insertAfterLastElement:function(t){if(this.utils.isEndOfElement())if(this.buffer.set(),this.opts.linebreaks){var i=e("<div>").append(e.trim(this.$editor.html())).contents(),n=i.last()[0];if("SPAN"==n.tagName&&""===n.innerHTML&&(n=i.prev()[0]),this.utils.getOuterHtml(n)!=this.utils.getOuterHtml(t))return;var r=document.createElement("br");e(t).after(r),this.caret.setAfter(r)}else{if(this.$editor.contents().last()[0]!==t)return;var s=e(this.opts.emptyHtml);e(t).after(s),this.caret.setStart(s)}},insertNewLine:function(e){e.preventDefault();var t=document.createTextNode("\n");return this.selection.get(),this.range.deleteContents(),this.range.insertNode(t),this.caret.setAfter(t),this.code.sync(),!1},insertBreakLine:function(e){return this.keydown.insertBreakLineProcessing(e)},insertDblBreakLine:function(e){return this.keydown.insertBreakLineProcessing(e,!0)},insertBreakLineProcessing:function(e,t){e.stopPropagation(),this.selection.get();var i=document.createElement("br");if(this.range.deleteContents(),this.range.insertNode(i),t===!0){var n=document.createElement("br");this.range.insertNode(n),this.caret.setAfter(n)}else this.caret.setAfter(i);return this.code.sync(),!1},removeInvisibleSpace:function(){var t=e(this.keydown.current);0===t.text().search(/^\u200B$/g)&&t.remove()},removeEmptyListInTable:function(t){var i=e(this.keydown.current),n=e(this.keydown.parent),r=i.closest("td");if(0!==r.size()&&i.closest("li")&&1===n.children("li").size()){if(!this.utils.isEmpty(i.text()))return;t.preventDefault(),i.remove(),n.remove(),this.caret.setStart(r)}}}},keyup:function(){return{init:function(t){if(!this.rtePaste){var i=t.which;this.keyup.current=this.selection.getCurrent(),this.keyup.parent=this.selection.getParent();var n=this.utils.isRedactorParent(e(this.keyup.parent).parent()),r=this.core.setCallback("keyup",t);return r===!1?(t.preventDefault(),!1):(!this.opts.linebreaks&&3==this.keyup.current.nodeType&&this.keyup.current.length<=1&&(this.keyup.parent===!1||"BODY"==this.keyup.parent.tagName)&&this.keyup.replaceToParagraph(),!this.opts.linebreaks&&this.utils.isRedactorParent(this.keyup.current)&&"DIV"===this.keyup.current.tagName&&this.keyup.replaceToParagraph(!1),this.opts.linebreaks||!e(this.keyup.parent).hasClass("redactor-invisible-space")||n!==!1&&"BODY"!=n[0].tagName||(e(this.keyup.parent).contents().unwrap(),this.keyup.replaceToParagraph()),this.keyup.isLinkify(i)&&(this.formatLinkify(this.opts.linkProtocol,this.opts.convertLinks,this.opts.convertUrlLinks,this.opts.convertImageLinks,this.opts.convertVideoLinks,this.opts.linkSize),this.observe.load(),this.code.sync()),i===this.keyCode.DELETE||i===this.keyCode.BACKSPACE?(this.clean.clearUnverified(),this.observe.image?(t.preventDefault(),this.image.hideResize(),this.buffer.set(),this.image.remove(this.observe.image),this.observe.image=!1,!1):(this.$editor.find("p").each(e.proxy(this.utils.removeEmpty,this)),this.keyup.current&&"DIV"==this.keyup.current.tagName&&this.utils.isEmpty(this.keyup.current.innerHTML)&&this.opts.linebreaks&&(e(this.keyup.current).after(this.selection.getMarkerAsHtml()),this.selection.restore(),e(this.keyup.current).remove()),this.keyup.formatEmpty(t))):void 0)}},isLinkify:function(e){return this.opts.convertLinks&&(this.opts.convertUrlLinks||this.opts.convertImageLinks||this.opts.convertVideoLinks)&&e===this.keyCode.ENTER&&!this.utils.isCurrentOrParent("PRE")},replaceToParagraph:function(t){var i,n=e(this.keyup.current);i=e("<p>").append(t===!1?n.html():n.clone()),n.replaceWith(i);var r=e(i).next();"undefined"!=typeof r[0]&&"BR"==r[0].tagName&&r.remove(),this.caret.setEnd(i)},formatEmpty:function(t){var i=e.trim(this.$editor.html());if(this.utils.isEmpty(i))return t.preventDefault(),this.opts.linebreaks?(this.$editor.html(this.selection.getMarkerAsHtml()),this.selection.restore()):(i="<p><br /></p>",this.$editor.html(i),this.focus.setStart()),this.code.sync(),!1}}},lang:function(){return{load:function(){this.opts.curLang=this.opts.langs[this.opts.lang]},get:function(e){return"undefined"!=typeof this.opts.curLang[e]?this.opts.curLang[e]:""}}},line:function(){return{insert:function(){this.buffer.set();var e=this.selection.getBlocks();return e[0]!==!1&&this.line.isExceptLastOrFirst(e)?void(this.utils.browser("msie")||this.$editor.focus()):void(this.utils.browser("msie")?this.line.insertInIe():this.line.insertInOthersBrowsers())},isExceptLastOrFirst:function(t){var i=["li","td","th","blockquote","figcaption","pre","dl","dt","dd"],n=t[0].tagName.toLowerCase(),r=this.selection.getLastBlock();r="undefined"==typeof r?n:r.tagName.toLowerCase();var s=-1!=e.inArray(n,i),o=-1!=e.inArray(r,i);return s&&o||s?!0:void 0},insertInIe:function(){this.utils.saveScroll(),this.buffer.set(),this.insert.node(document.createElement("hr")),this.utils.restoreScroll(),this.code.sync()},insertInOthersBrowsers:function(){this.buffer.set();var e='<p id="redactor-insert-line"><br /></p>';this.opts.linebreaks&&(e='<br id="redactor-insert-line">'),document.execCommand("insertHTML",!1,"<hr>"+e),this.line.setFocus(),this.code.sync()},setFocus:function(){var t=this.$editor.find("#redactor-insert-line"),i=e(t).next()[0];i?(this.caret.setAfter(t),t.remove()):t.removeAttr("id")}}},link:function(){return{show:function(t){"undefined"!=typeof t&&t.preventDefault&&t.preventDefault(),this.modal.load("link",this.lang.get("link_insert"),600),this.modal.createCancelButton(),this.link.buttonInsert=this.modal.createActionButton(this.lang.get("insert")),this.selection.get(),this.link.getData(),this.link.cleanUrl(),"_blank"==this.link.target&&e("#redactor-link-blank").prop("checked",!0),this.link.$inputUrl=e("#redactor-link-url"),this.link.$inputText=e("#redactor-link-url-text"),this.link.$inputText.val(this.link.text),this.link.$inputUrl.val(this.link.url),this.link.buttonInsert.on("click",e.proxy(this.link.insert,this)),e(".redactor-link-tooltip").remove(),this.selection.save(),this.modal.show(),this.link.$inputUrl.focus()},cleanUrl:function(){var e=self.location.href.replace(/\/$/i,"");if(this.link.url=this.link.url.replace(e,""),this.link.url=this.link.url.replace(/^\/#/,"#"),this.link.url=this.link.url.replace("mailto:",""),!this.opts.linkProtocol){var t=new RegExp("^(http|ftp|https)://"+self.location.host,"i");this.link.url=this.link.url.replace(t,"")}},getData:function(){this.link.$node=!1;var t=e(this.selection.getCurrent()).closest("a");0!==t.size()&&"A"===t[0].tagName?(this.link.$node=t,this.link.url=t.attr("href"),this.link.text=t.text(),this.link.target=t.attr("target")):(this.link.text=this.sel.toString(),this.link.url="",this.link.target="")},insert:function(){var t="",i=this.link.$inputUrl.val(),n=this.link.$inputText.val();if(""===e.trim(i))return void this.link.$inputUrl.addClass("redactor-input-error").on("keyup",function(){e(this).removeClass("redactor-input-error"),e(this).off("keyup")});if(-1!=i.search("@")&&/(http|ftp|https):\/\//i.test(i)===!1)i="mailto:"+i;else if(0!==i.search("#")){e("#redactor-link-blank").prop("checked")&&(t="_blank");var r="((xn--)?[a-z0-9]+(-[a-z0-9]+)*\\.)+[a-z]{2,}",s=new RegExp("^(http|ftp|https)://"+r,"i"),o=new RegExp("^"+r,"i");-1==i.search(s)&&0===i.search(o)&&this.opts.linkProtocol&&(i=this.opts.linkProtocol+"://"+i)}this.link.set(n,i,t),this.modal.close()},set:function(t,i,n){if(t=e.trim(t.replace(/<|>/g,"")),this.selection.restore(),""!==t||""!==i){if(""===t&&""!==i&&(t=i),this.link.$node)this.buffer.set(),this.link.$node.text(t).attr("href",i),""!==n?this.link.$node.attr("target",n):this.link.$node.removeAttr("target"),this.code.sync();else{if(this.utils.browser("mozilla")&&""===this.link.text){var r=e("<a />").attr("href",i).text(t);""!==n&&r.attr("target",n),this.insert.node(r),this.selection.selectElement(r)}else{var r;this.utils.browser("msie")?(r=e('<a href="'+i+'">').text(t),""!==n&&r.attr("target",n),r=e(this.insert.node(r)),this.selection.selectElement(r)):(document.execCommand("createLink",!1,i),r=e(this.selection.getCurrent()).closest("a"),""!==n&&r.attr("target",n),r.removeAttr("style"),""===this.link.text&&(r.text(t),this.selection.selectElement(r)))}this.code.sync(),this.core.setCallback("insertedLink",r)}setTimeout(e.proxy(function(){this.observe.links()},this),5)}},unlink:function(t){"undefined"!=typeof t&&t.preventDefault&&t.preventDefault();var i=this.selection.getNodes();if(i){this.buffer.set();for(var n=i.length,r=0;n>r;r++)if("A"==i[r].tagName){var s=e(i[r]);s.replaceWith(s.contents())}e(".redactor-link-tooltip").remove(),this.code.sync()}}}},list:function(){return{toggle:function(t){this.placeholder.remove(),this.utils.browser("msie")||this.$editor.focus(),this.buffer.set(),this.selection.save();var i=this.selection.getParent(),n=e(i).closest("ol, ul");this.utils.isRedactorParent(n)||0===n.size()||(n=!1);var r,s,o=!1;if(n&&n.length){o=!0;var a=n[0].tagName;r="orderedlist"===t&&"UL"===a,s="unorderedlist"===t&&"OL"===a}r?this.utils.replaceToTag(n,"ol"):s?this.utils.replaceToTag(n,"ul"):o?this.list.remove(t):this.list.insert(t),this.selection.restore(),this.code.sync()},insert:function(t){var i=this.selection.getParent(),n=this.selection.getCurrent(),r=e(n).closest("td, th");this.utils.browser("msie")&&this.opts.linebreaks?this.list.insertInIe(t):document.execCommand("insert"+t);var s=e(this.selection.getParent()).closest("ol, ul");if(0!==r.size()){var o=r.prev(),a=r.html();r.html(""),!o||1!==o.length||"TD"!==o[0].tagName&&"TH"!==o[0].tagName?e(i).prepend(r):e(o).after(r),r.html(a)}if(this.utils.isEmpty(s.find("li").text())){var l=s.children("li");l.find("br").remove(),l.append(this.selection.getMarkerAsHtml())}if(s.length){var c=s.parent();this.utils.isRedactorParent(c)&&"LI"!=c[0].tagName&&this.utils.isBlock(c[0])&&c.replaceWith(c.contents())}this.utils.browser("msie")||this.$editor.focus(),this.clean.clearUnverified()},insertInIe:function(t){var i=this.selection.wrap("div"),n=e(i).html(),r=e("orderedlist"==t?"<ol>":"<ul>"),s=e("<li>");if(""===e.trim(n))s.append(this.selection.getMarkerAsHtml()),r.append(s),this.$editor.find("#selection-marker-1").replaceWith(r);else{var o=n.split(/<br\s?\/?>/gi);if(o)for(var a=0;a<o.length;a++)""!==e.trim(o[a])&&r.append(e("<li>").html(o[a]));else s.append(n),r.append(s);e(i).replaceWith(r)}},remove:function(t){document.execCommand("insert"+t);var i=e(this.selection.getCurrent());this.indent.fixEmptyIndent(),this.opts.linebreaks||0!==i.closest("li, th, td").size()||(document.execCommand("formatblock",!1,"p"),this.$editor.find("ul, ol, blockquote").each(e.proxy(this.utils.removeEmpty,this)));var n=e(this.selection.getCurrent()).closest("table"),r=n.prev();this.opts.linebreaks||0===n.size()||0===r.size()||"BR"!=r[0].tagName||r.remove(),this.clean.clearUnverified()}}},modal:function(){return{callbacks:{},loadTemplates:function(){this.opts.modal={imageEdit:String()+'<section id="redactor-modal-image-edit"><label>'+this.lang.get("title")+'</label><input type="text" id="redactor-image-title" /><label class="redactor-image-link-option">'+this.lang.get("link")+'</label><input type="text" id="redactor-image-link" class="redactor-image-link-option" /><label class="redactor-image-link-option"><input type="checkbox" id="redactor-image-link-blank"> '+this.lang.get("link_new_tab")+'</label><label class="redactor-image-position-option">'+this.lang.get("image_position")+'</label><select class="redactor-image-position-option" id="redactor-image-align"><option value="none">'+this.lang.get("none")+'</option><option value="left">'+this.lang.get("left")+'</option><option value="center">'+this.lang.get("center")+'</option><option value="right">'+this.lang.get("right")+"</option></select></section>",image:String()+'<section id="redactor-modal-image-insert"><div id="redactor-modal-image-droparea"></div></section>',file:String()+'<section id="redactor-modal-file-insert"><div id="redactor-modal-file-upload-box"><label>'+this.lang.get("filename")+'</label><input type="text" id="redactor-filename" /><br><br><div id="redactor-modal-file-upload"></div></div></section>',link:String()+'<section id="redactor-modal-link-insert"><label>URL</label><input type="url" id="redactor-link-url" /><label>'+this.lang.get("text")+'</label><input type="text" id="redactor-link-url-text" /><label><input type="checkbox" id="redactor-link-blank"> '+this.lang.get("link_new_tab")+"</label></section>"},e.extend(this.opts,this.opts.modal)},addCallback:function(e,t){this.modal.callbacks[e]=t},createTabber:function(t){this.modal.$tabber=e("<div>").attr("id","redactor-modal-tabber"),t.prepend(this.modal.$tabber)},addTab:function(t,i,n){var r=e('<a href="#" rel="tab'+t+'">').text(i);n&&r.addClass("active");var s=this;r.on("click",function(t){t.preventDefault(),e(".redactor-tab").hide(),e(".redactor-"+e(this).attr("rel")).show(),s.modal.$tabber.find("a").removeClass("active"),e(this).addClass("active")}),this.modal.$tabber.append(r)},addTemplate:function(e,t){this.opts.modal[e]=t},getTemplate:function(e){return this.opts.modal[e]},getModal:function(){return this.$modalBody.find("section")},load:function(e,t,i){this.modal.templateName=e,this.modal.width=i,this.modal.build(),this.modal.enableEvents(),this.modal.setTitle(t),this.modal.setDraggable(),this.modal.setContent(),"undefined"!=typeof this.modal.callbacks[e]&&this.modal.callbacks[e].call(this)},show:function(){this.utils.isMobile()&&!this.utils.browser("msie")&&document.activeElement.blur(),e(document.body).removeClass("body-redactor-hidden"),this.modal.bodyOveflow=e(document.body).css("overflow"),e(document.body).css("overflow","hidden"),this.utils.isMobile()?this.modal.showOnMobile():this.modal.showOnDesktop(),this.$modalOverlay.show(),this.$modalBox.show(),this.modal.setButtonsWidth(),this.utils.saveScroll(),this.utils.isMobile()||(setTimeout(e.proxy(this.modal.showOnDesktop,this),0),e(window).on("resize.redactor-modal",e.proxy(this.modal.resize,this))),this.core.setCallback("modalOpened",this.modal.templateName,this.$modal),e(document).off("focusin.modal"),this.$modal.find("input[type=text]").on("keydown.redactor-modal",e.proxy(this.modal.setEnter,this))
},showOnDesktop:function(){var t=this.$modal.outerHeight(),i=e(window).height(),n=e(window).width();return this.modal.width>n?void this.$modal.css({width:"96%",marginTop:i/2-t/2+"px"}):void this.$modal.css(t>i?{width:this.modal.width+"px",marginTop:"20px"}:{width:this.modal.width+"px",marginTop:i/2-t/2+"px"})},showOnMobile:function(){this.$modal.css({width:"96%",marginTop:"2%"})},resize:function(){this.utils.isMobile()?this.modal.showOnMobile():this.modal.showOnDesktop()},setTitle:function(e){this.$modalHeader.html(e)},setContent:function(){this.$modalBody.html(this.modal.getTemplate(this.modal.templateName))},setDraggable:function(){"undefined"!=typeof e.fn.draggable&&(this.$modal.draggable({handle:this.$modalHeader}),this.$modalHeader.css("cursor","move"))},setEnter:function(e){13==e.which&&(e.preventDefault(),this.$modal.find("button.redactor-modal-action-btn").click())},createCancelButton:function(){var t=e("<button>").addClass("redactor-modal-btn redactor-modal-close-btn").html(this.lang.get("cancel"));t.on("click",e.proxy(this.modal.close,this)),this.$modalFooter.append(t)},createDeleteButton:function(e){return this.modal.createButton(e,"delete")},createActionButton:function(e){return this.modal.createButton(e,"action")},createButton:function(t,i){var n=e("<button>").addClass("redactor-modal-btn").addClass("redactor-modal-"+i+"-btn").html(t);return this.$modalFooter.append(n),n},setButtonsWidth:function(){var e=this.$modalFooter.find("button"),t=e.size();0!==t&&e.css("width",100/t+"%")},build:function(){this.modal.buildOverlay(),this.$modalBox=e('<div id="redactor-modal-box" />').hide(),this.$modal=e('<div id="redactor-modal" />'),this.$modalHeader=e("<header />"),this.$modalClose=e('<span id="redactor-modal-close" />').html("&times;"),this.$modalBody=e('<div id="redactor-modal-body" />'),this.$modalFooter=e("<footer />"),this.$modal.append(this.$modalHeader),this.$modal.append(this.$modalClose),this.$modal.append(this.$modalBody),this.$modal.append(this.$modalFooter),this.$modalBox.append(this.$modal),this.$modalBox.appendTo(document.body)},buildOverlay:function(){this.$modalOverlay=e('<div id="redactor-modal-overlay">').hide(),e("body").prepend(this.$modalOverlay)},enableEvents:function(){this.$modalClose.on("click.redactor-modal",e.proxy(this.modal.close,this)),e(document).on("keyup.redactor-modal",e.proxy(this.modal.closeHandler,this)),this.$editor.on("keyup.redactor-modal",e.proxy(this.modal.closeHandler,this)),this.$modalBox.on("click.redactor-modal",e.proxy(this.modal.close,this))},disableEvents:function(){this.$modalClose.off("click.redactor-modal"),e(document).off("keyup.redactor-modal"),this.$editor.off("keyup.redactor-modal"),this.$modalBox.off("click.redactor-modal"),e(window).off("resize.redactor-modal")},closeHandler:function(e){e.which==this.keyCode.ESC&&this.modal.close(!1)},close:function(t){if(t){if(!e(t.target).hasClass("redactor-modal-close-btn")&&t.target!=this.$modalClose[0]&&t.target!=this.$modalBox[0])return;t.preventDefault()}this.$modalBox&&(this.modal.disableEvents(),this.$modalOverlay.remove(),this.$modalBox.fadeOut("fast",e.proxy(function(){this.$modalBox.remove(),setTimeout(e.proxy(this.utils.restoreScroll,this),0),void 0!==t&&this.selection.restore(),e(document.body).css("overflow",this.modal.bodyOveflow),this.core.setCallback("modalClosed",this.modal.templateName)},this)))}}},observe:function(){return{load:function(){this.observe.images(),this.observe.links()},buttons:function(t,i){var n=this.selection.getCurrent(),r=this.selection.getParent();if(this.button.setInactiveAll(i),t===!1&&"html"!==i)return void(-1!=e.inArray(i,this.opts.activeButtons)&&this.button.toggleActive(i));e.each(this.opts.activeButtonsStates,e.proxy(function(t,i){var s=e(r).closest(t),o=e(n).closest(t);(0===s.length||this.utils.isRedactorParent(s))&&this.utils.isRedactorParent(o)&&(0!==s.length||0!==o.closest(t).length)&&this.button.setActive(i)},this));var s=e(r).closest(this.opts.alignmentTags.toString().toLowerCase());if(this.utils.isRedactorParent(r)&&s.length){var o=""===s.css("text-align")?"left":s.css("text-align");this.button.setActive("align"+o)}},addButton:function(e,t){this.opts.activeButtons.push(t),this.opts.activeButtonsStates[e]=t},images:function(){this.$editor.find("img").each(e.proxy(function(t,i){var n=e(i);n.closest("a").on("click",function(e){e.preventDefault()}),this.utils.browser("msie")&&n.attr("unselectable","on"),this.image.setEditable(n)},this)),e(document).on("click.redactor-image-delete",e.proxy(function(e){this.observe.image=!1,"IMG"==e.target.tagName&&this.utils.isRedactorParent(e.target)&&(this.observe.image=this.observe.image&&this.observe.image==e.target?!1:e.target)},this))},links:function(){this.opts.linkTooltip&&(this.$editor.find("a").on("touchstart click",e.proxy(this.observe.showTooltip,this)),this.$editor.on("touchstart click.redactor",e.proxy(this.observe.closeTooltip,this)),e(document).on("touchstart click.redactor",e.proxy(this.observe.closeTooltip,this)))},getTooltipPosition:function(e){return e.offset()},showTooltip:function(t){var i=e(t.target),n=i.closest("a"),r=0!==i.size()?i[0].tagName:!1;if("A"===n[0].tagName){if("IMG"===r)return;"A"!==r&&(i=n)}if("A"===r){var s=this.observe.getTooltipPosition(i),o=e('<span class="redactor-link-tooltip"></span>'),a=i.attr("href");void 0===a&&(a=""),a.length>24&&(a=a.substring(0,24)+"...");var l=e('<a href="'+i.attr("href")+'" target="_blank" />').html(a).addClass("redactor-link-tooltip-action"),c=e('<a href="#" />').html(this.lang.get("edit")).on("click",e.proxy(this.link.show,this)).addClass("redactor-link-tooltip-action"),u=e('<a href="#" />').html(this.lang.get("unlink")).on("click",e.proxy(this.link.unlink,this)).addClass("redactor-link-tooltip-action");o.append(l).append(" | ").append(c).append(" | ").append(u),o.css({top:s.top+20+"px",left:s.left+"px"}),e(".redactor-link-tooltip").remove(),e("body").append(o)}},closeTooltip:function(t){t=t.originalEvent||t;var i=t.target,n=e(i).closest("a");(0===n.size()||"A"!==n[0].tagName||"A"===i.tagName)&&("A"===i.tagName&&this.utils.isRedactorParent(i)||e(i).hasClass("redactor-link-tooltip-action")||e(".redactor-link-tooltip").remove())}}},paragraphize:function(){return{load:function(t){return this.opts.linebreaks?t:""===t||"<p></p>"===t?this.opts.emptyHtml:(this.paragraphize.blocks=["table","div","pre","form","ul","ol","h1","h2","h3","h4","h5","h6","dl","blockquote","figcaption","address","section","header","footer","aside","article","object","style","script","iframe","select","input","textarea","button","option","map","area","math","hr","fieldset","legend","hgroup","nav","figure","details","menu","summary","p"],t+="\n",this.paragraphize.safes=[],this.paragraphize.z=0,t=t.replace(/(<br\s?\/?>){1,}\n?<\/blockquote>/gi,"</blockquote>"),t=this.paragraphize.getSafes(t),t=this.paragraphize.getSafesComments(t),t=this.paragraphize.replaceBreaksToNewLines(t),t=this.paragraphize.replaceBreaksToParagraphs(t),t=this.paragraphize.clear(t),t=this.paragraphize.restoreSafes(t),t=t.replace(new RegExp("<br\\s?/?>\n?<("+this.paragraphize.blocks.join("|")+")(.*?[^>])>","gi"),"<p><br /></p>\n<$1$2>"),e.trim(t))},getSafes:function(t){var i=e("<div />").append(t);return i.find("blockquote p").replaceWith(function(){return e(this).append("<br />").contents()}),t=i.html(),i.find(this.paragraphize.blocks.join(", ")).each(e.proxy(function(e,i){this.paragraphize.z++,this.paragraphize.safes[this.paragraphize.z]=i.outerHTML,t=t.replace(i.outerHTML,"\n{replace"+this.paragraphize.z+"}")},this)),t},getSafesComments:function(t){var i=t.match(/<!--([\w\W]*?)-->/gi);return i?(e.each(i,e.proxy(function(e,i){this.paragraphize.z++,this.paragraphize.safes[this.paragraphize.z]=i,t=t.replace(i,"\n{replace"+this.paragraphize.z+"}")},this)),t):t},restoreSafes:function(t){return e.each(this.paragraphize.safes,function(e,i){t=t.replace("{replace"+e+"}",i)}),t},replaceBreaksToParagraphs:function(e){var t=e.split(new RegExp("\n","g"),-1);if(e="",t)for(var i=t.length,n=0;i>n;n++){if(!t.hasOwnProperty(n))return;-1==t[n].search("{replace")?(t[n]=t[n].replace(/<p>\n\t?<\/p>/gi,""),t[n]=t[n].replace(/<p><\/p>/gi,""),""!==t[n]&&(e+="<p>"+t[n].replace(/^\n+|\n+$/g,"")+"</p>")):e+=t[n]}return e},replaceBreaksToNewLines:function(e){return e=e.replace(/<br \/>\s*<br \/>/gi,"\n\n"),e=e.replace(/<br\s?\/?>\n?<br\s?\/?>/gi,"\n<br /><br />"),e=e.replace(new RegExp("\r\n","g"),"\n"),e=e.replace(new RegExp("\r","g"),"\n"),e=e.replace(new RegExp("/\n\n+/"),"g","\n\n")},clear:function(e){return e=e.replace(new RegExp("</blockquote></p>","gi"),"</blockquote>"),e=e.replace(new RegExp("<p></blockquote>","gi"),"</blockquote>"),e=e.replace(new RegExp("<p><blockquote>","gi"),"<blockquote>"),e=e.replace(new RegExp("<blockquote></p>","gi"),"<blockquote>"),e=e.replace(new RegExp("<p><p ","gi"),"<p "),e=e.replace(new RegExp("<p><p>","gi"),"<p>"),e=e.replace(new RegExp("</p></p>","gi"),"</p>"),e=e.replace(new RegExp("<p>\\s?</p>","gi"),""),e=e.replace(new RegExp("\n</p>","gi"),"</p>"),e=e.replace(new RegExp("<p>	?	?\n?<p>","gi"),"<p>"),e=e.replace(new RegExp("<p>	*</p>","gi"),"")}}},paste:function(){return{init:function(){this.opts.cleanOnPaste&&(this.rtePaste=!0,this.buffer.set(),this.selection.save(),this.utils.saveScroll(),this.paste.createPasteBox(),e(window).on("scroll.redactor-freeze",e.proxy(function(){e(window).scrollTop(this.saveBodyScroll)},this)),setTimeout(e.proxy(function(){var t=this.$pasteBox.html();this.$pasteBox.remove(),this.selection.restore(),this.utils.restoreScroll(),this.paste.insert(t),e(window).off("scroll.redactor-freeze")},this),1))},createPasteBox:function(){this.$pasteBox=e("<div>").html("").attr("contenteditable","true").css({position:"fixed",width:0,top:0,left:"-9999px"}),this.$box.parent().append(this.$pasteBox),this.$pasteBox.focus()},insert:function(t){t=this.core.setCallback("pasteBefore",t),t=this.utils.isSelectAll()?this.clean.onPaste(t,!1):this.clean.onPaste(t),t=this.core.setCallback("paste",t),this.utils.isSelectAll()?this.insert.set(t,!1):this.insert.html(t,!1),this.utils.disableSelectAll(),this.rtePaste=!1,setTimeout(e.proxy(this.clean.clearUnverified,this),10),setTimeout(e.proxy(function(){var t=this.$editor.find("span");e.each(t,function(t,i){var n=i.innerHTML.replace(/[\u200B-\u200D\uFEFF]/,"");""===n&&0===i.attributes.length&&e(i).remove()})},this),10)}}},placeholder:function(){return{enable:function(){this.placeholder.is()&&(this.$editor.attr("placeholder",this.$element.attr("placeholder")),this.placeholder.toggle(),this.$editor.on("keyup.redactor-placeholder",e.proxy(this.placeholder.toggle,this)))},toggle:function(){var e="removeClass";this.utils.isEmpty(this.$editor.html(),!1)&&(e="addClass"),this.$editor[e]("redactor-placeholder")},remove:function(){this.$editor.removeClass("redactor-placeholder")},is:function(){return this.opts.placeholder?this.$element.attr("placeholder",this.opts.placeholder):!("undefined"==typeof this.$element.attr("placeholder")||""===this.$element.attr("placeholder"))}}},progress:function(){return{show:function(){e(document.body).append(e('<div id="redactor-progress"><span></span></div>')),e("#redactor-progress").fadeIn()},hide:function(){e("#redactor-progress").fadeOut(1500,function(){e(this).remove()})}}},selection:function(){return{get:function(){this.sel=document.getSelection(),this.range=document.getSelection&&this.sel.getRangeAt&&this.sel.rangeCount?this.sel.getRangeAt(0):document.createRange()},addRange:function(){try{this.sel.removeAllRanges()}catch(e){}this.sel.addRange(this.range)},getCurrent:function(){var e=!1;return this.selection.get(),this.sel&&this.sel.rangeCount>0&&(e=this.sel.getRangeAt(0).startContainer),this.utils.isRedactorParent(e)},getParent:function(t){return t=t||this.selection.getCurrent(),t?this.utils.isRedactorParent(e(t).parent()[0]):!1},getBlock:function(t){for(t=t||this.selection.getCurrent();t;){if(this.utils.isBlockTag(t.tagName))return e(t).hasClass("redactor-editor")?!1:t;t=t.parentNode}return!1},getInlines:function(t){if(this.selection.get(),this.range&&this.range.collapsed)return!1;var i=[];t="undefined"==typeof t?this.selection.getNodes():t;var n=this.opts.inlineTags;return n.push("span"),e.each(t,e.proxy(function(t,r){-1!=e.inArray(r.tagName.toLowerCase(),n)&&i.push(r)},this)),0===i.length?!1:i},getBlocks:function(t){if(this.selection.get(),this.range&&this.range.collapsed)return[this.selection.getBlock()];var i=[];return t="undefined"==typeof t?this.selection.getNodes():t,e.each(t,e.proxy(function(e,t){this.utils.isBlock(t)&&(this.selection.lastBlock=t,i.push(t))},this)),0===i.length?[this.selection.getBlock()]:i},getLastBlock:function(){return this.selection.lastBlock},getNodes:function(){this.selection.get();var t=this.selection.getNodesMarker(1),i=this.selection.getNodesMarker(2);this.selection.setNodesMarker(this.range,t,!0),this.range.collapsed===!1?this.selection.setNodesMarker(this.range,i,!1):i=t;var n=[],r=0,s=this;this.$editor.find("*").each(function(){if(this==t){var o=e(this).parent();0!==o.length&&"BODY"!=o[0].tagName&&s.utils.isRedactorParent(o[0])&&n.push(o[0]),n.push(this),r=1}else r>0&&(n.push(this),r+=1);return this==i?!1:void 0});for(var o=[],a=n.length,l=0;a>l;l++)"nodes-marker-1"!=n[l].id&&"nodes-marker-2"!=n[l].id&&o.push(n[l]);return this.selection.removeNodesMarkers(),o},getNodesMarker:function(t){return e('<span id="nodes-marker-'+t+'" class="redactor-nodes-marker" data-verified="redactor">'+this.opts.invisibleSpace+"</span>")[0]},setNodesMarker:function(e,t,i){e=e.cloneRange();try{e.collapse(i),e.insertNode(t)}catch(n){}},removeNodesMarkers:function(){e(document).find("span.redactor-nodes-marker").remove(),this.$editor.find("span.redactor-nodes-marker").remove()},fromPoint:function(e,t){this.caret.setOffset(e,t)},wrap:function(e){if(this.selection.get(),this.range.collapsed)return!1;var t=document.createElement(e);return t.appendChild(this.range.extractContents()),this.range.insertNode(t),t},selectElement:function(e){this.caret.set(e,0,e,1)},selectAll:function(){this.selection.get(),this.range.selectNodeContents(this.$editor[0]),this.selection.addRange()},remove:function(){this.selection.get(),this.sel.removeAllRanges()},save:function(){this.selection.createMarkers()},createMarkers:function(){this.selection.get();var e=this.selection.getMarker(1);if(this.selection.setMarker(this.range,e,!0),this.range.collapsed===!1){var t=this.selection.getMarker(2);this.selection.setMarker(this.range,t,!1)}this.savedSel=this.$editor.html()},getMarker:function(t){return"undefined"==typeof t&&(t=1),e('<span id="selection-marker-'+t+'" class="redactor-selection-marker"  data-verified="redactor">'+this.opts.invisibleSpace+"</span>")[0]},getMarkerAsHtml:function(e){return this.utils.getOuterHtml(this.selection.getMarker(e))},setMarker:function(e,t,i){e=e.cloneRange();try{e.collapse(i),e.insertNode(t)}catch(n){this.focus.setStart()}},restore:function(){var e=this.$editor.find("span#selection-marker-1"),t=this.$editor.find("span#selection-marker-2");0!==e.length&&0!==t.length?this.caret.set(e,0,t,0):0!==e.length?this.caret.set(e,0,e,0):this.$editor.focus(),this.selection.removeMarkers(),this.savedSel=!1},removeMarkers:function(){this.$editor.find("span.redactor-selection-marker").remove()},getText:function(){return this.selection.get(),this.sel.toString()},getHtml:function(){var e="";if(this.selection.get(),this.sel.rangeCount){for(var t=document.createElement("div"),i=this.sel.rangeCount,n=0;i>n;++n)t.appendChild(this.sel.getRangeAt(n).cloneContents());e=t.innerHTML}return this.clean.onSync(e)}}},shortcuts:function(){return{init:function(t,i){return this.opts.shortcuts?void e.each(this.opts.shortcuts,e.proxy(function(i,n){for(var r=i.split(","),s=r.length,o=0;s>o;o++)"string"==typeof r[o]&&this.shortcuts.handler(t,e.trim(r[o]),e.proxy(function(){var e;"-1"!=n.func.search(/\./)?(e=n.func.split("."),"undefined"!=typeof this[e[0]]&&this[e[0]][e[1]].apply(this,n.params)):this[n.func].apply(this,n.params)},this))},this)):(!t.ctrlKey&&!t.metaKey||66!==i&&73!==i||t.preventDefault(),!1)},handler:function(t,i,n){var r={8:"backspace",9:"tab",10:"return",13:"return",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",59:";",61:"=",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scroll",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},s={"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")","-":"_","=":"+",";":": ","'":'"',",":"<",".":">","/":"?","\\":"|"};i=i.toLowerCase().split(" ");var o=r[t.keyCode],a=String.fromCharCode(t.which).toLowerCase(),l="",c={};e.each(["alt","ctrl","meta","shift"],function(e,i){t[i+"Key"]&&o!==i&&(l+=i+"+")}),o&&(c[l+o]=!0),a&&(c[l+a]=!0,c[l+s[a]]=!0,"shift+"===l&&(c[s[a]]=!0));for(var u=0,d=i.length;d>u;u++)if(c[i[u]])return t.preventDefault(),n.apply(this,arguments)}}},tabifier:function(){return{get:function(e){if(!this.opts.tabifier)return e;var t=["area","body","head","hr","i?frame","link","meta","noscript","style","script","table","tbody","thead","tfoot"],i=["li","dt","dt","h[1-6]","option","script"],n=["blockquote","div","dl","fieldset","form","frameset","map","ol","p","pre","select","td","th","tr","ul"];this.tabifier.lineBefore=new RegExp("^<(/?"+t.join("|/?")+"|"+i.join("|")+")[ >]"),this.tabifier.lineAfter=new RegExp("^<(br|/?"+t.join("|/?")+"|/"+i.join("|/")+")[ >]"),this.tabifier.newLevel=new RegExp("^</?("+n.join("|")+")[ >]");var r=0,s=e.length,o=0,a=null,l=null,c="",u="",d="";for(this.tabifier.cleanlevel=0;s>r;r++){if(o=r,-1==e.substr(r).indexOf("<"))return u+=e.substr(r),this.tabifier.finish(u);for(;s>o&&"<"!=e.charAt(o);)o++;for(r!=o&&(d=e.substr(r,o-r),d.match(/^\s{2,}$/g)||("\n"==u.charAt(u.length-1)?u+=this.tabifier.getTabs():"\n"==d.charAt(0)&&(u+="\n"+this.tabifier.getTabs(),d=d.replace(/^\s+/,"")),u+=d),d.match(/\n/)&&(u+="\n"+this.tabifier.getTabs())),a=o;s>o&&">"!=e.charAt(o);)o++;c=e.substr(a,o-a),r=o;var h;if("!--"==c.substr(1,3)){if(!c.match(/--$/)){for(;"-->"!=e.substr(o,3);)o++;o+=2,c=e.substr(a,o-a),r=o}"\n"!=u.charAt(u.length-1)&&(u+="\n"),u+=this.tabifier.getTabs(),u+=c+">\n"}else"!"==c[1]?u=this.tabifier.placeTag(c+">",u):"?"==c[1]?u+=c+">\n":(h=c.match(/^<(script|style|pre)/i))?(h[1]=h[1].toLowerCase(),c=this.tabifier.cleanTag(c),u=this.tabifier.placeTag(c,u),l=String(e.substr(r+1)).toLowerCase().indexOf("</"+h[1]),l&&(d=e.substr(r+1,l),r+=l,u+=d)):(c=this.tabifier.cleanTag(c),u=this.tabifier.placeTag(c,u))}return this.tabifier.finish(u)},getTabs:function(){for(var e="",t=0;t<this.tabifier.cleanlevel;t++)e+="	";return e},finish:function(e){return e=e.replace(/\n\s*\n/g,"\n"),e=e.replace(/^[\s\n]*/,""),e=e.replace(/[\s\n]*$/,""),e=e.replace(/<script(.*?)>\n<\/script>/gi,"<script$1></script>"),this.tabifier.cleanlevel=0,e},cleanTag:function(e){var t="";e=e.replace(/\n/g," "),e=e.replace(/\s{2,}/g," "),e=e.replace(/^\s+|\s+$/g," ");var i="";e.match(/\/$/)&&(i="/",e=e.replace(/\/+$/,""));for(var n;n=/\s*([^= ]+)(?:=((['"']).*?\3|[^ ]+))?/.exec(e);)n[2]?t+=n[1].toLowerCase()+"="+n[2]:n[1]&&(t+=n[1].toLowerCase()),t+=" ",e=e.substr(n[0].length);return t.replace(/\s*$/,"")+i+">"},placeTag:function(e,t){var i=e.match(this.tabifier.newLevel);return(e.match(this.tabifier.lineBefore)||i)&&(t=t.replace(/\s*$/,""),t+="\n"),i&&"/"==e.charAt(1)&&this.tabifier.cleanlevel--,"\n"==t.charAt(t.length-1)&&(t+=this.tabifier.getTabs()),i&&"/"!=e.charAt(1)&&this.tabifier.cleanlevel++,t+=e,(e.match(this.tabifier.lineAfter)||e.match(this.tabifier.newLevel))&&(t=t.replace(/ *$/,""),t+="\n"),t}}},tidy:function(){return{setupAllowed:function(){if(this.opts.allowedTags&&(this.opts.deniedTags=!1),this.opts.allowedAttr&&(this.opts.removeAttr=!1),!this.opts.linebreaks){var e=["p","section"];this.opts.allowedTags&&this.tidy.addToAllowed(e),this.opts.deniedTags&&this.tidy.removeFromDenied(e)}},addToAllowed:function(t){for(var i=t.length,n=0;i>n;n++)-1==e.inArray(t[n],this.opts.allowedTags)&&this.opts.allowedTags.push(t[n])},removeFromDenied:function(t){for(var i=t.length,n=0;i>n;n++){var r=e.inArray(t[n],this.opts.deniedTags);-1!=r&&this.opts.deniedTags.splice(r,1)}},load:function(t,i){return this.tidy.settings={deniedTags:this.opts.deniedTags,allowedTags:this.opts.allowedTags,removeComments:this.opts.removeComments,replaceTags:this.opts.replaceTags,replaceStyles:this.opts.replaceStyles,removeDataAttr:this.opts.removeDataAttr,removeAttr:this.opts.removeAttr,allowedAttr:this.opts.allowedAttr,removeWithoutAttr:this.opts.removeWithoutAttr,removeEmpty:this.opts.removeEmpty},e.extend(this.tidy.settings,i),t=this.tidy.removeComments(t),this.tidy.$div=e("<div />").append(t),this.tidy.replaceTags(),this.tidy.replaceStyles(),this.tidy.removeTags(),this.tidy.removeAttr(),this.tidy.removeEmpty(),this.tidy.removeParagraphsInLists(),this.tidy.removeDataAttr(),this.tidy.removeWithoutAttr(),t=this.tidy.$div.html(),this.tidy.$div.remove(),t},removeComments:function(e){return this.tidy.settings.removeComments?e.replace(/<!--[\s\S]*?-->/gi,""):e},replaceTags:function(t){if(!this.tidy.settings.replaceTags)return t;for(var i=this.tidy.settings.replaceTags.length,n=[],r=[],s=0;i>s;s++)r.push(this.tidy.settings.replaceTags[s][1]),n.push(this.tidy.settings.replaceTags[s][0]);return this.tidy.$div.find(n.join(",")).each(e.proxy(function(t,i){var n=r[t];e(i).replaceWith(function(){for(var t=e("<"+n+" />").append(e(this).contents()),i=0;i<this.attributes.length;i++)t.attr(this.attributes[i].name,this.attributes[i].value);return t})},this)),t},replaceStyles:function(){if(this.tidy.settings.replaceStyles){var t=this.tidy.settings.replaceStyles.length;this.tidy.$div.find("span").each(e.proxy(function(i,n){for(var r=e(n),s=r.attr("style"),o=0;t>o;o++)if(s&&s.match(new RegExp("^"+this.tidy.settings.replaceStyles[o][0],"i"))){var a=this.tidy.settings.replaceStyles[o][1];r.replaceWith(function(){var t=document.createElement(a);return e(t).append(e(this).contents())})}},this))}},removeTags:function(){!this.tidy.settings.deniedTags&&this.tidy.settings.allowedTags&&this.tidy.$div.find("*").not(this.tidy.settings.allowedTags.join(",")).each(function(t,i){""===i.innerHTML?e(i).remove():e(i).contents().unwrap()}),this.tidy.settings.deniedTags&&this.tidy.$div.find(this.tidy.settings.deniedTags.join(",")).each(function(t,i){""===i.innerHTML?e(i).remove():e(i).contents().unwrap()})},removeAttr:function(){var t;if(!this.tidy.settings.removeAttr&&this.tidy.settings.allowedAttr){var i=[],n=[];t=this.tidy.settings.allowedAttr.length;for(var r=0;t>r;r++)i.push(this.tidy.settings.allowedAttr[r][0]),n.push(this.tidy.settings.allowedAttr[r][1]);this.tidy.$div.find("*").each(e.proxy(function(t,r){var s=e(r),o=e.inArray(s[0].tagName.toLowerCase(),i),a=this.tidy.removeAttrGetRemoves(o,n,s);a&&e.each(a,function(e,t){s.removeAttr(t)})},this))}if(this.tidy.settings.removeAttr){t=this.tidy.settings.removeAttr.length;for(var r=0;t>r;r++){var s=this.tidy.settings.removeAttr[r][1];e.isArray(s)&&(s=s.join(" ")),this.tidy.$div.find(this.tidy.settings.removeAttr[r][0]).removeAttr(s)}}},removeAttrGetRemoves:function(t,i,n){var r=[];return-1==t?e.each(n[0].attributes,function(e,t){r.push(t.name)}):"*"==i[t]?r=[]:e.each(n[0].attributes,function(n,s){e.isArray(i[t])?-1==e.inArray(s.name,i[t])&&r.push(s.name):i[t]!=s.name&&r.push(s.name)}),r},removeAttrs:function(t,i){return i=new RegExp(i,"g"),t.each(function(){for(var t=e(this),n=this.attributes.length-1,r=n;r>=0;r--){var s=this.attributes[r];s&&s.specified&&s.name.search(i)>=0&&t.removeAttr(s.name)}})},removeEmpty:function(){this.tidy.settings.removeEmpty&&this.tidy.$div.find(this.tidy.settings.removeEmpty.join(",")).each(function(){var t=e(this),i=t.text();i=i.replace(/[\u200B-\u200D\uFEFF]/g,""),i=i.replace(/&nbsp;/gi,""),i=i.replace(/\s/g,""),""===i&&0===t.children().length&&t.remove()})},removeParagraphsInLists:function(){this.tidy.$div.find("li p").contents().unwrap()},removeDataAttr:function(){if(this.tidy.settings.removeDataAttr){var t=this.tidy.settings.removeDataAttr;e.isArray(this.tidy.settings.removeDataAttr)&&(t=this.tidy.settings.removeDataAttr.join(",")),this.tidy.removeAttrs(this.tidy.$div.find(t),"^(data-)")}},removeWithoutAttr:function(){this.tidy.settings.removeWithoutAttr&&this.tidy.$div.find(this.tidy.settings.removeWithoutAttr.join(",")).each(function(){0===this.attributes.length&&e(this).contents().unwrap()})}}},toolbar:function(){return{init:function(){return{html:{title:this.lang.get("html"),func:"code.toggle"},formatting:{title:this.lang.get("formatting"),dropdown:{p:{title:this.lang.get("paragraph"),func:"block.format"},blockquote:{title:this.lang.get("quote"),func:"block.format"},pre:{title:this.lang.get("code"),func:"block.format"},h1:{title:this.lang.get("header1"),func:"block.format"},h2:{title:this.lang.get("header2"),func:"block.format"},h3:{title:this.lang.get("header3"),func:"block.format"},h4:{title:this.lang.get("header4"),func:"block.format"},h5:{title:this.lang.get("header5"),func:"block.format"}}},bold:{title:this.lang.get("bold"),func:"inline.format"},italic:{title:this.lang.get("italic"),func:"inline.format"},deleted:{title:this.lang.get("deleted"),func:"inline.format"},underline:{title:this.lang.get("underline"),func:"inline.format"},unorderedlist:{title:"&bull; "+this.lang.get("unorderedlist"),func:"list.toggle"},orderedlist:{title:"1. "+this.lang.get("orderedlist"),func:"list.toggle"},outdent:{title:"< "+this.lang.get("outdent"),func:"indent.decrease"},indent:{title:"> "+this.lang.get("indent"),func:"indent.increase"},image:{title:this.lang.get("image"),func:"image.show"},file:{title:this.lang.get("file"),func:"file.show"},link:{title:this.lang.get("link"),dropdown:{link:{title:this.lang.get("link_insert"),func:"link.show"},unlink:{title:this.lang.get("unlink"),func:"link.unlink"}}},alignment:{title:this.lang.get("alignment"),dropdown:{left:{title:this.lang.get("align_left"),func:"alignment.left"},center:{title:this.lang.get("align_center"),func:"alignment.center"},right:{title:this.lang.get("align_right"),func:"alignment.right"},justify:{title:this.lang.get("align_justify"),func:"alignment.justify"}}},horizontalrule:{title:this.lang.get("horizontalrule"),func:"line.insert"}}},build:function(){this.toolbar.hideButtons(),this.toolbar.hideButtonsOnMobile(),this.toolbar.isButtonSourceNeeded(),0!==this.opts.buttons.length&&(this.$toolbar=this.toolbar.createContainer(),this.toolbar.setOverflow(),this.toolbar.append(),this.toolbar.setFormattingTags(),this.toolbar.loadButtons(),this.toolbar.setFixed(),this.opts.activeButtons&&this.$editor.on("mouseup.redactor keyup.redactor focus.redactor",e.proxy(this.observe.buttons,this)))},createContainer:function(){return e("<ul>").addClass("redactor-toolbar").attr("id","redactor-toolbar-"+this.uuid)},setFormattingTags:function(){e.each(this.opts.toolbar.formatting.dropdown,e.proxy(function(t){-1==e.inArray(t,this.opts.formatting)&&delete this.opts.toolbar.formatting.dropdown[t]},this))},loadButtons:function(){e.each(this.opts.buttons,e.proxy(function(t,i){if(this.opts.toolbar[i]){if(this.opts.fileUpload===!1&&"file"===i)return!0;if(this.opts.imageUpload===!1&&this.opts.s3===!1&&"image"===i)return!0;var n=this.opts.toolbar[i];this.$toolbar.append(e("<li>").append(this.button.build(i,n)))}},this))},append:function(){this.opts.toolbarExternal?(this.$toolbar.addClass("redactor-toolbar-external"),e(this.opts.toolbarExternal).html(this.$toolbar)):this.$box.prepend(this.$toolbar)},setFixed:function(){this.utils.isDesktop()&&(this.opts.toolbarExternal||this.opts.toolbarFixed&&(this.toolbar.observeScroll(),e(this.opts.toolbarFixedTarget).on("scroll.redactor",e.proxy(this.toolbar.observeScroll,this))))},setOverflow:function(){this.utils.isMobile()&&this.opts.toolbarOverflow&&this.$toolbar.addClass("redactor-toolbar-overflow")},isButtonSourceNeeded:function(){if(!this.opts.buttonSource){var e=this.opts.buttons.indexOf("html");-1!==e&&this.opts.buttons.splice(e,1)}},hideButtons:function(){0!==this.opts.buttonsHide.length&&e.each(this.opts.buttonsHide,e.proxy(function(e,t){var i=this.opts.buttons.indexOf(t);this.opts.buttons.splice(i,1)},this))},hideButtonsOnMobile:function(){this.utils.isMobile()&&0!==this.opts.buttonsHideOnMobile.length&&e.each(this.opts.buttonsHideOnMobile,e.proxy(function(e,t){var i=this.opts.buttons.indexOf(t);this.opts.buttons.splice(i,1)},this))},observeScroll:function(){var t=e(this.opts.toolbarFixedTarget).scrollTop(),i=1;this.opts.toolbarFixedTarget===document&&(i=this.$box.offset().top),t>i?this.toolbar.observeScrollEnable(t,i):this.toolbar.observeScrollDisable()},observeScrollEnable:function(e,t){var i=this.opts.toolbarFixedTopOffset+e-t,n=0,r=t+this.$box.height()+30,s=this.$box.innerWidth();this.$toolbar.addClass("toolbar-fixed-box"),this.$toolbar.css({position:"absolute",width:s,top:i+"px",left:n}),this.toolbar.setDropdownsFixed(),this.$toolbar.css("visibility",r>e?"visible":"hidden")},observeScrollDisable:function(){this.$toolbar.css({position:"relative",width:"auto",top:0,left:0,visibility:"visible"}),this.toolbar.unsetDropdownsFixed(),this.$toolbar.removeClass("toolbar-fixed-box")},setDropdownsFixed:function(){var t=this.$toolbar.innerHeight()+this.opts.toolbarFixedTopOffset,i="fixed";this.opts.toolbarFixedTarget!==document&&(t=this.$toolbar.innerHeight()+this.$toolbar.offset().top+this.opts.toolbarFixedTopOffset,i="absolute"),e(".redactor-dropdown").each(function(){e(this).css({position:i,top:t+"px"})})},unsetDropdownsFixed:function(){var t=this.$toolbar.innerHeight()+this.$toolbar.offset().top;e(".redactor-dropdown").each(function(){e(this).css({position:"absolute",top:t+"px"})})}}},upload:function(){return{init:function(t,i,n){this.upload.direct=!1,this.upload.callback=n,this.upload.url=i,this.upload.$el=e(t),this.upload.$droparea=e('<div id="redactor-droparea" />'),this.upload.$placeholdler=e('<div id="redactor-droparea-placeholder" />').text("Drop file here or "),this.upload.$input=e('<input type="file" name="file" />'),this.upload.$placeholdler.append(this.upload.$input),this.upload.$droparea.append(this.upload.$placeholdler),this.upload.$el.append(this.upload.$droparea),this.upload.$droparea.off("redactor.upload"),this.upload.$input.off("redactor.upload"),this.upload.$droparea.on("dragover.redactor.upload",e.proxy(this.upload.onDrag,this)),this.upload.$droparea.on("dragleave.redactor.upload",e.proxy(this.upload.onDragLeave,this)),this.upload.$input.on("change.redactor.upload",e.proxy(function(e){e=e.originalEvent||e,this.upload.traverseFile(this.upload.$input[0].files[0],e)},this)),this.upload.$droparea.on("drop.redactor.upload",e.proxy(function(e){e.preventDefault(),this.upload.$droparea.removeClass("drag-hover").addClass("drag-drop"),this.upload.onDrop(e)},this))},directUpload:function(e,t){this.upload.direct=!0,this.upload.traverseFile(e,t)},onDrop:function(e){e=e.originalEvent||e;var t=e.dataTransfer.files;this.upload.traverseFile(t[0],e)},traverseFile:function(e,t){if(this.opts.s3)return this.upload.setConfig(e),void this.upload.s3uploadFile(e);var i=window.FormData?new FormData:null;if(window.FormData){this.upload.setConfig(e);var n="image"==this.upload.type?this.opts.imageUploadParam:this.opts.fileUploadParam;i.append(n,e)}this.progress.show(),this.upload.sendData(i,t)},setConfig:function(e){this.upload.getType(e),this.upload.direct&&(this.upload.url="image"==this.upload.type?this.opts.imageUpload:this.opts.fileUpload,this.upload.callback="image"==this.upload.type?this.image.insert:this.file.insert)},getType:function(e){this.upload.type="image",-1==this.opts.imageTypes.indexOf(e.type)&&(this.upload.type="file")},getHiddenFields:function(t,i){return t===!1||"object"!=typeof t?i:(e.each(t,e.proxy(function(t,n){null!==n&&0===n.toString().indexOf("#")&&(n=e(n).val()),i.append(t,n)},this)),i)},sendData:function(t,i){"image"==this.upload.type?(t=this.upload.getHiddenFields(this.opts.uploadImageFields,t),t=this.upload.getHiddenFields(this.upload.imageFields,t)):(t=this.upload.getHiddenFields(this.opts.uploadFileFields,t),t=this.upload.getHiddenFields(this.upload.fileFields,t));var n=new XMLHttpRequest;n.open("POST",this.upload.url),n.onreadystatechange=e.proxy(function(){if(4==n.readyState){var t=n.responseText;t=t.replace(/^\[/,""),t=t.replace(/\]$/,"");var r;try{r="string"==typeof t?e.parseJSON(t):t}catch(s){r={error:!0}}this.progress.hide(),this.upload.direct||this.upload.$droparea.removeClass("drag-drop"),this.upload.callback(r,this.upload.direct,i)}},this),n.send(t)
},onDrag:function(e){e.preventDefault(),this.upload.$droparea.addClass("drag-hover")},onDragLeave:function(e){e.preventDefault(),this.upload.$droparea.removeClass("drag-hover")},clearImageFields:function(){this.upload.imageFields={}},addImageFields:function(e,t){this.upload.imageFields[e]=t},removeImageFields:function(e){delete this.upload.imageFields[e]},clearFileFields:function(){this.upload.fileFields={}},addFileFields:function(e,t){this.upload.fileFields[e]=t},removeFileFields:function(e){delete this.upload.fileFields[e]},s3uploadFile:function(t){this.upload.s3executeOnSignedUrl(t,e.proxy(function(e){this.upload.s3uploadToS3(t,e)},this))},s3executeOnSignedUrl:function(e,t){var i=new XMLHttpRequest,n="?";"-1"!=this.opts.s3.search(/\?/)&&(n="&"),i.open("GET",this.opts.s3+n+"name="+e.name+"&type="+e.type,!0),i.overrideMimeType&&i.overrideMimeType("text/plain; charset=x-user-defined");var r=this;i.onreadystatechange=function(){4==this.readyState&&200==this.status?(r.progress.show(),t(decodeURIComponent(this.responseText))):4==this.readyState&&200!=this.status},i.send()},s3createCORSRequest:function(e,t){var i=new XMLHttpRequest;return"withCredentials"in i?i.open(e,t,!0):"undefined"!=typeof XDomainRequest?(i=new XDomainRequest,i.open(e,t)):i=null,i},s3uploadToS3:function(t,i){var n=this.upload.s3createCORSRequest("PUT",i);n&&(n.onload=e.proxy(function(){if(200==n.status){this.progress.hide();var e=i.split("?");if(!e[0])return!1;this.upload.direct||this.upload.$droparea.removeClass("drag-drop");var t={filelink:e[0]};if("file"==this.upload.type){var r=e[0].split("/");t.filename=r[r.length-1]}this.upload.callback(t,this.upload.direct,!1)}},this),n.onerror=function(){},n.upload.onprogress=function(){},n.setRequestHeader("Content-Type",t.type),n.setRequestHeader("x-amz-acl","public-read"),n.send(t))}}},utils:function(){return{isMobile:function(){return/(iPhone|iPod|BlackBerry|Android)/.test(navigator.userAgent)},isDesktop:function(){return!/(iPhone|iPod|iPad|BlackBerry|Android)/.test(navigator.userAgent)},isString:function(e){return"[object String]"==Object.prototype.toString.call(e)},isEmpty:function(t,i){return t=t.replace(/[\u200B-\u200D\uFEFF]/g,""),t=t.replace(/&nbsp;/gi,""),t=t.replace(/<\/?br\s?\/?>/g,""),t=t.replace(/\s/g,""),t=t.replace(/^<p>[^\W\w\D\d]*?<\/p>$/i,""),t=t.replace(/<iframe(.*?[^>])>$/i,"iframe"),i!==!1&&(t=t.replace(/<[^\/>][^>]*><\/[^>]+>/gi,""),t=t.replace(/<[^\/>][^>]*><\/[^>]+>/gi,"")),t=e.trim(t),""===t},normalize:function(e){return"undefined"==typeof e?0:parseInt(e.replace("px",""),10)},hexToRgb:function(e){if("undefined"!=typeof e){if(-1==e.search(/^#/))return e;var t=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;e=e.replace(t,function(e,t,i,n){return t+t+i+i+n+n});var i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return"rgb("+parseInt(i[1],16)+", "+parseInt(i[2],16)+", "+parseInt(i[3],16)+")"}},getOuterHtml:function(t){return e("<div>").append(e(t).eq(0).clone()).html()},getAlignmentElement:function(t){return-1!==e.inArray(t.tagName,this.opts.alignmentTags)?e(t):e(t).closest(this.opts.alignmentTags.toString().toLowerCase(),this.$editor[0])},removeEmptyAttr:function(t,i){var n=e(t);return"undefined"==typeof n.attr(i)?!0:""===n.attr(i)?(n.removeAttr(i),!0):!1},removeEmpty:function(t,i){var n=e(i);if(n.find(".redactor-invisible-space").removeAttr("style").removeAttr("class"),0===n.find("hr, br, img, iframe").length){var r=e.trim(n.text());this.utils.isEmpty(r,!1)&&n.remove()}},saveScroll:function(){this.utils.isSelectAll()||(this.saveEditorScroll=this.$editor.scrollTop(),this.saveBodyScroll=e(window).scrollTop(),this.opts.scrollTarget&&(this.saveTargetScroll=e(this.opts.scrollTarget).scrollTop()))},restoreScroll:function(){("undefined"!=typeof this.saveScroll||"undefined"!=typeof this.saveBodyScroll)&&(e(window).scrollTop(this.saveBodyScroll),this.$editor.scrollTop(this.saveEditorScroll),this.opts.scrollTarget&&e(this.opts.scrollTarget).scrollTop(this.saveTargetScroll))},createSpaceElement:function(){var e=document.createElement("span");return e.className="redactor-invisible-space",e.innerHTML=this.opts.invisibleSpace,e},removeInlineTags:function(t){var i=this.opts.inlineTags;i.push("span"),"PRE"==t.tagName&&i.push("a"),e(t).find(i.join(",")).not("span.redactor-selection-marker").contents().unwrap()},replaceWithContents:function(t,i){var n=this;e(t).replaceWith(function(){return i===!0&&n.utils.removeInlineTags(this),e(this).contents()})},replaceToTag:function(t,i,n){var r,s=this;return e(t).replaceWith(function(){r=e("<"+i+" />").append(e(this).contents());for(var t=0;t<this.attributes.length;t++)r.attr(this.attributes[t].name,this.attributes[t].value);return n===!0&&s.utils.removeInlineTags(r),r}),r},isStartOfElement:function(){var e=this.selection.getBlock();if(!e)return!1;var t=this.caret.getOffsetOfElement(e);return 0===t?!0:!1},isEndOfElement:function(){var t=this.selection.getBlock();if(!t)return!1;var i=this.caret.getOffsetOfElement(t),n=e.trim(e(t).text()).replace(/\n\r\n/g,"");return i==n.length?!0:!1},isBlock:function(e){return e=e[0]||e,e&&this.utils.isBlockTag(e.tagName)},isBlockTag:function(e){return"undefined"==typeof e?!1:this.reIsBlock.test(e)},isTag:function(t,i){var n=e(t).closest(i);return 1==n.size()?n[0]:!1},isSelectAll:function(){return this.selectAll},enableSelectAll:function(){this.selectAll=!0},disableSelectAll:function(){this.selectAll=!1},isRedactorParent:function(t){return t?0===e(t).parents(".redactor-editor").length||e(t).hasClass("redactor-editor")?!1:t:!1},isCurrentOrParentHeader:function(){return this.utils.isCurrentOrParent(["H1","H2","H3","H4","H5","H6"])},isCurrentOrParent:function(t){var i=this.selection.getParent(),n=this.selection.getCurrent();if(e.isArray(t)){var r=0;return e.each(t,e.proxy(function(e,t){this.utils.isCurrentOrParentOne(n,i,t)&&r++},this)),0===r?!1:!0}return this.utils.isCurrentOrParentOne(n,i,t)},isCurrentOrParentOne:function(e,t,i){return i=i.toUpperCase(),t&&t.tagName===i?t:e&&e.tagName===i?e:!1},isOldIe:function(){return this.utils.browser("msie")&&parseInt(this.utils.browser("version"),10)<9?!0:!1},isLessIe10:function(){return this.utils.browser("msie")&&parseInt(this.utils.browser("version"),10)<10?!0:!1},isIe11:function(){return!!navigator.userAgent.match(/Trident\/7\./)},browser:function(e){var t=navigator.userAgent.toLowerCase(),i=/(opr)[\/]([\w.]+)/.exec(t)||/(chrome)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("trident")>=0&&/(rv)(?::| )([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[];return"version"==e?i[2]:"webkit"==e?"chrome"==i[1]||"webkit"==i[1]:"rv"==i[1]?"msie"==e:"opr"==i[1]?"webkit"==e:e==i[1]}}}},t.prototype.init.prototype=t.prototype,e.Redactor.fn.formatLinkify=function(t,i,s,o,a,l){for(var c="((?:http[s]?:\\/\\/(?:www\\.)?|www\\.){1}(?:[0-9A-Za-z\\-%_]+\\.)+[a-zA-Z]{2,}(?::[0-9]+)?(?:(?:/[0-9A-Za-z\\-#\\.%+_]*)+)?(?:\\?(?:[0-9A-Za-z\\-\\.%_]+(?:=[0-9A-Za-z\\-\\.%_\\+]*)?)?(?:&(?:[0-9A-Za-z\\-\\.%_]+(?:=[0-9A-Za-z\\-\\.%_\\+]*)?)?)*)?(?:#[0-9A-Za-z\\-\\.%_\\+=\\?&;]*)?)",u=new RegExp(c,"gi"),d=/(https?|ftp):\/\//i,h=/(https?:\/\/.*\.(?:png|jpg|jpeg|gif))/gi,f=(this.$editor?this.$editor[0]:this).childNodes,p=f.length;p--;){var g=f[p];if(3===g.nodeType&&"PRE"!==g.parentNode){var m=g.nodeValue;if(a&&m){var v='<iframe width="500" height="281" src="',y='" frameborder="0" allowfullscreen></iframe>';m.match(n)?(m=m.replace(n,v+"//www.youtube.com/embed/$1"+y),e(g).after(m).remove()):m.match(r)&&(m=m.replace(r,v+"//player.vimeo.com/video/$2"+y),e(g).after(m).remove())}if(o&&m&&m.match(h))return m=m.replace(h,'<img src="$1" />'),void e(g).after(m).remove();-1!=m.search(/\$/g)&&(m=m.replace(/\$/g,"&#36;"));var b=m.match(u);if(s&&m&&b){for(var w=b.length,x=0;w>x;x++){null!==b[x].match(/\.$/)&&(b[x]=b[x].replace(/\.$/,""));var k=b[x],_=k,C="";null!==k.match(/\s$/)&&(C=" ");var T=t+"://";null!==k.match(d)&&(T=""),_.length>l&&(_=_.substring(0,l)+"..."),_=_.replace(/&#36;/g,"$").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),m=m.replace(k,'<a href="'+T+e.trim(k)+'">'+e.trim(_)+"</a>"+C)}e(g).after(m).remove()}}else 1!==g.nodeType||/^(pre|a|button|textarea)$/i.test(g.tagName)||e.Redactor.fn.formatLinkify.call(g,t,i,s,o,a,l)}}}(jQuery),!RedactorPlugins)var RedactorPlugins={};if(function(e){RedactorPlugins.filemanager=function(){return{init:function(){this.opts.fileManagerJson&&this.modal.addCallback("file",this.filemanager.load)},load:function(){var t=this.modal.getModal();this.modal.createTabber(t),this.modal.addTab(1,"Upload","active"),this.modal.addTab(2,"Choose"),e("#redactor-modal-file-upload-box").addClass("redactor-tab redactor-tab1");var i=e('<div id="redactor-file-manager-box" style="overflow: auto; height: 300px;" class="redactor-tab redactor-tab2">').hide();t.append(i),e.ajax({dataType:"json",cache:!1,url:this.opts.fileManagerJson,success:e.proxy(function(t){var i=e('<ul id="redactor-modal-list">');e.each(t,e.proxy(function(t,n){var r=e('<a href="#" title="'+n.title+'" rel="'+n.link+'" class="redactor-file-manager-link">'+n.title+' <span style="font-size: 11px; color: #888;">'+n.name+'</span> <span style="position: absolute; right: 10px; font-size: 11px; color: #888;">('+n.size+")</span></a>"),s=e("<li />");r.on("click",e.proxy(this.filemanager.insert,this)),s.append(r),i.append(s)},this)),e("#redactor-file-manager-box").append(i)},this)})},insert:function(t){t.preventDefault();var i=e(t.target).closest(".redactor-file-manager-link");this.file.insert('<a href="'+i.attr("rel")+'">'+i.attr("title")+"</a>")}}}}(jQuery),!RedactorPlugins)var RedactorPlugins={};if(function(e){RedactorPlugins.imagemanager=function(){return{init:function(){this.opts.imageManagerJson&&this.modal.addCallback("image",this.imagemanager.load)},load:function(){var t=this.modal.getModal();this.modal.createTabber(t),this.modal.addTab(1,"Upload","active"),this.modal.addTab(2,"Choose"),e("#redactor-modal-image-droparea").addClass("redactor-tab redactor-tab1");var i=e('<div id="redactor-image-manager-box" style="overflow: auto; height: 300px;" class="redactor-tab redactor-tab2">').hide();t.append(i),e.ajax({dataType:"json",cache:!1,url:this.opts.imageManagerJson,success:e.proxy(function(t){e.each(t,e.proxy(function(t,i){var n="";"undefined"!=typeof i.title&&(n=i.title);var r=e('<img src="'+i.thumb+'" rel="'+i.image+'" title="'+n+'" style="width: 100px; height: 75px; cursor: pointer;" />');e("#redactor-image-manager-box").append(r),e(r).click(e.proxy(this.imagemanager.insert,this))},this))},this)})},insert:function(t){this.image.insert('<img src="'+e(t.target).attr("rel")+'" alt="'+e(t.target).attr("title")+'">')}}}}(jQuery),!RedactorPlugins)var RedactorPlugins={};if(function(e){RedactorPlugins.table=function(){return{getTemplate:function(){return String()+'<section id="redactor-modal-table-insert"><label>'+this.lang.get("rows")+'</label><input type="text" size="5" value="2" id="redactor-table-rows" /><label>'+this.lang.get("columns")+'</label><input type="text" size="5" value="3" id="redactor-table-columns" /></section>'},init:function(){var e={};e.insert_table={title:this.lang.get("insert_table"),func:this.table.show},e.insert_row_above={title:this.lang.get("insert_row_above"),func:this.table.addRowAbove},e.insert_row_below={title:this.lang.get("insert_row_below"),func:this.table.addRowBelow},e.insert_column_left={title:this.lang.get("insert_column_left"),func:this.table.addColumnLeft},e.insert_column_right={title:this.lang.get("insert_column_right"),func:this.table.addColumnRight},e.add_head={title:this.lang.get("add_head"),func:this.table.addHead},e.delete_head={title:this.lang.get("delete_head"),func:this.table.deleteHead},e.delete_column={title:this.lang.get("delete_column"),func:this.table.deleteColumn},e.delete_row={title:this.lang.get("delete_row"),func:this.table.deleteRow},e.delete_table={title:this.lang.get("delete_table"),func:this.table.deleteTable},this.observe.addButton("td","table"),this.observe.addButton("th","table");var t=this.button.addBefore("link","table",this.lang.get("table"));this.button.addDropdown(t,e)},show:function(){this.modal.addTemplate("table",this.table.getTemplate()),this.modal.load("table",this.lang.get("insert_table"),300),this.modal.createCancelButton();var t=this.modal.createActionButton(this.lang.get("insert"));t.on("click",this.table.insert),this.selection.save(),this.modal.show(),e("#redactor-table-rows").focus()},insert:function(){var t,i,n,r,s=e("#redactor-table-rows").val(),o=e("#redactor-table-columns").val(),a=e("<div>"),l=Math.floor(99999*Math.random()),c=e('<table id="table'+l+'"><tbody></tbody></table>');for(t=0;s>t;t++){for(i=e("<tr>"),n=0;o>n;n++)r=e("<td>"+this.opts.invisibleSpace+"</td>"),0===t&&0===n&&r.append(this.selection.getMarker()),e(i).append(r);c.append(i)}a.append(c);var u=a.html();if(this.modal.close(),this.selection.restore(),!this.table.getTable()){this.buffer.set();var d=this.selection.getBlock()||this.selection.getCurrent();d&&"BODY"!=d.tagName?("LI"==d.tagName&&(d=e(d).closest("ul, ol")),e(d).after(u)):this.insert.html(u),this.selection.restore();var h=this.$editor.find("#table"+l);if(!this.opts.linebreaks&&(this.utils.browser("mozilla")||this.utils.browser("msie"))){var f=h.next();0===f.length&&h.after(this.opts.emptyHtml)}this.observe.buttons(),h.find("span.redactor-selection-marker").remove(),h.removeAttr("id"),this.code.sync(),this.core.setCallback("insertedTable",h)}},getTable:function(){var t=e(this.selection.getParent()).closest("table");return this.utils.isRedactorParent(t)?0===t.size()?!1:t:!1},restoreAfterDelete:function(e){this.selection.restore(),e.find("span.redactor-selection-marker").remove(),this.code.sync()},deleteTable:function(){var e=this.table.getTable();if(e){this.buffer.set();var t=e.next();this.opts.linebreaks||0===t.length?this.caret.setAfter(e):this.caret.setStart(t),e.remove(),this.code.sync()}},deleteRow:function(){var t=this.table.getTable();if(t){var i=e(this.selection.getCurrent());this.buffer.set();var n=i.closest("tr"),r=n.prev().length?n.prev():n.next();if(r.length){var s=r.children("td, th").first();s.length&&s.prepend(this.selection.getMarker())}n.remove(),this.table.restoreAfterDelete(t)}},deleteColumn:function(){var t=this.table.getTable();if(t){this.buffer.set();var i=e(this.selection.getCurrent()),n=i.closest("td, th"),r=n[0].cellIndex;t.find("tr").each(e.proxy(function(t,i){var n=e(i),s=0>r-1?r+1:r-1;0===t&&n.find("td, th").eq(s).prepend(this.selection.getMarker()),n.find("td, th").eq(r).remove()},this)),this.table.restoreAfterDelete(t)}},addHead:function(){var t=this.table.getTable();if(t){if(this.buffer.set(),0!==t.find("thead").size())return void this.table.deleteHead();var i=t.find("tr").first().clone();i.find("td").replaceWith(e.proxy(function(){return e("<th>").html(this.opts.invisibleSpace)},this)),$thead=e("<thead></thead>").append(i),t.prepend($thead),this.code.sync()}},deleteHead:function(){var e=this.table.getTable();if(e){var t=e.find("thead");0!==t.size()&&(this.buffer.set(),t.remove(),this.code.sync())}},addRowAbove:function(){this.table.addRow("before")},addRowBelow:function(){this.table.addRow("after")},addColumnLeft:function(){this.table.addColumn("before")},addColumnRight:function(){this.table.addColumn("after")},addRow:function(t){var i=this.table.getTable();if(i){this.buffer.set();var n=e(this.selection.getCurrent()),r=n.closest("tr"),s=r.clone();s.find("th").replaceWith(function(){var t=e("<td>");return t[0].attributes=this.attributes,t.append(e(this).contents())}),s.find("td").html(this.opts.invisibleSpace),"after"==t?r.after(s):r.before(s),this.code.sync()}},addColumn:function(t){var i=this.table.getTable();if(i){var n=0,r=e(this.selection.getCurrent());this.buffer.set();var s=r.closest("tr"),o=r.closest("td, th");s.find("td, th").each(e.proxy(function(t,i){e(i)[0]===o[0]&&(n=t)},this)),i.find("tr").each(e.proxy(function(i,r){var s=e(r).find("td, th").eq(n),o=s.clone();o.html(this.opts.invisibleSpace),"after"==t?s.after(o):s.before(o)},this)),this.code.sync()}}}}}(jQuery),!RedactorPlugins)var RedactorPlugins={};if(function(e){RedactorPlugins.video=function(){return{reUrlYoutube:/https?:\/\/(?:[0-9A-Z-]+\.)?(?:youtu\.be\/|youtube\.com\S*[^\w\-\s])([\w\-]{11})(?=[^\w\-]|$)(?![?=&+%\w.-]*(?:['"][^<>]*>|<\/a>))[?=&+%\w.-]*/gi,reUrlVimeo:/https?:\/\/(www\.)?vimeo.com\/(\d+)($|\/)/,getTemplate:function(){return String()+'<section id="redactor-modal-video-insert"><label>'+this.lang.get("video_html_code")+'</label><textarea id="redactor-insert-video-area" style="height: 160px;"></textarea></section>'},init:function(){var e=this.button.addAfter("image","video",this.lang.get("video"));this.button.addCallback(e,this.video.show)},show:function(){this.modal.addTemplate("video",this.video.getTemplate()),this.modal.load("video",this.lang.get("video"),700),this.modal.createCancelButton();var t=this.modal.createActionButton(this.lang.get("insert"));t.on("click",this.video.insert),this.selection.save(),this.modal.show(),e("#redactor-insert-video-area").focus()},insert:function(){var t=e("#redactor-insert-video-area").val();if(!t.match(/<iframe|<video/gi)){t=this.clean.stripTags(t);var i='<iframe style="width: 500px; height: 281px;" src="',n='" frameborder="0" allowfullscreen></iframe>';t.match(this.video.reUrlYoutube)?t=t.replace(this.video.reUrlYoutube,i+"//www.youtube.com/embed/$1"+n):t.match(this.video.reUrlVimeo)&&(t=t.replace(this.video.reUrlVimeo,i+"//player.vimeo.com/video/$2"+n))}this.selection.restore(),this.modal.close();var r=this.selection.getBlock()||this.selection.getCurrent();r?e(r).after(t):this.insert.html(t),this.code.sync()}}}}(jQuery),function(e){e.Redactor.opts.langs.cs={html:"HTML",video:"Video",image:"Obr\xe1zek",table:"Tabulka",link:"Odkaz",link_insert:"Vlo\u017eit odkaz ...",link_edit:"Upravit odkaz",unlink:"Odstranit odkaz",formatting:"Styly",paragraph:"Odstavec",quote:"Citace",code:"K\xf3d",header1:"Nadpis 1",header2:"Nadpis 2",header3:"Nadpis 3",header4:"Nadpis 4",header5:"Nadpis 5",format:"Form\xe1t",bold:"Tu\u010dn\xe9",italic:"Kurz\xedva",superscript:"Horn\xed index",strikethrough:"P\u0159e\u0161krtnut\xe9",fontcolor:"Barva p\xedsma",backcolor:"Barva pozad\xed",removeformat:"Odstranit form\xe1tov\xe1n\xed",cleanformatting:"Odstranit styly",lists:"Seznamy",unorderedlist:"Seznam s odr\xe1\u017ekami",orderedlist:"\u010c\xedslovan\xfd seznam",outdent:"Zmen\u0161it odsazen\xed",indent:"Zv\u011bt\u0161it odsazen\xed",redo:"Vp\u0159ed",undo:"Zp\u011bt",cut:"Vyjmout",cancel:"Zru\u0161it",insert:"Vlo\u017eit",save:"Ulo\u017eit",_delete:"Smazat",insert_table:"Vlo\u017eit tabulku",insert_row_above:"P\u0159idat \u0159\xe1dek nahoru",insert_row_below:"P\u0159idat \u0159\xe1dek dolu",insert_column_left:"P\u0159idat sloupec vlevo",insert_column_right:"P\u0159idat sloupec vpravo",delete_column:"Smazat sloupec",delete_row:"Smazat \u0159\xe1dek",delete_table:"Smazat tabulku",rows:"\u0158\xe1dky",columns:"Sloupce",add_head:"P\u0159idat z\xe1hlav\xed",delete_head:"Smazat z\xe1hlav\xed",title:"Titulek",image_view:"Zobrazit obr\xe1zek",image_position:"Zarovn\xe1n\xed",none:"\u017d\xe1dn\xe9",left:"Vlevo",right:"Vpravo",image_web_link:"Odkaz na obr\xe1zek",text:"Text",mailto:"Email",web:"URL adresa",video_html_code:"Zkop\xedrujte k\xf3d pro vlo\u017een\xed videa do str\xe1nky",file:"Soubor",upload:"Nahr\xe1t",download:"St\xe1hnout",choose:"Vybrat",or_choose:"nebo",drop_file_here:"P\u0159et\xe1hn\u011bte soubor do tohoto okna",align_left:"Zarovnat vlevo",align_center:"Zarovnat na st\u0159ed",align_right:"Zarovnat vpravo",align_justify:"Zarovnat do bloku",horizontalrule:"Vodorovn\xe1 \u010d\xe1ra",fullscreen:"Cel\xe1 obrazovka",deleted:"P\u0159e\u0161krtnut\xe9",none:"\u017d\xe1dn\xe1",anchor:"Z\xe1lo\u017eka",link_new_tab:"Otev\xedrat odkaz v nov\xe9m okn\u011b",underline:"Podtr\u017een\xe9",alignment:"Zarovn\xe1n\xed",filename:"N\xe1zev (voliteln\xe9)",edit:"Upravit",center:"Center"}}(jQuery),function(e){e.Redactor.opts.langs.da={html:"HTML",video:"Inds\xe6t Video...",image:"Inds\xe6t Billede...",table:"Tabel",link:"Hyperlink",link_insert:"Inds\xe6t Hyperlink ...",link_edit:"Rediger link",unlink:"Fjern Hyperlink",formatting:"Formatering",paragraph:"Paragraf",quote:"Citat",code:"Kode",header1:"Overskrift 1",header2:"Overskrift 2",header3:"Overskrift 3",header4:"Overskrift 4",header5:"Overskrift 5",bold:"Fed",italic:"Kursiv",fontcolor:"Skriftfarve",backcolor:"Baggrundsfarve",unorderedlist:"Opstilling Med Punkttegn",orderedlist:"Opstilling Med Tal",outdent:"Formindsk Indrykning",indent:"For\xf8g Indrykning",cancel:"Fortryd",insert:"Inds\xe6t",save:"Gem",_delete:"Slet",insert_table:"Inds\xe6t Tabel...",insert_row_above:"Inds\xe6t R\xe6kke Over",insert_row_below:"Inds\xe6t R\xe6kke Under",insert_column_left:"Inds\xe6t Kolonne Venstre",insert_column_right:"Inds\xe6t Kolonne H\xf8jre",delete_column:"Slet Kolonne",delete_row:"Slet R\xe6kke",delete_table:"Slet Tabel",rows:"R\xe6kker",columns:"Kolonner",add_head:"Inds\xe6t Hoved",delete_head:"Slet Hoved",title:"Titel",image_position:"Placering",none:"Ingen",left:"Venstre",right:"H\xf8jre",image_web_link:"Billede Web Hyperlink",text:"Tekst",mailto:"Email",web:"URL",video_html_code:"Video Indlejringskode",file:"Inds\xe6t Fil...",upload:"Upload",download:"Download",choose:"V\xe6lg",or_choose:"Eller v\xe6lg",drop_file_here:"Tr\xe6k fil her",align_left:"Venstrejuster",align_center:"Centrer",align_right:"H\xf8jrejuster",align_justify:"Juster",horizontalrule:"Inds\xe6t Vandret Linje",deleted:"Slettet",anchor:"Anker",link_new_tab:"\xc5ben link i ny fane",underline:"Understreg",alignment:"Justering",filename:"Navn (valgfrit)",edit:"Rediger",center:"Centrer"}}(jQuery),function(e){e.Redactor.opts.langs.de={html:"HTML",video:"Video",image:"Bilder",table:"Tabelle",link:"Link",link_insert:"Link einf\xfcgen ...",link_edit:"Link bearbeiten",unlink:"Link entfernen",formatting:"Formatvorlagen",paragraph:"Absatz",quote:"Zitat",code:"Code",header1:"\xdcberschrift 1",header2:"\xdcberschrift 2",header3:"\xdcberschrift 3",header4:"\xdcberschrift 4",header5:"\xdcberschrift 5",bold:"Fett",italic:"Kursiv",fontcolor:"Schriftfarbe",backcolor:"Texthervorhebungsfarbe",unorderedlist:"Aufz\xe4hlungszeichen",orderedlist:"Nummerierung",outdent:"Einzug verkleinern",indent:"Einzug vergr\xf6\xdfern",redo:"Wiederholen",undo:"R\xfcckg\xe4ngig",cut:"Ausschneiden",cancel:"Abbrechen",insert:"Einf\xfcgen",save:"Speichern",_delete:"L\xf6schen",insert_table:"Tabelle einf\xfcgen",insert_row_above:"Zeile oberhalb einf\xfcgen",insert_row_below:"Zeile unterhalb einf\xfcgen",insert_column_left:"Spalte links einf\xfcgen",insert_column_right:"Spalte rechts einf\xfcgen",delete_column:"Spalte l\xf6schen",delete_row:"Zeile l\xf6schen",delete_table:"Tabelle l\xf6schen",rows:"Zeilen",columns:"Spalten",add_head:"Titel einf\xfcgen",delete_head:"Titel entfernen",title:"Title",image_view:"Bilder",image_position:"Textumbruch",none:"Keine",left:"Links",right:"Rechts",image_web_link:"Bilder-Link",text:"Text",mailto:"Email",web:"URL",video_html_code:"Video-Einbettungscode",file:"Datei",upload:"Hochladen",download:"Download",choose:"Ausw\xe4hlen",or_choose:"Oder, w\xe4hlen Sie eine Datei aus",drop_file_here:"Ziehen Sie eine Datei hier hin",align_left:"Linksb\xfcndig",align_center:"Mitte",align_right:"Rechtsb\xfcndig",align_justify:"Blocksatz",horizontalrule:"Horizontale Linie",fullscreen:"Vollbild",deleted:"Durchgestrichen",anchor:"Anker",link_new_tab:"Link in neuem Tab \xf6ffnen",underline:"Unterstrichen",alignment:"Ausrichtung",filename:"Name (optional)",edit:"Bearbeiten",center:"Center"}}(jQuery),function(e){e.Redactor.opts.langs.es={html:"HTML",video:"Insertar video...",image:"Insertar imagen...",table:"Tabla",link:"Enlace",link_insert:"Insertar enlace ...",link_edit:"Editar enlace",unlink:"Desenlazar",formatting:"Estilos",paragraph:"Texto normal",quote:"Cita",code:"C\xf3digo",header1:"Cabecera 1",header2:"Cabecera 2",header3:"Cabecera 3",header4:"Cabecera 4",header5:"Cabecera 5",bold:"Negrita",italic:"It\xe1lica",fontcolor:"Color de fuente",backcolor:"Color de fondo",unorderedlist:"Lista desordenada",orderedlist:"Lista ordenada",outdent:"Disminuir sangrado",indent:"Aumentar sangrado",cancel:"Cancelar",insert:"Insertar",save:"Guardar",_delete:"Borrar",insert_table:"Insertar tabla...",insert_row_above:"A\xf1adir fila encima",insert_row_below:"A\xf1adir fila debajo",insert_column_left:"A\xf1adir columna a la izquierda",insert_column_right:"A\xf1adir column a la derecha",delete_column:"Borrar columna",delete_row:"Borrar fila",delete_table:"Borrar tabla",rows:"Filas",columns:"Columnas",add_head:"A\xf1adir cabecera",delete_head:"Borrar cabecera",title:"T\xedtulo",image_position:"Posici\xf3n",none:"Ninguna",left:"Izquierda",right:"Derecha",image_web_link:"Enlace web de la im\xe1gen",text:"Texto",mailto:"Email",web:"URL",video_html_code:"C\xf3digo de inserci\xf3n de video",file:"Insertar archivo...",upload:"Cargar",download:"Descargar",choose:"Elegir",or_choose:"O elegir",drop_file_here:"Arrastra y suelta el archivo aqui",align_left:"Alinear texto a la izquierda",align_center:"Centrar texto",align_right:"Alinear texto a la derecha",align_justify:"Justificar texto",horizontalrule:"Insertar l\xednea horizontal",deleted:"Borrado",anchor:"Anchor",link_new_tab:"Abrir enlace en una nueva pesta\xf1a",underline:"Subrayado",alignment:"Alineaci\xf3n",filename:"Nombre (opcional)",edit:"Editar",center:"Center"}}(jQuery),function(e){e.Redactor.opts.langs.fr={html:"Code HTML",video:"Ins\xe9rer une vid\xe9o...",image:"Ins\xe9rer une image...",table:"Tableau",link:"Lien",link_insert:"Ins\xe9rer un lien...",link_edit:"Modifier le lien",unlink:"Supprimer le lien",formatting:"Styles",paragraph:"Paragraphe",quote:"Citation",code:"Code",header1:"Titre 1",header2:"Titre 2",header3:"Titre 3",header4:"Titre 4",header5:"Titre 5",bold:"Gras",italic:"Italique",fontcolor:"Couleur du texte",backcolor:"Couleur d'arri\xe8re plan du texte",unorderedlist:"Liste \xe0 puces",orderedlist:"Liste num\xe9rot\xe9e",outdent:"Diminuer le retrait",indent:"Augmenter le retrait",cancel:"Annuler",insert:"Ins\xe9rer",save:"Enregistrer",_delete:"Supprimer",insert_table:"Ins\xe9rer un tableau...",insert_row_above:"Ajouter une rang\xe9e au-dessus",insert_row_below:"Ajouter une rang\xe9e en-dessous",insert_column_left:"Ajouter une colonne \xe0 gauche",insert_column_right:"Ajouter une colonne \xe0 droite",delete_column:"Supprimer la colonne",delete_row:"Supprimer la rang\xe9e",delete_table:"Supprimer le tableau",rows:"Rang\xe9es",columns:"Colonnes",add_head:"Ajouter un en-t\xeate",delete_head:"Supprimer l'en-t\xeate",title:"Titre",image_position:"Position",none:"Aucun",left:"Gauche",right:"Droite",image_web_link:"Adresse URL de l'image",text:"Texte",mailto:"Courriel",web:"Adresse URL",video_html_code:"Code d'int\xe9gration du video",file:"Ins\xe9rer un fichier...",upload:"T\xe9l\xe9verser",download:"T\xe9l\xe9charger",choose:"Choisir",or_choose:"Ou choisissez",drop_file_here:"D\xe9posez le fichier ici",align_left:"Aligner \xe0 gauche",align_center:"Aligner au centre",align_right:"Aligner \xe0 droite",align_justify:"Justifier",horizontalrule:"Ins\xe9rer une ligne horizontale",deleted:"Supprim\xe9",anchor:"Ancre",link_new_tab:"Ouvrir le lien dans un nouvel onglet",underline:"Souligner",alignment:"Alignement",filename:"Nom de fichier (optionnel)",edit:"Edit",center:"Center"}}(jQuery),function(e){e.Redactor.opts.langs.it={html:"HTML",video:"Video",image:"Immagine",table:"Tabella",link:"Collegamento",link_insert:"Inserisci un collegamento ...",link_edit:"Modifica link",unlink:"Rimuovi il collegamento",formatting:"Stili",paragraph:"Paragrafo",quote:"Citazione",code:"Codice",header1:"H1",header2:"H2",header3:"H3",header4:"H4",header5:"H5",bold:"Grassetto",italic:"Corsivo",superscript:"Apice",strikethrough:"Barrato",fontcolor:"Colore del font",backcolor:"Colore di sfondo",unorderedlist:"Elenco puntato",orderedlist:"Elenco numerato",outdent:"Rimuovi rientro",indent:"Aumenta rientro",cancel:"Annulla",insert:"Inserisci",save:"Salva",_delete:"rimuovi",insert_table:"Inserisci tabella",insert_row_above:"Inserisci una riga sopra",insert_row_below:"Inserisci una riga sotto",insert_column_left:"Aggiungi una colonna a sinistra",insert_column_right:"Aggiungi una colonna a destra",delete_column:"Cancella colonna",delete_row:"Cancella riga",delete_table:"Cancella tabella",rows:"Righe",columns:"Colonne",add_head:"Aggiungi head",delete_head:"Cancella head",title:"Titolo",image_position:"Posizione",none:"Nessuno",left:"Sinistra",right:"Destra",image_web_link:"URL immagine",text:"Testo",mailto:"Email",web:"URL",video_html_code:"Codice da incorporare",file:"File",upload:"Upload",download:"Download",choose:"Scegli",or_choose:"O Scegli",drop_file_here:"Trascina il file qui",align_left:"Allinea a sinistra",align_center:"Allinea al centro",align_right:"Allinea a destra",align_justify:"Giustifica",horizontalrule:"Riga orizzonatale",fullscreen:"Schermo intero",deleted:"Cancellato",anchor:"Ancora",link_new_tab:"Apri link in una nuova tab",underline:"Sottolineato",alignment:"Allineamento",filename:"Nome (opzionale)",edit:"Modifica",center:"Center"}}(jQuery),function(e){e.Redactor.opts.langs.ja={html:"HTML",video:"\u30d3\u30c7\u30aa",image:"\u30a4\u30e1\u30fc\u30b8",table:"\u30c6\u30fc\u30d6\u30eb",link:"\u30ea\u30f3\u30af",link_insert:"\u30ea\u30f3\u30af\u306e\u633f\u5165 ...",link_edit:"Edit link",unlink:"\u30ea\u30f3\u30af\u3092\u5916\u3059",formatting:"\u30b9\u30bf\u30a4\u30eb",paragraph:"\u6bb5\u843d",quote:"\u5f15\u7528",code:"\u30b3\u30fc\u30c9",header1:"\u30d8\u30c3\u30c0\u30fc 1",header2:"\u30d8\u30c3\u30c0\u30fc 2",header3:"\u30d8\u30c3\u30c0\u30fc 3",header4:"\u30d8\u30c3\u30c0\u30fc 4",header5:"\u30d8\u30c3\u30c0\u30fc 5",bold:"\u592a\u5b57",italic:"\u30a4\u30bf\u30ea\u30c3\u30af",fontcolor:"\u30d5\u30a9\u30f3\u30c8\u8272",backcolor:"\u80cc\u666f\u8272",unorderedlist:"\u756a\u53f7\u306a\u3057\u30ea\u30b9\u30c8",orderedlist:"\u756a\u53f7\u3064\u304d\u30ea\u30b9\u30c8",outdent:"\u5b57\u4e0a\u3052\uff08\u9006\u30a4\u30f3\u30c7\u30f3\u30c8\uff09",indent:"\u5b57\u4e0b\u3052\uff08\u30a4\u30f3\u30c7\u30f3\u30c8\uff09",cancel:"\u30ad\u30e3\u30f3\u30bb\u30eb",insert:"\u633f\u5165",save:"\u4fdd\u5b58",_delete:"\u524a\u9664",insert_table:"\u30c6\u30fc\u30d6\u30eb\u306e\u633f\u5165",insert_row_above:"\u5217\u3092\u4e0a\u306b\u8ffd\u52a0",insert_row_below:"\u5217\u3092\u4e0b\u306b\u8ffd\u52a0",insert_column_left:"\u884c\u3092\u5de6\u306b\u8ffd\u52a0",insert_column_right:"\u884c\u3092\u53f3\u306b\u8ffd\u52a0",delete_column:"\u884c\u3092\u524a\u9664",delete_row:"\u5217\u3092\u524a\u9664",delete_table:"\u30c6\u30fc\u30d6\u30eb\u3092\u524a\u9664",rows:"\u5217",columns:"\u884c",add_head:"\u30c6\u30fc\u30d6\u30eb\u30d8\u30c3\u30c0\u306e\u8ffd\u52a0",delete_head:"\u30c6\u30fc\u30d6\u30eb\u30d8\u30c3\u30c0\u306e\u524a\u9664",title:"\u30bf\u30a4\u30c8\u30eb",image_position:"\u30a4\u30e1\u30fc\u30b8\u306e\u4f4d\u7f6e",none:"\u7121\u3057",left:"\u5de6",right:"\u53f3",image_web_link:"\u30a4\u30e1\u30fc\u30b8\u3078\u306e\u30ea\u30f3\u30af",text:"\u30c6\u30ad\u30b9\u30c8",mailto:"\u30e1\u30fc\u30eb",web:"URL",video_html_code:"\u30d3\u30c7\u30aa\u57cb\u3081\u8fbc\u307f\u30b3\u30fc\u30c9",file:"\u30d5\u30a1\u30a4\u30eb",upload:"\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9",download:"\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9",choose:"\u9078\u629e",or_choose:"\u307e\u305f\u306f\u9078\u629e",drop_file_here:"\u30d5\u30a1\u30a4\u30eb\u3092\u3053\u3053\u306b\u30c9\u30ed\u30c3\u30d7",align_left:"\u5de6\u63c3\u3048",align_center:"\u4e2d\u592e\u63c3\u3048",align_right:"\u53f3\u63c3\u3048",align_justify:"\u5747\u7b49\u5272\u308a\u4ed8\u3051",horizontalrule:"\u6c34\u5e73\u7dda",fullscreen:"\u5168\u753b\u9762",deleted:"\u6253\u6d88\u3057",anchor:"\u30a2\u30f3\u30ab\u30fc",link_new_tab:"\u65b0\u3057\u3044\u30bf\u30d6\u3067\u30ea\u30f3\u30af\u3092\u958b\u304f",underline:"\u30a2\u30f3\u30c0\u30fc\u30e9\u30a4\u30f3",alignment:"\u884c\u63c3\u3048",filename:"\u540d\u524d\uff08\u30aa\u30d7\u30b7\u30e7\u30f3\uff09",edit:"\u7de8\u96c6",center:"Center"}}(jQuery),function(e){e.Redactor.opts.langs.nb={html:"HTML",video:"Sett inn video...",image:"Sett inn bilde...",table:"Tabell",link:"Link",link_insert:"Sett inn link...",link_edit:"Rediger link",unlink:"Fjern link",formatting:"Formatering",paragraph:"Avsnitt",quote:"Sitat",code:"Kode",header1:"Overskrift 1",header2:"Overskrift 2",header3:"Overskrift 3",header4:"Overskrift 4",header5:"Overskrift 5",bold:"Fet",italic:"Kursiv",fontcolor:"Tekstfarge",backcolor:"Bakgrunsfarge",unorderedlist:"Usortert liste",orderedlist:"Sortert liste",outdent:"Redusere innrykk",indent:"Innrykk",cancel:"Avbryt",insert:"Sett inn",save:"Lagre",_delete:"Slett",insert_table:"Sett inn tabell...",insert_row_above:"Legg til rad over",insert_row_below:"Legg til rad under",insert_column_left:"Legg til kolonne venstre",insert_column_right:"Legg til kolonne h&oslash;yre",delete_column:"Slett kolonne",delete_row:"Slett rad",delete_table:"Slett tabell",rows:"Rader",columns:"Kolonner",add_head:"Legg til tabellhode",delete_head:"Slett tabellhode",title:"Tittel",image_position:"Plassering",none:"Ingen",left:"Venstre",right:"H&oslash;yre",image_web_link:"Bildelink",text:"Tekst",mailto:"E-Post",web:"URL",video_html_code:"Kode for innbyggingsvideo eller Youtube/Vimeo link",file:"Sett inn fil...",upload:"Last opp",download:"Last ned",choose:"Velg",or_choose:"Eller velg",drop_file_here:"Slipp filen her",align_left:"Venstrejuster",align_center:"Midtjuster",align_right:"H&oslash;yrejuster",align_justify:"Balansert",horizontalrule:"Sett inn horisontal linje",deleted:"Slettet",anchor:"Anker",link_new_tab:"&Aring;pne link i ny fane",underline:"Understreking",alignment:"Justering",filename:"Filnavn (valgfritt)",edit:"Endre",center:"Midten"}
}(jQuery),function(e){e.Redactor.opts.langs.nl={html:"HTML",video:"Video",image:"Afbeelding",table:"Tabel",link:"Link",link_insert:"Link invoegen...",link_edit:"Edit link",unlink:"Link ontkoppelen",formatting:"Stijlen",paragraph:"Paragraaf",quote:"Citaat",code:"Code",header1:"Kop 1",header2:"Kop 2",header3:"Kop 3",header4:"Kop 4",header5:"Kop 5",bold:"Vet",italic:"Cursief",fontcolor:"Tekstkleur",backcolor:"Achtergrondkleur",unorderedlist:"Ongeordende lijst",orderedlist:"Geordende lijst",outdent:"Uitspringen",indent:"Inspringen",redo:"Opnieuw maken",undo:"Ongedaan maken",cut:"Knippen",cancel:"Annuleren",insert:"Invoegen",save:"Opslaan",_delete:"Verwijderen",insert_table:"Tabel invoegen",insert_row_above:"Rij hierboven invoegen",insert_row_below:"Rij hieronder invoegen",insert_column_left:"Kolom links toevoegen",insert_column_right:"Kolom rechts toevoegen",delete_column:"Verwijder kolom",delete_row:"Verwijder rij",delete_table:"Verwijder tabel",rows:"Rijen",columns:"Kolommen",add_head:"Titel toevoegen",delete_head:"Titel verwijderen",title:"Titel",image_position:"Positie",none:"geen",left:"links",right:"rechts",image_web_link:"Afbeelding link",text:"Tekst",mailto:"Email",web:"URL",video_html_code:"Video embed code",file:"Bestand",upload:"Uploaden",download:"Downloaden",choose:"Kies",or_choose:"Of kies",drop_file_here:"Sleep bestand hier",align_left:"Links uitlijnen",align_center:"Centreren",align_right:"Rechts uitlijnen",align_justify:"Uitvullen",horizontalrule:"Horizontale lijn",fullscreen:"Volledig scherm",deleted:"Verwijderd",anchor:"Anker",link_new_tab:"Open link in nieuw tabblad",underline:"Onderstrepen",alignment:"Uitlijning",filename:"Naam (optioneel)",edit:"Bewerk",center:"Center"}}(jQuery),function(e){e.Redactor.opts.langs.pl={html:"\u0179r\xf3d\u0142o",video:"Wideo",image:"Obrazek",table:"Tabela",link:"Link",link_insert:"Wstaw link ...",link_edit:"Edit link",unlink:"Usu\u0144 link",formatting:"Style",paragraph:"Zwyk\u0142y tekst",quote:"Cytat",code:"Kod \u017ar\xf3d\u0142owy",header1:"Nag\u0142\xf3wek 1",header2:"Nag\u0142\xf3wek 2",header3:"Nag\u0142\xf3wek 3",header4:"Nag\u0142\xf3wek 4",header5:"Nag\u0142\xf3wek 5",bold:"Pogrubiony",italic:"Pochylony",fontcolor:"Kolor tekstu",backcolor:"Kolor t\u0142a",unorderedlist:"Wypunktowanie",orderedlist:"Numeracja",outdent:"Zwi\u0119ksz wci\u0119cie",indent:"Zmniejsz wci\u0119cie",cancel:"Anuluj",insert:"Wstaw",save:"Zachowaj",_delete:"Usu\u0144",insert_table:"Wstaw tabele",insert_row_above:"Dodaj wiersz na g\xf3rze",insert_row_below:"Dodaj wiersz na dole",insert_column_left:"Dodaj kolumn\u0119 po lewej",insert_column_right:"Dodaj kolumn\u0119 po prawej",delete_column:"Usu\u0144 kolumn\u0119",delete_row:"Usu\u0144 wiersz",delete_table:"Usu\u0144 tabele",rows:"Wiersze",columns:"Kolumny",add_head:"Dodaj nag\u0142\xf3wek",delete_head:"Usu\u0144 nag\u0142\xf3wek",title:"Wskaz\xf3wka",image_position:"Obramowanie",none:"nie ma",left:"od lewej",right:"od prawej",image_web_link:"albo link do obrazku",text:"Tekst",mailto:"Poczta e-mail",web:"URL",video_html_code:"Kod \u017ar\xf3d\u0142owy pliku wideo",file:"Plik",upload:"Wgraj na serwer",download:"Pobierz",choose:"Wybierz z listy",or_choose:"lub wybierz",drop_file_here:"Przenie\u015b plik tutaj",align_left:"Tekst do lewej",align_center:"Wy\u015brodkuj",align_right:"Tekst do prawej",align_justify:"Wyjustuj",horizontalrule:"Linia pozioma",fullscreen:"Pe\u0142ny ekran",deleted:"Usuni\u0119ty",anchor:"Kotwica",link_new_tab:"Otw\xf3rz link w nowym oknie",underline:"Pokdre\u015blony",alignment:"Wyr\xf3wnanie",filename:"Name (optional)",edit:"Edit",center:"Center"}}(jQuery),function(e){e.Redactor.opts.langs["pt-BR"]={html:"HTML",video:"Inserir Video...",image:"Inserir Imagem...",table:"Tabela",link:"Hiperliga\xe7\xe3o",link_insert:"Inserir Hiperliga\xe7\xe3o ...",link_edit:"Edit link",unlink:"Remover Hiperliga\xe7\xe3o",formatting:"Formata\xe7\xe3o",paragraph:"Par\xe1grafo",quote:"Citar",code:"C\xf3digo",header1:"Cabe\xe7alho 1",header2:"Cabe\xe7alho 2",header3:"Cabe\xe7alho 3",header4:"Cabe\xe7alho 4",header5:"Cabe\xe7alho 5",bold:"Negrito",italic:"It\xe1lico",fontcolor:"Cor da Fonte",backcolor:"Cor de Fundo",unorderedlist:"Lista N\xe3o Ordenada",orderedlist:"Lista Ordenada",outdent:"Remover Identa\xe7\xe3o",indent:"Identar",cancel:"Cancelar",insert:"Inserir",save:"Guardar",_delete:"Eliminar",insert_table:"Inserir Tabela...",insert_row_above:"Adicionar Linha Acima",insert_row_below:"Adicionar Linha Abaixo",insert_column_left:"Adicionar Coluna \xe0 Esquerda",insert_column_right:"Adicionar Coluna \xe0 Direita",delete_column:"Eliminar Coluna",delete_row:"Eliminar Linha",delete_table:"Eliminar Tabela",rows:"Linhas",columns:"Colunas",add_head:"Adicionar Cabe\xe7alho",delete_head:"Eliminar Cabe\xe7alho",title:"T\xedtulo",image_position:"Posi\xe7\xe3o",none:"Nenhum",left:"Esquerda",right:"Direita",image_web_link:"Url de Imagem",text:"Texto",mailto:"Email",web:"URL",video_html_code:"C\xf3digo de Incorpora\xe7\xe3o de V\xeddeo",file:"Inserir Ficheiro...",upload:"Upload",download:"Download",choose:"Escolha",or_choose:"Ou escolha",drop_file_here:"Largue o ficheiro aqui",align_left:"Alinhar \xe0 esquerda",align_center:"Centrar",align_right:"Alinhar \xe0 direita",align_justify:"Justificar",horizontalrule:"Inserir Linha Horizontal",deleted:"Eliminado",anchor:"\xc2ncora",link_new_tab:"Abrir hiperliga\xe7\xe3o em novo separador",underline:"Underline",alignment:"Alignment",filename:"Name (optional)",edit:"Edit",center:"Center"}}(jQuery),function(e){e.Redactor.opts.langs.ru={html:"\u041a\u043e\u0434",video:"\u0412\u0438\u0434\u0435\u043e",image:"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435",table:"\u0422\u0430\u0431\u043b\u0438\u0446\u0430",link:"\u0421\u0441\u044b\u043b\u043a\u0430",link_insert:"\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0441\u0441\u044b\u043b\u043a\u0443 ...",link_edit:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0441\u0441\u044b\u043b\u043a\u0443",unlink:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0441\u0441\u044b\u043b\u043a\u0443",formatting:"\u0424\u043e\u0440\u043c\u0430\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435",paragraph:"\u041e\u0431\u044b\u0447\u043d\u044b\u0439 \u0442\u0435\u043a\u0441\u0442",quote:"\u0426\u0438\u0442\u0430\u0442\u0430",code:"\u041a\u043e\u0434",header1:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a 1",header2:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a 2",header3:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a 3",header4:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a 4",header5:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a 5",bold:"\u041f\u043e\u043b\u0443\u0436\u0438\u0440\u043d\u044b\u0439",italic:"\u041d\u0430\u043a\u043b\u043e\u043d\u043d\u044b\u0439",fontcolor:"\u0426\u0432\u0435\u0442 \u0442\u0435\u043a\u0441\u0442\u0430",backcolor:"\u0417\u0430\u043b\u0438\u0432\u043a\u0430 \u0442\u0435\u043a\u0441\u0442\u0430",unorderedlist:"\u041e\u0431\u044b\u0447\u043d\u044b\u0439 \u0441\u043f\u0438\u0441\u043e\u043a",orderedlist:"\u041d\u0443\u043c\u0435\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0439 \u0441\u043f\u0438\u0441\u043e\u043a",outdent:"\u0423\u043c\u0435\u043d\u044c\u0448\u0438\u0442\u044c \u043e\u0442\u0441\u0442\u0443\u043f",indent:"\u0423\u0432\u0435\u043b\u0438\u0447\u0438\u0442\u044c \u043e\u0442\u0441\u0442\u0443\u043f",cancel:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c",insert:"\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044c",save:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",_delete:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",insert_table:"\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0442\u0430\u0431\u043b\u0438\u0446\u0443",insert_row_above:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u0442\u0440\u043e\u043a\u0443 \u0441\u0432\u0435\u0440\u0445\u0443",insert_row_below:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u0442\u0440\u043e\u043a\u0443 \u0441\u043d\u0438\u0437\u0443",insert_column_left:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u0442\u043e\u043b\u0431\u0435\u0446 \u0441\u043b\u0435\u0432\u0430",insert_column_right:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u0442\u043e\u043b\u0431\u0435\u0446 \u0441\u043f\u0440\u0430\u0432\u0430",delete_column:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0441\u0442\u043e\u043b\u0431\u0435\u0446",delete_row:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0441\u0442\u0440\u043e\u043a\u0443",delete_table:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0442\u0430\u0431\u043b\u0438\u0446\u0443",rows:"\u0421\u0442\u0440\u043e\u043a\u0438",columns:"\u0421\u0442\u043e\u043b\u0431\u0446\u044b",add_head:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a",delete_head:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a",title:"\u041f\u043e\u0434\u0441\u043a\u0430\u0437\u043a\u0430",image_position:"\u041e\u0431\u0442\u0435\u043a\u0430\u043d\u0438\u0435 \u0442\u0435\u043a\u0441\u0442\u043e\u043c",none:"\u041d\u0435\u0442",left:"C\u043b\u0435\u0432\u0430",right:"C\u043f\u0440\u0430\u0432\u0430",image_web_link:"C\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435",text:"\u0422\u0435\u043a\u0441\u0442",mailto:"\u042d\u043b. \u043f\u043e\u0447\u0442\u0430",web:"URL",video_html_code:"\u041a\u043e\u0434 \u0432\u0438\u0434\u0435\u043e \u0440\u043e\u043b\u0438\u043a\u0430",file:"\u0424\u0430\u0439\u043b",upload:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c",download:"\u0421\u043a\u0430\u0447\u0430\u0442\u044c",choose:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c",or_choose:"\u0418\u043b\u0438 \u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435",drop_file_here:"\u041f\u0435\u0440\u0435\u0442\u0430\u0449\u0438\u0442\u0435 \u0444\u0430\u0439\u043b \u0441\u044e\u0434\u0430",align_left:"\u041f\u043e \u043b\u0435\u0432\u043e\u043c\u0443 \u043a\u0440\u0430\u044e",align_center:"\u041f\u043e \u0446\u0435\u043d\u0442\u0440\u0443",align_right:"\u041f\u043e \u043f\u0440\u0430\u0432\u043e\u043c\u0443 \u043a\u0440\u0430\u044e",align_justify:"\u0412\u044b\u0440\u043e\u0432\u043d\u044f\u0442\u044c \u0442\u0435\u043a\u0441\u0442 \u043f\u043e \u0448\u0438\u0440\u0438\u043d\u0435",horizontalrule:"\u0413\u043e\u0440\u0438\u0437\u043e\u043d\u0442\u0430\u043b\u044c\u043d\u0430\u044f \u043b\u0438\u043d\u0435\u0439\u043a\u0430",fullscreen:"\u0412\u043e \u0432\u0435\u0441\u044c \u044d\u043a\u0440\u0430\u043d",deleted:"\u0417\u0430\u0447\u0435\u0440\u043a\u043d\u0443\u0442\u044b\u0439",anchor:"\u042f\u043a\u043e\u0440\u044c",link_new_tab:"\u041e\u0442\u043a\u0440\u044b\u0432\u0430\u0442\u044c \u0432 \u043d\u043e\u0432\u043e\u0439 \u0432\u043a\u043b\u0430\u0434\u043a\u0435",underline:"\u041f\u043e\u0434\u0447\u0435\u0440\u043a\u043d\u0443\u0442\u044b\u0439",alignment:"\u0412\u044b\u0440\u0430\u0432\u043d\u0438\u0432\u0430\u043d\u0438\u0435",filename:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 (\u043d\u0435\u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e)",edit:"\u0420\u0435\u0434.",center:"\u041f\u043e \u0446\u0435\u043d\u0442\u0440\u0443"}}(jQuery),function(e){e.Redactor.opts.langs.sv={_delete:"Tag Bort",add_head:"L\xe4gg Till Tabellhuvud",align_center:"Centerjustera",align_justify:"Marginaljustering",align_left:"V\xe4nsterjustera",align_right:"H\xf6gerjustera",alignment:"Justering",anchor:"Ankare",backcolor:"Bakgrundsf\xe4rg",bold:"Fet",cancel:"\xc5ngra",choose:"V\xe4lj",code:"Kod",columns:"Kolumner",delete_column:"Tag Bort Kolumn",delete_head:"Tag Bort Tabellhuvud",delete_row:"Tag Bort Rad",delete_table:"Tag Bort Tabell",deleted:"\xd6verstruken",download:"Nedladdning",drop_file_here:"Sl\xe4pp Fil H\xe4r",edit:"\xc4ndra",file:"Infoga Fil...",filename:"Namn (valfritt)",fontcolor:"Typsnittsf\xe4rg",formatting:"Formatering",fullscreen:"Fullsk\xe4rm",header1:"Rubrik 1",header2:"Rubrik 2",header3:"Rubrik 3",header4:"Rubrik 4",header5:"Rubrik 5",horizontalrule:"Infoga Horisontell Linje",html:"HTML",image:"Infoga Bild...",image_position:"Position",image_web_link:"Bildl\xe4nk",indent:"\xd6ka indentering",insert:"Infoga",insert_column_left:"L\xe4gg Till V\xe4nsterkolumn",insert_column_right:"L\xe4gg Till H\xf6gerkolumn",insert_row_above:"L\xe4gg Till Rad Ovanf\xf6r",insert_row_below:"L\xe4gg Till Rad Under",insert_table:"Infoga Tabell...",italic:"Kursiv",left:"V\xe4nster",link:"L\xe4nk",link_edit:"\xc4ndra l\xe4nk",link_insert:"Infoga L\xe4nk...",link_new_tab:"\xd6ppna l\xe4nk i ny flik",mailto:"E-post",none:"Ingen",or_choose:"Eller V\xe4lj",orderedlist:"Ordnad Lista",outdent:"Minska Indentering",paragraph:"Paragraf",quote:"Citat",right:"H\xf6ger",rows:"Rader",save:"Spara",table:"Tabell",text:"Text",title:"Titel",underline:"Understryk",unlink:"Tag Bort L\xe4nk",unorderedlist:"Oordnad Lista",upload:"Uppladdning",video:"Infoga Video...",video_html_code:"Kod F\xf6r Inb\xe4ddad Video",web:"Webbadress",center:"Center"}}(jQuery),function(e){e.Redactor.opts.langs.uk={html:"\u041a\u043e\u0434",video:"\u0412\u0456\u0434\u0435\u043e",image:"\u0417\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u043d\u044f",table:"\u0422\u0430\u0431\u043b\u0438\u0446\u044f",link:"\u041f\u043e\u0441\u0438\u043b\u0430\u043d\u043d\u044f",link_insert:"\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u0438 \u043f\u043e\u0441\u0438\u043b\u0430\u043d\u043d\u044f ...",link_edit:"Edit link",unlink:"\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438 \u043f\u043e\u0441\u0438\u043b\u0430\u043d\u043d\u044f",formatting:"\u0421\u0442\u0438\u043b\u0456",paragraph:"\u0417\u0432\u0438\u0447\u0430\u0439\u043d\u0438\u0439 \u0442\u0435\u043a\u0441\u0442",quote:"\u0426\u0438\u0442\u0430\u0442\u0430",code:"\u041a\u043e\u0434",header1:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a 1",header2:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a 2",header3:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a 3",header4:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a 4",header5:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a 5",bold:"\u0416\u0438\u0440\u043d\u0438\u0439",italic:"\u041f\u043e\u0445\u0438\u043b\u0438\u0439",fontcolor:"\u041a\u043e\u043b\u0456\u0440 \u0442\u0435\u043a\u0441\u0442\u0443",backcolor:"\u0417\u0430\u043b\u0438\u0432\u043a\u0430 \u0442\u0435\u043a\u0441\u0442\u0443",unorderedlist:"\u0417\u0432\u0438\u0447\u0430\u0439\u043d\u0438\u0439 \u0441\u043f\u0438\u0441\u043e\u043a",orderedlist:"\u041d\u0443\u043c\u0435\u0440\u043e\u0432\u0430\u043d\u0438\u0439 \u0441\u043f\u0438\u0441\u043e\u043a",outdent:"\u0417\u043c\u0435\u043d\u0448\u0438\u0442\u0438 \u0432\u0456\u0434\u0441\u0442\u0443\u043f",indent:"\u0417\u0431\u0456\u043b\u044c\u0448\u0438\u0442\u0438 \u0432\u0456\u0434\u0441\u0442\u0443\u043f",cancel:"\u0421\u043a\u0430\u0441\u0443\u0432\u0430\u0442\u0438",insert:"\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u0438",save:"\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438",_delete:"\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438",insert_table:"\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u0438 \u0442\u0430\u0431\u043b\u0438\u0446\u044e",insert_row_above:"\u0414\u043e\u0434\u0430\u0442\u0438 \u0440\u044f\u0434\u043e\u043a \u0437\u0432\u0435\u0440\u0445\u0443",insert_row_below:"\u0414\u043e\u0434\u0430\u0442\u0438 \u0440\u044f\u0434\u043e\u043a \u0437\u043d\u0438\u0437\u0443",insert_column_left:"\u0414\u043e\u0434\u0430\u0442\u0438 \u0441\u0442\u043e\u0432\u043f\u0435\u0446\u044c \u043b\u0456\u0432\u043e\u0440\u0443\u0447",insert_column_right:"\u0414\u043e\u0434\u0430\u0442\u0438 \u0441\u0442\u043e\u0432\u043f\u0435\u0446\u044c \u043f\u0440\u0430\u0432\u043e\u0440\u0443\u0447",delete_column:"\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438 \u0441\u0442\u043e\u0432\u043f\u0435\u0446\u044c",delete_row:"\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438 \u0440\u044f\u0434\u043e\u043a",delete_table:"\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438 \u0442\u0430\u0431\u043b\u0438\u0446\u044e",rows:"\u0420\u044f\u0434\u043a\u0438",columns:"\u0421\u0442\u043e\u0432\u043f\u0446\u0456",add_head:"\u0414\u043e\u0434\u0430\u0442\u0438 \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a",delete_head:"\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438 \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a",title:"\u041f\u0456\u0434\u043a\u0430\u0437\u043a\u0430",image_view:"\u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0438\u0442\u0438 \u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u043d\u044f",image_position:"\u041e\u0431\u0442\u0456\u043a\u0430\u043d\u043d\u044f \u0442\u0435\u043a\u0441\u0442\u043e\u043c",none:"\u043d\u0456",left:"\u043b\u0456\u0432\u043e\u0440\u0443\u0447",right:"\u043f\u0440\u0430\u0432\u043e\u0440\u0443\u0447",image_web_link:"\u041f\u043e\u0441\u0438\u043b\u0430\u043d\u043d\u044f \u043d\u0430 \u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u043d\u044f",text:"\u0422\u0435\u043a\u0441\u0442",mailto:"\u0415\u043b. \u043f\u043e\u0448\u0442\u0430",web:"URL",video_html_code:"\u041a\u043e\u0434 \u0432\u0456\u0434\u0435\u043e \u0440\u043e\u043b\u0438\u043a\u0430",file:"\u0424\u0430\u0439\u043b",upload:"\u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0438\u0442\u0438",download:"\u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0438\u0442\u0438",choose:"\u0412\u0438\u0431\u0440\u0430\u0442\u0438",or_choose:"\u0410\u0431\u043e \u0432\u0438\u0431\u0435\u0440\u0456\u0442\u044c",drop_file_here:"\u041f\u0435\u0440\u0435\u0442\u044f\u0433\u043d\u0456\u0442\u044c \u0444\u0430\u0439\u043b \u0441\u044e\u0434\u0438",align_left:"\u041f\u043e \u043b\u0456\u0432\u043e\u043c\u0443 \u043a\u0440\u0430\u044e",align_center:"\u041f\u043e \u0446\u0435\u043d\u0442\u0440\u0443",align_right:"\u041f\u043e \u043f\u0440\u0430\u0432\u043e\u043c\u0443 \u043a\u0440\u0430\u044e",align_justify:"\u0412\u0438\u0440\u0456\u0432\u043d\u044f\u0442\u0438 \u0442\u0435\u043a\u0441\u0442 \u043f\u043e \u0448\u0438\u0440\u0438\u043d\u0456",horizontalrule:"\u0413\u043e\u0440\u0438\u0437\u043e\u043d\u0442\u0430\u043b\u044c\u043d\u0430\u044f \u043b\u0456\u043d\u0456\u0439\u043a\u0430",fullscreen:"\u041d\u0430 \u0432\u0435\u0441\u044c \u0435\u043a\u0440\u0430\u043d",deleted:"\u0417\u0430\u043a\u0440\u0435\u0441\u043b\u0435\u043d\u0438\u0439",anchor:"Anchor",link_new_tab:"Open link in new tab",underline:"Underline",alignment:"Alignment",filename:"Name (optional)",edit:"Edit",center:"Center"}}(jQuery),function(e){e.Redactor.opts.langs["zh-CN"]={html:"HTML\u4ee3\u7801",video:"\u89c6\u9891",image:"\u56fe\u7247",table:"\u8868\u683c",link:"\u94fe\u63a5",link_insert:"\u63d2\u5165\u94fe\u63a5",link_edit:"Edit link",unlink:"\u53d6\u6d88\u94fe\u63a5",formatting:"\u6837\u5f0f",paragraph:"\u6bb5\u843d",quote:"\u5f15\u7528",code:"\u4ee3\u7801",header1:"\u4e00\u7ea7\u6807\u9898",header2:"\u4e8c\u7ea7\u6807\u9898",header3:"\u4e09\u7ea7\u6807\u9898",header4:"\u56db\u7ea7\u6807\u9898",header5:"Header 5",bold:"\u7c97\u4f53",italic:"\u659c\u4f53",fontcolor:"\u5b57\u4f53\u989c\u8272",backcolor:"\u80cc\u666f\u989c\u8272",unorderedlist:"\u9879\u76ee\u7f16\u53f7",orderedlist:"\u6570\u5b57\u7f16\u53f7",outdent:"\u51cf\u5c11\u7f29\u8fdb",indent:"\u589e\u52a0\u7f29\u8fdb",cancel:"\u53d6\u6d88",insert:"\u63d2\u5165",save:"\u4fdd\u5b58",_delete:"\u5220\u9664",insert_table:"\u63d2\u5165\u8868\u683c",insert_row_above:"\u5728\u4e0a\u65b9\u63d2\u5165",insert_row_below:"\u5728\u4e0b\u65b9\u63d2\u5165",insert_column_left:"\u5728\u5de6\u4fa7\u63d2\u5165",insert_column_right:"\u5728\u53f3\u4fa7\u63d2\u5165",delete_column:"\u5220\u9664\u6574\u5217",delete_row:"\u5220\u9664\u6574\u884c",delete_table:"\u5220\u9664\u8868\u683c",rows:"\u884c",columns:"\u5217",add_head:"\u6dfb\u52a0\u6807\u9898",delete_head:"\u5220\u9664\u6807\u9898",title:"\u6807\u9898",image_position:"\u4f4d\u7f6e",none:"\u65e0",left:"\u5de6",right:"\u53f3",image_web_link:"\u56fe\u7247\u7f51\u9875\u94fe\u63a5",text:"\u6587\u672c",mailto:"\u90ae\u7bb1",web:"\u7f51\u5740",video_html_code:"\u89c6\u9891\u5d4c\u5165\u4ee3\u7801",file:"\u6587\u4ef6",upload:"\u4e0a\u4f20",download:"\u4e0b\u8f7d",choose:"\u9009\u62e9",or_choose:"\u6216\u9009\u62e9",drop_file_here:"\u5c06\u6587\u4ef6\u62d6\u62fd\u81f3\u6b64\u533a\u57df",align_left:"\u5de6\u5bf9\u9f50",align_center:"\u5c45\u4e2d",align_right:"\u53f3\u5bf9\u9f50",align_justify:"\u4e24\u7aef\u5bf9\u9f50",horizontalrule:"\u6c34\u5e73\u7ebf",fullscreen:"\u5168\u5c4f",deleted:"\u5220\u9664",anchor:"\u951a\u70b9",link_new_tab:"Open link in new tab",underline:"Underline",alignment:"Alignment",filename:"Name (optional)",edit:"Edit",center:"Center"}}(jQuery),function(e){e.Redactor.opts.langs["zh-TW"]={html:"HTML",video:"\u63d2\u5165\u5f71\u7247",image:"\u63d2\u5165\u5716\u7247",table:"\u8868\u683c",link:"\u9023\u7d50",link_insert:"\u63d2\u5165\u9023\u7d50",link_edit:"Edit link",unlink:"\u79fb\u9664\u9023\u7d50",formatting:"\u6a23\u5f0f",paragraph:"\u6bb5\u843d",quote:"\u5f15\u7528",code:"\u539f\u59cb\u78bc",header1:"\u6a19\u984c 1",header2:"\u6a19\u984c 2",header3:"\u6a19\u984c 3",header4:"\u6a19\u984c 4",header5:"\u6a19\u984c 5",bold:"\u5c07\u6587\u5b57\u8b8a\u6210\u7c97\u9ad4",italic:"\u5c07\u6587\u5b57\u8b8a\u6210\u659c\u9ad4",fontcolor:"\u9078\u64c7\u6587\u5b57\u984f\u8272",backcolor:"\u9078\u64c7\u6587\u5b57\u5e95\u8272",unorderedlist:"\u9805\u76ee\u5217\u8868",orderedlist:"\u7de8\u865f\u5217\u8868",outdent:"\u6e1b\u5c11\u7e2e\u6392",indent:"\u589e\u52a0\u7e2e\u6392",cancel:"\u53d6\u6d88",insert:"\u63d2\u5165",save:"\u5132\u5b58",_delete:"\u522a\u9664",insert_table:"\u63d2\u5165\u8868\u683c",insert_row_above:"\u52a0\u5165\u4e0a\u65b9\u6a6b\u5217",insert_row_below:"\u52a0\u5165\u4e0b\u65b9\u6a6b\u5217",insert_column_left:"\u52a0\u5165\u5de6\u65b9\u76f4\u6b04",insert_column_right:"\u52a0\u5165\u53f3\u65b9\u76f4\u6b04",delete_column:"\u522a\u9664\u6574\u6b04",delete_row:"\u522a\u9664\u6574\u5217",delete_table:"\u522a\u9664\u8868\u683c",rows:"\u6a6b\u5217",columns:"\u76f4\u6b04",add_head:"\u52a0\u5165\u8868\u683c\u6a19\u984c",delete_head:"\u522a\u9664\u8868\u683c\u6a19\u984c",title:"\u6a19\u984c",image_position:"\u4f4d\u7f6e",none:"\u7121",left:"\u9760\u5de6",right:"\u9760\u53f3",image_web_link:"\u9023\u7d50",text:"\u5167\u6587",mailto:"Email",web:"\u7db2\u5740",video_html_code:"\u5d4c\u5165\u5f71\u7247\u7684\u539f\u59cb\u78bc",file:"\u63d2\u5165\u6587\u4ef6",upload:"\u4e0a\u50b3",download:"\u4e0b\u8f09",choose:"\u9078\u64c7",or_choose:"\u6216\u9078\u64c7",drop_file_here:"\u5c07\u6587\u4ef6\u62d6\u66f3\u81f3\u6b64",align_left:"\u5c07\u6587\u5b57\u5c0d\u9f4a\u81f3\u5de6\u5074",align_center:"\u5c07\u6587\u5b57\u7f6e\u4e2d",align_right:"\u5c07\u6587\u5b57\u5c0d\u9f4a\u81f3\u53f3\u5074",align_justify:"\u5c0d\u9f4a\u81f3\u5169\u5074",horizontalrule:"\u63d2\u5165\u6c34\u5e73\u7dda",fullscreen:"\u5168\u9280\u5e55",deleted:"\u522a\u9664\u7dda",anchor:"\u9328\u9ede",link_new_tab:"Open link in new tab",underline:"Underline",alignment:"Alignment",filename:"Name (optional)",edit:"Edit",center:"Center"}}(jQuery),function(){window.CMS||(window.CMS={}),window.CMS.code_mirror_instances=[],$(document).on("page:load ready",function(){return window.CMS.current_path=window.location.pathname,CMS.init()}),window.CMS.init=function(){return CMS.set_iframe_layout(),CMS.slugify(),CMS.wysiwyg(),CMS.codemirror(),CMS.sortable_list(),CMS.timepicker(),CMS.page_blocks(),CMS.page_file_popovers(),CMS.mirrors(),CMS.page_update_preview(),CMS.page_update_publish(),CMS.categories(),CMS.files()},window.CMS.slugify=function(){var e;return e=function(e){var t,i,n,r,s,o,a;for(e=e.replace(/^\s+|\s+$/g,""),n="\xc0\xc1\xc4\xc2\xc3\xc8\xc9\xcb\xca\xcc\xcd\xcf\xce\xd2\xd3\xd6\xd4\xd5\xd9\xda\xdc\xdb\xe0\xe1\xe4\xe2\xe3\xe8\xe9\xeb\xea\xec\xed\xef\xee\xf2\xf3\xf6\xf4\xf5\xf9\xfa\xfc\xfb\xd1\xf1\xc7\xe7",a="aaaaaeeeeiiiiooooouuuuaaaaaeeeeiiiiooooouuuunncc",r=s=0,o=n.length-1;o>=0?o>=s:s>=o;r=o>=0?++s:--s)e=e.replace(new RegExp(n[r],"g"),a[r]);return i=new RegExp("[\xb7/,:;_]","g"),e=e.replace(i,"-"),t=new RegExp("[^a-zA-Z0-9 -]","g"),e=e.replace(t,"").replace(/\s+/g,"-").toLowerCase()},$("input[data-slugify=true]").bind("keyup.cms",function(){return $("input[data-slug=true]").val(e($(this).val()))})},window.CMS.wysiwyg=function(){var e,t,i;return t=$("meta[name=csrf-token]").attr("content"),e=$("meta[name=csrf-param]").attr("content"),void 0!==e&&void 0!==t&&(i=e+"="+encodeURIComponent(t)),$("textarea.rich-text-editor, textarea[data-cms-rich-text]").redactor({minHeight:160,autoresize:!0,imageUpload:CMS.file_upload_path+"?source=redactor&type=image&"+i,imageManagerJson:CMS.file_upload_path+"?source=redactor&type=image",fileUpload:CMS.file_upload_path+"?source=redactor&type=file&"+i,fileManagerJson:CMS.file_upload_path+"?source=redactor&type=file",buttonSource:!0,formattingTags:["p","h1","h2","h3","h4","h5","h6"],plugins:["imagemanager","filemanager","table","video"],lang:CMS.locale})},window.CMS.codemirror=function(){return $("textarea[data-cms-cm-mode]").each(function(e,t){var i;return i=CodeMirror.fromTextArea(t,{mode:$(t).data("cms-cm-mode"),lineWrapping:!0,autoCloseTags:!0,lineNumbers:!0}),CMS.code_mirror_instances.push(i),$(i.display.wrapper).resizable({resize:function(){return i.setSize($(this).width(),$(this).height()),i.refresh()}})}),$('a[data-toggle="tab"]').on("shown",function(){var e,t,i,n,r;for(n=CMS.code_mirror_instances,r=[],t=0,i=n.length;i>t;t++)e=n[t],r.push(e.refresh());return r})},window.CMS.sortable_list=function(){return $(".sortable").sortable({handle:"div.dragger",axis:"y",update:function(){return $.post(CMS.current_path+"/reorder","_method=put&"+$(this).sortable("serialize"))}})},window.CMS.timepicker=function(){return $("input[type=text][data-cms-datetime]").datetimepicker({format:"yyyy-mm-dd hh:ii",minView:0,autoclose:!0}),$("input[type=text][data-cms-date]").datetimepicker({format:"yyyy-mm-dd",minView:2,autoclose:!0})},window.CMS.page_blocks=function(){return $("select#page_layout_id").bind("change.cms",function(){return $.ajax({url:$(this).data("url"),data:{layout_id:$(this).val()},complete:function(){return CMS.wysiwyg(),CMS.timepicker(),CMS.codemirror(),CMS.page_file_popovers()}})})},window.CMS.page_file_popovers=function(){return $('[data-toggle="page-file-popover"]').popover({trigger:"hover",placement:"top",html:!0})},window.CMS.mirrors=function(){return $("#mirrors select").change(function(){return window.location=$(this).val()})},window.CMS.page_update_preview=function(){return $("input[name=commit]").click(function(){return $(this).parents("form").attr("target","")}),$("input[name=preview]").click(function(){return $(this).parents("form").attr("target","_blank")})},window.CMS.page_update_publish=function(){var e;return e=$("#form-save"),$("input",e).prop("checked",$("input#page_is_published").is(":checked")),$("button",e).html($("input[name=commit]").val()),$("input",e).click(function(){return $("input#page_is_published").prop("checked",$(this).is(":checked"))}),$("input#page_is_published").click(function(){return $("input",e).prop("checked",$(this).is(":checked"))}),$("button",e).click(function(){return $("input[name=commit]").click()})},window.CMS.categories=function(){return $("a",".categories-widget .action-links").click(function(e){return e.preventDefault(),$(".categories.read",".categories-widget").toggle(),$(".categories.editable",".categories-widget").toggle(),$(".edit",".categories-widget").toggle(),$(".done",".categories-widget").toggle()})},window.CMS.set_iframe_layout=function(){var e;return e=function(){var e,t;try{return window.self!==window.top}catch(t){return e=t,!0}},$("body").ready(function(){return e()?$("body").addClass("in-iframe"):void 0})}}.call(this),function(e,t){"use strict";function i(e,t){for(var i,n=[],s=0;s<e.length;++s){if(i=o[e[s]]||r(e[s]),!i)throw"module definition dependecy not found: "+e[s];n.push(i)}t.apply(null,n)}function n(e,n,r){if("string"!=typeof e)throw"invalid module definition, module id must be defined and be a string";if(n===t)throw"invalid module definition, dependencies must be specified";if(r===t)throw"invalid module definition, definition function must be specified";i(n,function(){o[e]=r.apply(null,arguments)})}function r(t){for(var i=e,n=t.split(/[.\/]/),r=0;r<n.length;++r){if(!i[n[r]])return;i=i[n[r]]}return i}function s(i){for(var n=0;n<i.length;n++){for(var r=e,s=i[n],a=s.split(/[.\/]/),l=0;l<a.length-1;++l)r[a[l]]===t&&(r[a[l]]={}),r=r[a[l]];r[a[a.length-1]]=o[s]}}var o={};n("moxie/core/utils/Basic",[],function(){var e=function(e){var t;return e===t?"undefined":null===e?"null":e.nodeType?"node":{}.toString.call(e).match(/\s([a-z|A-Z]+)/)[1].toLowerCase()},t=function(n){var r;return i(arguments,function(s,a){a>0&&i(s,function(i,s){i!==r&&(e(n[s])===e(i)&&~o(e(i),["array","object"])?t(n[s],i):n[s]=i)})}),n},i=function(e,t){var i,n,r,s;if(e){try{i=e.length}catch(o){i=s}if(i===s){for(n in e)if(e.hasOwnProperty(n)&&t(e[n],n)===!1)return}else for(r=0;i>r;r++)if(t(e[r],r)===!1)return}},n=function(t){var i;if(!t||"object"!==e(t))return!0;for(i in t)return!1;return!0},r=function(t,i){function n(r){"function"===e(t[r])&&t[r](function(e){++r<s&&!e?n(r):i(e)})}var r=0,s=t.length;"function"!==e(i)&&(i=function(){}),t&&t.length||i(),n(r)},s=function(e,t){var n=0,r=e.length,s=new Array(r);i(e,function(e,i){e(function(e){if(e)return t(e);var o=[].slice.call(arguments);o.shift(),s[i]=o,n++,n===r&&(s.unshift(null),t.apply(this,s))})})},o=function(e,t){if(t){if(Array.prototype.indexOf)return Array.prototype.indexOf.call(t,e);for(var i=0,n=t.length;n>i;i++)if(t[i]===e)return i}return-1},a=function(t,i){var n=[];"array"!==e(t)&&(t=[t]),"array"!==e(i)&&(i=[i]);for(var r in t)-1===o(t[r],i)&&n.push(t[r]);return n.length?n:!1},l=function(e,t){var n=[];return i(e,function(e){-1!==o(e,t)&&n.push(e)}),n.length?n:null},c=function(e){var t,i=[];for(t=0;t<e.length;t++)i[t]=e[t];return i},u=function(){var e=0;return function(t){var i,n=(new Date).getTime().toString(32);for(i=0;5>i;i++)n+=Math.floor(65535*Math.random()).toString(32);return(t||"o_")+n+(e++).toString(32)}}(),d=function(e){return e?String.prototype.trim?String.prototype.trim.call(e):e.toString().replace(/^\s*/,"").replace(/\s*$/,""):e},h=function(e){if("string"!=typeof e)return e;var t,i={t:1099511627776,g:1073741824,m:1048576,k:1024};return e=/^([0-9]+)([mgk]?)$/.exec(e.toLowerCase().replace(/[^0-9mkg]/g,"")),t=e[2],e=+e[1],i.hasOwnProperty(t)&&(e*=i[t]),e};return{guid:u,typeOf:e,extend:t,each:i,isEmptyObj:n,inSeries:r,inParallel:s,inArray:o,arrayDiff:a,arrayIntersect:l,toArray:c,trim:d,parseSizeStr:h}}),n("moxie/core/I18n",["moxie/core/utils/Basic"],function(e){var t={};return{addI18n:function(i){return e.extend(t,i)},translate:function(e){return t[e]||e},_:function(e){return this.translate(e)},sprintf:function(t){var i=[].slice.call(arguments,1);return t.replace(/%[a-z]/g,function(){var t=i.shift();return"undefined"!==e.typeOf(t)?t:""})}}}),n("moxie/core/utils/Mime",["moxie/core/utils/Basic","moxie/core/I18n"],function(e,t){var i="application/msword,doc dot,application/pdf,pdf,application/pgp-signature,pgp,application/postscript,ps ai eps,application/rtf,rtf,application/vnd.ms-excel,xls xlb,application/vnd.ms-powerpoint,ppt pps pot,application/zip,zip,application/x-shockwave-flash,swf swfl,application/vnd.openxmlformats-officedocument.wordprocessingml.document,docx,application/vnd.openxmlformats-officedocument.wordprocessingml.template,dotx,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,xlsx,application/vnd.openxmlformats-officedocument.presentationml.presentation,pptx,application/vnd.openxmlformats-officedocument.presentationml.template,potx,application/vnd.openxmlformats-officedocument.presentationml.slideshow,ppsx,application/x-javascript,js,application/json,json,audio/mpeg,mp3 mpga mpega mp2,audio/x-wav,wav,audio/x-m4a,m4a,audio/ogg,oga ogg,audio/aiff,aiff aif,audio/flac,flac,audio/aac,aac,audio/ac3,ac3,audio/x-ms-wma,wma,image/bmp,bmp,image/gif,gif,image/jpeg,jpg jpeg jpe,image/photoshop,psd,image/png,png,image/svg+xml,svg svgz,image/tiff,tiff tif,text/plain,asc txt text diff log,text/html,htm html xhtml,text/css,css,text/csv,csv,text/rtf,rtf,video/mpeg,mpeg mpg mpe m2v,video/quicktime,qt mov,video/mp4,mp4,video/x-m4v,m4v,video/x-flv,flv,video/x-ms-wmv,wmv,video/avi,avi,video/webm,webm,video/3gpp,3gpp 3gp,video/3gpp2,3g2,video/vnd.rn-realvideo,rv,video/ogg,ogv,video/x-matroska,mkv,application/vnd.oasis.opendocument.formula-template,otf,application/octet-stream,exe",n={mimes:{},extensions:{},addMimeType:function(e){var t,i,n,r=e.split(/,/);for(t=0;t<r.length;t+=2){for(n=r[t+1].split(/ /),i=0;i<n.length;i++)this.mimes[n[i]]=r[t];this.extensions[r[t]]=n}},extList2mimes:function(t,i){var n,r,s,o,a=this,l=[];for(r=0;r<t.length;r++)for(n=t[r].extensions.split(/\s*,\s*/),s=0;s<n.length;s++){if("*"===n[s])return[];
if(o=a.mimes[n[s]])-1===e.inArray(o,l)&&l.push(o);else{if(!i||!/^\w+$/.test(n[s]))return[];l.push("."+n[s])}}return l},mimes2exts:function(t){var i=this,n=[];return e.each(t,function(t){if("*"===t)return n=[],!1;var r=t.match(/^(\w+)\/(\*|\w+)$/);r&&("*"===r[2]?e.each(i.extensions,function(e,t){new RegExp("^"+r[1]+"/").test(t)&&[].push.apply(n,i.extensions[t])}):i.extensions[t]&&[].push.apply(n,i.extensions[t]))}),n},mimes2extList:function(i){var n=[],r=[];return"string"===e.typeOf(i)&&(i=e.trim(i).split(/\s*,\s*/)),r=this.mimes2exts(i),n.push({title:t.translate("Files"),extensions:r.length?r.join(","):"*"}),n.mimes=i,n},getFileExtension:function(e){var t=e&&e.match(/\.([^.]+)$/);return t?t[1].toLowerCase():""},getFileMime:function(e){return this.mimes[this.getFileExtension(e)]||""}};return n.addMimeType(i),n}),n("moxie/core/utils/Env",["moxie/core/utils/Basic"],function(e){function t(e,t,i){var n=0,r=0,s=0,o={dev:-6,alpha:-5,a:-5,beta:-4,b:-4,RC:-3,rc:-3,"#":-2,p:1,pl:1},a=function(e){return e=(""+e).replace(/[_\-+]/g,"."),e=e.replace(/([^.\d]+)/g,".$1.").replace(/\.{2,}/g,"."),e.length?e.split("."):[-8]},l=function(e){return e?isNaN(e)?o[e]||-7:parseInt(e,10):0};for(e=a(e),t=a(t),r=Math.max(e.length,t.length),n=0;r>n;n++)if(e[n]!=t[n]){if(e[n]=l(e[n]),t[n]=l(t[n]),e[n]<t[n]){s=-1;break}if(e[n]>t[n]){s=1;break}}if(!i)return s;switch(i){case">":case"gt":return s>0;case">=":case"ge":return s>=0;case"<=":case"le":return 0>=s;case"==":case"=":case"eq":return 0===s;case"<>":case"!=":case"ne":return 0!==s;case"":case"<":case"lt":return 0>s;default:return null}}var i=function(e){var t="",i="?",n="function",r="undefined",s="object",o="major",a="name",l="version",c={has:function(e,t){return-1!==t.toLowerCase().indexOf(e.toLowerCase())},lowerize:function(e){return e.toLowerCase()}},u={rgx:function(){for(var t,i,o,a,l,c,u,d=0,h=arguments;d<h.length;d+=2){var f=h[d],p=h[d+1];if(typeof t===r){t={};for(a in p)l=p[a],typeof l===s?t[l[0]]=e:t[l]=e}for(i=o=0;i<f.length;i++)if(c=f[i].exec(this.getUA())){for(a=0;a<p.length;a++)u=c[++o],l=p[a],typeof l===s&&l.length>0?2==l.length?t[l[0]]=typeof l[1]==n?l[1].call(this,u):l[1]:3==l.length?t[l[0]]=typeof l[1]!==n||l[1].exec&&l[1].test?u?u.replace(l[1],l[2]):e:u?l[1].call(this,u,l[2]):e:4==l.length&&(t[l[0]]=u?l[3].call(this,u.replace(l[1],l[2])):e):t[l]=u?u:e;break}if(c)break}return t},str:function(t,n){for(var r in n)if(typeof n[r]===s&&n[r].length>0){for(var o=0;o<n[r].length;o++)if(c.has(n[r][o],t))return r===i?e:r}else if(c.has(n[r],t))return r===i?e:r;return t}},d={browser:{oldsafari:{major:{1:["/8","/1","/3"],2:"/4","?":"/"},version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2000:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",RT:"ARM"}}}},h={browser:[[/(opera\smini)\/((\d+)?[\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/((\d+)?[\w\.-]+)/i,/(opera).+version\/((\d+)?[\w\.]+)/i,/(opera)[\/\s]+((\d+)?[\w\.]+)/i],[a,l,o],[/\s(opr)\/((\d+)?[\w\.]+)/i],[[a,"Opera"],l,o],[/(kindle)\/((\d+)?[\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?((\d+)?[\w\.]+)*/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?((\d+)?[\w\.]*)/i,/(?:ms|\()(ie)\s((\d+)?[\w\.]+)/i,/(rekonq)((?:\/)[\w\.]+)*/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron)\/((\d+)?[\w\.-]+)/i],[a,l,o],[/(trident).+rv[:\s]((\d+)?[\w\.]+).+like\sgecko/i],[[a,"IE"],l,o],[/(yabrowser)\/((\d+)?[\w\.]+)/i],[[a,"Yandex"],l,o],[/(comodo_dragon)\/((\d+)?[\w\.]+)/i],[[a,/_/g," "],l,o],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?((\d+)?[\w\.]+)/i],[a,l,o],[/(dolfin)\/((\d+)?[\w\.]+)/i],[[a,"Dolphin"],l,o],[/((?:android.+)crmo|crios)\/((\d+)?[\w\.]+)/i],[[a,"Chrome"],l,o],[/((?:android.+))version\/((\d+)?[\w\.]+)\smobile\ssafari/i],[[a,"Android Browser"],l,o],[/version\/((\d+)?[\w\.]+).+?mobile\/\w+\s(safari)/i],[l,o,[a,"Mobile Safari"]],[/version\/((\d+)?[\w\.]+).+?(mobile\s?safari|safari)/i],[l,o,a],[/webkit.+?(mobile\s?safari|safari)((\/[\w\.]+))/i],[a,[o,u.str,d.browser.oldsafari.major],[l,u.str,d.browser.oldsafari.version]],[/(konqueror)\/((\d+)?[\w\.]+)/i,/(webkit|khtml)\/((\d+)?[\w\.]+)/i],[a,l,o],[/(navigator|netscape)\/((\d+)?[\w\.-]+)/i],[[a,"Netscape"],l,o],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?((\d+)?[\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix)\/((\d+)?[\w\.-]+)/i,/(mozilla)\/((\d+)?[\w\.]+).+rv\:.+gecko\/\d+/i,/(uc\s?browser|polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|qqbrowser)[\/\s]?((\d+)?[\w\.]+)/i,/(links)\s\(((\d+)?[\w\.]+)/i,/(gobrowser)\/?((\d+)?[\w\.]+)*/i,/(ice\s?browser)\/v?((\d+)?[\w\._]+)/i,/(mosaic)[\/\s]((\d+)?[\w\.]+)/i],[a,l,o]],engine:[[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[a,l],[/rv\:([\w\.]+).*(gecko)/i],[l,a]],os:[[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*|windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[a,[l,u.str,d.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[a,"Windows"],[l,u.str,d.os.windows.version]],[/\((bb)(10);/i],[[a,"BlackBerry"],l],[/(blackberry)\w*\/?([\w\.]+)*/i,/(tizen)\/([\w\.]+)/i,/(android|webos|palm\os|qnx|bada|rim\stablet\sos|meego)[\/\s-]?([\w\.]+)*/i],[a,l],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]+)*/i],[[a,"Symbian"],l],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[a,"Firefox OS"],l],[/(nintendo|playstation)\s([wids3portablevu]+)/i,/(mint)[\/\s\(]?(\w+)*/i,/(joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk)[\/\s-]?([\w\.-]+)*/i,/(hurd|linux)\s?([\w\.]+)*/i,/(gnu)\s?([\w\.]+)*/i],[a,l],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[a,"Chromium OS"],l],[/(sunos)\s?([\w\.]+\d)*/i],[[a,"Solaris"],l],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]+)*/i],[a,l],[/(ip[honead]+)(?:.*os\s*([\w]+)*\slike\smac|;\sopera)/i],[[a,"iOS"],[l,/_/g,"."]],[/(mac\sos\sx)\s?([\w\s\.]+\w)*/i],[a,[l,/_/g,"."]],[/(haiku)\s(\w+)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.]*)*/i,/(macintosh|mac(?=_powerpc)|plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos)/i,/(unix)\s?([\w\.]+)*/i],[a,l]]},f=function(e){var i=e||(window&&window.navigator&&window.navigator.userAgent?window.navigator.userAgent:t);this.getBrowser=function(){return u.rgx.apply(this,h.browser)},this.getEngine=function(){return u.rgx.apply(this,h.engine)},this.getOS=function(){return u.rgx.apply(this,h.os)},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS()}},this.getUA=function(){return i},this.setUA=function(e){return i=e,this},this.setUA(i)};return(new f).getResult()}(),n=function(){var t={define_property:function(){return!1}(),create_canvas:function(){var e=document.createElement("canvas");return!(!e.getContext||!e.getContext("2d"))}(),return_response_type:function(t){try{if(-1!==e.inArray(t,["","text","document"]))return!0;if(window.XMLHttpRequest){var i=new XMLHttpRequest;if(i.open("get","/"),"responseType"in i)return i.responseType=t,i.responseType!==t?!1:!0}}catch(n){}return!1},use_data_uri:function(){var e=new Image;return e.onload=function(){t.use_data_uri=1===e.width&&1===e.height},setTimeout(function(){e.src="data:image/gif;base64,R0lGODlhAQABAIAAAP8AAAAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw=="},1),!1}(),use_data_uri_over32kb:function(){return t.use_data_uri&&("IE"!==r.browser||r.version>=9)},use_data_uri_of:function(e){return t.use_data_uri&&33e3>e||t.use_data_uri_over32kb()},use_fileinput:function(){var e=document.createElement("input");return e.setAttribute("type","file"),!e.disabled}};return function(i){var n=[].slice.call(arguments);return n.shift(),"function"===e.typeOf(t[i])?t[i].apply(this,n):!!t[i]}}(),r={can:n,browser:i.browser.name,version:parseFloat(i.browser.major),os:i.os.name,osVersion:i.os.version,verComp:t,swf_url:"../flash/Moxie.swf",xap_url:"../silverlight/Moxie.xap",global_event_dispatcher:"moxie.core.EventTarget.instance.dispatchEvent"};return r.OS=r.os,r}),n("moxie/core/utils/Dom",["moxie/core/utils/Env"],function(e){var t=function(e){return"string"!=typeof e?e:document.getElementById(e)},i=function(e,t){if(!e.className)return!1;var i=new RegExp("(^|\\s+)"+t+"(\\s+|$)");return i.test(e.className)},n=function(e,t){i(e,t)||(e.className=e.className?e.className.replace(/\s+$/,"")+" "+t:t)},r=function(e,t){if(e.className){var i=new RegExp("(^|\\s+)"+t+"(\\s+|$)");e.className=e.className.replace(i,function(e,t,i){return" "===t&&" "===i?" ":""})}},s=function(e,t){return e.currentStyle?e.currentStyle[t]:window.getComputedStyle?window.getComputedStyle(e,null)[t]:void 0},o=function(t,i){function n(e){var t,i,n=0,r=0;return e&&(i=e.getBoundingClientRect(),t="CSS1Compat"===c.compatMode?c.documentElement:c.body,n=i.left+t.scrollLeft,r=i.top+t.scrollTop),{x:n,y:r}}var r,s,o,a=0,l=0,c=document;if(t=t,i=i||c.body,t&&t.getBoundingClientRect&&"IE"===e.browser&&(!c.documentMode||c.documentMode<8))return s=n(t),o=n(i),{x:s.x-o.x,y:s.y-o.y};for(r=t;r&&r!=i&&r.nodeType;)a+=r.offsetLeft||0,l+=r.offsetTop||0,r=r.offsetParent;for(r=t.parentNode;r&&r!=i&&r.nodeType;)a-=r.scrollLeft||0,l-=r.scrollTop||0,r=r.parentNode;return{x:a,y:l}},a=function(e){return{w:e.offsetWidth||e.clientWidth,h:e.offsetHeight||e.clientHeight}};return{get:t,hasClass:i,addClass:n,removeClass:r,getStyle:s,getPos:o,getSize:a}}),n("moxie/core/Exceptions",["moxie/core/utils/Basic"],function(e){function t(e,t){var i;for(i in e)if(e[i]===t)return i;return null}return{RuntimeError:function(){function i(e){this.code=e,this.name=t(n,e),this.message=this.name+": RuntimeError "+this.code}var n={NOT_INIT_ERR:1,NOT_SUPPORTED_ERR:9,JS_ERR:4};return e.extend(i,n),i.prototype=Error.prototype,i}(),OperationNotAllowedException:function(){function t(e){this.code=e,this.name="OperationNotAllowedException"}return e.extend(t,{NOT_ALLOWED_ERR:1}),t.prototype=Error.prototype,t}(),ImageError:function(){function i(e){this.code=e,this.name=t(n,e),this.message=this.name+": ImageError "+this.code}var n={WRONG_FORMAT:1,MAX_RESOLUTION_ERR:2};return e.extend(i,n),i.prototype=Error.prototype,i}(),FileException:function(){function i(e){this.code=e,this.name=t(n,e),this.message=this.name+": FileException "+this.code}var n={NOT_FOUND_ERR:1,SECURITY_ERR:2,ABORT_ERR:3,NOT_READABLE_ERR:4,ENCODING_ERR:5,NO_MODIFICATION_ALLOWED_ERR:6,INVALID_STATE_ERR:7,SYNTAX_ERR:8};return e.extend(i,n),i.prototype=Error.prototype,i}(),DOMException:function(){function i(e){this.code=e,this.name=t(n,e),this.message=this.name+": DOMException "+this.code}var n={INDEX_SIZE_ERR:1,DOMSTRING_SIZE_ERR:2,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,INVALID_CHARACTER_ERR:5,NO_DATA_ALLOWED_ERR:6,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INUSE_ATTRIBUTE_ERR:10,INVALID_STATE_ERR:11,SYNTAX_ERR:12,INVALID_MODIFICATION_ERR:13,NAMESPACE_ERR:14,INVALID_ACCESS_ERR:15,VALIDATION_ERR:16,TYPE_MISMATCH_ERR:17,SECURITY_ERR:18,NETWORK_ERR:19,ABORT_ERR:20,URL_MISMATCH_ERR:21,QUOTA_EXCEEDED_ERR:22,TIMEOUT_ERR:23,INVALID_NODE_TYPE_ERR:24,DATA_CLONE_ERR:25};return e.extend(i,n),i.prototype=Error.prototype,i}(),EventException:function(){function t(e){this.code=e,this.name="EventException"}return e.extend(t,{UNSPECIFIED_EVENT_TYPE_ERR:0}),t.prototype=Error.prototype,t}()}}),n("moxie/core/EventTarget",["moxie/core/Exceptions","moxie/core/utils/Basic"],function(e,t){function i(){var i={};t.extend(this,{uid:null,init:function(){this.uid||(this.uid=t.guid("uid_"))},addEventListener:function(e,n,r,s){var o,a=this;return e=t.trim(e),/\s/.test(e)?void t.each(e.split(/\s+/),function(e){a.addEventListener(e,n,r,s)}):(e=e.toLowerCase(),r=parseInt(r,10)||0,o=i[this.uid]&&i[this.uid][e]||[],o.push({fn:n,priority:r,scope:s||this}),i[this.uid]||(i[this.uid]={}),void(i[this.uid][e]=o))},hasEventListener:function(e){return e?!(!i[this.uid]||!i[this.uid][e]):!!i[this.uid]},removeEventListener:function(e,n){e=e.toLowerCase();var r,s=i[this.uid]&&i[this.uid][e];if(s){if(n){for(r=s.length-1;r>=0;r--)if(s[r].fn===n){s.splice(r,1);break}}else s=[];s.length||(delete i[this.uid][e],t.isEmptyObj(i[this.uid])&&delete i[this.uid])}},removeAllEventListeners:function(){i[this.uid]&&delete i[this.uid]},dispatchEvent:function(n){var r,s,o,a,l,c={},u=!0;if("string"!==t.typeOf(n)){if(a=n,"string"!==t.typeOf(a.type))throw new e.EventException(e.EventException.UNSPECIFIED_EVENT_TYPE_ERR);n=a.type,a.total!==l&&a.loaded!==l&&(c.total=a.total,c.loaded=a.loaded),c.async=a.async||!1}if(-1!==n.indexOf("::")?!function(e){r=e[0],n=e[1]}(n.split("::")):r=this.uid,n=n.toLowerCase(),s=i[r]&&i[r][n]){s.sort(function(e,t){return t.priority-e.priority}),o=[].slice.call(arguments),o.shift(),c.type=n,o.unshift(c);var d=[];t.each(s,function(e){o[0].target=e.scope,d.push(c.async?function(t){setTimeout(function(){t(e.fn.apply(e.scope,o)===!1)},1)}:function(t){t(e.fn.apply(e.scope,o)===!1)})}),d.length&&t.inSeries(d,function(e){u=!e})}return u},bind:function(){this.addEventListener.apply(this,arguments)},unbind:function(){this.removeEventListener.apply(this,arguments)},unbindAll:function(){this.removeAllEventListeners.apply(this,arguments)},trigger:function(){return this.dispatchEvent.apply(this,arguments)},convertEventPropsToHandlers:function(e){var i;"array"!==t.typeOf(e)&&(e=[e]);for(var n=0;n<e.length;n++)i="on"+e[n],"function"===t.typeOf(this[i])?this.addEventListener(e[n],this[i]):"undefined"===t.typeOf(this[i])&&(this[i]=null)}})}return i.instance=new i,i}),n("moxie/core/utils/Encode",[],function(){var e=function(e){return unescape(encodeURIComponent(e))},t=function(e){return decodeURIComponent(escape(e))},i=function(e,i){if("function"==typeof window.atob)return i?t(window.atob(e)):window.atob(e);var n,r,s,o,a,l,c,u,d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",h=0,f=0,p="",g=[];if(!e)return e;e+="";do o=d.indexOf(e.charAt(h++)),a=d.indexOf(e.charAt(h++)),l=d.indexOf(e.charAt(h++)),c=d.indexOf(e.charAt(h++)),u=o<<18|a<<12|l<<6|c,n=u>>16&255,r=u>>8&255,s=255&u,g[f++]=64==l?String.fromCharCode(n):64==c?String.fromCharCode(n,r):String.fromCharCode(n,r,s);while(h<e.length);return p=g.join(""),i?t(p):p},n=function(t,i){if(i&&e(t),"function"==typeof window.btoa)return window.btoa(t);var n,r,s,o,a,l,c,u,d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",h=0,f=0,p="",g=[];if(!t)return t;do n=t.charCodeAt(h++),r=t.charCodeAt(h++),s=t.charCodeAt(h++),u=n<<16|r<<8|s,o=u>>18&63,a=u>>12&63,l=u>>6&63,c=63&u,g[f++]=d.charAt(o)+d.charAt(a)+d.charAt(l)+d.charAt(c);while(h<t.length);p=g.join("");var m=t.length%3;return(m?p.slice(0,m-3):p)+"===".slice(m||3)};return{utf8_encode:e,utf8_decode:t,atob:i,btoa:n}}),n("moxie/runtime/Runtime",["moxie/core/utils/Basic","moxie/core/utils/Dom","moxie/core/EventTarget"],function(e,t,i){function n(i,r,o,a,l){var c,u=this,d=e.guid(r+"_"),h=l||"browser";i=i||{},s[d]=this,o=e.extend({access_binary:!1,access_image_binary:!1,display_media:!1,do_cors:!1,drag_and_drop:!1,filter_by_extension:!0,resize_image:!1,report_upload_progress:!1,return_response_headers:!1,return_response_type:!1,return_status_code:!0,send_custom_headers:!1,select_file:!1,select_folder:!1,select_multiple:!0,send_binary_string:!1,send_browser_cookies:!0,send_multipart:!0,slice_blob:!1,stream_upload:!1,summon_file_dialog:!1,upload_filesize:!0,use_http_method:!0},o),i.preferred_caps&&(h=n.getMode(a,i.preferred_caps,h)),c=function(){var t={};return{exec:function(e,i,n,r){return c[i]&&(t[e]||(t[e]={context:this,instance:new c[i]}),t[e].instance[n])?t[e].instance[n].apply(this,r):void 0},removeInstance:function(e){delete t[e]},removeAllInstances:function(){var i=this;e.each(t,function(t,n){"function"===e.typeOf(t.instance.destroy)&&t.instance.destroy.call(t.context),i.removeInstance(n)})}}}(),e.extend(this,{initialized:!1,uid:d,type:r,mode:n.getMode(a,i.required_caps,h),shimid:d+"_container",clients:0,options:i,can:function(t,i){var r=arguments[2]||o;if("string"===e.typeOf(t)&&"undefined"===e.typeOf(i)&&(t=n.parseCaps(t)),"object"===e.typeOf(t)){for(var s in t)if(!this.can(s,t[s],r))return!1;return!0}return"function"===e.typeOf(r[t])?r[t].call(this,i):i===r[t]},getShimContainer:function(){var i,n=t.get(this.shimid);return n||(i=this.options.container?t.get(this.options.container):document.body,n=document.createElement("div"),n.id=this.shimid,n.className="moxie-shim moxie-shim-"+this.type,e.extend(n.style,{position:"absolute",top:"0px",left:"0px",width:"1px",height:"1px",overflow:"hidden"}),i.appendChild(n),i=null),n},getShim:function(){return c},shimExec:function(e,t){var i=[].slice.call(arguments,2);return u.getShim().exec.call(this,this.uid,e,t,i)},exec:function(e,t){var i=[].slice.call(arguments,2);return u[e]&&u[e][t]?u[e][t].apply(this,i):u.shimExec.apply(this,arguments)},destroy:function(){if(u){var e=t.get(this.shimid);e&&e.parentNode.removeChild(e),c&&c.removeAllInstances(),this.unbindAll(),delete s[this.uid],this.uid=null,d=u=c=e=null}}}),this.mode&&i.required_caps&&!this.can(i.required_caps)&&(this.mode=!1)}var r={},s={};return n.order="html5,flash,silverlight,html4",n.getRuntime=function(e){return s[e]?s[e]:!1},n.addConstructor=function(e,t){t.prototype=i.instance,r[e]=t},n.getConstructor=function(e){return r[e]||null},n.getInfo=function(e){var t=n.getRuntime(e);return t?{uid:t.uid,type:t.type,mode:t.mode,can:function(){return t.can.apply(t,arguments)}}:null},n.parseCaps=function(t){var i={};return"string"!==e.typeOf(t)?t||{}:(e.each(t.split(","),function(e){i[e]=!0}),i)},n.can=function(e,t){var i,r,s=n.getConstructor(e);return s?(i=new s({required_caps:t}),r=i.mode,i.destroy(),!!r):!1},n.thatCan=function(e,t){var i=(t||n.order).split(/\s*,\s*/);for(var r in i)if(n.can(i[r],e))return i[r];return null},n.getMode=function(t,i,n){var r=null;if("undefined"===e.typeOf(n)&&(n="browser"),i&&!e.isEmptyObj(t)){if(e.each(i,function(i,n){if(t.hasOwnProperty(n)){var s=t[n](i);if("string"==typeof s&&(s=[s]),r){if(!(r=e.arrayIntersect(r,s)))return r=!1}else r=s}}),r)return-1!==e.inArray(n,r)?n:r[0];if(r===!1)return!1}return n},n.capTrue=function(){return!0},n.capFalse=function(){return!1},n.capTest=function(e){return function(){return!!e}},n}),n("moxie/runtime/RuntimeClient",["moxie/core/Exceptions","moxie/core/utils/Basic","moxie/runtime/Runtime"],function(e,t,i){return function(){var n;t.extend(this,{connectRuntime:function(r){function s(t){var o,l;return t.length?(o=t.shift(),(l=i.getConstructor(o))?(n=new l(r),n.bind("Init",function(){n.initialized=!0,setTimeout(function(){n.clients++,a.trigger("RuntimeInit",n)},1)}),n.bind("Error",function(){n.destroy(),s(t)}),n.mode?void n.init():void n.trigger("Error")):void s(t)):(a.trigger("RuntimeError",new e.RuntimeError(e.RuntimeError.NOT_INIT_ERR)),void(n=null))}var o,a=this;if("string"===t.typeOf(r)?o=r:"string"===t.typeOf(r.ruid)&&(o=r.ruid),o){if(n=i.getRuntime(o))return n.clients++,n;throw new e.RuntimeError(e.RuntimeError.NOT_INIT_ERR)}s((r.runtime_order||i.order).split(/\s*,\s*/))},getRuntime:function(){return n&&n.uid?n:(n=null,null)},disconnectRuntime:function(){n&&--n.clients<=0&&(n.destroy(),n=null)}})}}),n("moxie/file/Blob",["moxie/core/utils/Basic","moxie/core/utils/Encode","moxie/runtime/RuntimeClient"],function(e,t,i){function n(s,o){function a(t,i,s){var o,a=r[this.uid];return"string"===e.typeOf(a)&&a.length?(o=new n(null,{type:s,size:i-t}),o.detach(a.substr(t,o.size)),o):null}i.call(this),s&&this.connectRuntime(s),o?"string"===e.typeOf(o)&&(o={data:o}):o={},e.extend(this,{uid:o.uid||e.guid("uid_"),ruid:s,size:o.size||0,type:o.type||"",slice:function(e,t,i){return this.isDetached()?a.apply(this,arguments):this.getRuntime().exec.call(this,"Blob","slice",this.getSource(),e,t,i)},getSource:function(){return r[this.uid]?r[this.uid]:null},detach:function(e){this.ruid&&(this.getRuntime().exec.call(this,"Blob","destroy",r[this.uid]),this.disconnectRuntime(),this.ruid=null),e=e||"";var i=e.match(/^data:([^;]*);base64,/);i&&(this.type=i[1],e=t.atob(e.substring(e.indexOf("base64,")+7))),this.size=e.length,r[this.uid]=e},isDetached:function(){return!this.ruid&&"string"===e.typeOf(r[this.uid])},destroy:function(){this.detach(),delete r[this.uid]}}),o.data?this.detach(o.data):r[this.uid]=o}var r={};return n}),n("moxie/file/File",["moxie/core/utils/Basic","moxie/core/utils/Mime","moxie/file/Blob"],function(e,t,i){function n(n,r){var s,o;if(r||(r={}),o=r.type&&""!==r.type?r.type:t.getFileMime(r.name),r.name)s=r.name.replace(/\\/g,"/"),s=s.substr(s.lastIndexOf("/")+1);else{var a=o.split("/")[0];s=e.guid((""!==a?a:"file")+"_"),t.extensions[o]&&(s+="."+t.extensions[o][0])}i.apply(this,arguments),e.extend(this,{type:o||"",name:s||e.guid("file_"),lastModifiedDate:r.lastModifiedDate||(new Date).toLocaleString()})}return n.prototype=i.prototype,n}),n("moxie/file/FileInput",["moxie/core/utils/Basic","moxie/core/utils/Mime","moxie/core/utils/Dom","moxie/core/Exceptions","moxie/core/EventTarget","moxie/core/I18n","moxie/file/File","moxie/runtime/Runtime","moxie/runtime/RuntimeClient"],function(e,t,i,n,r,s,o,a,l){function c(r){var c,d,h,f=this;if(-1!==e.inArray(e.typeOf(r),["string","node"])&&(r={browse_button:r}),d=i.get(r.browse_button),!d)throw new n.DOMException(n.DOMException.NOT_FOUND_ERR);h={accept:[{title:s.translate("All Files"),extensions:"*"}],name:"file",multiple:!1,required_caps:!1,container:d.parentNode||document.body},r=e.extend({},h,r),"string"==typeof r.required_caps&&(r.required_caps=a.parseCaps(r.required_caps)),"string"==typeof r.accept&&(r.accept=t.mimes2extList(r.accept)),c=i.get(r.container),c||(c=document.body),"static"===i.getStyle(c,"position")&&(c.style.position="relative"),c=d=null,l.call(f),e.extend(f,{uid:e.guid("uid_"),ruid:null,shimid:null,files:null,init:function(){f.convertEventPropsToHandlers(u),f.bind("RuntimeInit",function(t,n){f.ruid=n.uid,f.shimid=n.shimid,f.bind("Ready",function(){f.trigger("Refresh")},999),f.bind("Change",function(){var t=n.exec.call(f,"FileInput","getFiles");f.files=[],e.each(t,function(e){return 0===e.size?!0:void f.files.push(new o(f.ruid,e))})},999),f.bind("Refresh",function(){var t,s,o,a;o=i.get(r.browse_button),a=i.get(n.shimid),o&&(t=i.getPos(o,i.get(r.container)),s=i.getSize(o),a&&e.extend(a.style,{top:t.y+"px",left:t.x+"px",width:s.w+"px",height:s.h+"px"})),a=o=null}),n.exec.call(f,"FileInput","init",r)}),f.connectRuntime(e.extend({},r,{required_caps:{select_file:!0}}))},disable:function(t){var i=this.getRuntime();i&&i.exec.call(this,"FileInput","disable","undefined"===e.typeOf(t)?!0:t)},refresh:function(){f.trigger("Refresh")},destroy:function(){var t=this.getRuntime();t&&(t.exec.call(this,"FileInput","destroy"),this.disconnectRuntime()),"array"===e.typeOf(this.files)&&e.each(this.files,function(e){e.destroy()}),this.files=null}})}var u=["ready","change","cancel","mouseenter","mouseleave","mousedown","mouseup"];return c.prototype=r.instance,c}),n("moxie/file/FileDrop",["moxie/core/I18n","moxie/core/utils/Dom","moxie/core/Exceptions","moxie/core/utils/Basic","moxie/file/File","moxie/runtime/RuntimeClient","moxie/core/EventTarget","moxie/core/utils/Mime"],function(e,t,i,n,r,s,o,a){function l(i){var o,l=this;"string"==typeof i&&(i={drop_zone:i}),o={accept:[{title:e.translate("All Files"),extensions:"*"}],required_caps:{drag_and_drop:!0}},i="object"==typeof i?n.extend({},o,i):o,i.container=t.get(i.drop_zone)||document.body,"static"===t.getStyle(i.container,"position")&&(i.container.style.position="relative"),"string"==typeof i.accept&&(i.accept=a.mimes2extList(i.accept)),s.call(l),n.extend(l,{uid:n.guid("uid_"),ruid:null,files:null,init:function(){l.convertEventPropsToHandlers(c),l.bind("RuntimeInit",function(e,t){l.ruid=t.uid,l.bind("Drop",function(){var e=t.exec.call(l,"FileDrop","getFiles");l.files=[],n.each(e,function(e){l.files.push(new r(l.ruid,e))})},999),t.exec.call(l,"FileDrop","init",i),l.dispatchEvent("ready")}),l.connectRuntime(i)},destroy:function(){var e=this.getRuntime();e&&(e.exec.call(this,"FileDrop","destroy"),this.disconnectRuntime()),this.files=null}})}var c=["ready","dragenter","dragleave","drop","error"];return l.prototype=o.instance,l}),n("moxie/runtime/RuntimeTarget",["moxie/core/utils/Basic","moxie/runtime/RuntimeClient","moxie/core/EventTarget"],function(e,t,i){function n(){this.uid=e.guid("uid_"),t.call(this),this.destroy=function(){this.disconnectRuntime(),this.unbindAll()}}return n.prototype=i.instance,n}),n("moxie/file/FileReader",["moxie/core/utils/Basic","moxie/core/utils/Encode","moxie/core/Exceptions","moxie/core/EventTarget","moxie/file/Blob","moxie/file/File","moxie/runtime/RuntimeTarget"],function(e,t,i,n,r,s,o){function a(){function n(e,n){function u(e){c.readyState=a.DONE,c.error=e,c.trigger("error"),d()}function d(){s.destroy(),s=null,c.trigger("loadend")}function h(t){s.bind("Error",function(e,t){u(t)}),s.bind("Progress",function(e){c.result=t.exec.call(s,"FileReader","getResult"),c.trigger(e)}),s.bind("Load",function(e){c.readyState=a.DONE,c.result=t.exec.call(s,"FileReader","getResult"),c.trigger(e),d()}),t.exec.call(s,"FileReader","read",e,n)}if(s=new o,this.convertEventPropsToHandlers(l),this.readyState===a.LOADING)return u(new i.DOMException(i.DOMException.INVALID_STATE_ERR));if(this.readyState=a.LOADING,this.trigger("loadstart"),n instanceof r)if(n.isDetached()){var f=n.getSource();switch(e){case"readAsText":case"readAsBinaryString":this.result=f;break;case"readAsDataURL":this.result="data:"+n.type+";base64,"+t.btoa(f)}this.readyState=a.DONE,this.trigger("load"),d()}else h(s.connectRuntime(n.ruid));else u(new i.DOMException(i.DOMException.NOT_FOUND_ERR))}var s,c=this;e.extend(this,{uid:e.guid("uid_"),readyState:a.EMPTY,result:null,error:null,readAsBinaryString:function(e){n.call(this,"readAsBinaryString",e)},readAsDataURL:function(e){n.call(this,"readAsDataURL",e)},readAsText:function(e){n.call(this,"readAsText",e)},abort:function(){this.result=null,-1===e.inArray(this.readyState,[a.EMPTY,a.DONE])&&(this.readyState===a.LOADING&&(this.readyState=a.DONE),s&&s.getRuntime().exec.call(this,"FileReader","abort"),this.trigger("abort"),this.trigger("loadend"))},destroy:function(){this.abort(),s&&(s.getRuntime().exec.call(this,"FileReader","destroy"),s.disconnectRuntime()),c=s=null}})}var l=["loadstart","progress","load","abort","error","loadend"];return a.EMPTY=0,a.LOADING=1,a.DONE=2,a.prototype=n.instance,a}),n("moxie/core/utils/Url",[],function(){var e=function(t,i){for(var n=["source","scheme","authority","userInfo","user","pass","host","port","relative","path","directory","file","query","fragment"],r=n.length,s={http:80,https:443},o={},a=/^(?:([^:\/?#]+):)?(?:\/\/()(?:(?:()(?:([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?))?()(?:(()(?:(?:[^?#\/]*\/)*)()(?:[^?#]*))(?:\\?([^#]*))?(?:#(.*))?)/,l=a.exec(t||"");r--;)l[r]&&(o[n[r]]=l[r]);if(!o.scheme){i&&"string"!=typeof i||(i=e(i||document.location.href)),o.scheme=i.scheme,o.host=i.host,o.port=i.port;var c="";/^[^\/]/.test(o.path)&&(c=i.path,/(\/|\/[^\.]+)$/.test(c)?c+="/":c=c.replace(/\/[^\/]+$/,"/")),o.path=c+(o.path||"")}return o.port||(o.port=s[o.scheme]||80),o.port=parseInt(o.port,10),o.path||(o.path="/"),delete o.source,o},t=function(t){var i={http:80,https:443},n=e(t);return n.scheme+"://"+n.host+(n.port!==i[n.scheme]?":"+n.port:"")+n.path+(n.query?n.query:"")},i=function(t){function i(e){return[e.scheme,e.host,e.port].join("/")}return"string"==typeof t&&(t=e(t)),i(e())===i(t)};return{parseUrl:e,resolveUrl:t,hasSameOrigin:i}}),n("moxie/file/FileReaderSync",["moxie/core/utils/Basic","moxie/runtime/RuntimeClient","moxie/core/utils/Encode"],function(e,t,i){return function(){function n(e,t){if(!t.isDetached()){var n=this.connectRuntime(t.ruid).exec.call(this,"FileReaderSync","read",e,t);return this.disconnectRuntime(),n}var r=t.getSource();switch(e){case"readAsBinaryString":return r;case"readAsDataURL":return"data:"+t.type+";base64,"+i.btoa(r);case"readAsText":for(var s="",o=0,a=r.length;a>o;o++)s+=String.fromCharCode(r[o]);return s}}t.call(this),e.extend(this,{uid:e.guid("uid_"),readAsBinaryString:function(e){return n.call(this,"readAsBinaryString",e)},readAsDataURL:function(e){return n.call(this,"readAsDataURL",e)},readAsText:function(e){return n.call(this,"readAsText",e)}})}}),n("moxie/xhr/FormData",["moxie/core/Exceptions","moxie/core/utils/Basic","moxie/file/Blob"],function(e,t,i){function n(){var e,n=[];t.extend(this,{append:function(r,s){var o=this,a=t.typeOf(s);s instanceof i?e={name:r,value:s}:"array"===a?(r+="[]",t.each(s,function(e){o.append(r,e)})):"object"===a?t.each(s,function(e,t){o.append(r+"["+t+"]",e)}):"null"===a||"undefined"===a||"number"===a&&isNaN(s)?o.append(r,"false"):n.push({name:r,value:s.toString()})},hasBlob:function(){return!!this.getBlob()},getBlob:function(){return e&&e.value||null},getBlobName:function(){return e&&e.name||null},each:function(i){t.each(n,function(e){i(e.value,e.name)}),e&&i(e.value,e.name)},destroy:function(){e=null,n=[]}})}return n}),n("moxie/xhr/XMLHttpRequest",["moxie/core/utils/Basic","moxie/core/Exceptions","moxie/core/EventTarget","moxie/core/utils/Encode","moxie/core/utils/Url","moxie/runtime/Runtime","moxie/runtime/RuntimeTarget","moxie/file/Blob","moxie/file/FileReaderSync","moxie/xhr/FormData","moxie/core/utils/Env","moxie/core/utils/Mime"],function(e,t,i,n,r,s,o,a,l,c,u,d){function h(){this.uid=e.guid("uid_")}function f(){function i(e,t){return S.hasOwnProperty(e)?1===arguments.length?u.can("define_property")?S[e]:T[e]:void(u.can("define_property")?S[e]=t:T[e]=t):void 0}function l(t){function n(){_.destroy(),_=null,a.dispatchEvent("loadend"),a=null}function r(r){_.bind("LoadStart",function(e){i("readyState",f.LOADING),a.dispatchEvent("readystatechange"),a.dispatchEvent(e),$&&a.upload.dispatchEvent(e)}),_.bind("Progress",function(e){i("readyState")!==f.LOADING&&(i("readyState",f.LOADING),a.dispatchEvent("readystatechange")),a.dispatchEvent(e)}),_.bind("UploadProgress",function(e){$&&a.upload.dispatchEvent({type:"progress",lengthComputable:!1,total:e.total,loaded:e.loaded})}),_.bind("Load",function(t){i("readyState",f.DONE),i("status",Number(r.exec.call(_,"XMLHttpRequest","getStatus")||0)),i("statusText",p[i("status")]||""),i("response",r.exec.call(_,"XMLHttpRequest","getResponse",i("responseType"))),~e.inArray(i("responseType"),["text",""])?i("responseText",i("response")):"document"===i("responseType")&&i("responseXML",i("response")),F=r.exec.call(_,"XMLHttpRequest","getAllResponseHeaders"),a.dispatchEvent("readystatechange"),i("status")>0?($&&a.upload.dispatchEvent(t),a.dispatchEvent(t)):(H=!0,a.dispatchEvent("error")),n()}),_.bind("Abort",function(e){a.dispatchEvent(e),n()}),_.bind("Error",function(e){H=!0,i("readyState",f.DONE),a.dispatchEvent("readystatechange"),R=!0,a.dispatchEvent(e),n()}),r.exec.call(_,"XMLHttpRequest","send",{url:v,method:y,async:D,user:b,password:w,headers:E,mimeType:A,encoding:M,responseType:a.responseType,withCredentials:a.withCredentials,options:L},t)}var a=this;x=(new Date).getTime(),_=new o,"string"==typeof L.required_caps&&(L.required_caps=s.parseCaps(L.required_caps)),L.required_caps=e.extend({},L.required_caps,{return_response_type:a.responseType}),t instanceof c&&(L.required_caps.send_multipart=!0),P||(L.required_caps.do_cors=!0),L.ruid?r(_.connectRuntime(L)):(_.bind("RuntimeInit",function(e,t){r(t)}),_.bind("RuntimeError",function(e,t){a.dispatchEvent("RuntimeError",t)}),_.connectRuntime(L))}function m(){i("responseText",""),i("responseXML",null),i("response",null),i("status",0),i("statusText",""),x=k=null}var v,y,b,w,x,k,_,C,T=this,S={timeout:0,readyState:f.UNSENT,withCredentials:!1,status:0,statusText:"",responseType:"",responseXML:null,responseText:null,response:null},D=!0,E={},M=null,A=null,I=!1,O=!1,$=!1,R=!1,H=!1,P=!1,z=null,N=null,L={},F="";e.extend(this,S,{uid:e.guid("uid_"),upload:new h,open:function(s,o,a,l,c){var u;if(!s||!o)throw new t.DOMException(t.DOMException.SYNTAX_ERR);if(/[\u0100-\uffff]/.test(s)||n.utf8_encode(s)!==s)throw new t.DOMException(t.DOMException.SYNTAX_ERR);if(~e.inArray(s.toUpperCase(),["CONNECT","DELETE","GET","HEAD","OPTIONS","POST","PUT","TRACE","TRACK"])&&(y=s.toUpperCase()),~e.inArray(y,["CONNECT","TRACE","TRACK"]))throw new t.DOMException(t.DOMException.SECURITY_ERR);if(o=n.utf8_encode(o),u=r.parseUrl(o),P=r.hasSameOrigin(u),v=r.resolveUrl(o),(l||c)&&!P)throw new t.DOMException(t.DOMException.INVALID_ACCESS_ERR);if(b=l||u.user,w=c||u.pass,D=a||!0,D===!1&&(i("timeout")||i("withCredentials")||""!==i("responseType")))throw new t.DOMException(t.DOMException.INVALID_ACCESS_ERR);I=!D,O=!1,E={},m.call(this),i("readyState",f.OPENED),this.convertEventPropsToHandlers(["readystatechange"]),this.dispatchEvent("readystatechange")
},setRequestHeader:function(r,s){var o=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","content-transfer-encoding","date","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","user-agent","via"];if(i("readyState")!==f.OPENED||O)throw new t.DOMException(t.DOMException.INVALID_STATE_ERR);if(/[\u0100-\uffff]/.test(r)||n.utf8_encode(r)!==r)throw new t.DOMException(t.DOMException.SYNTAX_ERR);return r=e.trim(r).toLowerCase(),~e.inArray(r,o)||/^(proxy\-|sec\-)/.test(r)?!1:(E[r]?E[r]+=", "+s:E[r]=s,!0)},getAllResponseHeaders:function(){return F||""},getResponseHeader:function(t){return t=t.toLowerCase(),H||~e.inArray(t,["set-cookie","set-cookie2"])?null:F&&""!==F&&(C||(C={},e.each(F.split(/\r\n/),function(t){var i=t.split(/:\s+/);2===i.length&&(i[0]=e.trim(i[0]),C[i[0].toLowerCase()]={header:i[0],value:e.trim(i[1])})})),C.hasOwnProperty(t))?C[t].header+": "+C[t].value:null},overrideMimeType:function(n){var r,s;if(~e.inArray(i("readyState"),[f.LOADING,f.DONE]))throw new t.DOMException(t.DOMException.INVALID_STATE_ERR);if(n=e.trim(n.toLowerCase()),/;/.test(n)&&(r=n.match(/^([^;]+)(?:;\scharset\=)?(.*)$/))&&(n=r[1],r[2]&&(s=r[2])),!d.mimes[n])throw new t.DOMException(t.DOMException.SYNTAX_ERR);z=n,N=s},send:function(i,r){if(L="string"===e.typeOf(r)?{ruid:r}:r?r:{},this.convertEventPropsToHandlers(g),this.upload.convertEventPropsToHandlers(g),this.readyState!==f.OPENED||O)throw new t.DOMException(t.DOMException.INVALID_STATE_ERR);if(i instanceof a)L.ruid=i.ruid,A=i.type||"application/octet-stream";else if(i instanceof c){if(i.hasBlob()){var s=i.getBlob();L.ruid=s.ruid,A=s.type||"application/octet-stream"}}else"string"==typeof i&&(M="UTF-8",A="text/plain;charset=UTF-8",i=n.utf8_encode(i));this.withCredentials||(this.withCredentials=L.required_caps&&L.required_caps.send_browser_cookies&&!P),$=!I&&this.upload.hasEventListener(),H=!1,R=!i,I||(O=!0),l.call(this,i)},abort:function(){if(H=!0,I=!1,~e.inArray(i("readyState"),[f.UNSENT,f.OPENED,f.DONE]))i("readyState",f.UNSENT);else{if(i("readyState",f.DONE),O=!1,!_)throw new t.DOMException(t.DOMException.INVALID_STATE_ERR);_.getRuntime().exec.call(_,"XMLHttpRequest","abort",R),R=!0}},destroy:function(){_&&("function"===e.typeOf(_.destroy)&&_.destroy(),_=null),this.unbindAll(),this.upload&&(this.upload.unbindAll(),this.upload=null)}})}var p={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",306:"Reserved",307:"Temporary Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Request Entity Too Large",414:"Request-URI Too Long",415:"Unsupported Media Type",416:"Requested Range Not Satisfiable",417:"Expectation Failed",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",426:"Upgrade Required",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",510:"Not Extended"};h.prototype=i.instance;var g=["loadstart","progress","abort","error","load","timeout","loadend"];return f.UNSENT=0,f.OPENED=1,f.HEADERS_RECEIVED=2,f.LOADING=3,f.DONE=4,f.prototype=i.instance,f}),n("moxie/runtime/Transporter",["moxie/core/utils/Basic","moxie/core/utils/Encode","moxie/runtime/RuntimeClient","moxie/core/EventTarget"],function(e,t,i,n){function r(){function n(){u=d=0,c=this.result=null}function s(t,i){var n=this;l=i,n.bind("TransportingProgress",function(t){d=t.loaded,u>d&&-1===e.inArray(n.state,[r.IDLE,r.DONE])&&o.call(n)},999),n.bind("TransportingComplete",function(){d=u,n.state=r.DONE,c=null,n.result=l.exec.call(n,"Transporter","getAsBlob",t||"")},999),n.state=r.BUSY,n.trigger("TransportingStarted"),o.call(n)}function o(){var e,i=this,n=u-d;h>n&&(h=n),e=t.btoa(c.substr(d,h)),l.exec.call(i,"Transporter","receive",e,u)}var a,l,c,u,d,h;i.call(this),e.extend(this,{uid:e.guid("uid_"),state:r.IDLE,result:null,transport:function(t,i,r){var o=this;if(r=e.extend({chunk_size:204798},r),(a=r.chunk_size%3)&&(r.chunk_size+=3-a),h=r.chunk_size,n.call(this),c=t,u=t.length,"string"===e.typeOf(r)||r.ruid)s.call(o,i,this.connectRuntime(r));else{var l=function(e,t){o.unbind("RuntimeInit",l),s.call(o,i,t)};this.bind("RuntimeInit",l),this.connectRuntime(r)}},abort:function(){var e=this;e.state=r.IDLE,l&&(l.exec.call(e,"Transporter","clear"),e.trigger("TransportingAborted")),n.call(e)},destroy:function(){this.unbindAll(),l=null,this.disconnectRuntime(),n.call(this)}})}return r.IDLE=0,r.BUSY=1,r.DONE=2,r.prototype=n.instance,r}),n("moxie/image/Image",["moxie/core/utils/Basic","moxie/core/utils/Dom","moxie/core/Exceptions","moxie/file/FileReaderSync","moxie/xhr/XMLHttpRequest","moxie/runtime/Runtime","moxie/runtime/RuntimeClient","moxie/runtime/Transporter","moxie/core/utils/Env","moxie/core/EventTarget","moxie/file/Blob","moxie/file/File","moxie/core/utils/Encode"],function(e,t,i,n,r,s,o,a,l,c,u,d,h){function f(){function n(e){e||(e=this.getRuntime().exec.call(this,"Image","getInfo")),this.size=e.size,this.width=e.width,this.height=e.height,this.type=e.type,this.meta=e.meta,""===this.name&&(this.name=e.name)}function c(t){var n=e.typeOf(t);try{if(t instanceof f){if(!t.size)throw new i.DOMException(i.DOMException.INVALID_STATE_ERR);g.apply(this,arguments)}else if(t instanceof u){if(!~e.inArray(t.type,["image/jpeg","image/png"]))throw new i.ImageError(i.ImageError.WRONG_FORMAT);m.apply(this,arguments)}else if(-1!==e.inArray(n,["blob","file"]))c.call(this,new d(null,t),arguments[1]);else if("string"===n)/^data:[^;]*;base64,/.test(t)?c.call(this,new u(null,{data:t}),arguments[1]):v.apply(this,arguments);else{if("node"!==n||"img"!==t.nodeName.toLowerCase())throw new i.DOMException(i.DOMException.TYPE_MISMATCH_ERR);c.call(this,t.src,arguments[1])}}catch(r){this.trigger("error",r)}}function g(t,i){var n=this.connectRuntime(t.ruid);this.ruid=n.uid,n.exec.call(this,"Image","loadFromImage",t,"undefined"===e.typeOf(i)?!0:i)}function m(t,i){function n(e){r.ruid=e.uid,e.exec.call(r,"Image","loadFromBlob",t)}var r=this;r.name=t.name||"",t.isDetached()?(this.bind("RuntimeInit",function(e,t){n(t)}),i&&"string"==typeof i.required_caps&&(i.required_caps=s.parseCaps(i.required_caps)),this.connectRuntime(e.extend({required_caps:{access_image_binary:!0,resize_image:!0}},i))):n(this.connectRuntime(t.ruid))}function v(e,t){var i,n=this;i=new r,i.open("get",e),i.responseType="blob",i.onprogress=function(e){n.trigger(e)},i.onload=function(){m.call(n,i.response,!0)},i.onerror=function(e){n.trigger(e)},i.onloadend=function(){i.destroy()},i.bind("RuntimeError",function(e,t){n.trigger("RuntimeError",t)}),i.send(null,t)}o.call(this),e.extend(this,{uid:e.guid("uid_"),ruid:null,name:"",size:0,width:0,height:0,type:"",meta:{},clone:function(){this.load.apply(this,arguments)},load:function(){this.bind("Load Resize",function(){n.call(this)},999),this.convertEventPropsToHandlers(p),c.apply(this,arguments)},downsize:function(t,n,r,s){try{if(!this.size)throw new i.DOMException(i.DOMException.INVALID_STATE_ERR);if(this.width>f.MAX_RESIZE_WIDTH||this.height>f.MAX_RESIZE_HEIGHT)throw new i.ImageError(i.ImageError.MAX_RESOLUTION_ERR);(!t&&!n||"undefined"===e.typeOf(r))&&(r=!1),t=t||this.width,n=n||this.height,s="undefined"===e.typeOf(s)?!0:!!s,this.getRuntime().exec.call(this,"Image","downsize",t,n,r,s)}catch(o){this.trigger("error",o)}},crop:function(e,t,i){this.downsize(e,t,!0,i)},getAsCanvas:function(){if(!l.can("create_canvas"))throw new i.RuntimeError(i.RuntimeError.NOT_SUPPORTED_ERR);var e=this.connectRuntime(this.ruid);return e.exec.call(this,"Image","getAsCanvas")},getAsBlob:function(e,t){if(!this.size)throw new i.DOMException(i.DOMException.INVALID_STATE_ERR);return e||(e="image/jpeg"),"image/jpeg"!==e||t||(t=90),this.getRuntime().exec.call(this,"Image","getAsBlob",e,t)},getAsDataURL:function(e,t){if(!this.size)throw new i.DOMException(i.DOMException.INVALID_STATE_ERR);return this.getRuntime().exec.call(this,"Image","getAsDataURL",e,t)},getAsBinaryString:function(e,t){var i=this.getAsDataURL(e,t);return h.atob(i.substring(i.indexOf("base64,")+7))},embed:function(n){function r(){if(l.can("create_canvas")){var t=s.getAsCanvas();if(t)return n.appendChild(t),t=null,s.destroy(),void p.trigger("embedded")}var r=s.getAsDataURL(o,c);if(!r)throw new i.ImageError(i.ImageError.WRONG_FORMAT);if(l.can("use_data_uri_of",r.length))n.innerHTML='<img src="'+r+'" width="'+s.width+'" height="'+s.height+'" />',s.destroy(),p.trigger("embedded");else{var u=new a;u.bind("TransportingComplete",function(){d=p.connectRuntime(this.result.ruid),p.bind("Embedded",function(){e.extend(d.getShimContainer().style,{top:"0px",left:"0px",width:s.width+"px",height:s.height+"px"}),d=null},999),d.exec.call(p,"ImageView","display",this.result.uid,m,v),s.destroy()}),u.transport(h.atob(r.substring(r.indexOf("base64,")+7)),o,e.extend({},g,{required_caps:{display_media:!0},runtime_order:"flash,silverlight",container:n}))}}var s,o,c,u,d,p=this,g=arguments[1]||{},m=this.width,v=this.height;try{if(!(n=t.get(n)))throw new i.DOMException(i.DOMException.INVALID_NODE_TYPE_ERR);if(!this.size)throw new i.DOMException(i.DOMException.INVALID_STATE_ERR);if(this.width>f.MAX_RESIZE_WIDTH||this.height>f.MAX_RESIZE_HEIGHT)throw new i.ImageError(i.ImageError.MAX_RESOLUTION_ERR);if(o=g.type||this.type||"image/jpeg",c=g.quality||90,u="undefined"!==e.typeOf(g.crop)?g.crop:!1,g.width)m=g.width,v=g.height||m;else{var y=t.getSize(n);y.w&&y.h&&(m=y.w,v=y.h)}return s=new f,s.bind("Resize",function(){r.call(p)}),s.bind("Load",function(){s.downsize(m,v,u,!1)}),s.clone(this,!1),s}catch(b){this.trigger("error",b)}},destroy:function(){this.ruid&&(this.getRuntime().exec.call(this,"Image","destroy"),this.disconnectRuntime()),this.unbindAll()}})}var p=["progress","load","error","resize","embedded"];return f.MAX_RESIZE_WIDTH=6500,f.MAX_RESIZE_HEIGHT=6500,f.prototype=c.instance,f}),n("moxie/runtime/html5/Runtime",["moxie/core/utils/Basic","moxie/core/Exceptions","moxie/runtime/Runtime","moxie/core/utils/Env"],function(e,t,i,n){function r(t){var r=this,a=i.capTest,l=i.capTrue,c=e.extend({access_binary:a(window.FileReader||window.File&&window.File.getAsDataURL),access_image_binary:function(){return r.can("access_binary")&&!!o.Image},display_media:a(n.can("create_canvas")||n.can("use_data_uri_over32kb")),do_cors:a(window.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest),drag_and_drop:a(function(){var e=document.createElement("div");return("draggable"in e||"ondragstart"in e&&"ondrop"in e)&&("IE"!==n.browser||n.version>9)}()),filter_by_extension:a(function(){return"Chrome"===n.browser&&n.version>=28||"IE"===n.browser&&n.version>=10}()),return_response_headers:l,return_response_type:function(e){return"json"===e&&window.JSON?!0:n.can("return_response_type",e)},return_status_code:l,report_upload_progress:a(window.XMLHttpRequest&&(new XMLHttpRequest).upload),resize_image:function(){return r.can("access_binary")&&n.can("create_canvas")},select_file:function(){return n.can("use_fileinput")&&window.File},select_folder:function(){return r.can("select_file")&&"Chrome"===n.browser&&n.version>=21},select_multiple:function(){return!(!r.can("select_file")||"Safari"===n.browser&&"Windows"===n.os||"iOS"===n.os&&n.verComp(n.osVersion,"7.0.4","<"))},send_binary_string:a(window.XMLHttpRequest&&((new XMLHttpRequest).sendAsBinary||window.Uint8Array&&window.ArrayBuffer)),send_custom_headers:a(window.XMLHttpRequest),send_multipart:function(){return!!(window.XMLHttpRequest&&(new XMLHttpRequest).upload&&window.FormData)||r.can("send_binary_string")},slice_blob:a(window.File&&(File.prototype.mozSlice||File.prototype.webkitSlice||File.prototype.slice)),stream_upload:function(){return r.can("slice_blob")&&r.can("send_multipart")},summon_file_dialog:a(function(){return"Firefox"===n.browser&&n.version>=4||"Opera"===n.browser&&n.version>=12||"IE"===n.browser&&n.version>=10||!!~e.inArray(n.browser,["Chrome","Safari"])}()),upload_filesize:l},arguments[2]);i.call(this,t,arguments[1]||s,c),e.extend(this,{init:function(){this.trigger("Init")},destroy:function(e){return function(){e.call(r),e=r=null}}(this.destroy)}),e.extend(this.getShim(),o)}var s="html5",o={};return i.addConstructor(s,r),o}),n("moxie/runtime/html5/file/Blob",["moxie/runtime/html5/Runtime","moxie/file/Blob"],function(e,t){function i(){function e(e,t,i){var n;if(!window.File.prototype.slice)return(n=window.File.prototype.webkitSlice||window.File.prototype.mozSlice)?n.call(e,t,i):null;try{return e.slice(),e.slice(t,i)}catch(r){return e.slice(t,i-t)}}this.slice=function(){return new t(this.getRuntime().uid,e.apply(this,arguments))}}return e.Blob=i}),n("moxie/core/utils/Events",["moxie/core/utils/Basic"],function(e){function t(){this.returnValue=!1}function i(){this.cancelBubble=!0}var n={},r="moxie_"+e.guid(),s=function(s,o,a,l){var c,u;o=o.toLowerCase(),s.addEventListener?(c=a,s.addEventListener(o,c,!1)):s.attachEvent&&(c=function(){var e=window.event;e.target||(e.target=e.srcElement),e.preventDefault=t,e.stopPropagation=i,a(e)},s.attachEvent("on"+o,c)),s[r]||(s[r]=e.guid()),n.hasOwnProperty(s[r])||(n[s[r]]={}),u=n[s[r]],u.hasOwnProperty(o)||(u[o]=[]),u[o].push({func:c,orig:a,key:l})},o=function(t,i,s){var o,a;if(i=i.toLowerCase(),t[r]&&n[t[r]]&&n[t[r]][i]){o=n[t[r]][i];for(var l=o.length-1;l>=0&&(o[l].orig!==s&&o[l].key!==s||(t.removeEventListener?t.removeEventListener(i,o[l].func,!1):t.detachEvent&&t.detachEvent("on"+i,o[l].func),o[l].orig=null,o[l].func=null,o.splice(l,1),s===a));l--);if(o.length||delete n[t[r]][i],e.isEmptyObj(n[t[r]])){delete n[t[r]];try{delete t[r]}catch(c){t[r]=a}}}},a=function(t,i){t&&t[r]&&e.each(n[t[r]],function(e,n){o(t,n,i)})};return{addEvent:s,removeEvent:o,removeAllEvents:a}}),n("moxie/runtime/html5/file/FileInput",["moxie/runtime/html5/Runtime","moxie/core/utils/Basic","moxie/core/utils/Dom","moxie/core/utils/Events","moxie/core/utils/Mime","moxie/core/utils/Env"],function(e,t,i,n,r,s){function o(){var e,o=[];t.extend(this,{init:function(a){var l,c,u,d,h,f,p=this,g=p.getRuntime();e=a,o=[],u=e.accept.mimes||r.extList2mimes(e.accept,g.can("filter_by_extension")),c=g.getShimContainer(),c.innerHTML='<input id="'+g.uid+'" type="file" style="font-size:999px;opacity:0;"'+(e.multiple&&g.can("select_multiple")?"multiple":"")+(e.directory&&g.can("select_folder")?"webkitdirectory directory":"")+(u?' accept="'+u.join(",")+'"':"")+" />",l=i.get(g.uid),t.extend(l.style,{position:"absolute",top:0,left:0,width:"100%",height:"100%"}),d=i.get(e.browse_button),g.can("summon_file_dialog")&&("static"===i.getStyle(d,"position")&&(d.style.position="relative"),h=parseInt(i.getStyle(d,"z-index"),10)||1,d.style.zIndex=h,c.style.zIndex=h-1,n.addEvent(d,"click",function(e){var t=i.get(g.uid);t&&!t.disabled&&t.click(),e.preventDefault()},p.uid)),f=g.can("summon_file_dialog")?d:c,n.addEvent(f,"mouseover",function(){p.trigger("mouseenter")},p.uid),n.addEvent(f,"mouseout",function(){p.trigger("mouseleave")},p.uid),n.addEvent(f,"mousedown",function(){p.trigger("mousedown")},p.uid),n.addEvent(i.get(e.container),"mouseup",function(){p.trigger("mouseup")},p.uid),l.onchange=function m(){if(o=[],e.directory?t.each(this.files,function(e){"."!==e.name&&o.push(e)}):o=[].slice.call(this.files),"IE"!==s.browser)this.value="";else{var i=this.cloneNode(!0);this.parentNode.replaceChild(i,this),i.onchange=m}p.trigger("change")},p.trigger({type:"ready",async:!0}),c=null},getFiles:function(){return o},disable:function(e){var t,n=this.getRuntime();(t=i.get(n.uid))&&(t.disabled=!!e)},destroy:function(){var t=this.getRuntime(),r=t.getShim(),s=t.getShimContainer();n.removeAllEvents(s,this.uid),n.removeAllEvents(e&&i.get(e.container),this.uid),n.removeAllEvents(e&&i.get(e.browse_button),this.uid),s&&(s.innerHTML=""),r.removeInstance(this.uid),o=e=s=r=null}})}return e.FileInput=o}),n("moxie/runtime/html5/file/FileDrop",["moxie/runtime/html5/Runtime","moxie/core/utils/Basic","moxie/core/utils/Dom","moxie/core/utils/Events","moxie/core/utils/Mime"],function(e,t,i,n,r){function s(){function e(e){for(var i=[],n=0;n<e.length;n++)[].push.apply(i,e[n].extensions.split(/\s*,\s*/));return-1===t.inArray("*",i)?i:[]}function s(e){var i=r.getFileExtension(e.name);return!i||!h.length||-1!==t.inArray(i,h)}function o(e,i){var n=[];t.each(e,function(e){var t=e.webkitGetAsEntry();if(t)if(t.isFile){var i=e.getAsFile();s(i)&&d.push(i)}else n.push(t)}),n.length?a(n,i):i()}function a(e,i){var n=[];t.each(e,function(e){n.push(function(t){l(e,t)})}),t.inSeries(n,function(){i()})}function l(e,t){e.isFile?e.file(function(e){s(e)&&d.push(e),t()},function(){t()}):e.isDirectory?c(e,t):t()}function c(e,t){function i(e){r.readEntries(function(t){t.length?([].push.apply(n,t),i(e)):e()},e)}var n=[],r=e.createReader();i(function(){a(n,t)})}var u,d=[],h=[];t.extend(this,{init:function(i){var r,a=this;u=i,h=e(u.accept),r=u.container,n.addEvent(r,"dragover",function(e){e.preventDefault(),e.stopPropagation(),e.dataTransfer.dropEffect="copy"},a.uid),n.addEvent(r,"drop",function(e){e.preventDefault(),e.stopPropagation(),d=[],e.dataTransfer.items&&e.dataTransfer.items[0].webkitGetAsEntry?o(e.dataTransfer.items,function(){a.trigger("drop")}):(t.each(e.dataTransfer.files,function(e){s(e)&&d.push(e)}),a.trigger("drop"))},a.uid),n.addEvent(r,"dragenter",function(e){e.preventDefault(),e.stopPropagation(),a.trigger("dragenter")},a.uid),n.addEvent(r,"dragleave",function(e){e.preventDefault(),e.stopPropagation(),a.trigger("dragleave")},a.uid)},getFiles:function(){return d},destroy:function(){n.removeAllEvents(u&&i.get(u.container),this.uid),d=h=u=null}})}return e.FileDrop=s}),n("moxie/runtime/html5/file/FileReader",["moxie/runtime/html5/Runtime","moxie/core/utils/Encode","moxie/core/utils/Basic"],function(e,t,i){function n(){function e(e){return t.atob(e.substring(e.indexOf("base64,")+7))}var n,r=!1;i.extend(this,{read:function(e,t){var s=this;n=new window.FileReader,n.addEventListener("progress",function(e){s.trigger(e)}),n.addEventListener("load",function(e){s.trigger(e)}),n.addEventListener("error",function(e){s.trigger(e,n.error)}),n.addEventListener("loadend",function(){n=null}),"function"===i.typeOf(n[e])?(r=!1,n[e](t.getSource())):"readAsBinaryString"===e&&(r=!0,n.readAsDataURL(t.getSource()))},getResult:function(){return n&&n.result?r?e(n.result):n.result:null},abort:function(){n&&n.abort()},destroy:function(){n=null}})}return e.FileReader=n}),n("moxie/runtime/html5/xhr/XMLHttpRequest",["moxie/runtime/html5/Runtime","moxie/core/utils/Basic","moxie/core/utils/Mime","moxie/core/utils/Url","moxie/file/File","moxie/file/Blob","moxie/xhr/FormData","moxie/core/Exceptions","moxie/core/utils/Env"],function(e,t,i,n,r,s,o,a,l){function c(){function e(e,t){var i,n,r=this;i=t.getBlob().getSource(),n=new window.FileReader,n.onload=function(){t.append(t.getBlobName(),new s(null,{type:i.type,data:n.result})),p.send.call(r,e,t)},n.readAsBinaryString(i)}function c(){return!window.XMLHttpRequest||"IE"===l.browser&&l.version<8?function(){for(var e=["Msxml2.XMLHTTP.6.0","Microsoft.XMLHTTP"],t=0;t<e.length;t++)try{return new ActiveXObject(e[t])}catch(i){}}():new window.XMLHttpRequest}function u(e){var t=e.responseXML,i=e.responseText;return"IE"===l.browser&&i&&t&&!t.documentElement&&/[^\/]+\/[^\+]+\+xml/.test(e.getResponseHeader("Content-Type"))&&(t=new window.ActiveXObject("Microsoft.XMLDOM"),t.async=!1,t.validateOnParse=!1,t.loadXML(i)),t&&("IE"===l.browser&&0!==t.parseError||!t.documentElement||"parsererror"===t.documentElement.tagName)?null:t}function d(e){var t="----moxieboundary"+(new Date).getTime(),i="--",n="\r\n",r="",o=this.getRuntime();if(!o.can("send_binary_string"))throw new a.RuntimeError(a.RuntimeError.NOT_SUPPORTED_ERR);return h.setRequestHeader("Content-Type","multipart/form-data; boundary="+t),e.each(function(e,o){r+=e instanceof s?i+t+n+'Content-Disposition: form-data; name="'+o+'"; filename="'+unescape(encodeURIComponent(e.name||"blob"))+'"'+n+"Content-Type: "+(e.type||"application/octet-stream")+n+n+e.getSource()+n:i+t+n+'Content-Disposition: form-data; name="'+o+'"'+n+n+unescape(encodeURIComponent(e))+n}),r+=i+t+i+n}var h,f,p=this;t.extend(this,{send:function(i,r){var a=this,u="Mozilla"===l.browser&&l.version>=4&&l.version<7,p="Android Browser"===l.browser,g=!1;if(f=i.url.replace(/^.+?\/([\w\-\.]+)$/,"$1").toLowerCase(),h=c(),h.open(i.method,i.url,i.async,i.user,i.password),r instanceof s)r.isDetached()&&(g=!0),r=r.getSource();else if(r instanceof o){if(r.hasBlob())if(r.getBlob().isDetached())r=d.call(a,r),g=!0;else if((u||p)&&"blob"===t.typeOf(r.getBlob().getSource())&&window.FileReader)return void e.call(a,i,r);if(r instanceof o){var m=new window.FormData;r.each(function(e,t){e instanceof s?m.append(t,e.getSource()):m.append(t,e)}),r=m}}h.upload?(i.withCredentials&&(h.withCredentials=!0),h.addEventListener("load",function(e){a.trigger(e)}),h.addEventListener("error",function(e){a.trigger(e)}),h.addEventListener("progress",function(e){a.trigger(e)}),h.upload.addEventListener("progress",function(e){a.trigger({type:"UploadProgress",loaded:e.loaded,total:e.total})})):h.onreadystatechange=function(){switch(h.readyState){case 1:break;case 2:break;case 3:var e,t;try{n.hasSameOrigin(i.url)&&(e=h.getResponseHeader("Content-Length")||0),h.responseText&&(t=h.responseText.length)}catch(r){e=t=0}a.trigger({type:"progress",lengthComputable:!!e,total:parseInt(e,10),loaded:t});break;case 4:h.onreadystatechange=function(){},a.trigger(0===h.status?"error":"load")}},t.isEmptyObj(i.headers)||t.each(i.headers,function(e,t){h.setRequestHeader(t,e)}),""!==i.responseType&&"responseType"in h&&(h.responseType="json"!==i.responseType||l.can("return_response_type","json")?i.responseType:"text"),g?h.sendAsBinary?h.sendAsBinary(r):!function(){for(var e=new Uint8Array(r.length),t=0;t<r.length;t++)e[t]=255&r.charCodeAt(t);h.send(e.buffer)}():h.send(r),a.trigger("loadstart")},getStatus:function(){try{if(h)return h.status}catch(e){}return 0},getResponse:function(e){var t=this.getRuntime();try{switch(e){case"blob":var n=new r(t.uid,h.response),s=h.getResponseHeader("Content-Disposition");if(s){var o=s.match(/filename=([\'\"'])([^\1]+)\1/);o&&(f=o[2])}return n.name=f,n.type||(n.type=i.getFileMime(f)),n;case"json":return l.can("return_response_type","json")?h.response:200===h.status&&window.JSON?JSON.parse(h.responseText):null;case"document":return u(h);default:return""!==h.responseText?h.responseText:null}}catch(a){return null}},getAllResponseHeaders:function(){try{return h.getAllResponseHeaders()}catch(e){}return""},abort:function(){h&&h.abort()},destroy:function(){p=f=null}})}return e.XMLHttpRequest=c}),n("moxie/runtime/html5/utils/BinaryReader",[],function(){return function(){function e(e,t){var i,n=s?0:-8*(t-1),o=0;for(i=0;t>i;i++)o|=r.charCodeAt(e+i)<<Math.abs(n+8*i);return o}function i(e,t,i){i=3===arguments.length?i:r.length-t-1,r=r.substr(0,t)+e+r.substr(i+t)}function n(e,t,n){var r,o="",a=s?0:-8*(n-1);for(r=0;n>r;r++)o+=String.fromCharCode(t>>Math.abs(a+8*r)&255);i(o,e,n)}var r,s=!1;return{II:function(e){return e===t?s:void(s=e)},init:function(e){s=!1,r=e},SEGMENT:function(e,t,n){switch(arguments.length){case 1:return r.substr(e,r.length-e-1);case 2:return r.substr(e,t);case 3:i(n,e,t);break;default:return r}},BYTE:function(t){return e(t,1)},SHORT:function(t){return e(t,2)},LONG:function(i,r){return r===t?e(i,4):void n(i,r,4)},SLONG:function(t){var i=e(t,4);return i>2147483647?i-4294967296:i},STRING:function(t,i){var n="";for(i+=t;i>t;t++)n+=String.fromCharCode(e(t,1));return n}}}}),n("moxie/runtime/html5/image/JPEGHeaders",["moxie/runtime/html5/utils/BinaryReader"],function(e){return function t(i){var n,r,s,o=[],a=0;if(n=new e,n.init(i),65496===n.SHORT(0)){for(r=2;r<=i.length;)if(s=n.SHORT(r),s>=65488&&65495>=s)r+=2;else{if(65498===s||65497===s)break;a=n.SHORT(r+2)+2,s>=65505&&65519>=s&&o.push({hex:s,name:"APP"+(15&s),start:r,length:a,segment:n.SEGMENT(r,a)}),r+=a}return n.init(null),{headers:o,restore:function(e){var t,i;for(n.init(e),r=65504==n.SHORT(2)?4+n.SHORT(4):2,i=0,t=o.length;t>i;i++)n.SEGMENT(r,0,o[i].segment),r+=o[i].length;return e=n.SEGMENT(),n.init(null),e},strip:function(e){var i,r,s;for(r=new t(e),i=r.headers,r.purge(),n.init(e),s=i.length;s--;)n.SEGMENT(i[s].start,i[s].length,"");return e=n.SEGMENT(),n.init(null),e},get:function(e){for(var t=[],i=0,n=o.length;n>i;i++)o[i].name===e.toUpperCase()&&t.push(o[i].segment);return t},set:function(e,t){var i,n,r,s=[];for("string"==typeof t?s.push(t):s=t,i=n=0,r=o.length;r>i&&(o[i].name===e.toUpperCase()&&(o[i].segment=s[n],o[i].length=s[n].length,n++),!(n>=s.length));i++);},purge:function(){o=[],n.init(null),n=null}}}}}),n("moxie/runtime/html5/image/ExifParser",["moxie/core/utils/Basic","moxie/runtime/html5/utils/BinaryReader"],function(e,i){return function(){function n(e,i){var n,r,s,a,l,d,h,f,p=o.SHORT(e),g=[],m={};for(n=0;p>n;n++)if(h=d=e+12*n+2,s=i[o.SHORT(h)],s!==t){switch(a=o.SHORT(h+=2),l=o.LONG(h+=2),h+=4,g=[],a){case 1:case 7:for(l>4&&(h=o.LONG(h)+u.tiffHeader),r=0;l>r;r++)g[r]=o.BYTE(h+r);break;case 2:l>4&&(h=o.LONG(h)+u.tiffHeader),m[s]=o.STRING(h,l-1);continue;case 3:for(l>2&&(h=o.LONG(h)+u.tiffHeader),r=0;l>r;r++)g[r]=o.SHORT(h+2*r);break;case 4:for(l>1&&(h=o.LONG(h)+u.tiffHeader),r=0;l>r;r++)g[r]=o.LONG(h+4*r);break;case 5:for(h=o.LONG(h)+u.tiffHeader,r=0;l>r;r++)g[r]=o.LONG(h+4*r)/o.LONG(h+4*r+4);break;case 9:for(h=o.LONG(h)+u.tiffHeader,r=0;l>r;r++)g[r]=o.SLONG(h+4*r);break;case 10:for(h=o.LONG(h)+u.tiffHeader,r=0;l>r;r++)g[r]=o.SLONG(h+4*r)/o.SLONG(h+4*r+4);break;default:continue}f=1==l?g[0]:g,m[s]=c.hasOwnProperty(s)&&"object"!=typeof f?c[s][f]:f}return m}function r(){var e=u.tiffHeader;return o.II(18761==o.SHORT(e)),42!==o.SHORT(e+=2)?!1:(u.IFD0=u.tiffHeader+o.LONG(e+=2),l=n(u.IFD0,a.tiff),"ExifIFDPointer"in l&&(u.exifIFD=u.tiffHeader+l.ExifIFDPointer,delete l.ExifIFDPointer),"GPSInfoIFDPointer"in l&&(u.gpsIFD=u.tiffHeader+l.GPSInfoIFDPointer,delete l.GPSInfoIFDPointer),!0)}function s(e,t,i){var n,r,s,l=0;if("string"==typeof t){var c=a[e.toLowerCase()];for(var d in c)if(c[d]===t){t=d;break}}n=u[e.toLowerCase()+"IFD"],r=o.SHORT(n);for(var h=0;r>h;h++)if(s=n+12*h+2,o.SHORT(s)==t){l=s+8;break}return l?(o.LONG(l,i),!0):!1}var o,a,l,c,u={};return o=new i,a={tiff:{274:"Orientation",270:"ImageDescription",271:"Make",272:"Model",305:"Software",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer"},exif:{36864:"ExifVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",36867:"DateTimeOriginal",33434:"ExposureTime",33437:"FNumber",34855:"ISOSpeedRatings",37377:"ShutterSpeedValue",37378:"ApertureValue",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37386:"FocalLength",41986:"ExposureMode",41987:"WhiteBalance",41990:"SceneCaptureType",41988:"DigitalZoomRatio",41992:"Contrast",41993:"Saturation",41994:"Sharpness"},gps:{0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude"}},c={ColorSpace:{1:"sRGB",0:"Uncalibrated"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{1:"Daylight",2:"Fliorescent",3:"Tungsten",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 -5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire.",1:"Flash fired.",5:"Strobe return light not detected.",7:"Strobe return light detected.",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},ExposureMode:{0:"Auto exposure",1:"Manual exposure",2:"Auto bracket"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},GPSLatitudeRef:{N:"North latitude",S:"South latitude"},GPSLongitudeRef:{E:"East longitude",W:"West longitude"}},{init:function(e){return u={tiffHeader:10},e!==t&&e.length?(o.init(e),65505===o.SHORT(0)&&"EXIF\x00"===o.STRING(4,5).toUpperCase()?r():!1):!1},TIFF:function(){return l},EXIF:function(){var t;if(t=n(u.exifIFD,a.exif),t.ExifVersion&&"array"===e.typeOf(t.ExifVersion)){for(var i=0,r="";i<t.ExifVersion.length;i++)r+=String.fromCharCode(t.ExifVersion[i]);t.ExifVersion=r}return t},GPS:function(){var t;return t=n(u.gpsIFD,a.gps),t.GPSVersionID&&"array"===e.typeOf(t.GPSVersionID)&&(t.GPSVersionID=t.GPSVersionID.join(".")),t},setExif:function(e,t){return"PixelXDimension"!==e&&"PixelYDimension"!==e?!1:s("exif",e,t)},getBinary:function(){return o.SEGMENT()},purge:function(){o.init(null),o=l=null,u={}}}}}),n("moxie/runtime/html5/image/JPEG",["moxie/core/utils/Basic","moxie/core/Exceptions","moxie/runtime/html5/image/JPEGHeaders","moxie/runtime/html5/utils/BinaryReader","moxie/runtime/html5/image/ExifParser"],function(e,t,i,n,r){function s(s){function o(){for(var e,t,i=0;i<=l.length;){if(e=c.SHORT(i+=2),e>=65472&&65475>=e)return i+=5,{height:c.SHORT(i),width:c.SHORT(i+=2)};t=c.SHORT(i+=2),i+=t-2}return null}function a(){d&&u&&c&&(d.purge(),u.purge(),c.init(null),l=h=u=d=c=null)}var l,c,u,d,h,f;if(l=s,c=new n,c.init(l),65496!==c.SHORT(0))throw new t.ImageError(t.ImageError.WRONG_FORMAT);u=new i(s),d=new r,f=!!d.init(u.get("app1")[0]),h=o.call(this),e.extend(this,{type:"image/jpeg",size:l.length,width:h&&h.width||0,height:h&&h.height||0,setExif:function(t,i){return f?("object"===e.typeOf(t)?e.each(t,function(e,t){d.setExif(t,e)}):d.setExif(t,i),void u.set("app1",d.getBinary())):!1},writeHeaders:function(){return arguments.length?u.restore(arguments[0]):l=u.restore(l)},stripHeaders:function(e){return u.strip(e)},purge:function(){a.call(this)}}),f&&(this.meta={tiff:d.TIFF(),exif:d.EXIF(),gps:d.GPS()})}return s}),n("moxie/runtime/html5/image/PNG",["moxie/core/Exceptions","moxie/core/utils/Basic","moxie/runtime/html5/utils/BinaryReader"],function(e,t,i){function n(n){function r(){var e,t;return e=o.call(this,8),"IHDR"==e.type?(t=e.start,{width:l.LONG(t),height:l.LONG(t+=4)}):null}function s(){l&&(l.init(null),a=d=c=u=l=null)}function o(e){var t,i,n,r;return t=l.LONG(e),i=l.STRING(e+=4,4),n=e+=4,r=l.LONG(e+t),{length:t,type:i,start:n,CRC:r}}var a,l,c,u,d;a=n,l=new i,l.init(a),function(){var t=0,i=0,n=[35152,20039,3338,6666];for(i=0;i<n.length;i++,t+=2)if(n[i]!=l.SHORT(t))throw new e.ImageError(e.ImageError.WRONG_FORMAT)}(),d=r.call(this),t.extend(this,{type:"image/png",size:a.length,width:d.width,height:d.height,purge:function(){s.call(this)}}),s.call(this)}return n}),n("moxie/runtime/html5/image/ImageInfo",["moxie/core/utils/Basic","moxie/core/Exceptions","moxie/runtime/html5/image/JPEG","moxie/runtime/html5/image/PNG"],function(e,t,i,n){return function(r){var s,o=[i,n];s=function(){for(var e=0;e<o.length;e++)try{return new o[e](r)}catch(i){}throw new t.ImageError(t.ImageError.WRONG_FORMAT)}(),e.extend(this,{type:"",size:0,width:0,height:0,setExif:function(){},writeHeaders:function(e){return e},stripHeaders:function(e){return e},purge:function(){}}),e.extend(this,s),this.purge=function(){s.purge(),s=null
}}}),n("moxie/runtime/html5/image/MegaPixel",[],function(){function e(e,n,r){var s=e.naturalWidth,o=e.naturalHeight,a=r.width,l=r.height,c=r.x||0,u=r.y||0,d=n.getContext("2d");t(e)&&(s/=2,o/=2);var h=1024,f=document.createElement("canvas");f.width=f.height=h;for(var p=f.getContext("2d"),g=i(e,s,o),m=0;o>m;){for(var v=m+h>o?o-m:h,y=0;s>y;){var b=y+h>s?s-y:h;p.clearRect(0,0,h,h),p.drawImage(e,-y,-m);var w=y*a/s+c<<0,x=Math.ceil(b*a/s),k=m*l/o/g+u<<0,_=Math.ceil(v*l/o/g);d.drawImage(f,0,0,b,v,w,k,x,_),y+=h}m+=h}f=p=null}function t(e){var t=e.naturalWidth,i=e.naturalHeight;if(t*i>1048576){var n=document.createElement("canvas");n.width=n.height=1;var r=n.getContext("2d");return r.drawImage(e,-t+1,0),0===r.getImageData(0,0,1,1).data[3]}return!1}function i(e,t,i){var n=document.createElement("canvas");n.width=1,n.height=i;var r=n.getContext("2d");r.drawImage(e,0,0);for(var s=r.getImageData(0,0,1,i).data,o=0,a=i,l=i;l>o;){var c=s[4*(l-1)+3];0===c?a=l:o=l,l=a+o>>1}n=null;var u=l/i;return 0===u?1:u}return{isSubsampled:t,renderTo:e}}),n("moxie/runtime/html5/image/Image",["moxie/runtime/html5/Runtime","moxie/core/utils/Basic","moxie/core/Exceptions","moxie/core/utils/Encode","moxie/file/File","moxie/runtime/html5/image/ImageInfo","moxie/runtime/html5/image/MegaPixel","moxie/core/utils/Mime","moxie/core/utils/Env"],function(e,t,i,n,r,s,o,a,l){function c(){function e(){if(!b&&!v)throw new i.ImageError(i.DOMException.INVALID_STATE_ERR);return b||v}function c(e){return n.atob(e.substring(e.indexOf("base64,")+7))}function u(e,t){return"data:"+(t||"")+";base64,"+n.btoa(e)}function d(e){var t=this;v=new Image,v.onerror=function(){m.call(this),t.trigger("error",new i.ImageError(i.ImageError.WRONG_FORMAT))},v.onload=function(){t.trigger("load")},v.src=/^data:[^;]*;base64,/.test(e)?e:u(e,x.type)}function h(e,t){var n,r=this;return window.FileReader?(n=new FileReader,n.onload=function(){t(this.result)},n.onerror=function(){r.trigger("error",new i.FileException(i.FileException.NOT_READABLE_ERR))},n.readAsDataURL(e),void 0):t(e.getAsDataURL())}function f(i,n,r,s){var o,a,l,c,u,d,h=this,f=0,m=0;if(C=s,d=this.meta&&this.meta.tiff&&this.meta.tiff.Orientation||1,-1!==t.inArray(d,[5,6,7,8])){var v=i;i=n,n=v}return l=e(),a=r?Math.max:Math.min,o=a(i/l.width,n/l.height),o>1&&(!r||s)?void this.trigger("Resize"):(b||(b=document.createElement("canvas")),c=Math.round(l.width*o),u=Math.round(l.height*o),r?(b.width=i,b.height=n,c>i&&(f=Math.round((c-i)/2)),u>n&&(m=Math.round((u-n)/2))):(b.width=c,b.height=u),C||g(b.width,b.height,d),p.call(this,l,b,-f,-m,c,u),this.width=b.width,this.height=b.height,_=!0,void h.trigger("Resize"))}function p(e,t,i,n,r,s){if("iOS"===l.OS)o.renderTo(e,t,{width:r,height:s,x:i,y:n});else{var a=t.getContext("2d");a.drawImage(e,i,n,r,s)}}function g(e,t,i){switch(i){case 5:case 6:case 7:case 8:b.width=t,b.height=e;break;default:b.width=e,b.height=t}var n=b.getContext("2d");switch(i){case 2:n.translate(e,0),n.scale(-1,1);break;case 3:n.translate(e,t),n.rotate(Math.PI);break;case 4:n.translate(0,t),n.scale(1,-1);break;case 5:n.rotate(.5*Math.PI),n.scale(1,-1);break;case 6:n.rotate(.5*Math.PI),n.translate(0,-t);break;case 7:n.rotate(.5*Math.PI),n.translate(e,-t),n.scale(-1,1);break;case 8:n.rotate(-.5*Math.PI),n.translate(-e,0)}}function m(){y&&(y.purge(),y=null),w=v=b=x=null,_=!1}var v,y,b,w,x,k=this,_=!1,C=!0;t.extend(this,{loadFromBlob:function(e){var t=this,n=t.getRuntime(),r=arguments.length>1?arguments[1]:!0;if(!n.can("access_binary"))throw new i.RuntimeError(i.RuntimeError.NOT_SUPPORTED_ERR);return x=e,e.isDetached()?(w=e.getSource(),void d.call(this,w)):void h.call(this,e.getSource(),function(e){r&&(w=c(e)),d.call(t,e)})},loadFromImage:function(e,t){this.meta=e.meta,x=new r(null,{name:e.name,size:e.size,type:e.type}),d.call(this,t?w=e.getAsBinaryString():e.getAsDataURL())},getInfo:function(){var t,i=this.getRuntime();return!y&&w&&i.can("access_image_binary")&&(y=new s(w)),t={width:e().width||0,height:e().height||0,type:x.type||a.getFileMime(x.name),size:w&&w.length||x.size||0,name:x.name||"",meta:y&&y.meta||this.meta||{}}},downsize:function(){f.apply(this,arguments)},getAsCanvas:function(){return b&&(b.id=this.uid+"_canvas"),b},getAsBlob:function(e,t){return e!==this.type&&f.call(this,this.width,this.height,!1),new r(null,{name:x.name||"",type:e,data:k.getAsBinaryString.call(this,e,t)})},getAsDataURL:function(e){var t=arguments[1]||90;if(!_)return v.src;if("image/jpeg"!==e)return b.toDataURL("image/png");try{return b.toDataURL("image/jpeg",t/100)}catch(i){return b.toDataURL("image/jpeg")}},getAsBinaryString:function(e,t){if(!_)return w||(w=c(k.getAsDataURL(e,t))),w;if("image/jpeg"!==e)w=c(k.getAsDataURL(e,t));else{var i;t||(t=90);try{i=b.toDataURL("image/jpeg",t/100)}catch(n){i=b.toDataURL("image/jpeg")}w=c(i),y&&(w=y.stripHeaders(w),C&&(y.meta&&y.meta.exif&&y.setExif({PixelXDimension:this.width,PixelYDimension:this.height}),w=y.writeHeaders(w)),y.purge(),y=null)}return _=!1,w},destroy:function(){k=null,m.call(this),this.getRuntime().getShim().removeInstance(this.uid)}})}return e.Image=c}),n("moxie/runtime/flash/Runtime",["moxie/core/utils/Basic","moxie/core/utils/Env","moxie/core/utils/Dom","moxie/core/Exceptions","moxie/runtime/Runtime"],function(e,t,i,n,r){function s(){var e;try{e=navigator.plugins["Shockwave Flash"],e=e.description}catch(t){try{e=new ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version")}catch(i){e="0.0"}}return e=e.match(/\d+/g),parseFloat(e[0]+"."+e[1])}function o(o){var c,u=this;o=e.extend({swf_url:t.swf_url},o),r.call(this,o,a,{access_binary:function(e){return e&&"browser"===u.mode},access_image_binary:function(e){return e&&"browser"===u.mode},display_media:r.capTrue,do_cors:r.capTrue,drag_and_drop:!1,report_upload_progress:function(){return"client"===u.mode},resize_image:r.capTrue,return_response_headers:!1,return_response_type:function(t){return"json"===t&&window.JSON?!0:!e.arrayDiff(t,["","text","document"])||"browser"===u.mode},return_status_code:function(t){return"browser"===u.mode||!e.arrayDiff(t,[200,404])},select_file:r.capTrue,select_multiple:r.capTrue,send_binary_string:function(e){return e&&"browser"===u.mode},send_browser_cookies:function(e){return e&&"browser"===u.mode},send_custom_headers:function(e){return e&&"browser"===u.mode},send_multipart:r.capTrue,slice_blob:r.capTrue,stream_upload:function(e){return e&&"browser"===u.mode},summon_file_dialog:!1,upload_filesize:function(t){return e.parseSizeStr(t)<=2097152||"client"===u.mode},use_http_method:function(t){return!e.arrayDiff(t,["GET","POST"])}},{access_binary:function(e){return e?"browser":"client"},access_image_binary:function(e){return e?"browser":"client"},report_upload_progress:function(e){return e?"browser":"client"},return_response_type:function(t){return e.arrayDiff(t,["","text","json","document"])?"browser":["client","browser"]},return_status_code:function(t){return e.arrayDiff(t,[200,404])?"browser":["client","browser"]},send_binary_string:function(e){return e?"browser":"client"},send_browser_cookies:function(e){return e?"browser":"client"},send_custom_headers:function(e){return e?"browser":"client"},stream_upload:function(e){return e?"client":"browser"},upload_filesize:function(t){return e.parseSizeStr(t)>=2097152?"client":"browser"}},"client"),s()<10&&(this.mode=!1),e.extend(this,{getShim:function(){return i.get(this.uid)},shimExec:function(e,t){var i=[].slice.call(arguments,2);return u.getShim().exec(this.uid,e,t,i)},init:function(){var i,r,s;s=this.getShimContainer(),e.extend(s.style,{position:"absolute",top:"-8px",left:"-8px",width:"9px",height:"9px",overflow:"hidden"}),i='<object id="'+this.uid+'" type="application/x-shockwave-flash" data="'+o.swf_url+'" ',"IE"===t.browser&&(i+='classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" '),i+='width="100%" height="100%" style="outline:0"><param name="movie" value="'+o.swf_url+'" /><param name="flashvars" value="uid='+escape(this.uid)+"&target="+t.global_event_dispatcher+'" /><param name="wmode" value="transparent" /><param name="allowscriptaccess" value="always" /></object>',"IE"===t.browser?(r=document.createElement("div"),s.appendChild(r),r.outerHTML=i,r=s=null):s.innerHTML=i,c=setTimeout(function(){u&&!u.initialized&&u.trigger("Error",new n.RuntimeError(n.RuntimeError.NOT_INIT_ERR))},5e3)},destroy:function(e){return function(){e.call(u),clearTimeout(c),o=c=e=u=null}}(this.destroy)},l)}var a="flash",l={};return r.addConstructor(a,o),l}),n("moxie/runtime/flash/file/Blob",["moxie/runtime/flash/Runtime","moxie/file/Blob"],function(e,t){var i={slice:function(e,i,n,r){var s=this.getRuntime();return 0>i?i=Math.max(e.size+i,0):i>0&&(i=Math.min(i,e.size)),0>n?n=Math.max(e.size+n,0):n>0&&(n=Math.min(n,e.size)),e=s.shimExec.call(this,"Blob","slice",i,n,r||""),e&&(e=new t(s.uid,e)),e}};return e.Blob=i}),n("moxie/runtime/flash/file/FileInput",["moxie/runtime/flash/Runtime"],function(e){var t={init:function(e){this.getRuntime().shimExec.call(this,"FileInput","init",{name:e.name,accept:e.accept,multiple:e.multiple}),this.trigger("ready")}};return e.FileInput=t}),n("moxie/runtime/flash/file/FileReader",["moxie/runtime/flash/Runtime","moxie/core/utils/Encode"],function(e,t){function i(e,i){switch(i){case"readAsText":return t.atob(e,"utf8");case"readAsBinaryString":return t.atob(e);case"readAsDataURL":return e}return null}var n="",r={read:function(e,t){var r=this,s=r.getRuntime();return"readAsDataURL"===e&&(n="data:"+(t.type||"")+";base64,"),r.bind("Progress",function(t,r){r&&(n+=i(r,e))}),s.shimExec.call(this,"FileReader","readAsBase64",t.uid)},getResult:function(){return n},destroy:function(){n=null}};return e.FileReader=r}),n("moxie/runtime/flash/file/FileReaderSync",["moxie/runtime/flash/Runtime","moxie/core/utils/Encode"],function(e,t){function i(e,i){switch(i){case"readAsText":return t.atob(e,"utf8");case"readAsBinaryString":return t.atob(e);case"readAsDataURL":return e}return null}var n={read:function(e,t){var n,r=this.getRuntime();return(n=r.shimExec.call(this,"FileReaderSync","readAsBase64",t.uid))?("readAsDataURL"===e&&(n="data:"+(t.type||"")+";base64,"+n),i(n,e,t.type)):null}};return e.FileReaderSync=n}),n("moxie/runtime/flash/xhr/XMLHttpRequest",["moxie/runtime/flash/Runtime","moxie/core/utils/Basic","moxie/file/Blob","moxie/file/File","moxie/file/FileReaderSync","moxie/xhr/FormData","moxie/runtime/Transporter"],function(e,t,i,n,r,s,o){var a={send:function(e,n){function r(){e.transport=u.mode,u.shimExec.call(c,"XMLHttpRequest","send",e,n)}function a(e,t){u.shimExec.call(c,"XMLHttpRequest","appendBlob",e,t.uid),n=null,r()}function l(e,t){var i=new o;i.bind("TransportingComplete",function(){t(this.result)}),i.transport(e.getSource(),e.type,{ruid:u.uid})}var c=this,u=c.getRuntime();if(t.isEmptyObj(e.headers)||t.each(e.headers,function(e,t){u.shimExec.call(c,"XMLHttpRequest","setRequestHeader",t,e.toString())}),n instanceof s){var d;if(n.each(function(e,t){e instanceof i?d=t:u.shimExec.call(c,"XMLHttpRequest","append",t,e)}),n.hasBlob()){var h=n.getBlob();h.isDetached()?l(h,function(e){h.destroy(),a(d,e)}):a(d,h)}else n=null,r()}else n instanceof i?n.isDetached()?l(n,function(e){n.destroy(),n=e.uid,r()}):(n=n.uid,r()):r()},getResponse:function(e){var i,s,o=this.getRuntime();if(s=o.shimExec.call(this,"XMLHttpRequest","getResponseAsBlob")){if(s=new n(o.uid,s),"blob"===e)return s;try{if(i=new r,~t.inArray(e,["","text"]))return i.readAsText(s);if("json"===e&&window.JSON)return JSON.parse(i.readAsText(s))}finally{s.destroy()}}return null},abort:function(){var e=this.getRuntime();e.shimExec.call(this,"XMLHttpRequest","abort"),this.dispatchEvent("readystatechange"),this.dispatchEvent("abort")}};return e.XMLHttpRequest=a}),n("moxie/runtime/flash/runtime/Transporter",["moxie/runtime/flash/Runtime","moxie/file/Blob"],function(e,t){var i={getAsBlob:function(e){var i=this.getRuntime(),n=i.shimExec.call(this,"Transporter","getAsBlob",e);return n?new t(i.uid,n):null}};return e.Transporter=i}),n("moxie/runtime/flash/image/Image",["moxie/runtime/flash/Runtime","moxie/core/utils/Basic","moxie/runtime/Transporter","moxie/file/Blob","moxie/file/FileReaderSync"],function(e,t,i,n,r){var s={loadFromBlob:function(e){function t(e){r.shimExec.call(n,"Image","loadFromBlob",e.uid),n=r=null}var n=this,r=n.getRuntime();if(e.isDetached()){var s=new i;s.bind("TransportingComplete",function(){t(s.result.getSource())}),s.transport(e.getSource(),e.type,{ruid:r.uid})}else t(e.getSource())},loadFromImage:function(e){var t=this.getRuntime();return t.shimExec.call(this,"Image","loadFromImage",e.uid)},getAsBlob:function(e,t){var i=this.getRuntime(),r=i.shimExec.call(this,"Image","getAsBlob",e,t);return r?new n(i.uid,r):null},getAsDataURL:function(){var e,t=this.getRuntime(),i=t.Image.getAsBlob.apply(this,arguments);return i?(e=new r,e.readAsDataURL(i)):null}};return e.Image=s}),n("moxie/runtime/silverlight/Runtime",["moxie/core/utils/Basic","moxie/core/utils/Env","moxie/core/utils/Dom","moxie/core/Exceptions","moxie/runtime/Runtime"],function(e,t,i,n,r){function s(e){var t,i,n,r,s,o=!1,a=null,l=0;try{try{a=new ActiveXObject("AgControl.AgControl"),a.IsVersionSupported(e)&&(o=!0),a=null}catch(c){var u=navigator.plugins["Silverlight Plug-In"];if(u){for(t=u.description,"1.0.30226.2"===t&&(t="2.0.30226.2"),i=t.split(".");i.length>3;)i.pop();for(;i.length<4;)i.push(0);for(n=e.split(".");n.length>4;)n.pop();do r=parseInt(n[l],10),s=parseInt(i[l],10),l++;while(l<n.length&&r===s);s>=r&&!isNaN(r)&&(o=!0)}}}catch(d){o=!1}return o}function o(o){var c,u=this;o=e.extend({xap_url:t.xap_url},o),r.call(this,o,a,{access_binary:r.capTrue,access_image_binary:r.capTrue,display_media:r.capTrue,do_cors:r.capTrue,drag_and_drop:!1,report_upload_progress:r.capTrue,resize_image:r.capTrue,return_response_headers:function(e){return e&&"client"===u.mode},return_response_type:function(e){return"json"!==e?!0:!!window.JSON},return_status_code:function(t){return"client"===u.mode||!e.arrayDiff(t,[200,404])},select_file:r.capTrue,select_multiple:r.capTrue,send_binary_string:r.capTrue,send_browser_cookies:function(e){return e&&"browser"===u.mode},send_custom_headers:function(e){return e&&"client"===u.mode},send_multipart:r.capTrue,slice_blob:r.capTrue,stream_upload:!0,summon_file_dialog:!1,upload_filesize:r.capTrue,use_http_method:function(t){return"client"===u.mode||!e.arrayDiff(t,["GET","POST"])}},{return_response_headers:function(e){return e?"client":"browser"},return_status_code:function(t){return e.arrayDiff(t,[200,404])?"client":["client","browser"]},send_browser_cookies:function(e){return e?"browser":"client"},send_custom_headers:function(e){return e?"client":"browser"},use_http_method:function(t){return e.arrayDiff(t,["GET","POST"])?"client":["client","browser"]}}),s("2.0.31005.0")&&"Opera"!==t.browser||(this.mode=!1),e.extend(this,{getShim:function(){return i.get(this.uid).content.Moxie},shimExec:function(e,t){var i=[].slice.call(arguments,2);return u.getShim().exec(this.uid,e,t,i)},init:function(){var e;e=this.getShimContainer(),e.innerHTML='<object id="'+this.uid+'" data="data:application/x-silverlight," type="application/x-silverlight-2" width="100%" height="100%" style="outline:none;"><param name="source" value="'+o.xap_url+'"/><param name="background" value="Transparent"/><param name="windowless" value="true"/><param name="enablehtmlaccess" value="true"/><param name="initParams" value="uid='+this.uid+",target="+t.global_event_dispatcher+'"/></object>',c=setTimeout(function(){u&&!u.initialized&&u.trigger("Error",new n.RuntimeError(n.RuntimeError.NOT_INIT_ERR))},"Windows"!==t.OS?1e4:5e3)},destroy:function(e){return function(){e.call(u),clearTimeout(c),o=c=e=u=null}}(this.destroy)},l)}var a="silverlight",l={};return r.addConstructor(a,o),l}),n("moxie/runtime/silverlight/file/Blob",["moxie/runtime/silverlight/Runtime","moxie/core/utils/Basic","moxie/runtime/flash/file/Blob"],function(e,t,i){return e.Blob=t.extend({},i)}),n("moxie/runtime/silverlight/file/FileInput",["moxie/runtime/silverlight/Runtime"],function(e){var t={init:function(e){function t(e){for(var t="",i=0;i<e.length;i++)t+=(""!==t?"|":"")+e[i].title+" | *."+e[i].extensions.replace(/,/g,";*.");return t}this.getRuntime().shimExec.call(this,"FileInput","init",t(e.accept),e.name,e.multiple),this.trigger("ready")}};return e.FileInput=t}),n("moxie/runtime/silverlight/file/FileDrop",["moxie/runtime/silverlight/Runtime","moxie/core/utils/Dom","moxie/core/utils/Events"],function(e,t,i){var n={init:function(){var e,n=this,r=n.getRuntime();return e=r.getShimContainer(),i.addEvent(e,"dragover",function(e){e.preventDefault(),e.stopPropagation(),e.dataTransfer.dropEffect="copy"},n.uid),i.addEvent(e,"dragenter",function(e){e.preventDefault();var i=t.get(r.uid).dragEnter(e);i&&e.stopPropagation()},n.uid),i.addEvent(e,"drop",function(e){e.preventDefault();var i=t.get(r.uid).dragDrop(e);i&&e.stopPropagation()},n.uid),r.shimExec.call(this,"FileDrop","init")}};return e.FileDrop=n}),n("moxie/runtime/silverlight/file/FileReader",["moxie/runtime/silverlight/Runtime","moxie/core/utils/Basic","moxie/runtime/flash/file/FileReader"],function(e,t,i){return e.FileReader=t.extend({},i)}),n("moxie/runtime/silverlight/file/FileReaderSync",["moxie/runtime/silverlight/Runtime","moxie/core/utils/Basic","moxie/runtime/flash/file/FileReaderSync"],function(e,t,i){return e.FileReaderSync=t.extend({},i)}),n("moxie/runtime/silverlight/xhr/XMLHttpRequest",["moxie/runtime/silverlight/Runtime","moxie/core/utils/Basic","moxie/runtime/flash/xhr/XMLHttpRequest"],function(e,t,i){return e.XMLHttpRequest=t.extend({},i)}),n("moxie/runtime/silverlight/runtime/Transporter",["moxie/runtime/silverlight/Runtime","moxie/core/utils/Basic","moxie/runtime/flash/runtime/Transporter"],function(e,t,i){return e.Transporter=t.extend({},i)}),n("moxie/runtime/silverlight/image/Image",["moxie/runtime/silverlight/Runtime","moxie/core/utils/Basic","moxie/runtime/flash/image/Image"],function(e,t,i){return e.Image=t.extend({},i,{getInfo:function(){var e=this.getRuntime(),i=["tiff","exif","gps"],n={meta:{}},r=e.shimExec.call(this,"Image","getInfo");return r.meta&&t.each(i,function(e){var t,i,s,o,a=r.meta[e];if(a&&a.keys)for(n.meta[e]={},i=0,s=a.keys.length;s>i;i++)t=a.keys[i],o=a[t],o&&(/^(\d|[1-9]\d+)$/.test(o)?o=parseInt(o,10):/^\d*\.\d+$/.test(o)&&(o=parseFloat(o)),n.meta[e][t]=o)}),n.width=parseInt(r.width,10),n.height=parseInt(r.height,10),n.size=parseInt(r.size,10),n.type=r.type,n.name=r.name,n}})}),n("moxie/runtime/html4/Runtime",["moxie/core/utils/Basic","moxie/core/Exceptions","moxie/runtime/Runtime","moxie/core/utils/Env"],function(e,t,i,n){function r(t){var r=this,a=i.capTest,l=i.capTrue;i.call(this,t,s,{access_binary:a(window.FileReader||window.File&&File.getAsDataURL),access_image_binary:!1,display_media:a(o.Image&&(n.can("create_canvas")||n.can("use_data_uri_over32kb"))),do_cors:!1,drag_and_drop:!1,filter_by_extension:a(function(){return"Chrome"===n.browser&&n.version>=28||"IE"===n.browser&&n.version>=10}()),resize_image:function(){return o.Image&&r.can("access_binary")&&n.can("create_canvas")},report_upload_progress:!1,return_response_headers:!1,return_response_type:function(t){return"json"===t&&window.JSON?!0:!!~e.inArray(t,["text","document",""])},return_status_code:function(t){return!e.arrayDiff(t,[200,404])},select_file:function(){return n.can("use_fileinput")},select_multiple:!1,send_binary_string:!1,send_custom_headers:!1,send_multipart:!0,slice_blob:!1,stream_upload:function(){return r.can("select_file")},summon_file_dialog:a(function(){return"Firefox"===n.browser&&n.version>=4||"Opera"===n.browser&&n.version>=12||!!~e.inArray(n.browser,["Chrome","Safari"])}()),upload_filesize:l,use_http_method:function(t){return!e.arrayDiff(t,["GET","POST"])}}),e.extend(this,{init:function(){this.trigger("Init")},destroy:function(e){return function(){e.call(r),e=r=null}}(this.destroy)}),e.extend(this.getShim(),o)}var s="html4",o={};return i.addConstructor(s,r),o}),n("moxie/runtime/html4/file/FileInput",["moxie/runtime/html4/Runtime","moxie/core/utils/Basic","moxie/core/utils/Dom","moxie/core/utils/Events","moxie/core/utils/Mime","moxie/core/utils/Env"],function(e,t,i,n,r,s){function o(){function e(){var r,u,d,h,f,p,g=this,m=g.getRuntime();p=t.guid("uid_"),r=m.getShimContainer(),o&&(d=i.get(o+"_form"),d&&t.extend(d.style,{top:"100%"})),h=document.createElement("form"),h.setAttribute("id",p+"_form"),h.setAttribute("method","post"),h.setAttribute("enctype","multipart/form-data"),h.setAttribute("encoding","multipart/form-data"),t.extend(h.style,{overflow:"hidden",position:"absolute",top:0,left:0,width:"100%",height:"100%"}),f=document.createElement("input"),f.setAttribute("id",p),f.setAttribute("type","file"),f.setAttribute("name",a.name||"Filedata"),f.setAttribute("accept",c.join(",")),t.extend(f.style,{fontSize:"999px",opacity:0}),h.appendChild(f),r.appendChild(h),t.extend(f.style,{position:"absolute",top:0,left:0,width:"100%",height:"100%"}),"IE"===s.browser&&s.version<10&&t.extend(f.style,{filter:"progid:DXImageTransform.Microsoft.Alpha(opacity=0)"}),f.onchange=function(){var t;this.value&&(t=this.files?this.files[0]:{name:this.value},l=[t],this.onchange=function(){},e.call(g),g.bind("change",function n(){var e,t=i.get(p),r=i.get(p+"_form");g.unbind("change",n),g.files.length&&t&&r&&(e=g.files[0],t.setAttribute("id",e.uid),r.setAttribute("id",e.uid+"_form"),r.setAttribute("target",e.uid+"_iframe")),t=r=null},998),f=h=null,g.trigger("change"))},m.can("summon_file_dialog")&&(u=i.get(a.browse_button),n.removeEvent(u,"click",g.uid),n.addEvent(u,"click",function(e){f&&!f.disabled&&f.click(),e.preventDefault()},g.uid)),o=p,r=d=u=null}var o,a,l=[],c=[];t.extend(this,{init:function(t){var s,o=this,l=o.getRuntime();a=t,c=t.accept.mimes||r.extList2mimes(t.accept,l.can("filter_by_extension")),s=l.getShimContainer(),function(){var e,r,a;e=i.get(t.browse_button),l.can("summon_file_dialog")&&("static"===i.getStyle(e,"position")&&(e.style.position="relative"),r=parseInt(i.getStyle(e,"z-index"),10)||1,e.style.zIndex=r,s.style.zIndex=r-1),a=l.can("summon_file_dialog")?e:s,n.addEvent(a,"mouseover",function(){o.trigger("mouseenter")},o.uid),n.addEvent(a,"mouseout",function(){o.trigger("mouseleave")},o.uid),n.addEvent(a,"mousedown",function(){o.trigger("mousedown")},o.uid),n.addEvent(i.get(t.container),"mouseup",function(){o.trigger("mouseup")},o.uid),e=null}(),e.call(this),s=null,o.trigger({type:"ready",async:!0})},getFiles:function(){return l},disable:function(e){var t;(t=i.get(o))&&(t.disabled=!!e)},destroy:function(){var e=this.getRuntime(),t=e.getShim(),r=e.getShimContainer();n.removeAllEvents(r,this.uid),n.removeAllEvents(a&&i.get(a.container),this.uid),n.removeAllEvents(a&&i.get(a.browse_button),this.uid),r&&(r.innerHTML=""),t.removeInstance(this.uid),o=l=c=a=r=t=null}})}return e.FileInput=o}),n("moxie/runtime/html4/file/FileReader",["moxie/runtime/html4/Runtime","moxie/runtime/html5/file/FileReader"],function(e,t){return e.FileReader=t}),n("moxie/runtime/html4/xhr/XMLHttpRequest",["moxie/runtime/html4/Runtime","moxie/core/utils/Basic","moxie/core/utils/Dom","moxie/core/utils/Url","moxie/core/Exceptions","moxie/core/utils/Events","moxie/file/Blob","moxie/xhr/FormData"],function(e,t,i,n,r,s,o,a){function l(){function e(e){var t,n,r,o,a=this,l=!1;if(u){if(t=u.id.replace(/_iframe$/,""),n=i.get(t+"_form")){for(r=n.getElementsByTagName("input"),o=r.length;o--;)switch(r[o].getAttribute("type")){case"hidden":r[o].parentNode.removeChild(r[o]);break;case"file":l=!0}r=[],l||n.parentNode.removeChild(n),n=null}setTimeout(function(){s.removeEvent(u,"load",a.uid),u.parentNode&&u.parentNode.removeChild(u);var t=a.getRuntime().getShimContainer();t.children.length||t.parentNode.removeChild(t),t=u=null,e()},1)}}var l,c,u;t.extend(this,{send:function(d,h){function f(){var i=b.getShimContainer()||document.body,r=document.createElement("div");r.innerHTML='<iframe id="'+p+'_iframe" name="'+p+'_iframe" src="javascript:&quot;&quot;" style="display:none"></iframe>',u=r.firstChild,i.appendChild(u),s.addEvent(u,"load",function(){var i;try{i=u.contentWindow.document||u.contentDocument||window.frames[u.id].document,/^4(0[0-9]|1[0-7]|2[2346])\s/.test(i.title)?l=i.title.replace(/^(\d+).*$/,"$1"):(l=200,c=t.trim(i.body.innerHTML),y.trigger({type:"progress",loaded:c.length,total:c.length}),v&&y.trigger({type:"uploadprogress",loaded:v.size||1025,total:v.size||1025}))}catch(r){if(!n.hasSameOrigin(d.url))return void e.call(y,function(){y.trigger("error")});l=404}e.call(y,function(){y.trigger("load")})},y.uid)}var p,g,m,v,y=this,b=y.getRuntime();if(l=c=null,h instanceof a&&h.hasBlob()){if(v=h.getBlob(),p=v.uid,m=i.get(p),g=i.get(p+"_form"),!g)throw new r.DOMException(r.DOMException.NOT_FOUND_ERR)}else p=t.guid("uid_"),g=document.createElement("form"),g.setAttribute("id",p+"_form"),g.setAttribute("method",d.method),g.setAttribute("enctype","multipart/form-data"),g.setAttribute("encoding","multipart/form-data"),g.setAttribute("target",p+"_iframe"),b.getShimContainer().appendChild(g);h instanceof a&&h.each(function(e,i){if(e instanceof o)m&&m.setAttribute("name",i);else{var n=document.createElement("input");t.extend(n,{type:"hidden",name:i,value:e}),m?g.insertBefore(n,m):g.appendChild(n)}}),g.setAttribute("action",d.url),f(),g.submit(),y.trigger("loadstart")},getStatus:function(){return l},getResponse:function(e){if("json"===e&&"string"===t.typeOf(c)&&window.JSON)try{return JSON.parse(c.replace(/^\s*<pre[^>]*>/,"").replace(/<\/pre>\s*$/,""))}catch(i){return null}return c},abort:function(){var t=this;u&&u.contentWindow&&(u.contentWindow.stop?u.contentWindow.stop():u.contentWindow.document.execCommand?u.contentWindow.document.execCommand("Stop"):u.src="about:blank"),e.call(this,function(){t.dispatchEvent("abort")})}})}return e.XMLHttpRequest=l}),n("moxie/runtime/html4/image/Image",["moxie/runtime/html4/Runtime","moxie/runtime/html5/image/Image"],function(e,t){return e.Image=t}),s(["moxie/core/utils/Basic","moxie/core/I18n","moxie/core/utils/Mime","moxie/core/utils/Env","moxie/core/utils/Dom","moxie/core/Exceptions","moxie/core/EventTarget","moxie/core/utils/Encode","moxie/runtime/Runtime","moxie/runtime/RuntimeClient","moxie/file/Blob","moxie/file/File","moxie/file/FileInput","moxie/file/FileDrop","moxie/runtime/RuntimeTarget","moxie/file/FileReader","moxie/core/utils/Url","moxie/file/FileReaderSync","moxie/xhr/FormData","moxie/xhr/XMLHttpRequest","moxie/runtime/Transporter","moxie/image/Image","moxie/core/utils/Events"])}(this),function(){"use strict";var e={},t=moxie.core.utils.Basic.inArray;return function i(n){var r,s;for(r in n)s=typeof n[r],"object"!==s||~t(r,["Exceptions","Env","Mime"])?"function"===s&&(e[r]=n[r]):i(n[r])}(window.moxie),e.Env=window.moxie.core.utils.Env,e.Mime=window.moxie.core.utils.Mime,e.Exceptions=window.moxie.core.Exceptions,window.mOxie=e,window.o||(window.o=e),e}(),function(e,t,i){function n(e){function t(e,t,i){var r={chunks:"slice_blob",jpgresize:"send_binary_string",pngresize:"send_binary_string",progress:"report_upload_progress",multi_selection:"select_multiple",dragdrop:"drag_and_drop",drop_element:"drag_and_drop",headers:"send_custom_headers",canSendBinary:"send_binary",triggerDialog:"summon_file_dialog"};r[e]?n[r[e]]=t:i||(n[e]=t)}var i=e.required_features,n={};return"string"==typeof i?o.each(i.split(/\s*,\s*/),function(e){t(e,!0)}):"object"==typeof i?o.each(i,function(e,i){t(i,e)}):i===!0&&(e.multipart||(n.send_binary_string=!0),e.chunk_size>0&&(n.slice_blob=!0),e.resize.enabled&&(n.send_binary_string=!0),o.each(e,function(e,i){t(i,!!e,!0)})),n}var r=e.setTimeout,s={},o={VERSION:"2.1.1",STOPPED:1,STARTED:2,QUEUED:1,UPLOADING:2,FAILED:4,DONE:5,GENERIC_ERROR:-100,HTTP_ERROR:-200,IO_ERROR:-300,SECURITY_ERROR:-400,INIT_ERROR:-500,FILE_SIZE_ERROR:-600,FILE_EXTENSION_ERROR:-601,FILE_DUPLICATE_ERROR:-602,IMAGE_FORMAT_ERROR:-700,IMAGE_MEMORY_ERROR:-701,IMAGE_DIMENSIONS_ERROR:-702,mimeTypes:t.mimes,ua:t.ua,typeOf:t.typeOf,extend:t.extend,guid:t.guid,get:function(e){var i,n=[];"array"!==t.typeOf(e)&&(e=[e]);for(var r=e.length;r--;)i=t.get(e[r]),i&&n.push(i);return n.length?n:null},each:t.each,getPos:t.getPos,getSize:t.getSize,xmlEncode:function(e){var t={"<":"lt",">":"gt","&":"amp",'"':"quot","'":"#39"},i=/[<>&\"\']/g;return e?(""+e).replace(i,function(e){return t[e]?"&"+t[e]+";":e}):e},toArray:t.toArray,inArray:t.inArray,addI18n:t.addI18n,translate:t.translate,isEmptyObj:t.isEmptyObj,hasClass:t.hasClass,addClass:t.addClass,removeClass:t.removeClass,getStyle:t.getStyle,addEvent:t.addEvent,removeEvent:t.removeEvent,removeAllEvents:t.removeAllEvents,cleanName:function(e){var t,i;for(i=[/[\300-\306]/g,"A",/[\340-\346]/g,"a",/\307/g,"C",/\347/g,"c",/[\310-\313]/g,"E",/[\350-\353]/g,"e",/[\314-\317]/g,"I",/[\354-\357]/g,"i",/\321/g,"N",/\361/g,"n",/[\322-\330]/g,"O",/[\362-\370]/g,"o",/[\331-\334]/g,"U",/[\371-\374]/g,"u"],t=0;t<i.length;t+=2)e=e.replace(i[t],i[t+1]);return e=e.replace(/\s+/g,"_"),e=e.replace(/[^a-z0-9_\-\.]+/gi,"")},buildUrl:function(e,t){var i="";return o.each(t,function(e,t){i+=(i?"&":"")+encodeURIComponent(t)+"="+encodeURIComponent(e)}),i&&(e+=(e.indexOf("?")>0?"&":"?")+i),e},formatSize:function(e){function t(e,t){return Math.round(e*Math.pow(10,t))/Math.pow(10,t)}if(e===i||/\D/.test(e))return o.translate("N/A");var n=Math.pow(1024,4);return e>n?t(e/n,1)+" "+o.translate("tb"):e>(n/=1024)?t(e/n,1)+" "+o.translate("gb"):e>(n/=1024)?t(e/n,1)+" "+o.translate("mb"):e>1024?Math.round(e/1024)+" "+o.translate("kb"):e+" "+o.translate("b")},parseSize:t.parseSizeStr,predictRuntime:function(e,i){var n,r;return n=new o.Uploader(e),r=t.Runtime.thatCan(n.getOption().required_features,i||e.runtimes),n.destroy(),r},addFileFilter:function(e,t){s[e]=t}};o.addFileFilter("mime_types",function(e,t,i){e.length&&!e.regexp.test(t.name)?(this.trigger("Error",{code:o.FILE_EXTENSION_ERROR,message:o.translate("File extension error."),file:t}),i(!1)):i(!0)}),o.addFileFilter("max_file_size",function(e,t,i){var n;e=o.parseSize(e),t.size!==n&&e&&t.size>e?(this.trigger("Error",{code:o.FILE_SIZE_ERROR,message:o.translate("File size error."),file:t}),i(!1)):i(!0)}),o.addFileFilter("prevent_duplicates",function(e,t,i){if(e)for(var n=this.files.length;n--;)if(t.name===this.files[n].name&&t.size===this.files[n].size)return this.trigger("Error",{code:o.FILE_DUPLICATE_ERROR,message:o.translate("Duplicate file error."),file:t}),void i(!1);i(!0)}),o.Uploader=function(e){function a(){var e,t,i=0;if(this.state==o.STARTED){for(t=0;t<A.length;t++)e||A[t].status!=o.QUEUED?i++:(e=A[t],this.trigger("BeforeUpload",e)&&(e.status=o.UPLOADING,this.trigger("UploadFile",e)));i==A.length&&(this.state!==o.STOPPED&&(this.state=o.STOPPED,this.trigger("StateChanged")),this.trigger("UploadComplete",A))}}function l(e){e.percent=e.size>0?Math.ceil(e.loaded/e.size*100):100,c()}function c(){var e,t;for(D.reset(),e=0;e<A.length;e++)t=A[e],t.size!==i?(D.size+=t.origSize,D.loaded+=t.loaded*t.origSize/t.size):D.size=i,t.status==o.DONE?D.uploaded++:t.status==o.FAILED?D.failed++:D.queued++;D.size===i?D.percent=A.length>0?Math.ceil(D.uploaded/A.length*100):0:(D.bytesPerSec=Math.ceil(D.loaded/((+new Date-S||1)/1e3)),D.percent=D.size>0?Math.ceil(D.loaded/D.size*100):0)}function u(){var e=O[0]||$[0];return e?e.getRuntime().uid:!1}function d(e,i){if(e.ruid){var n=t.Runtime.getInfo(e.ruid);if(n)return n.can(i)}return!1}function h(){this.bind("FilesAdded",m),this.bind("CancelUpload",x),this.bind("BeforeUpload",v),this.bind("UploadFile",y),this.bind("UploadProgress",b),this.bind("StateChanged",w),this.bind("QueueChanged",c),this.bind("Error",_),this.bind("FileUploaded",k),this.bind("Destroy",C)}function f(e,i){var n=this,r=0,s=[],a={accept:e.filters.mime_types,runtime_order:e.runtimes,required_caps:e.required_features,preferred_caps:I,swf_url:e.flash_swf_url,xap_url:e.silverlight_xap_url};o.each(e.runtimes.split(/\s*,\s*/),function(t){e[t]&&(a[t]=e[t])}),e.browse_button&&o.each(e.browse_button,function(i){s.push(function(s){var l=new t.FileInput(o.extend({},a,{name:e.file_data_name,multiple:e.multi_selection,container:e.container,browse_button:i}));l.onready=function(){var e=t.Runtime.getInfo(this.ruid);t.extend(n.features,{chunks:e.can("slice_blob"),multipart:e.can("send_multipart"),multi_selection:e.can("select_multiple")}),r++,O.push(this),s()},l.onchange=function(){n.addFile(this.files)},l.bind("mouseenter mouseleave mousedown mouseup",function(n){R||(e.browse_button_hover&&("mouseenter"===n.type?t.addClass(i,e.browse_button_hover):"mouseleave"===n.type&&t.removeClass(i,e.browse_button_hover)),e.browse_button_active&&("mousedown"===n.type?t.addClass(i,e.browse_button_active):"mouseup"===n.type&&t.removeClass(i,e.browse_button_active)))}),l.bind("error runtimeerror",function(){l=null,s()}),l.init()})}),e.drop_element&&o.each(e.drop_element,function(e){s.push(function(i){var s=new t.FileDrop(o.extend({},a,{drop_zone:e}));
s.onready=function(){var e=t.Runtime.getInfo(this.ruid);n.features.dragdrop=e.can("drag_and_drop"),r++,$.push(this),i()},s.ondrop=function(){n.addFile(this.files)},s.bind("error runtimeerror",function(){s=null,i()}),s.init()})}),t.inSeries(s,function(){"function"==typeof i&&i(r)})}function p(e,i,n){var r=new t.Image;try{r.onload=function(){r.downsize(i.width,i.height,i.crop,i.preserve_headers)},r.onresize=function(){n(this.getAsBlob(e.type,i.quality)),this.destroy()},r.onerror=function(){n(e)},r.load(e)}catch(s){n(e)}}function g(e,i,r){function s(e,t,i){var n=T[e];switch(e){case"max_file_size":"max_file_size"===e&&(T.max_file_size=T.filters.max_file_size=t);break;case"chunk_size":(t=o.parseSize(t))&&(T[e]=t);break;case"filters":"array"===o.typeOf(t)&&(t={mime_types:t}),i?o.extend(T.filters,t):T.filters=t,t.mime_types&&(T.filters.mime_types.regexp=function(e){var t=[];return o.each(e,function(e){o.each(e.extensions.split(/,/),function(e){t.push(/^\s*\*\s*$/.test(e)?"\\.*":"\\."+e.replace(new RegExp("["+"/^$.*+?|()[]{}\\".replace(/./g,"\\$&")+"]","g"),"\\$&"))})}),new RegExp("("+t.join("|")+")$","i")}(T.filters.mime_types));break;case"resize":i?o.extend(T.resize,t,{enabled:!0}):T.resize=t;break;case"prevent_duplicates":T.prevent_duplicates=T.filters.prevent_duplicates=!!t;break;case"browse_button":case"drop_element":t=o.get(t);case"container":case"runtimes":case"multi_selection":case"flash_swf_url":case"silverlight_xap_url":T[e]=t,i||(l=!0);break;default:T[e]=t}i||a.trigger("OptionChanged",e,t,n)}var a=this,l=!1;"object"==typeof e?o.each(e,function(e,t){s(t,e,r)}):s(e,i,r),r?(T.required_features=n(o.extend({},T)),I=n(o.extend({},T,{required_features:!0}))):l&&(a.trigger("Destroy"),f.call(a,T,function(e){e?(a.runtime=t.Runtime.getInfo(u()).type,a.trigger("Init",{runtime:a.runtime}),a.trigger("PostInit")):a.trigger("Error",{code:o.INIT_ERROR,message:o.translate("Init error.")})}))}function m(e,t){[].push.apply(A,t),e.trigger("QueueChanged"),e.refresh()}function v(e,t){if(T.unique_names){var i=t.name.match(/\.([^.]+)$/),n="part";i&&(n=i[1]),t.target_name=t.id+"."+n}}function y(e,i){function n(){u-->0?r(s,1e3):(i.loaded=f,e.trigger("Error",{code:o.HTTP_ERROR,message:o.translate("HTTP Error."),file:i,response:E.responseText,status:E.status,responseHeaders:E.getAllResponseHeaders()}))}function s(){var d,p,g,m;i.status!=o.DONE&&i.status!=o.FAILED&&e.state!=o.STOPPED&&(g={name:i.target_name||i.name},c&&h.chunks&&a.size>c?(m=Math.min(c,a.size-f),d=a.slice(f,f+m)):(m=a.size,d=a),c&&h.chunks&&(e.settings.send_chunk_number?(g.chunk=Math.ceil(f/c),g.chunks=Math.ceil(a.size/c)):(g.offset=f,g.total=a.size)),E=new t.XMLHttpRequest,E.upload&&(E.upload.onprogress=function(t){i.loaded=Math.min(i.size,f+t.loaded),e.trigger("UploadProgress",i)}),E.onload=function(){return E.status>=400?void n():(u=e.settings.max_retries,m<a.size?(d.destroy(),f+=m,i.loaded=Math.min(f,a.size),e.trigger("ChunkUploaded",i,{offset:i.loaded,total:a.size,response:E.responseText,status:E.status,responseHeaders:E.getAllResponseHeaders()}),"Android Browser"===t.Env.browser&&e.trigger("UploadProgress",i)):i.loaded=i.size,d=p=null,void(!f||f>=a.size?(i.size!=i.origSize&&(a.destroy(),a=null),e.trigger("UploadProgress",i),i.status=o.DONE,e.trigger("FileUploaded",i,{response:E.responseText,status:E.status,responseHeaders:E.getAllResponseHeaders()})):r(s,1)))},E.onerror=function(){n()},E.onloadend=function(){this.destroy(),E=null},e.settings.multipart&&h.multipart?(g.name=i.target_name||i.name,E.open("post",l,!0),o.each(e.settings.headers,function(e,t){E.setRequestHeader(t,e)}),p=new t.FormData,o.each(o.extend(g,e.settings.multipart_params),function(e,t){p.append(t,e)}),p.append(e.settings.file_data_name,d),E.send(p,{runtime_order:e.settings.runtimes,required_caps:e.settings.required_features,preferred_caps:I,swf_url:e.settings.flash_swf_url,xap_url:e.settings.silverlight_xap_url})):(l=o.buildUrl(e.settings.url,o.extend(g,e.settings.multipart_params)),E.open("post",l,!0),E.setRequestHeader("Content-Type","application/octet-stream"),o.each(e.settings.headers,function(e,t){E.setRequestHeader(t,e)}),E.send(d,{runtime_order:e.settings.runtimes,required_caps:e.settings.required_features,preferred_caps:I,swf_url:e.settings.flash_swf_url,xap_url:e.settings.silverlight_xap_url})))}var a,l=e.settings.url,c=e.settings.chunk_size,u=e.settings.max_retries,h=e.features,f=0;i.loaded&&(f=i.loaded=c*Math.floor(i.loaded/c)),a=i.getSource(),e.settings.resize.enabled&&d(a,"send_binary_string")&&~t.inArray(a.type,["image/jpeg","image/png"])?p.call(this,a,e.settings.resize,function(e){a=e,i.size=e.size,s()}):s()}function b(e,t){l(t)}function w(e){if(e.state==o.STARTED)S=+new Date;else if(e.state==o.STOPPED)for(var t=e.files.length-1;t>=0;t--)e.files[t].status==o.UPLOADING&&(e.files[t].status=o.QUEUED,c())}function x(){E&&E.abort()}function k(e){c(),r(function(){a.call(e)},1)}function _(e,t){t.file&&(t.file.status=o.FAILED,l(t.file),e.state==o.STARTED&&(e.trigger("CancelUpload"),r(function(){a.call(e)},1)))}function C(e){e.stop(),o.each(A,function(e){e.destroy()}),A=[],O.length&&(o.each(O,function(e){e.destroy()}),O=[]),$.length&&(o.each($,function(e){e.destroy()}),$=[]),I={},R=!1,S=E=null,D.reset()}var T,S,D,E,M=o.guid(),A=[],I={},O=[],$=[],R=!1;T={runtimes:t.Runtime.order,max_retries:0,chunk_size:0,multipart:!0,multi_selection:!0,file_data_name:"file",flash_swf_url:"js/Moxie.swf",silverlight_xap_url:"js/Moxie.xap",filters:{mime_types:[],prevent_duplicates:!1,max_file_size:0},resize:{enabled:!1,preserve_headers:!0,crop:!1},send_chunk_number:!0},g.call(this,e,null,!0),D=new o.QueueProgress,o.extend(this,{id:M,uid:M,state:o.STOPPED,features:{},runtime:null,files:A,settings:T,total:D,init:function(){var e=this;return"function"==typeof T.preinit?T.preinit(e):o.each(T.preinit,function(t,i){e.bind(i,t)}),T.browse_button&&T.url?(h.call(this),void f.call(this,T,function(i){"function"==typeof T.init?T.init(e):o.each(T.init,function(t,i){e.bind(i,t)}),i?(e.runtime=t.Runtime.getInfo(u()).type,e.trigger("Init",{runtime:e.runtime}),e.trigger("PostInit")):e.trigger("Error",{code:o.INIT_ERROR,message:o.translate("Init error.")})})):void this.trigger("Error",{code:o.INIT_ERROR,message:o.translate("Init error.")})},setOption:function(e,t){g.call(this,e,t,!this.runtime)},getOption:function(e){return e?T[e]:T},refresh:function(){O.length&&o.each(O,function(e){e.trigger("Refresh")}),this.trigger("Refresh")},start:function(){this.state!=o.STARTED&&(this.state=o.STARTED,this.trigger("StateChanged"),a.call(this))},stop:function(){this.state!=o.STOPPED&&(this.state=o.STOPPED,this.trigger("StateChanged"),this.trigger("CancelUpload"))},disableBrowse:function(){R=arguments[0]!==i?arguments[0]:!0,O.length&&o.each(O,function(e){e.disable(R)}),this.trigger("DisableBrowse",R)},getFile:function(e){var t;for(t=A.length-1;t>=0;t--)if(A[t].id===e)return A[t]},addFile:function(e,i){function n(e,i){var n=[];t.each(c.settings.filters,function(t,i){s[i]&&n.push(function(n){s[i].call(c,t,e,function(e){n(!e)})})}),t.inSeries(n,i)}function a(e){var s=t.typeOf(e);if(e instanceof t.File){if(!e.ruid&&!e.isDetached()){if(!l)return!1;e.ruid=l,e.connectRuntime(l)}a(new o.File(e))}else e instanceof t.Blob?(a(e.getSource()),e.destroy()):e instanceof o.File?(i&&(e.name=i),d.push(function(t){n(e,function(i){i||(h.push(e),c.trigger("FileFiltered",e)),r(t,1)})})):-1!==t.inArray(s,["file","blob"])?a(new t.File(null,e)):"node"===s&&"filelist"===t.typeOf(e.files)?t.each(e.files,a):"array"===s&&(i=null,t.each(e,a))}var l,c=this,d=[],h=[];l=u(),a(e),d.length&&t.inSeries(d,function(){h.length&&c.trigger("FilesAdded",h)})},removeFile:function(e){for(var t="string"==typeof e?e:e.id,i=A.length-1;i>=0;i--)if(A[i].id===t)return this.splice(i,1)[0]},splice:function(e,t){var n=A.splice(e===i?0:e,t===i?A.length:t),r=!1;return this.state==o.STARTED&&(r=!0,this.stop()),this.trigger("FilesRemoved",n),o.each(n,function(e){e.destroy()}),this.trigger("QueueChanged"),this.refresh(),r&&this.start(),n},bind:function(e,t,i){var n=this;o.Uploader.prototype.bind.call(this,e,function(){var e=[].slice.call(arguments);return e.splice(0,1,n),t.apply(this,e)},0,i)},destroy:function(){this.trigger("Destroy"),T=D=null,this.unbindAll()}})},o.Uploader.prototype=t.EventTarget.instance,o.File=function(){function e(e){o.extend(this,{id:o.guid(),name:e.name||e.fileName,type:e.type||"",size:e.size||e.fileSize,origSize:e.size||e.fileSize,loaded:0,percent:0,status:o.QUEUED,lastModifiedDate:e.lastModifiedDate||(new Date).toLocaleString(),getNative:function(){var e=this.getSource().getSource();return-1!==t.inArray(t.typeOf(e),["blob","file"])?e:null},getSource:function(){return i[this.id]?i[this.id]:null},destroy:function(){var e=this.getSource();e&&(e.destroy(),delete i[this.id])}}),i[this.id]=e}var i={};return e}(),o.QueueProgress=function(){var e=this;e.size=0,e.loaded=0,e.uploaded=0,e.failed=0,e.queued=0,e.percent=0,e.bytesPerSec=0,e.reset=function(){e.size=e.loaded=e.uploaded=e.failed=e.queued=e.percent=e.bytesPerSec=0}},e.plupload=o}(window,mOxie),function(){!function(e){return window.CMS||(window.CMS={}),window.CMS.uploader=function(t,i){var n,r,s,o,a;return n=function(i){var n;return n=e(".cms-uploader-filelist",t),n.prepend("<tr id='"+i.id+"' class='temp'> <td><div class='icon'></div></td> <td class='main' colspan=2> <div class='progress'> <div class='progress-bar progress-bar-striped active'> <span>"+i.name+"</span> </div> </div> </td> <td> <a class='btn btn-sm btn-danger pull-right cms-uploader-file-delete' href='#'>Delete</a> </td> </tr>"),e("#"+i.id+" a.cms-uploader-file-delete").click(function(e){return a.removeFile(i),e.preventDefault()}),o(i)},s=function(t){return e("#"+t.id).remove()},o=function(i){var n;return n=e("#"+i.id+" .progress-bar",t),i.status===plupload.UPLOADING&&n.css("width",i.percent+"%"),i.status===plupload.FAILED?(n.css("width","100%").addClass("progress-bar-danger"),e("span",n).html(i.error_message)):void 0},a=void 0,r=t.attr("id"),r||(r=plupload.guid(),t.attr("id",r)),i=e.extend({runtimes:"html5,browserplus,silverlight,flash,gears",dragdrop:!0,drop_element:r+"-drag-drop-target",browse_button:r+"-browse",container:r,file_data_name:"file[file]"},i),a=new plupload.Uploader(i),a.bind("PostInit",function(i){var n;return i.settings.dragdrop&&i.features.dragdrop?(n=e(i.settings.drop_element),e(document).bind("dragenter",function(){return n.addClass("cms-uploader-drag-drop-target-active")}),n.bind("drop dragleave",function(){return n.removeClass("cms-uploader-drag-drop-target-active")})):e(".cms-uploader-drag-drop-info",t).hide()}),a.bind("Error",function(e,t){var i,n;return i=t.file,n=void 0,i&&(n=t.response,n||(n=t.message,t.details&&(n+=" ("+t.details+")")),i.status=plupload.FAILED,i.error_message=n,o(i)),t.code===plupload.INIT_ERROR?alert(_("Error: Initialisation error. Reload to try again.")):void 0}),a.init(),a.bind("FilesAdded",function(t,i){return e.each(i,function(e,t){return n(t)}),a.start()}),a.bind("UploadProgress",function(e,t){return o(t)}),a.bind("FileUploaded",function(t,i,n){return e("tr#"+i.id).replaceWith(n.response)}),a.bind("FilesRemoved",function(t,i){return e.each(i,function(e,t){return s(t)})}),i.setup?i.setup(a):void 0}}(jQuery,mOxie)}.call(this),function(){!function(e){return window.CMS||(window.CMS={}),window.CMS.files=function(){var t;return t=e(".cms-files-modal"),e(".cms-files-open-modal").on("click",function(e){return t.on("show.bs.modal",function(){var e,i;return e=t.find("iframe"),i=t.data("iframe-src"),e.attr("src")!==i?e.attr("src",i):void 0}),t.modal({show:!0}),e.preventDefault()}),t.on("show.bs.modal",function(t){var i;return i=e(window).height()-60,e(t.target).find(".modal-content").css("height",i+"px")}),e(window).on("resize",function(){var i;return i=e(window).height()-60,t.find(".modal-content").css("height",i+"px")}),e(document).on("click",".cms-uploader-filelist input[type=text]",function(){return e(this).select()})}}(jQuery)}.call(this),function(){}.call(this),+function(e){"use strict";function t(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var i in t)if(void 0!==e.style[i])return{end:t[i]};return!1}e.fn.emulateTransitionEnd=function(t){var i=!1,n=this;e(this).one("bsTransitionEnd",function(){i=!0});var r=function(){i||e(n).trigger(e.support.transition.end)};return setTimeout(r,t),this},e(function(){e.support.transition=t(),e.support.transition&&(e.event.special.bsTransitionEnd={bindType:e.support.transition.end,delegateType:e.support.transition.end,handle:function(t){return e(t.target).is(this)?t.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var i=e(this),r=i.data("bs.alert");r||i.data("bs.alert",r=new n(this)),"string"==typeof t&&r[t].call(i)})}var i='[data-dismiss="alert"]',n=function(t){e(t).on("click",i,this.close)};n.VERSION="3.3.7",n.TRANSITION_DURATION=150,n.prototype.close=function(t){function i(){o.detach().trigger("closed.bs.alert").remove()}var r=e(this),s=r.attr("data-target");s||(s=r.attr("href"),s=s&&s.replace(/.*(?=#[^\s]*$)/,""));var o=e("#"===s?[]:s);t&&t.preventDefault(),o.length||(o=r.closest(".alert")),o.trigger(t=e.Event("close.bs.alert")),t.isDefaultPrevented()||(o.removeClass("in"),e.support.transition&&o.hasClass("fade")?o.one("bsTransitionEnd",i).emulateTransitionEnd(n.TRANSITION_DURATION):i())};var r=e.fn.alert;e.fn.alert=t,e.fn.alert.Constructor=n,e.fn.alert.noConflict=function(){return e.fn.alert=r,this},e(document).on("click.bs.alert.data-api",i,n.prototype.close)}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var n=e(this),r=n.data("bs.button"),s="object"==typeof t&&t;r||n.data("bs.button",r=new i(this,s)),"toggle"==t?r.toggle():t&&r.setState(t)})}var i=function(t,n){this.$element=e(t),this.options=e.extend({},i.DEFAULTS,n),this.isLoading=!1};i.VERSION="3.3.7",i.DEFAULTS={loadingText:"loading..."},i.prototype.setState=function(t){var i="disabled",n=this.$element,r=n.is("input")?"val":"html",s=n.data();t+="Text",null==s.resetText&&n.data("resetText",n[r]()),setTimeout(e.proxy(function(){n[r](null==s[t]?this.options[t]:s[t]),"loadingText"==t?(this.isLoading=!0,n.addClass(i).attr(i,i).prop(i,!0)):this.isLoading&&(this.isLoading=!1,n.removeClass(i).removeAttr(i).prop(i,!1))},this),0)},i.prototype.toggle=function(){var e=!0,t=this.$element.closest('[data-toggle="buttons"]');if(t.length){var i=this.$element.find("input");"radio"==i.prop("type")?(i.prop("checked")&&(e=!1),t.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==i.prop("type")&&(i.prop("checked")!==this.$element.hasClass("active")&&(e=!1),this.$element.toggleClass("active")),i.prop("checked",this.$element.hasClass("active")),e&&i.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var n=e.fn.button;e.fn.button=t,e.fn.button.Constructor=i,e.fn.button.noConflict=function(){return e.fn.button=n,this},e(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(i){var n=e(i.target).closest(".btn");t.call(n,"toggle"),e(i.target).is('input[type="radio"], input[type="checkbox"]')||(i.preventDefault(),n.is("input,button")?n.trigger("focus"):n.find("input:visible,button:visible").first().trigger("focus"))}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(t){e(t.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(t.type))})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var n=e(this),r=n.data("bs.carousel"),s=e.extend({},i.DEFAULTS,n.data(),"object"==typeof t&&t),o="string"==typeof t?t:s.slide;r||n.data("bs.carousel",r=new i(this,s)),"number"==typeof t?r.to(t):o?r[o]():s.interval&&r.pause().cycle()})}var i=function(t,i){this.$element=e(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=i,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",e.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",e.proxy(this.pause,this)).on("mouseleave.bs.carousel",e.proxy(this.cycle,this))};i.VERSION="3.3.7",i.TRANSITION_DURATION=600,i.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},i.prototype.keydown=function(e){if(!/input|textarea/i.test(e.target.tagName)){switch(e.which){case 37:this.prev();break;case 39:this.next();break;default:return}e.preventDefault()}},i.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},i.prototype.getItemIndex=function(e){return this.$items=e.parent().children(".item"),this.$items.index(e||this.$active)},i.prototype.getItemForDirection=function(e,t){var i=this.getItemIndex(t),n="prev"==e&&0===i||"next"==e&&i==this.$items.length-1;if(n&&!this.options.wrap)return t;var r="prev"==e?-1:1,s=(i+r)%this.$items.length;return this.$items.eq(s)},i.prototype.to=function(e){var t=this,i=this.getItemIndex(this.$active=this.$element.find(".item.active"));return e>this.$items.length-1||0>e?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){t.to(e)}):i==e?this.pause().cycle():this.slide(e>i?"next":"prev",this.$items.eq(e))},i.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition&&(this.$element.trigger(e.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},i.prototype.next=function(){return this.sliding?void 0:this.slide("next")},i.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},i.prototype.slide=function(t,n){var r=this.$element.find(".item.active"),s=n||this.getItemForDirection(t,r),o=this.interval,a="next"==t?"left":"right",l=this;if(s.hasClass("active"))return this.sliding=!1;var c=s[0],u=e.Event("slide.bs.carousel",{relatedTarget:c,direction:a});if(this.$element.trigger(u),!u.isDefaultPrevented()){if(this.sliding=!0,o&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var d=e(this.$indicators.children()[this.getItemIndex(s)]);d&&d.addClass("active")}var h=e.Event("slid.bs.carousel",{relatedTarget:c,direction:a});return e.support.transition&&this.$element.hasClass("slide")?(s.addClass(t),s[0].offsetWidth,r.addClass(a),s.addClass(a),r.one("bsTransitionEnd",function(){s.removeClass([t,a].join(" ")).addClass("active"),r.removeClass(["active",a].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(h)},0)}).emulateTransitionEnd(i.TRANSITION_DURATION)):(r.removeClass("active"),s.addClass("active"),this.sliding=!1,this.$element.trigger(h)),o&&this.cycle(),this}};var n=e.fn.carousel;e.fn.carousel=t,e.fn.carousel.Constructor=i,e.fn.carousel.noConflict=function(){return e.fn.carousel=n,this};var r=function(i){var n,r=e(this),s=e(r.attr("data-target")||(n=r.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,""));if(s.hasClass("carousel")){var o=e.extend({},s.data(),r.data()),a=r.attr("data-slide-to");a&&(o.interval=!1),t.call(s,o),a&&s.data("bs.carousel").to(a),i.preventDefault()}};e(document).on("click.bs.carousel.data-api","[data-slide]",r).on("click.bs.carousel.data-api","[data-slide-to]",r),e(window).on("load",function(){e('[data-ride="carousel"]').each(function(){var i=e(this);t.call(i,i.data())})})}(jQuery),+function(e){"use strict";function t(t){var i,n=t.attr("data-target")||(i=t.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"");return e(n)}function i(t){return this.each(function(){var i=e(this),r=i.data("bs.collapse"),s=e.extend({},n.DEFAULTS,i.data(),"object"==typeof t&&t);!r&&s.toggle&&/show|hide/.test(t)&&(s.toggle=!1),r||i.data("bs.collapse",r=new n(this,s)),"string"==typeof t&&r[t]()})}var n=function(t,i){this.$element=e(t),this.options=e.extend({},n.DEFAULTS,i),this.$trigger=e('[data-toggle="collapse"][href="#'+t.id+'"],[data-toggle="collapse"][data-target="#'+t.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};n.VERSION="3.3.7",n.TRANSITION_DURATION=350,n.DEFAULTS={toggle:!0},n.prototype.dimension=function(){var e=this.$element.hasClass("width");return e?"width":"height"},n.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var t,r=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(r&&r.length&&(t=r.data("bs.collapse"),t&&t.transitioning))){var s=e.Event("show.bs.collapse");if(this.$element.trigger(s),!s.isDefaultPrevented()){r&&r.length&&(i.call(r,"hide"),t||r.data("bs.collapse",null));var o=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[o](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var a=function(){this.$element.removeClass("collapsing").addClass("collapse in")[o](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!e.support.transition)return a.call(this);var l=e.camelCase(["scroll",o].join("-"));this.$element.one("bsTransitionEnd",e.proxy(a,this)).emulateTransitionEnd(n.TRANSITION_DURATION)[o](this.$element[0][l])}}}},n.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var t=e.Event("hide.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){var i=this.dimension();this.$element[i](this.$element[i]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var r=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return e.support.transition?void this.$element[i](0).one("bsTransitionEnd",e.proxy(r,this)).emulateTransitionEnd(n.TRANSITION_DURATION):r.call(this)}}},n.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},n.prototype.getParent=function(){return e(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(e.proxy(function(i,n){var r=e(n);this.addAriaAndCollapsedClass(t(r),r)},this)).end()},n.prototype.addAriaAndCollapsedClass=function(e,t){var i=e.hasClass("in");e.attr("aria-expanded",i),t.toggleClass("collapsed",!i).attr("aria-expanded",i)};var r=e.fn.collapse;e.fn.collapse=i,e.fn.collapse.Constructor=n,e.fn.collapse.noConflict=function(){return e.fn.collapse=r,this},e(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(n){var r=e(this);r.attr("data-target")||n.preventDefault();var s=t(r),o=s.data("bs.collapse"),a=o?"toggle":r.data();i.call(s,a)})}(jQuery),+function(e){"use strict";function t(t){var i=t.attr("data-target");i||(i=t.attr("href"),i=i&&/#[A-Za-z]/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,""));var n=i&&e(i);return n&&n.length?n:t.parent()}function i(i){i&&3===i.which||(e(r).remove(),e(s).each(function(){var n=e(this),r=t(n),s={relatedTarget:this};r.hasClass("open")&&(i&&"click"==i.type&&/input|textarea/i.test(i.target.tagName)&&e.contains(r[0],i.target)||(r.trigger(i=e.Event("hide.bs.dropdown",s)),i.isDefaultPrevented()||(n.attr("aria-expanded","false"),r.removeClass("open").trigger(e.Event("hidden.bs.dropdown",s)))))}))}function n(t){return this.each(function(){var i=e(this),n=i.data("bs.dropdown");n||i.data("bs.dropdown",n=new o(this)),"string"==typeof t&&n[t].call(i)})}var r=".dropdown-backdrop",s='[data-toggle="dropdown"]',o=function(t){e(t).on("click.bs.dropdown",this.toggle)};o.VERSION="3.3.7",o.prototype.toggle=function(n){var r=e(this);if(!r.is(".disabled, :disabled")){var s=t(r),o=s.hasClass("open");if(i(),!o){"ontouchstart"in document.documentElement&&!s.closest(".navbar-nav").length&&e(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(e(this)).on("click",i);var a={relatedTarget:this};if(s.trigger(n=e.Event("show.bs.dropdown",a)),n.isDefaultPrevented())return;r.trigger("focus").attr("aria-expanded","true"),s.toggleClass("open").trigger(e.Event("shown.bs.dropdown",a))}return!1}},o.prototype.keydown=function(i){if(/(38|40|27|32)/.test(i.which)&&!/input|textarea/i.test(i.target.tagName)){var n=e(this);if(i.preventDefault(),i.stopPropagation(),!n.is(".disabled, :disabled")){var r=t(n),o=r.hasClass("open");if(!o&&27!=i.which||o&&27==i.which)return 27==i.which&&r.find(s).trigger("focus"),n.trigger("click");var a=" li:not(.disabled):visible a",l=r.find(".dropdown-menu"+a);if(l.length){var c=l.index(i.target);38==i.which&&c>0&&c--,40==i.which&&c<l.length-1&&c++,~c||(c=0),l.eq(c).trigger("focus")}}}};var a=e.fn.dropdown;e.fn.dropdown=n,e.fn.dropdown.Constructor=o,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=a,this},e(document).on("click.bs.dropdown.data-api",i).on("click.bs.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.bs.dropdown.data-api",s,o.prototype.toggle).on("keydown.bs.dropdown.data-api",s,o.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",o.prototype.keydown)}(jQuery),+function(e){"use strict";function t(t,n){return this.each(function(){var r=e(this),s=r.data("bs.modal"),o=e.extend({},i.DEFAULTS,r.data(),"object"==typeof t&&t);s||r.data("bs.modal",s=new i(this,o)),"string"==typeof t?s[t](n):o.show&&s.show(n)})}var i=function(t,i){this.options=i,this.$body=e(document.body),this.$element=e(t),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,e.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};i.VERSION="3.3.7",i.TRANSITION_DURATION=300,i.BACKDROP_TRANSITION_DURATION=150,i.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},i.prototype.toggle=function(e){return this.isShown?this.hide():this.show(e)},i.prototype.show=function(t){var n=this,r=e.Event("show.bs.modal",{relatedTarget:t});this.$element.trigger(r),this.isShown||r.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){n.$element.one("mouseup.dismiss.bs.modal",function(t){e(t.target).is(n.$element)&&(n.ignoreBackdropClick=!0)})}),this.backdrop(function(){var r=e.support.transition&&n.$element.hasClass("fade");n.$element.parent().length||n.$element.appendTo(n.$body),n.$element.show().scrollTop(0),n.adjustDialog(),r&&n.$element[0].offsetWidth,n.$element.addClass("in"),n.enforceFocus();var s=e.Event("shown.bs.modal",{relatedTarget:t});r?n.$dialog.one("bsTransitionEnd",function(){n.$element.trigger("focus").trigger(s)}).emulateTransitionEnd(i.TRANSITION_DURATION):n.$element.trigger("focus").trigger(s)}))},i.prototype.hide=function(t){t&&t.preventDefault(),t=e.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),e(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),e.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",e.proxy(this.hideModal,this)).emulateTransitionEnd(i.TRANSITION_DURATION):this.hideModal())},i.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy(function(e){document===e.target||this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.trigger("focus")},this))},i.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",e.proxy(function(e){27==e.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},i.prototype.resize=function(){this.isShown?e(window).on("resize.bs.modal",e.proxy(this.handleUpdate,this)):e(window).off("resize.bs.modal")},i.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop(function(){e.$body.removeClass("modal-open"),e.resetAdjustments(),e.resetScrollbar(),e.$element.trigger("hidden.bs.modal")})},i.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},i.prototype.backdrop=function(t){var n=this,r=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var s=e.support.transition&&r;if(this.$backdrop=e(document.createElement("div")).addClass("modal-backdrop "+r).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",e.proxy(function(e){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),s&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;s?this.$backdrop.one("bsTransitionEnd",t).emulateTransitionEnd(i.BACKDROP_TRANSITION_DURATION):t()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var o=function(){n.removeBackdrop(),t&&t()};e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",o).emulateTransitionEnd(i.BACKDROP_TRANSITION_DURATION):o()}else t&&t()},i.prototype.handleUpdate=function(){this.adjustDialog()},i.prototype.adjustDialog=function(){var e=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&e?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!e?this.scrollbarWidth:""})},i.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},i.prototype.checkScrollbar=function(){var e=window.innerWidth;if(!e){var t=document.documentElement.getBoundingClientRect();e=t.right-Math.abs(t.left)}this.bodyIsOverflowing=document.body.clientWidth<e,this.scrollbarWidth=this.measureScrollbar()},i.prototype.setScrollbar=function(){var e=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",e+this.scrollbarWidth)},i.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},i.prototype.measureScrollbar=function(){var e=document.createElement("div");e.className="modal-scrollbar-measure",this.$body.append(e);var t=e.offsetWidth-e.clientWidth;return this.$body[0].removeChild(e),t};var n=e.fn.modal;e.fn.modal=t,e.fn.modal.Constructor=i,e.fn.modal.noConflict=function(){return e.fn.modal=n,this},e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(i){var n=e(this),r=n.attr("href"),s=e(n.attr("data-target")||r&&r.replace(/.*(?=#[^\s]+$)/,"")),o=s.data("bs.modal")?"toggle":e.extend({remote:!/#/.test(r)&&r},s.data(),n.data());n.is("a")&&i.preventDefault(),s.one("show.bs.modal",function(e){e.isDefaultPrevented()||s.one("hidden.bs.modal",function(){n.is(":visible")&&n.trigger("focus")})}),t.call(s,o,this)})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var n=e(this),r=n.data("bs.tab");r||n.data("bs.tab",r=new i(this)),"string"==typeof t&&r[t]()})}var i=function(t){this.element=e(t)};i.VERSION="3.3.7",i.TRANSITION_DURATION=150,i.prototype.show=function(){var t=this.element,i=t.closest("ul:not(.dropdown-menu)"),n=t.data("target");if(n||(n=t.attr("href"),n=n&&n.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("active")){var r=i.find(".active:last a"),s=e.Event("hide.bs.tab",{relatedTarget:t[0]}),o=e.Event("show.bs.tab",{relatedTarget:r[0]});if(r.trigger(s),t.trigger(o),!o.isDefaultPrevented()&&!s.isDefaultPrevented()){var a=e(n);this.activate(t.closest("li"),i),this.activate(a,a.parent(),function(){r.trigger({type:"hidden.bs.tab",relatedTarget:t[0]}),t.trigger({type:"shown.bs.tab",relatedTarget:r[0]})})}}},i.prototype.activate=function(t,n,r){function s(){o.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),t.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),a?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu").length&&t.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),r&&r()}var o=n.find("> .active"),a=r&&e.support.transition&&(o.length&&o.hasClass("fade")||!!n.find("> .fade").length);
o.length&&a?o.one("bsTransitionEnd",s).emulateTransitionEnd(i.TRANSITION_DURATION):s(),o.removeClass("in")};var n=e.fn.tab;e.fn.tab=t,e.fn.tab.Constructor=i,e.fn.tab.noConflict=function(){return e.fn.tab=n,this};var r=function(i){i.preventDefault(),t.call(e(this),"show")};e(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',r).on("click.bs.tab.data-api",'[data-toggle="pill"]',r)}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var n=e(this),r=n.data("bs.affix"),s="object"==typeof t&&t;r||n.data("bs.affix",r=new i(this,s)),"string"==typeof t&&r[t]()})}var i=function(t,n){this.options=e.extend({},i.DEFAULTS,n),this.$target=e(this.options.target).on("scroll.bs.affix.data-api",e.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",e.proxy(this.checkPositionWithEventLoop,this)),this.$element=e(t),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};i.VERSION="3.3.7",i.RESET="affix affix-top affix-bottom",i.DEFAULTS={offset:0,target:window},i.prototype.getState=function(e,t,i,n){var r=this.$target.scrollTop(),s=this.$element.offset(),o=this.$target.height();if(null!=i&&"top"==this.affixed)return i>r?"top":!1;if("bottom"==this.affixed)return null!=i?r+this.unpin<=s.top?!1:"bottom":e-n>=r+o?!1:"bottom";var a=null==this.affixed,l=a?r:s.top,c=a?o:t;return null!=i&&i>=r?"top":null!=n&&l+c>=e-n?"bottom":!1},i.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(i.RESET).addClass("affix");var e=this.$target.scrollTop(),t=this.$element.offset();return this.pinnedOffset=t.top-e},i.prototype.checkPositionWithEventLoop=function(){setTimeout(e.proxy(this.checkPosition,this),1)},i.prototype.checkPosition=function(){if(this.$element.is(":visible")){var t=this.$element.height(),n=this.options.offset,r=n.top,s=n.bottom,o=Math.max(e(document).height(),e(document.body).height());"object"!=typeof n&&(s=r=n),"function"==typeof r&&(r=n.top(this.$element)),"function"==typeof s&&(s=n.bottom(this.$element));var a=this.getState(o,t,r,s);if(this.affixed!=a){null!=this.unpin&&this.$element.css("top","");var l="affix"+(a?"-"+a:""),c=e.Event(l+".bs.affix");if(this.$element.trigger(c),c.isDefaultPrevented())return;this.affixed=a,this.unpin="bottom"==a?this.getPinnedOffset():null,this.$element.removeClass(i.RESET).addClass(l).trigger(l.replace("affix","affixed")+".bs.affix")}"bottom"==a&&this.$element.offset({top:o-t-s})}};var n=e.fn.affix;e.fn.affix=t,e.fn.affix.Constructor=i,e.fn.affix.noConflict=function(){return e.fn.affix=n,this},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var i=e(this),n=i.data();n.offset=n.offset||{},null!=n.offsetBottom&&(n.offset.bottom=n.offsetBottom),null!=n.offsetTop&&(n.offset.top=n.offsetTop),t.call(i,n)})})}(jQuery),+function(e){"use strict";function t(i,n){this.$body=e(document.body),this.$scrollElement=e(e(i).is(document.body)?window:i),this.options=e.extend({},t.DEFAULTS,n),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",e.proxy(this.process,this)),this.refresh(),this.process()}function i(i){return this.each(function(){var n=e(this),r=n.data("bs.scrollspy"),s="object"==typeof i&&i;r||n.data("bs.scrollspy",r=new t(this,s)),"string"==typeof i&&r[i]()})}t.VERSION="3.3.7",t.DEFAULTS={offset:10},t.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},t.prototype.refresh=function(){var t=this,i="offset",n=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),e.isWindow(this.$scrollElement[0])||(i="position",n=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var t=e(this),r=t.data("target")||t.attr("href"),s=/^#./.test(r)&&e(r);return s&&s.length&&s.is(":visible")&&[[s[i]().top+n,r]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){t.offsets.push(this[0]),t.targets.push(this[1])})},t.prototype.process=function(){var e,t=this.$scrollElement.scrollTop()+this.options.offset,i=this.getScrollHeight(),n=this.options.offset+i-this.$scrollElement.height(),r=this.offsets,s=this.targets,o=this.activeTarget;if(this.scrollHeight!=i&&this.refresh(),t>=n)return o!=(e=s[s.length-1])&&this.activate(e);if(o&&t<r[0])return this.activeTarget=null,this.clear();for(e=r.length;e--;)o!=s[e]&&t>=r[e]&&(void 0===r[e+1]||t<r[e+1])&&this.activate(s[e])},t.prototype.activate=function(t){this.activeTarget=t,this.clear();var i=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',n=e(i).parents("li").addClass("active");n.parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate.bs.scrollspy")},t.prototype.clear=function(){e(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var n=e.fn.scrollspy;e.fn.scrollspy=i,e.fn.scrollspy.Constructor=t,e.fn.scrollspy.noConflict=function(){return e.fn.scrollspy=n,this},e(window).on("load.bs.scrollspy.data-api",function(){e('[data-spy="scroll"]').each(function(){var t=e(this);i.call(t,t.data())})})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var n=e(this),r=n.data("bs.tooltip"),s="object"==typeof t&&t;(r||!/destroy|hide/.test(t))&&(r||n.data("bs.tooltip",r=new i(this,s)),"string"==typeof t&&r[t]())})}var i=function(e,t){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",e,t)};i.VERSION="3.3.7",i.TRANSITION_DURATION=150,i.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},i.prototype.init=function(t,i,n){if(this.enabled=!0,this.type=t,this.$element=e(i),this.options=this.getOptions(n),this.$viewport=this.options.viewport&&e(e.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var r=this.options.trigger.split(" "),s=r.length;s--;){var o=r[s];if("click"==o)this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this));else if("manual"!=o){var a="hover"==o?"mouseenter":"focusin",l="hover"==o?"mouseleave":"focusout";this.$element.on(a+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,e.proxy(this.leave,this))}}this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},i.prototype.getDefaults=function(){return i.DEFAULTS},i.prototype.getOptions=function(t){return t=e.extend({},this.getDefaults(),this.$element.data(),t),t.delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},i.prototype.getDelegateOptions=function(){var t={},i=this.getDefaults();return this._options&&e.each(this._options,function(e,n){i[e]!=n&&(t[e]=n)}),t},i.prototype.enter=function(t){var i=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);return i||(i=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,i)),t instanceof e.Event&&(i.inState["focusin"==t.type?"focus":"hover"]=!0),i.tip().hasClass("in")||"in"==i.hoverState?void(i.hoverState="in"):(clearTimeout(i.timeout),i.hoverState="in",i.options.delay&&i.options.delay.show?void(i.timeout=setTimeout(function(){"in"==i.hoverState&&i.show()},i.options.delay.show)):i.show())},i.prototype.isInStateTrue=function(){for(var e in this.inState)if(this.inState[e])return!0;return!1},i.prototype.leave=function(t){var i=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);return i||(i=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,i)),t instanceof e.Event&&(i.inState["focusout"==t.type?"focus":"hover"]=!1),i.isInStateTrue()?void 0:(clearTimeout(i.timeout),i.hoverState="out",i.options.delay&&i.options.delay.hide?void(i.timeout=setTimeout(function(){"out"==i.hoverState&&i.hide()},i.options.delay.hide)):i.hide())},i.prototype.show=function(){var t=e.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(t);var n=e.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(t.isDefaultPrevented()||!n)return;var r=this,s=this.tip(),o=this.getUID(this.type);this.setContent(),s.attr("id",o),this.$element.attr("aria-describedby",o),this.options.animation&&s.addClass("fade");var a="function"==typeof this.options.placement?this.options.placement.call(this,s[0],this.$element[0]):this.options.placement,l=/\s?auto?\s?/i,c=l.test(a);c&&(a=a.replace(l,"")||"top"),s.detach().css({top:0,left:0,display:"block"}).addClass(a).data("bs."+this.type,this),this.options.container?s.appendTo(this.options.container):s.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var u=this.getPosition(),d=s[0].offsetWidth,h=s[0].offsetHeight;if(c){var f=a,p=this.getPosition(this.$viewport);a="bottom"==a&&u.bottom+h>p.bottom?"top":"top"==a&&u.top-h<p.top?"bottom":"right"==a&&u.right+d>p.width?"left":"left"==a&&u.left-d<p.left?"right":a,s.removeClass(f).addClass(a)}var g=this.getCalculatedOffset(a,u,d,h);this.applyPlacement(g,a);var m=function(){var e=r.hoverState;r.$element.trigger("shown.bs."+r.type),r.hoverState=null,"out"==e&&r.leave(r)};e.support.transition&&this.$tip.hasClass("fade")?s.one("bsTransitionEnd",m).emulateTransitionEnd(i.TRANSITION_DURATION):m()}},i.prototype.applyPlacement=function(t,i){var n=this.tip(),r=n[0].offsetWidth,s=n[0].offsetHeight,o=parseInt(n.css("margin-top"),10),a=parseInt(n.css("margin-left"),10);isNaN(o)&&(o=0),isNaN(a)&&(a=0),t.top+=o,t.left+=a,e.offset.setOffset(n[0],e.extend({using:function(e){n.css({top:Math.round(e.top),left:Math.round(e.left)})}},t),0),n.addClass("in");var l=n[0].offsetWidth,c=n[0].offsetHeight;"top"==i&&c!=s&&(t.top=t.top+s-c);var u=this.getViewportAdjustedDelta(i,t,l,c);u.left?t.left+=u.left:t.top+=u.top;var d=/top|bottom/.test(i),h=d?2*u.left-r+l:2*u.top-s+c,f=d?"offsetWidth":"offsetHeight";n.offset(t),this.replaceArrow(h,n[0][f],d)},i.prototype.replaceArrow=function(e,t,i){this.arrow().css(i?"left":"top",50*(1-e/t)+"%").css(i?"top":"left","")},i.prototype.setContent=function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},i.prototype.hide=function(t){function n(){"in"!=r.hoverState&&s.detach(),r.$element&&r.$element.removeAttr("aria-describedby").trigger("hidden.bs."+r.type),t&&t()}var r=this,s=e(this.$tip),o=e.Event("hide.bs."+this.type);return this.$element.trigger(o),o.isDefaultPrevented()?void 0:(s.removeClass("in"),e.support.transition&&s.hasClass("fade")?s.one("bsTransitionEnd",n).emulateTransitionEnd(i.TRANSITION_DURATION):n(),this.hoverState=null,this)},i.prototype.fixTitle=function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},i.prototype.hasContent=function(){return this.getTitle()},i.prototype.getPosition=function(t){t=t||this.$element;var i=t[0],n="BODY"==i.tagName,r=i.getBoundingClientRect();null==r.width&&(r=e.extend({},r,{width:r.right-r.left,height:r.bottom-r.top}));var s=window.SVGElement&&i instanceof window.SVGElement,o=n?{top:0,left:0}:s?null:t.offset(),a={scroll:n?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop()},l=n?{width:e(window).width(),height:e(window).height()}:null;return e.extend({},r,a,l,o)},i.prototype.getCalculatedOffset=function(e,t,i,n){return"bottom"==e?{top:t.top+t.height,left:t.left+t.width/2-i/2}:"top"==e?{top:t.top-n,left:t.left+t.width/2-i/2}:"left"==e?{top:t.top+t.height/2-n/2,left:t.left-i}:{top:t.top+t.height/2-n/2,left:t.left+t.width}},i.prototype.getViewportAdjustedDelta=function(e,t,i,n){var r={top:0,left:0};if(!this.$viewport)return r;var s=this.options.viewport&&this.options.viewport.padding||0,o=this.getPosition(this.$viewport);if(/right|left/.test(e)){var a=t.top-s-o.scroll,l=t.top+s-o.scroll+n;a<o.top?r.top=o.top-a:l>o.top+o.height&&(r.top=o.top+o.height-l)}else{var c=t.left-s,u=t.left+s+i;c<o.left?r.left=o.left-c:u>o.right&&(r.left=o.left+o.width-u)}return r},i.prototype.getTitle=function(){var e,t=this.$element,i=this.options;return e=t.attr("data-original-title")||("function"==typeof i.title?i.title.call(t[0]):i.title)},i.prototype.getUID=function(e){do e+=~~(1e6*Math.random());while(document.getElementById(e));return e},i.prototype.tip=function(){if(!this.$tip&&(this.$tip=e(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},i.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},i.prototype.enable=function(){this.enabled=!0},i.prototype.disable=function(){this.enabled=!1},i.prototype.toggleEnabled=function(){this.enabled=!this.enabled},i.prototype.toggle=function(t){var i=this;t&&(i=e(t.currentTarget).data("bs."+this.type),i||(i=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,i))),t?(i.inState.click=!i.inState.click,i.isInStateTrue()?i.enter(i):i.leave(i)):i.tip().hasClass("in")?i.leave(i):i.enter(i)},i.prototype.destroy=function(){var e=this;clearTimeout(this.timeout),this.hide(function(){e.$element.off("."+e.type).removeData("bs."+e.type),e.$tip&&e.$tip.detach(),e.$tip=null,e.$arrow=null,e.$viewport=null,e.$element=null})};var n=e.fn.tooltip;e.fn.tooltip=t,e.fn.tooltip.Constructor=i,e.fn.tooltip.noConflict=function(){return e.fn.tooltip=n,this}}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var n=e(this),r=n.data("bs.popover"),s="object"==typeof t&&t;(r||!/destroy|hide/.test(t))&&(r||n.data("bs.popover",r=new i(this,s)),"string"==typeof t&&r[t]())})}var i=function(e,t){this.init("popover",e,t)};if(!e.fn.tooltip)throw new Error("Popover requires tooltip.js");i.VERSION="3.3.7",i.DEFAULTS=e.extend({},e.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),i.prototype=e.extend({},e.fn.tooltip.Constructor.prototype),i.prototype.constructor=i,i.prototype.getDefaults=function(){return i.DEFAULTS},i.prototype.setContent=function(){var e=this.tip(),t=this.getTitle(),i=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof i?"html":"append":"text"](i),e.removeClass("fade top bottom left right in"),e.find(".popover-title").html()||e.find(".popover-title").hide()},i.prototype.hasContent=function(){return this.getTitle()||this.getContent()},i.prototype.getContent=function(){var e=this.$element,t=this.options;return e.attr("data-content")||("function"==typeof t.content?t.content.call(e[0]):t.content)},i.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var n=e.fn.popover;e.fn.popover=t,e.fn.popover.Constructor=i,e.fn.popover.noConflict=function(){return e.fn.popover=n,this}}(jQuery),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(e){"use strict";var t=e.fn.jquery.split(" ")[0].split(".");if(t[0]<2&&t[1]<9||1==t[0]&&9==t[1]&&t[2]<1||t[0]>3)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 4")}(jQuery),+function(e){"use strict";function t(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var i in t)if(void 0!==e.style[i])return{end:t[i]};return!1}e.fn.emulateTransitionEnd=function(t){var i=!1,n=this;e(this).one("bsTransitionEnd",function(){i=!0});var r=function(){i||e(n).trigger(e.support.transition.end)};return setTimeout(r,t),this},e(function(){e.support.transition=t(),e.support.transition&&(e.event.special.bsTransitionEnd={bindType:e.support.transition.end,delegateType:e.support.transition.end,handle:function(t){return e(t.target).is(this)?t.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var i=e(this),r=i.data("bs.alert");r||i.data("bs.alert",r=new n(this)),"string"==typeof t&&r[t].call(i)})}var i='[data-dismiss="alert"]',n=function(t){e(t).on("click",i,this.close)};n.VERSION="3.3.7",n.TRANSITION_DURATION=150,n.prototype.close=function(t){function i(){o.detach().trigger("closed.bs.alert").remove()}var r=e(this),s=r.attr("data-target");s||(s=r.attr("href"),s=s&&s.replace(/.*(?=#[^\s]*$)/,""));var o=e("#"===s?[]:s);t&&t.preventDefault(),o.length||(o=r.closest(".alert")),o.trigger(t=e.Event("close.bs.alert")),t.isDefaultPrevented()||(o.removeClass("in"),e.support.transition&&o.hasClass("fade")?o.one("bsTransitionEnd",i).emulateTransitionEnd(n.TRANSITION_DURATION):i())};var r=e.fn.alert;e.fn.alert=t,e.fn.alert.Constructor=n,e.fn.alert.noConflict=function(){return e.fn.alert=r,this},e(document).on("click.bs.alert.data-api",i,n.prototype.close)}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var n=e(this),r=n.data("bs.button"),s="object"==typeof t&&t;r||n.data("bs.button",r=new i(this,s)),"toggle"==t?r.toggle():t&&r.setState(t)})}var i=function(t,n){this.$element=e(t),this.options=e.extend({},i.DEFAULTS,n),this.isLoading=!1};i.VERSION="3.3.7",i.DEFAULTS={loadingText:"loading..."},i.prototype.setState=function(t){var i="disabled",n=this.$element,r=n.is("input")?"val":"html",s=n.data();t+="Text",null==s.resetText&&n.data("resetText",n[r]()),setTimeout(e.proxy(function(){n[r](null==s[t]?this.options[t]:s[t]),"loadingText"==t?(this.isLoading=!0,n.addClass(i).attr(i,i).prop(i,!0)):this.isLoading&&(this.isLoading=!1,n.removeClass(i).removeAttr(i).prop(i,!1))},this),0)},i.prototype.toggle=function(){var e=!0,t=this.$element.closest('[data-toggle="buttons"]');if(t.length){var i=this.$element.find("input");"radio"==i.prop("type")?(i.prop("checked")&&(e=!1),t.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==i.prop("type")&&(i.prop("checked")!==this.$element.hasClass("active")&&(e=!1),this.$element.toggleClass("active")),i.prop("checked",this.$element.hasClass("active")),e&&i.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var n=e.fn.button;e.fn.button=t,e.fn.button.Constructor=i,e.fn.button.noConflict=function(){return e.fn.button=n,this},e(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(i){var n=e(i.target).closest(".btn");t.call(n,"toggle"),e(i.target).is('input[type="radio"], input[type="checkbox"]')||(i.preventDefault(),n.is("input,button")?n.trigger("focus"):n.find("input:visible,button:visible").first().trigger("focus"))}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(t){e(t.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(t.type))})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var n=e(this),r=n.data("bs.carousel"),s=e.extend({},i.DEFAULTS,n.data(),"object"==typeof t&&t),o="string"==typeof t?t:s.slide;r||n.data("bs.carousel",r=new i(this,s)),"number"==typeof t?r.to(t):o?r[o]():s.interval&&r.pause().cycle()})}var i=function(t,i){this.$element=e(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=i,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",e.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",e.proxy(this.pause,this)).on("mouseleave.bs.carousel",e.proxy(this.cycle,this))};i.VERSION="3.3.7",i.TRANSITION_DURATION=600,i.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},i.prototype.keydown=function(e){if(!/input|textarea/i.test(e.target.tagName)){switch(e.which){case 37:this.prev();break;case 39:this.next();break;default:return}e.preventDefault()}},i.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},i.prototype.getItemIndex=function(e){return this.$items=e.parent().children(".item"),this.$items.index(e||this.$active)},i.prototype.getItemForDirection=function(e,t){var i=this.getItemIndex(t),n="prev"==e&&0===i||"next"==e&&i==this.$items.length-1;if(n&&!this.options.wrap)return t;var r="prev"==e?-1:1,s=(i+r)%this.$items.length;return this.$items.eq(s)},i.prototype.to=function(e){var t=this,i=this.getItemIndex(this.$active=this.$element.find(".item.active"));return e>this.$items.length-1||0>e?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){t.to(e)}):i==e?this.pause().cycle():this.slide(e>i?"next":"prev",this.$items.eq(e))},i.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition&&(this.$element.trigger(e.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},i.prototype.next=function(){return this.sliding?void 0:this.slide("next")},i.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},i.prototype.slide=function(t,n){var r=this.$element.find(".item.active"),s=n||this.getItemForDirection(t,r),o=this.interval,a="next"==t?"left":"right",l=this;if(s.hasClass("active"))return this.sliding=!1;var c=s[0],u=e.Event("slide.bs.carousel",{relatedTarget:c,direction:a});if(this.$element.trigger(u),!u.isDefaultPrevented()){if(this.sliding=!0,o&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var d=e(this.$indicators.children()[this.getItemIndex(s)]);d&&d.addClass("active")}var h=e.Event("slid.bs.carousel",{relatedTarget:c,direction:a});return e.support.transition&&this.$element.hasClass("slide")?(s.addClass(t),s[0].offsetWidth,r.addClass(a),s.addClass(a),r.one("bsTransitionEnd",function(){s.removeClass([t,a].join(" ")).addClass("active"),r.removeClass(["active",a].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(h)},0)}).emulateTransitionEnd(i.TRANSITION_DURATION)):(r.removeClass("active"),s.addClass("active"),this.sliding=!1,this.$element.trigger(h)),o&&this.cycle(),this}};var n=e.fn.carousel;e.fn.carousel=t,e.fn.carousel.Constructor=i,e.fn.carousel.noConflict=function(){return e.fn.carousel=n,this};var r=function(i){var n,r=e(this),s=e(r.attr("data-target")||(n=r.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,""));if(s.hasClass("carousel")){var o=e.extend({},s.data(),r.data()),a=r.attr("data-slide-to");a&&(o.interval=!1),t.call(s,o),a&&s.data("bs.carousel").to(a),i.preventDefault()}};e(document).on("click.bs.carousel.data-api","[data-slide]",r).on("click.bs.carousel.data-api","[data-slide-to]",r),e(window).on("load",function(){e('[data-ride="carousel"]').each(function(){var i=e(this);t.call(i,i.data())})})}(jQuery),+function(e){"use strict";function t(t){var i,n=t.attr("data-target")||(i=t.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"");return e(n)}function i(t){return this.each(function(){var i=e(this),r=i.data("bs.collapse"),s=e.extend({},n.DEFAULTS,i.data(),"object"==typeof t&&t);!r&&s.toggle&&/show|hide/.test(t)&&(s.toggle=!1),r||i.data("bs.collapse",r=new n(this,s)),"string"==typeof t&&r[t]()})}var n=function(t,i){this.$element=e(t),this.options=e.extend({},n.DEFAULTS,i),this.$trigger=e('[data-toggle="collapse"][href="#'+t.id+'"],[data-toggle="collapse"][data-target="#'+t.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};n.VERSION="3.3.7",n.TRANSITION_DURATION=350,n.DEFAULTS={toggle:!0},n.prototype.dimension=function(){var e=this.$element.hasClass("width");return e?"width":"height"},n.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var t,r=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(r&&r.length&&(t=r.data("bs.collapse"),t&&t.transitioning))){var s=e.Event("show.bs.collapse");if(this.$element.trigger(s),!s.isDefaultPrevented()){r&&r.length&&(i.call(r,"hide"),t||r.data("bs.collapse",null));var o=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[o](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var a=function(){this.$element.removeClass("collapsing").addClass("collapse in")[o](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!e.support.transition)return a.call(this);var l=e.camelCase(["scroll",o].join("-"));this.$element.one("bsTransitionEnd",e.proxy(a,this)).emulateTransitionEnd(n.TRANSITION_DURATION)[o](this.$element[0][l])}}}},n.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var t=e.Event("hide.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){var i=this.dimension();this.$element[i](this.$element[i]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var r=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return e.support.transition?void this.$element[i](0).one("bsTransitionEnd",e.proxy(r,this)).emulateTransitionEnd(n.TRANSITION_DURATION):r.call(this)}}},n.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},n.prototype.getParent=function(){return e(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(e.proxy(function(i,n){var r=e(n);this.addAriaAndCollapsedClass(t(r),r)},this)).end()},n.prototype.addAriaAndCollapsedClass=function(e,t){var i=e.hasClass("in");e.attr("aria-expanded",i),t.toggleClass("collapsed",!i).attr("aria-expanded",i)};var r=e.fn.collapse;e.fn.collapse=i,e.fn.collapse.Constructor=n,e.fn.collapse.noConflict=function(){return e.fn.collapse=r,this},e(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(n){var r=e(this);r.attr("data-target")||n.preventDefault();var s=t(r),o=s.data("bs.collapse"),a=o?"toggle":r.data();i.call(s,a)})}(jQuery),+function(e){"use strict";function t(t){var i=t.attr("data-target");i||(i=t.attr("href"),i=i&&/#[A-Za-z]/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,""));var n=i&&e(i);return n&&n.length?n:t.parent()}function i(i){i&&3===i.which||(e(r).remove(),e(s).each(function(){var n=e(this),r=t(n),s={relatedTarget:this};r.hasClass("open")&&(i&&"click"==i.type&&/input|textarea/i.test(i.target.tagName)&&e.contains(r[0],i.target)||(r.trigger(i=e.Event("hide.bs.dropdown",s)),i.isDefaultPrevented()||(n.attr("aria-expanded","false"),r.removeClass("open").trigger(e.Event("hidden.bs.dropdown",s)))))}))}function n(t){return this.each(function(){var i=e(this),n=i.data("bs.dropdown");n||i.data("bs.dropdown",n=new o(this)),"string"==typeof t&&n[t].call(i)})}var r=".dropdown-backdrop",s='[data-toggle="dropdown"]',o=function(t){e(t).on("click.bs.dropdown",this.toggle)};o.VERSION="3.3.7",o.prototype.toggle=function(n){var r=e(this);if(!r.is(".disabled, :disabled")){var s=t(r),o=s.hasClass("open");if(i(),!o){"ontouchstart"in document.documentElement&&!s.closest(".navbar-nav").length&&e(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(e(this)).on("click",i);var a={relatedTarget:this};if(s.trigger(n=e.Event("show.bs.dropdown",a)),n.isDefaultPrevented())return;r.trigger("focus").attr("aria-expanded","true"),s.toggleClass("open").trigger(e.Event("shown.bs.dropdown",a))}return!1}},o.prototype.keydown=function(i){if(/(38|40|27|32)/.test(i.which)&&!/input|textarea/i.test(i.target.tagName)){var n=e(this);if(i.preventDefault(),i.stopPropagation(),!n.is(".disabled, :disabled")){var r=t(n),o=r.hasClass("open");if(!o&&27!=i.which||o&&27==i.which)return 27==i.which&&r.find(s).trigger("focus"),n.trigger("click");var a=" li:not(.disabled):visible a",l=r.find(".dropdown-menu"+a);if(l.length){var c=l.index(i.target);38==i.which&&c>0&&c--,40==i.which&&c<l.length-1&&c++,~c||(c=0),l.eq(c).trigger("focus")}}}};var a=e.fn.dropdown;e.fn.dropdown=n,e.fn.dropdown.Constructor=o,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=a,this},e(document).on("click.bs.dropdown.data-api",i).on("click.bs.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.bs.dropdown.data-api",s,o.prototype.toggle).on("keydown.bs.dropdown.data-api",s,o.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",o.prototype.keydown)}(jQuery),+function(e){"use strict";function t(t,n){return this.each(function(){var r=e(this),s=r.data("bs.modal"),o=e.extend({},i.DEFAULTS,r.data(),"object"==typeof t&&t);s||r.data("bs.modal",s=new i(this,o)),"string"==typeof t?s[t](n):o.show&&s.show(n)})}var i=function(t,i){this.options=i,this.$body=e(document.body),this.$element=e(t),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,e.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};i.VERSION="3.3.7",i.TRANSITION_DURATION=300,i.BACKDROP_TRANSITION_DURATION=150,i.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},i.prototype.toggle=function(e){return this.isShown?this.hide():this.show(e)},i.prototype.show=function(t){var n=this,r=e.Event("show.bs.modal",{relatedTarget:t});this.$element.trigger(r),this.isShown||r.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){n.$element.one("mouseup.dismiss.bs.modal",function(t){e(t.target).is(n.$element)&&(n.ignoreBackdropClick=!0)})}),this.backdrop(function(){var r=e.support.transition&&n.$element.hasClass("fade");n.$element.parent().length||n.$element.appendTo(n.$body),n.$element.show().scrollTop(0),n.adjustDialog(),r&&n.$element[0].offsetWidth,n.$element.addClass("in"),n.enforceFocus();var s=e.Event("shown.bs.modal",{relatedTarget:t});r?n.$dialog.one("bsTransitionEnd",function(){n.$element.trigger("focus").trigger(s)}).emulateTransitionEnd(i.TRANSITION_DURATION):n.$element.trigger("focus").trigger(s)}))},i.prototype.hide=function(t){t&&t.preventDefault(),t=e.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),e(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),e.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",e.proxy(this.hideModal,this)).emulateTransitionEnd(i.TRANSITION_DURATION):this.hideModal())},i.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy(function(e){document===e.target||this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.trigger("focus")},this))},i.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",e.proxy(function(e){27==e.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},i.prototype.resize=function(){this.isShown?e(window).on("resize.bs.modal",e.proxy(this.handleUpdate,this)):e(window).off("resize.bs.modal")},i.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop(function(){e.$body.removeClass("modal-open"),e.resetAdjustments(),e.resetScrollbar(),e.$element.trigger("hidden.bs.modal")})},i.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null
},i.prototype.backdrop=function(t){var n=this,r=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var s=e.support.transition&&r;if(this.$backdrop=e(document.createElement("div")).addClass("modal-backdrop "+r).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",e.proxy(function(e){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),s&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;s?this.$backdrop.one("bsTransitionEnd",t).emulateTransitionEnd(i.BACKDROP_TRANSITION_DURATION):t()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var o=function(){n.removeBackdrop(),t&&t()};e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",o).emulateTransitionEnd(i.BACKDROP_TRANSITION_DURATION):o()}else t&&t()},i.prototype.handleUpdate=function(){this.adjustDialog()},i.prototype.adjustDialog=function(){var e=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&e?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!e?this.scrollbarWidth:""})},i.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},i.prototype.checkScrollbar=function(){var e=window.innerWidth;if(!e){var t=document.documentElement.getBoundingClientRect();e=t.right-Math.abs(t.left)}this.bodyIsOverflowing=document.body.clientWidth<e,this.scrollbarWidth=this.measureScrollbar()},i.prototype.setScrollbar=function(){var e=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",e+this.scrollbarWidth)},i.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},i.prototype.measureScrollbar=function(){var e=document.createElement("div");e.className="modal-scrollbar-measure",this.$body.append(e);var t=e.offsetWidth-e.clientWidth;return this.$body[0].removeChild(e),t};var n=e.fn.modal;e.fn.modal=t,e.fn.modal.Constructor=i,e.fn.modal.noConflict=function(){return e.fn.modal=n,this},e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(i){var n=e(this),r=n.attr("href"),s=e(n.attr("data-target")||r&&r.replace(/.*(?=#[^\s]+$)/,"")),o=s.data("bs.modal")?"toggle":e.extend({remote:!/#/.test(r)&&r},s.data(),n.data());n.is("a")&&i.preventDefault(),s.one("show.bs.modal",function(e){e.isDefaultPrevented()||s.one("hidden.bs.modal",function(){n.is(":visible")&&n.trigger("focus")})}),t.call(s,o,this)})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var n=e(this),r=n.data("bs.tooltip"),s="object"==typeof t&&t;(r||!/destroy|hide/.test(t))&&(r||n.data("bs.tooltip",r=new i(this,s)),"string"==typeof t&&r[t]())})}var i=function(e,t){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",e,t)};i.VERSION="3.3.7",i.TRANSITION_DURATION=150,i.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},i.prototype.init=function(t,i,n){if(this.enabled=!0,this.type=t,this.$element=e(i),this.options=this.getOptions(n),this.$viewport=this.options.viewport&&e(e.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var r=this.options.trigger.split(" "),s=r.length;s--;){var o=r[s];if("click"==o)this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this));else if("manual"!=o){var a="hover"==o?"mouseenter":"focusin",l="hover"==o?"mouseleave":"focusout";this.$element.on(a+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,e.proxy(this.leave,this))}}this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},i.prototype.getDefaults=function(){return i.DEFAULTS},i.prototype.getOptions=function(t){return t=e.extend({},this.getDefaults(),this.$element.data(),t),t.delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},i.prototype.getDelegateOptions=function(){var t={},i=this.getDefaults();return this._options&&e.each(this._options,function(e,n){i[e]!=n&&(t[e]=n)}),t},i.prototype.enter=function(t){var i=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);return i||(i=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,i)),t instanceof e.Event&&(i.inState["focusin"==t.type?"focus":"hover"]=!0),i.tip().hasClass("in")||"in"==i.hoverState?void(i.hoverState="in"):(clearTimeout(i.timeout),i.hoverState="in",i.options.delay&&i.options.delay.show?void(i.timeout=setTimeout(function(){"in"==i.hoverState&&i.show()},i.options.delay.show)):i.show())},i.prototype.isInStateTrue=function(){for(var e in this.inState)if(this.inState[e])return!0;return!1},i.prototype.leave=function(t){var i=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);return i||(i=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,i)),t instanceof e.Event&&(i.inState["focusout"==t.type?"focus":"hover"]=!1),i.isInStateTrue()?void 0:(clearTimeout(i.timeout),i.hoverState="out",i.options.delay&&i.options.delay.hide?void(i.timeout=setTimeout(function(){"out"==i.hoverState&&i.hide()},i.options.delay.hide)):i.hide())},i.prototype.show=function(){var t=e.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(t);var n=e.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(t.isDefaultPrevented()||!n)return;var r=this,s=this.tip(),o=this.getUID(this.type);this.setContent(),s.attr("id",o),this.$element.attr("aria-describedby",o),this.options.animation&&s.addClass("fade");var a="function"==typeof this.options.placement?this.options.placement.call(this,s[0],this.$element[0]):this.options.placement,l=/\s?auto?\s?/i,c=l.test(a);c&&(a=a.replace(l,"")||"top"),s.detach().css({top:0,left:0,display:"block"}).addClass(a).data("bs."+this.type,this),this.options.container?s.appendTo(this.options.container):s.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var u=this.getPosition(),d=s[0].offsetWidth,h=s[0].offsetHeight;if(c){var f=a,p=this.getPosition(this.$viewport);a="bottom"==a&&u.bottom+h>p.bottom?"top":"top"==a&&u.top-h<p.top?"bottom":"right"==a&&u.right+d>p.width?"left":"left"==a&&u.left-d<p.left?"right":a,s.removeClass(f).addClass(a)}var g=this.getCalculatedOffset(a,u,d,h);this.applyPlacement(g,a);var m=function(){var e=r.hoverState;r.$element.trigger("shown.bs."+r.type),r.hoverState=null,"out"==e&&r.leave(r)};e.support.transition&&this.$tip.hasClass("fade")?s.one("bsTransitionEnd",m).emulateTransitionEnd(i.TRANSITION_DURATION):m()}},i.prototype.applyPlacement=function(t,i){var n=this.tip(),r=n[0].offsetWidth,s=n[0].offsetHeight,o=parseInt(n.css("margin-top"),10),a=parseInt(n.css("margin-left"),10);isNaN(o)&&(o=0),isNaN(a)&&(a=0),t.top+=o,t.left+=a,e.offset.setOffset(n[0],e.extend({using:function(e){n.css({top:Math.round(e.top),left:Math.round(e.left)})}},t),0),n.addClass("in");var l=n[0].offsetWidth,c=n[0].offsetHeight;"top"==i&&c!=s&&(t.top=t.top+s-c);var u=this.getViewportAdjustedDelta(i,t,l,c);u.left?t.left+=u.left:t.top+=u.top;var d=/top|bottom/.test(i),h=d?2*u.left-r+l:2*u.top-s+c,f=d?"offsetWidth":"offsetHeight";n.offset(t),this.replaceArrow(h,n[0][f],d)},i.prototype.replaceArrow=function(e,t,i){this.arrow().css(i?"left":"top",50*(1-e/t)+"%").css(i?"top":"left","")},i.prototype.setContent=function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},i.prototype.hide=function(t){function n(){"in"!=r.hoverState&&s.detach(),r.$element&&r.$element.removeAttr("aria-describedby").trigger("hidden.bs."+r.type),t&&t()}var r=this,s=e(this.$tip),o=e.Event("hide.bs."+this.type);return this.$element.trigger(o),o.isDefaultPrevented()?void 0:(s.removeClass("in"),e.support.transition&&s.hasClass("fade")?s.one("bsTransitionEnd",n).emulateTransitionEnd(i.TRANSITION_DURATION):n(),this.hoverState=null,this)},i.prototype.fixTitle=function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},i.prototype.hasContent=function(){return this.getTitle()},i.prototype.getPosition=function(t){t=t||this.$element;var i=t[0],n="BODY"==i.tagName,r=i.getBoundingClientRect();null==r.width&&(r=e.extend({},r,{width:r.right-r.left,height:r.bottom-r.top}));var s=window.SVGElement&&i instanceof window.SVGElement,o=n?{top:0,left:0}:s?null:t.offset(),a={scroll:n?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop()},l=n?{width:e(window).width(),height:e(window).height()}:null;return e.extend({},r,a,l,o)},i.prototype.getCalculatedOffset=function(e,t,i,n){return"bottom"==e?{top:t.top+t.height,left:t.left+t.width/2-i/2}:"top"==e?{top:t.top-n,left:t.left+t.width/2-i/2}:"left"==e?{top:t.top+t.height/2-n/2,left:t.left-i}:{top:t.top+t.height/2-n/2,left:t.left+t.width}},i.prototype.getViewportAdjustedDelta=function(e,t,i,n){var r={top:0,left:0};if(!this.$viewport)return r;var s=this.options.viewport&&this.options.viewport.padding||0,o=this.getPosition(this.$viewport);if(/right|left/.test(e)){var a=t.top-s-o.scroll,l=t.top+s-o.scroll+n;a<o.top?r.top=o.top-a:l>o.top+o.height&&(r.top=o.top+o.height-l)}else{var c=t.left-s,u=t.left+s+i;c<o.left?r.left=o.left-c:u>o.right&&(r.left=o.left+o.width-u)}return r},i.prototype.getTitle=function(){var e,t=this.$element,i=this.options;return e=t.attr("data-original-title")||("function"==typeof i.title?i.title.call(t[0]):i.title)},i.prototype.getUID=function(e){do e+=~~(1e6*Math.random());while(document.getElementById(e));return e},i.prototype.tip=function(){if(!this.$tip&&(this.$tip=e(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},i.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},i.prototype.enable=function(){this.enabled=!0},i.prototype.disable=function(){this.enabled=!1},i.prototype.toggleEnabled=function(){this.enabled=!this.enabled},i.prototype.toggle=function(t){var i=this;t&&(i=e(t.currentTarget).data("bs."+this.type),i||(i=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,i))),t?(i.inState.click=!i.inState.click,i.isInStateTrue()?i.enter(i):i.leave(i)):i.tip().hasClass("in")?i.leave(i):i.enter(i)},i.prototype.destroy=function(){var e=this;clearTimeout(this.timeout),this.hide(function(){e.$element.off("."+e.type).removeData("bs."+e.type),e.$tip&&e.$tip.detach(),e.$tip=null,e.$arrow=null,e.$viewport=null,e.$element=null})};var n=e.fn.tooltip;e.fn.tooltip=t,e.fn.tooltip.Constructor=i,e.fn.tooltip.noConflict=function(){return e.fn.tooltip=n,this}}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var n=e(this),r=n.data("bs.popover"),s="object"==typeof t&&t;(r||!/destroy|hide/.test(t))&&(r||n.data("bs.popover",r=new i(this,s)),"string"==typeof t&&r[t]())})}var i=function(e,t){this.init("popover",e,t)};if(!e.fn.tooltip)throw new Error("Popover requires tooltip.js");i.VERSION="3.3.7",i.DEFAULTS=e.extend({},e.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),i.prototype=e.extend({},e.fn.tooltip.Constructor.prototype),i.prototype.constructor=i,i.prototype.getDefaults=function(){return i.DEFAULTS},i.prototype.setContent=function(){var e=this.tip(),t=this.getTitle(),i=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof i?"html":"append":"text"](i),e.removeClass("fade top bottom left right in"),e.find(".popover-title").html()||e.find(".popover-title").hide()},i.prototype.hasContent=function(){return this.getTitle()||this.getContent()},i.prototype.getContent=function(){var e=this.$element,t=this.options;return e.attr("data-content")||("function"==typeof t.content?t.content.call(e[0]):t.content)},i.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var n=e.fn.popover;e.fn.popover=t,e.fn.popover.Constructor=i,e.fn.popover.noConflict=function(){return e.fn.popover=n,this}}(jQuery),+function(e){"use strict";function t(i,n){this.$body=e(document.body),this.$scrollElement=e(e(i).is(document.body)?window:i),this.options=e.extend({},t.DEFAULTS,n),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",e.proxy(this.process,this)),this.refresh(),this.process()}function i(i){return this.each(function(){var n=e(this),r=n.data("bs.scrollspy"),s="object"==typeof i&&i;r||n.data("bs.scrollspy",r=new t(this,s)),"string"==typeof i&&r[i]()})}t.VERSION="3.3.7",t.DEFAULTS={offset:10},t.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},t.prototype.refresh=function(){var t=this,i="offset",n=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),e.isWindow(this.$scrollElement[0])||(i="position",n=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var t=e(this),r=t.data("target")||t.attr("href"),s=/^#./.test(r)&&e(r);return s&&s.length&&s.is(":visible")&&[[s[i]().top+n,r]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){t.offsets.push(this[0]),t.targets.push(this[1])})},t.prototype.process=function(){var e,t=this.$scrollElement.scrollTop()+this.options.offset,i=this.getScrollHeight(),n=this.options.offset+i-this.$scrollElement.height(),r=this.offsets,s=this.targets,o=this.activeTarget;if(this.scrollHeight!=i&&this.refresh(),t>=n)return o!=(e=s[s.length-1])&&this.activate(e);if(o&&t<r[0])return this.activeTarget=null,this.clear();for(e=r.length;e--;)o!=s[e]&&t>=r[e]&&(void 0===r[e+1]||t<r[e+1])&&this.activate(s[e])},t.prototype.activate=function(t){this.activeTarget=t,this.clear();var i=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',n=e(i).parents("li").addClass("active");n.parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate.bs.scrollspy")},t.prototype.clear=function(){e(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var n=e.fn.scrollspy;e.fn.scrollspy=i,e.fn.scrollspy.Constructor=t,e.fn.scrollspy.noConflict=function(){return e.fn.scrollspy=n,this},e(window).on("load.bs.scrollspy.data-api",function(){e('[data-spy="scroll"]').each(function(){var t=e(this);i.call(t,t.data())})})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var n=e(this),r=n.data("bs.tab");r||n.data("bs.tab",r=new i(this)),"string"==typeof t&&r[t]()})}var i=function(t){this.element=e(t)};i.VERSION="3.3.7",i.TRANSITION_DURATION=150,i.prototype.show=function(){var t=this.element,i=t.closest("ul:not(.dropdown-menu)"),n=t.data("target");if(n||(n=t.attr("href"),n=n&&n.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("active")){var r=i.find(".active:last a"),s=e.Event("hide.bs.tab",{relatedTarget:t[0]}),o=e.Event("show.bs.tab",{relatedTarget:r[0]});if(r.trigger(s),t.trigger(o),!o.isDefaultPrevented()&&!s.isDefaultPrevented()){var a=e(n);this.activate(t.closest("li"),i),this.activate(a,a.parent(),function(){r.trigger({type:"hidden.bs.tab",relatedTarget:t[0]}),t.trigger({type:"shown.bs.tab",relatedTarget:r[0]})})}}},i.prototype.activate=function(t,n,r){function s(){o.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),t.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),a?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu").length&&t.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),r&&r()}var o=n.find("> .active"),a=r&&e.support.transition&&(o.length&&o.hasClass("fade")||!!n.find("> .fade").length);o.length&&a?o.one("bsTransitionEnd",s).emulateTransitionEnd(i.TRANSITION_DURATION):s(),o.removeClass("in")};var n=e.fn.tab;e.fn.tab=t,e.fn.tab.Constructor=i,e.fn.tab.noConflict=function(){return e.fn.tab=n,this};var r=function(i){i.preventDefault(),t.call(e(this),"show")};e(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',r).on("click.bs.tab.data-api",'[data-toggle="pill"]',r)}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var n=e(this),r=n.data("bs.affix"),s="object"==typeof t&&t;r||n.data("bs.affix",r=new i(this,s)),"string"==typeof t&&r[t]()})}var i=function(t,n){this.options=e.extend({},i.DEFAULTS,n),this.$target=e(this.options.target).on("scroll.bs.affix.data-api",e.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",e.proxy(this.checkPositionWithEventLoop,this)),this.$element=e(t),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};i.VERSION="3.3.7",i.RESET="affix affix-top affix-bottom",i.DEFAULTS={offset:0,target:window},i.prototype.getState=function(e,t,i,n){var r=this.$target.scrollTop(),s=this.$element.offset(),o=this.$target.height();if(null!=i&&"top"==this.affixed)return i>r?"top":!1;if("bottom"==this.affixed)return null!=i?r+this.unpin<=s.top?!1:"bottom":e-n>=r+o?!1:"bottom";var a=null==this.affixed,l=a?r:s.top,c=a?o:t;return null!=i&&i>=r?"top":null!=n&&l+c>=e-n?"bottom":!1},i.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(i.RESET).addClass("affix");var e=this.$target.scrollTop(),t=this.$element.offset();return this.pinnedOffset=t.top-e},i.prototype.checkPositionWithEventLoop=function(){setTimeout(e.proxy(this.checkPosition,this),1)},i.prototype.checkPosition=function(){if(this.$element.is(":visible")){var t=this.$element.height(),n=this.options.offset,r=n.top,s=n.bottom,o=Math.max(e(document).height(),e(document.body).height());"object"!=typeof n&&(s=r=n),"function"==typeof r&&(r=n.top(this.$element)),"function"==typeof s&&(s=n.bottom(this.$element));var a=this.getState(o,t,r,s);if(this.affixed!=a){null!=this.unpin&&this.$element.css("top","");var l="affix"+(a?"-"+a:""),c=e.Event(l+".bs.affix");if(this.$element.trigger(c),c.isDefaultPrevented())return;this.affixed=a,this.unpin="bottom"==a?this.getPinnedOffset():null,this.$element.removeClass(i.RESET).addClass(l).trigger(l.replace("affix","affixed")+".bs.affix")}"bottom"==a&&this.$element.offset({top:o-t-s})}};var n=e.fn.affix;e.fn.affix=t,e.fn.affix.Constructor=i,e.fn.affix.noConflict=function(){return e.fn.affix=n,this},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var i=e(this),n=i.data();n.offset=n.offset||{},null!=n.offsetBottom&&(n.offset.bottom=n.offsetBottom),null!=n.offsetTop&&(n.offset.top=n.offsetTop),t.call(i,n)})})}(jQuery),function(){window.CMS.wysiwyg=function(){var e,t,i;return t=$("meta[name=csrf-token]").attr("content"),e=$("meta[name=csrf-param]").attr("content"),void 0!==e&&void 0!==t&&(i=e+"="+encodeURIComponent(t)),$("textarea[data-rich-text]").redactor({minHeight:400,buttonSource:!0,buttons:["html","formatting","|","bold","italic","|","unorderedlist","orderedlist","|","image","link"],imageUpload:$(".cms-files-modal").data("iframe-src")+"?ajax=1",imageGetJson:$(".cms-files-modal").data("iframe-src")+"?ajax=1",formattingTags:["p","h1","h2","h3","h4"]})}}.call(this),$(document).ready(function(){$(".snitch").children("a").attr("href")}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e:e(jQuery)}(function(e){function t(t){var o=t||window.event,a=l.call(arguments,1),c=0,u=0,d=0,h=0;if(t=e.event.fix(o),t.type="mousewheel","detail"in o&&(d=-1*o.detail),"wheelDelta"in o&&(d=o.wheelDelta),"wheelDeltaY"in o&&(d=o.wheelDeltaY),"wheelDeltaX"in o&&(u=-1*o.wheelDeltaX),"axis"in o&&o.axis===o.HORIZONTAL_AXIS&&(u=-1*d,d=0),c=0===d?u:d,"deltaY"in o&&(d=-1*o.deltaY,c=d),"deltaX"in o&&(u=o.deltaX,0===d&&(c=-1*u)),0!==d||0!==u){if(1===o.deltaMode){var f=e.data(this,"mousewheel-line-height");c*=f,d*=f,u*=f}else if(2===o.deltaMode){var p=e.data(this,"mousewheel-page-height");c*=p,d*=p,u*=p}return h=Math.max(Math.abs(d),Math.abs(u)),(!s||s>h)&&(s=h,n(o,h)&&(s/=40)),n(o,h)&&(c/=40,u/=40,d/=40),c=Math[c>=1?"floor":"ceil"](c/s),u=Math[u>=1?"floor":"ceil"](u/s),d=Math[d>=1?"floor":"ceil"](d/s),t.deltaX=u,t.deltaY=d,t.deltaFactor=s,t.deltaMode=0,a.unshift(t,c,u,d),r&&clearTimeout(r),r=setTimeout(i,200),(e.event.dispatch||e.event.handle).apply(this,a)}}function i(){s=null}function n(e,t){return u.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120===0}var r,s,o=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],a="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],l=Array.prototype.slice;if(e.event.fixHooks)for(var c=o.length;c;)e.event.fixHooks[o[--c]]=e.event.mouseHooks;var u=e.event.special.mousewheel={version:"3.1.9",setup:function(){if(this.addEventListener)for(var i=a.length;i;)this.addEventListener(a[--i],t,!1);else this.onmousewheel=t;e.data(this,"mousewheel-line-height",u.getLineHeight(this)),e.data(this,"mousewheel-page-height",u.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var e=a.length;e;)this.removeEventListener(a[--e],t,!1);else this.onmousewheel=null},getLineHeight:function(t){return parseInt(e(t)["offsetParent"in e.fn?"offsetParent":"parent"]().css("fontSize"),10)},getPageHeight:function(t){return e(t).height()},settings:{adjustOldDeltas:!0}};e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}),function(e){e.fn.skroller=function(t){function i(t,i){function r(){I>g&&(a(),l(),c(),u(),h(),f(),p())}function s(){j.css({position:"absolute",top:0,left:0,width:O-2*D}),j.css("width","-="+S),I=j.height(),L=I-g+2*D,0>L&&(L=0)}function o(){e(t).wrap('<div class="'+M+'" id="'+B+'"></div>'),$=e("#"+B),$.css({display:"inline-block",height:g,width:O,overflow:"hidden",position:"relative"}),e(t).wrap('<div class="sk_mask"></div>'),mask=e("#"+B+" .sk_mask"),mask.css({position:"absolute",display:"inline-block",top:D,bottom:D,right:D,left:D,overflow:"hidden"})}function a(){F=!0,$.append('<div class="sk_rail"></div>'),R=e("#"+B+" .sk_rail"),T=1==k?0:T,R.css({display:"inline-block",position:"absolute",top:D,right:D,bottom:D,width:v,"background-color":C,"border-radius":z,opacity:T})}function l(){$.append('<div class="scrollbar"></div>'),H=e("#"+B+" .scrollbar"),P=g-L,w>=P&&(P=w),H.css({display:"inline-block",position:"absolute",top:D,right:D,height:P,width:v,"background-color":y,"border-radius":z,opacity:b})}function c(){N=L/(g-2*D-P),1>N&&(N=1)}function u(){H.on("mousedown",function(t){t.preventDefault();var i=t.pageY,n=parseInt(H.css("top"));e(document).on("mousemove",function(e){mouse_state="down";var t=e.pageY+n,r=t-i;r>=g-P-D&&(r=g-P-D),D>=r&&(r=D);var s=0-(r-D)*N;H.css("top",r),j.css("top",s)}),e(document).on("mouseup",function(){mouse_state="up",e(document).off("mousemove")})})}function d(){setInterval(function(){I=j.height();var e=I-g+2*D;0>e&&(e=0),e!=L&&(0==F&&r(),L=e,P=g-L,w>=P&&(P=w),x?H.css("height",P):H.animate({height:P},"fast"),c())},250)}function h(){1==x&&(H.hide(),_&&R.hide(),$.on("mouseenter",function(){on_frame=!0,H.clearQueue(),H.fadeIn("fast"),_&&(R.clearQueue(),R.fadeIn("fast"))}),$.on("mouseleave",function(){on_frame=!1,"up"==mouse_state&&(H.clearQueue(),H.delay(delay).fadeOut("fast"),_&&(R.clearQueue(),R.delay(delay).fadeOut("fast")))}),e(document).on("mouseup",function(){0==on_frame&&(H.clearQueue(),H.delay(delay).fadeOut("fast"),_&&(R.clearQueue(),R.delay(delay).fadeOut("fast")))}))}function f(){t=document.getElementById(B);var e;t.onwheel=function(t){(e>Math.abs(t.deltaY)||!e)&&(e=Math.abs(t.deltaY));var i=t.deltaY/e,n=j.css("font-size"),r=Math.floor(1.5*parseInt(n));0>i&&(i=0-r*A),i>0&&(i=r*A);var s=parseInt(j.css("top")),o=s-i,a=(o-2*o)/N+D;o>0&&(o=0),Math.abs(o)>L&&(o=0-L),D>a&&(a=D),a>g-D-P&&(a=g-D-P),j.css("top",o),H.css("top",a),t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0,t.preventDefault&&t.preventDefault(),t.returnValue=!1},t.onmousewheel=function(e){e||(e=window.event),e.deltaY=-e.wheelDelta,t.onwheel(e)}}function p(){R.on("click",function(e){var t=R.offset(),i=e.pageY-t.top,n=i-P/2;n>=g-P-D&&(n=g-P-D),D>=n&&(n=D);var r=0-(n-D)*N;H.css("top",n),j.css("top",r)})}var i=i||{},g=i.height||200,m=i.maxHeight||!1,v=i.barWidth||10,y=i.barColor||"#2C96DE",b=i.barOpacity||1,w=i.barMinHeight||20,x=(i.barMaxHeight||g,i.barHide||!1),k=(i.barHideDelay||.5,i.railOff||!1),_=i.railHide||x,C=i.railColor||y,T=i.railOpacity||b/5,S=i.indent||v+v/2,D=i.padding||0,E=i.style||"smooth",M=i.frameClass||"skroller",A=i.wheelSpeed||1;0===i.indent&&(S=0),0===i.padding&&(D=0);var I,O,$,R,H,P,z,N,L,F,j=e(t),W=e(t).attr("id")||n(),B="sk_"+W;e(window).load(function(){I=e(t).height(),O=e(t).width(),F=!1;m&&m>=I&&(g=I);switch(E){case"square":z=0;break;case"round":z=v/2;break;case"smooth":z=v/2/2;break;default:z=E}o(),s(),r(),d()})}function n(){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=0;5>i;i++)e+=t.charAt(Math.floor(Math.random()*t.length));return e}this.each(function(){i(this,t)})}}(jQuery),function(e){e.fn.skroller=function(t){function i(t,i){function r(){I>g&&(a(),l(),c(),u(),h(),f(),p())}function s(){j.css({position:"absolute",top:0,left:0,width:O-2*D}),j.css("width","-="+S),I=j.height(),L=I-g+2*D,0>L&&(L=0)}function o(){e(t).wrap('<div class="'+M+'" id="'+B+'"></div>'),$=e("#"+B),$.css({display:"inline-block",height:g,width:O,overflow:"hidden",position:"relative"}),e(t).wrap('<div class="sk_mask"></div>'),mask=e("#"+B+" .sk_mask"),mask.css({position:"absolute",display:"inline-block",top:D,bottom:D,right:D,left:D,overflow:"hidden"})}function a(){F=!0,$.append('<div class="sk_rail"></div>'),R=e("#"+B+" .sk_rail"),T=1==k?0:T,R.css({display:"inline-block",position:"absolute",top:D,right:D,bottom:D,width:v,"background-color":C,"border-radius":z,opacity:T})}function l(){$.append('<div class="scrollbar"></div>'),H=e("#"+B+" .scrollbar"),P=g-L,w>=P&&(P=w),H.css({display:"inline-block",position:"absolute",top:D,right:D,height:P,width:v,"background-color":y,"border-radius":z,opacity:b})}function c(){N=L/(g-2*D-P),1>N&&(N=1)}function u(){H.on("mousedown",function(t){t.preventDefault();var i=t.pageY,n=parseInt(H.css("top"));e(document).on("mousemove",function(e){mouse_state="down";var t=e.pageY+n,r=t-i;r>=g-P-D&&(r=g-P-D),D>=r&&(r=D);var s=0-(r-D)*N;H.css("top",r),j.css("top",s)}),e(document).on("mouseup",function(){mouse_state="up",e(document).off("mousemove")})})}function d(){setInterval(function(){I=j.height();var e=I-g+2*D;0>e&&(e=0),e!=L&&(0==F&&r(),L=e,P=g-L,w>=P&&(P=w),x?H.css("height",P):H.animate({height:P},"fast"),c())},250)}function h(){1==x&&(H.hide(),_&&R.hide(),$.on("mouseenter",function(){on_frame=!0,H.clearQueue(),H.fadeIn("fast"),_&&(R.clearQueue(),R.fadeIn("fast"))}),$.on("mouseleave",function(){on_frame=!1,"up"==mouse_state&&(H.clearQueue(),H.delay(delay).fadeOut("fast"),_&&(R.clearQueue(),R.delay(delay).fadeOut("fast")))}),e(document).on("mouseup",function(){0==on_frame&&(H.clearQueue(),H.delay(delay).fadeOut("fast"),_&&(R.clearQueue(),R.delay(delay).fadeOut("fast")))}))}function f(){t=document.getElementById(B);var e;t.onwheel=function(t){(e>Math.abs(t.deltaY)||!e)&&(e=Math.abs(t.deltaY));var i=t.deltaY/e,n=j.css("font-size"),r=Math.floor(1.5*parseInt(n));0>i&&(i=0-r*A),i>0&&(i=r*A);var s=parseInt(j.css("top")),o=s-i,a=(o-2*o)/N+D;o>0&&(o=0),Math.abs(o)>L&&(o=0-L),D>a&&(a=D),a>g-D-P&&(a=g-D-P),j.css("top",o),H.css("top",a),t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0,t.preventDefault&&t.preventDefault(),t.returnValue=!1},t.onmousewheel=function(e){e||(e=window.event),e.deltaY=-e.wheelDelta,t.onwheel(e)}}function p(){R.on("click",function(e){var t=R.offset(),i=e.pageY-t.top,n=i-P/2;n>=g-P-D&&(n=g-P-D),D>=n&&(n=D);var r=0-(n-D)*N;H.css("top",n),j.css("top",r)})}var i=i||{},g=i.height||200,m=i.maxHeight||!1,v=i.barWidth||10,y=i.barColor||"#2C96DE",b=i.barOpacity||1,w=i.barMinHeight||20,x=(i.barMaxHeight||g,i.barHide||!1),k=(i.barHideDelay||.5,i.railOff||!1),_=i.railHide||x,C=i.railColor||y,T=i.railOpacity||b/5,S=i.indent||v+v/2,D=i.padding||0,E=i.style||"smooth",M=i.frameClass||"skroller",A=i.wheelSpeed||1;0===i.indent&&(S=0),0===i.padding&&(D=0);var I,O,$,R,H,P,z,N,L,F,j=e(t),W=e(t).attr("id")||n(),B="sk_"+W;e(window).load(function(){I=e(t).height(),O=e(t).width(),F=!1;m&&m>=I&&(g=I);switch(E){case"square":z=0;break;case"round":z=v/2;break;case"smooth":z=v/2/2;break;default:z=E}o(),s(),r(),d()})}function n(){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=0;5>i;i++)e+=t.charAt(Math.floor(Math.random()*t.length));return e}this.each(function(){i(this,t)})}}(jQuery),$(document).ready(function(){var e="<span id='slide-control-title'><i class='fa fa-photo fa-1x'></i></span>",t="<i class='fa fa-angle-double-left'></i>",i="<i class='fa fa-angle-double-right'></i>",n="slick-btn",r="<div class='small-1 columns'><button id='slick-prev-button' type='button' class='"+n+"slick-prev'>"+t+"</button></div><div class='small-10 columns' style='text-align:center;'><strong>One Mile Children's Run in the pasture</strong></div>",s="<div class='small-1 columns'><button id='slick-next-button' type='button' class='"+n+" slick-next'>"+i+"</button></div>",o="<a id='slick-prev-button' type='button' class='"+n+" slick-prev' style='margin-right:5px;'>"+t+"</a><a class='success' href='https://www.facebook.com/PrairieHillLearningCenter/photos_stream?ref=page_internal' style='margin:0;' target='_blank'>"+e+"</a>",a="<a id='slick-next-button' type='button' class='"+n+" slick-next'>"+i+"</a>";$(".ccf-slider").slick({autoplay:!0,autoplaySpeed:7e3,arrows:!0,initialSlide:1,appendArrows:$("#slide-area"),prevArrow:o,nextArrow:a,draggable:!1,respondTo:"min"}),$(".staff-slider").slick({autoplay:!0,autoplaySpeed:6e3,arrows:!0,initialSlide:0,centerMode:!0,centerPadding:"100px",appendArrows:$("#slide-area"),prevArrow:o,nextArrow:a,draggable:!1,respondTo:"min",vertical:!0}),$(".funrun-slider").slick({autoplay:!0,autoplaySpeed:6e3,arrows:!0,initialSlide:0,appendArrows:$("#fun-run-control"),prevArrow:r,nextArrow:s,draggable:!1,respondTo:"min",adaptiveHeight:!0}),$(".footer-slider").slick({autoplay:!0,autoplaySpeed:7e3,arrows:!1,initialSlide:0,appendArrows:$("#slide-area"),draggable:!1,fade:!0}),$(".programs-slider").slick({autoplay:!0,autoplaySpeed:14e3,arrows:!0,initialSlide:0,appendArrows:$("#slide-area"),prevArrow:o,nextArrow:a,draggable:!1,fade:!0,respondTo:"min",easing:"easeInElastic"}),$(".home-slider").slick({autoplay:!0,autoplaySpeed:7e3,arrows:!0,initialSlide:0,appendArrows:$("#slide-area"),prevArrow:o,nextArrow:a,draggable:!1,fade:!0,respondTo:"min"}),$(".uniq-slider").slick({autoplay:!0,autoplaySpeed:3e3,arrows:!1,centerMode:!0,draggable:!1,fade:!0,respondTo:"min"}),$(".news-slider").slick({autoplay:!0,autoplaySpeed:7e3,arrows:!0,initialSlide:0,appendArrows:$("#slide-area"),prevArrow:o,nextArrow:a,draggable:!1,fade:!0,respondTo:"min"}),$(function(e){e(window).width()>767&&skrollr.init({forceHeight:!1,smoothScrolling:!1}),e(window).on("resize",function(){e(window).width()<=767&&skrollr.init().destroy()}(jQuery))}),$(window).resize(function(){var e=.75*$(window).height();$("#primary-element").height(e)}),$("body").hover(function(){});$(window).height(),$("#tab").height();$("a[href*=#]:not([href=#])").click(function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var e=$(this.hash);
if(e=e.length?e:$("[name="+this.hash.slice(1)+"]"),e.length)return $("html,body").animate({scrollTop:e.offset().top},1e3),!1}}),$("#load-spinner").hide(),$("#activities-load").on("click",function(){$("#load-spinner").show()});var l=!1;$("#financial-info-button").on("click",function(){l===!1?($(".programs-slider").slick("slickFilter","#financial-info"),$(this).html("<i class='fa fa-arrow-left fa-2x' style='color:gold;'></i> Programs"),l=!0):($(".programs-slider").slick("slickUnfilter"),$(this).html("Financial Information <i class='fa fa-arrow-right fa-2x' style='color:gold;'></i>"),l=!1)}),$("#mobile-preview-button").on("click",function(){$("#mobile-logo-placeholder").animate({width:"11%",top:"1%",left:"80%"},2200,"easeInOutQuad")})}),$(document).ready(function(){$("#calendar").fullCalendar({eventsSources:[{url:"/shifts.json"}],header:{center:"agendaThreeDay,agendaDay"},defaultView:"agendaThreeDay",aspectRatio:1.5,defaultDate:moment("2015-10-02"),minTime:"09:00:00",maxTime:"21:00:00",views:{agendaDay:{buttonText:"Day"},agendaFourDay:{type:"agenda",duration:{days:4},buttonText:"4 day"},agendaThreeDay:{type:"agenda",duration:{days:2},buttonText:"Main"}},eventRender:function(e,t){t.qtip({content:e.start})}})});